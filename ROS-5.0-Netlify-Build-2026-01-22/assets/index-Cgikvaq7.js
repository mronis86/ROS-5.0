(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function lC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jb={exports:{}},Bp={},Ab={exports:{}},Xm={exports:{}};Xm.exports;var Vy;function UU(){return Vy||(Vy=1,(function(e,s){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t="18.3.1",i=Symbol.for("react.element"),o=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),T=Symbol.iterator,J="@@iterator";function Z(G){if(G===null||typeof G!="object")return null;var ke=T&&G[T]||G[J];return typeof ke=="function"?ke:null}var R={current:null},le={transition:null},W={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},ee={current:null},X={},De=null;function _(G){De=G}X.setExtraStackFrame=function(G){De=G},X.getCurrentStack=null,X.getStackAddendum=function(){var G="";De&&(G+=De);var ke=X.getCurrentStack;return ke&&(G+=ke()||""),G};var B=!1,re=!1,H=!1,oe=!1,_e=!1,ne={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:le,ReactCurrentOwner:ee};ne.ReactDebugCurrentFrame=X,ne.ReactCurrentActQueue=W;function we(G){{for(var ke=arguments.length,Xe=new Array(ke>1?ke-1:0),tt=1;tt<ke;tt++)Xe[tt-1]=arguments[tt];Me("warn",G,Xe)}}function ve(G){{for(var ke=arguments.length,Xe=new Array(ke>1?ke-1:0),tt=1;tt<ke;tt++)Xe[tt-1]=arguments[tt];Me("error",G,Xe)}}function Me(G,ke,Xe){{var tt=ne.ReactDebugCurrentFrame,ht=tt.getStackAddendum();ht!==""&&(ke+="%s",Xe=Xe.concat([ht]));var zt=Xe.map(function(jt){return String(jt)});zt.unshift("Warning: "+ke),Function.prototype.apply.call(console[G],console,zt)}}var be={};function Ie(G,ke){{var Xe=G.constructor,tt=Xe&&(Xe.displayName||Xe.name)||"ReactClass",ht=tt+"."+ke;if(be[ht])return;ve("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",ke,tt),be[ht]=!0}}var Te={isMounted:function(G){return!1},enqueueForceUpdate:function(G,ke,Xe){Ie(G,"forceUpdate")},enqueueReplaceState:function(G,ke,Xe,tt){Ie(G,"replaceState")},enqueueSetState:function(G,ke,Xe,tt){Ie(G,"setState")}},Q=Object.assign,Oe={};Object.freeze(Oe);function me(G,ke,Xe){this.props=G,this.context=ke,this.refs=Oe,this.updater=Xe||Te}me.prototype.isReactComponent={},me.prototype.setState=function(G,ke){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ke,"setState")},me.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};{var se={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},ie=function(G,ke){Object.defineProperty(me.prototype,G,{get:function(){we("%s(...) is deprecated in plain JavaScript React classes. %s",ke[0],ke[1])}})};for(var Y in se)se.hasOwnProperty(Y)&&ie(Y,se[Y])}function U(){}U.prototype=me.prototype;function de(G,ke,Xe){this.props=G,this.context=ke,this.refs=Oe,this.updater=Xe||Te}var I=de.prototype=new U;I.constructor=de,Q(I,me.prototype),I.isPureReactComponent=!0;function Ee(){var G={current:null};return Object.seal(G),G}var j=Array.isArray;function he(G){return j(G)}function Ce(G){{var ke=typeof Symbol=="function"&&Symbol.toStringTag,Xe=ke&&G[Symbol.toStringTag]||G.constructor.name||"Object";return Xe}}function Fe(G){try{return He(G),!1}catch{return!0}}function He(G){return""+G}function ze(G){if(Fe(G))return ve("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Ce(G)),He(G)}function Ft(G,ke,Xe){var tt=G.displayName;if(tt)return tt;var ht=ke.displayName||ke.name||"";return ht!==""?Xe+"("+ht+")":Xe}function Qt(G){return G.displayName||"Context"}function cr(G){if(G==null)return null;if(typeof G.tag=="number"&&ve("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof G=="function")return G.displayName||G.name||null;if(typeof G=="string")return G;switch(G){case u:return"Fragment";case o:return"Portal";case m:return"Profiler";case c:return"StrictMode";case b:return"Suspense";case E:return"SuspenseList"}if(typeof G=="object")switch(G.$$typeof){case g:var ke=G;return Qt(ke)+".Consumer";case h:var Xe=G;return Qt(Xe._context)+".Provider";case v:return Ft(G,G.render,"ForwardRef");case k:var tt=G.displayName||null;return tt!==null?tt:cr(G.type)||"Memo";case w:{var ht=G,zt=ht._payload,jt=ht._init;try{return cr(jt(zt))}catch{return null}}}return null}var nr=Object.prototype.hasOwnProperty,Or={key:!0,ref:!0,__self:!0,__source:!0},Zt,xr,Yt;Yt={};function Sr(G){if(nr.call(G,"ref")){var ke=Object.getOwnPropertyDescriptor(G,"ref").get;if(ke&&ke.isReactWarning)return!1}return G.ref!==void 0}function at(G){if(nr.call(G,"key")){var ke=Object.getOwnPropertyDescriptor(G,"key").get;if(ke&&ke.isReactWarning)return!1}return G.key!==void 0}function ar(G,ke){var Xe=function(){Zt||(Zt=!0,ve("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ke))};Xe.isReactWarning=!0,Object.defineProperty(G,"key",{get:Xe,configurable:!0})}function Vt(G,ke){var Xe=function(){xr||(xr=!0,ve("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ke))};Xe.isReactWarning=!0,Object.defineProperty(G,"ref",{get:Xe,configurable:!0})}function Ze(G){if(typeof G.ref=="string"&&ee.current&&G.__self&&ee.current.stateNode!==G.__self){var ke=cr(ee.current.type);Yt[ke]||(ve('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',ke,G.ref),Yt[ke]=!0)}}var it=function(G,ke,Xe,tt,ht,zt,jt){var er={$$typeof:i,type:G,key:ke,ref:Xe,props:jt,_owner:zt};return er._store={},Object.defineProperty(er._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(er,"_self",{configurable:!1,enumerable:!1,writable:!1,value:tt}),Object.defineProperty(er,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ht}),Object.freeze&&(Object.freeze(er.props),Object.freeze(er)),er};function vt(G,ke,Xe){var tt,ht={},zt=null,jt=null,er=null,_t=null;if(ke!=null){Sr(ke)&&(jt=ke.ref,Ze(ke)),at(ke)&&(ze(ke.key),zt=""+ke.key),er=ke.__self===void 0?null:ke.__self,_t=ke.__source===void 0?null:ke.__source;for(tt in ke)nr.call(ke,tt)&&!Or.hasOwnProperty(tt)&&(ht[tt]=ke[tt])}var fr=arguments.length-2;if(fr===1)ht.children=Xe;else if(fr>1){for(var Xr=Array(fr),Gr=0;Gr<fr;Gr++)Xr[Gr]=arguments[Gr+2];Object.freeze&&Object.freeze(Xr),ht.children=Xr}if(G&&G.defaultProps){var Lt=G.defaultProps;for(tt in Lt)ht[tt]===void 0&&(ht[tt]=Lt[tt])}if(zt||jt){var ts=typeof G=="function"?G.displayName||G.name||"Unknown":G;zt&&ar(ht,ts),jt&&Vt(ht,ts)}return it(G,zt,jt,er,_t,ee.current,ht)}function Rt(G,ke){var Xe=it(G.type,ke,G.ref,G._self,G._source,G._owner,G.props);return Xe}function Ut(G,ke,Xe){if(G==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var tt,ht=Q({},G.props),zt=G.key,jt=G.ref,er=G._self,_t=G._source,fr=G._owner;if(ke!=null){Sr(ke)&&(jt=ke.ref,fr=ee.current),at(ke)&&(ze(ke.key),zt=""+ke.key);var Xr;G.type&&G.type.defaultProps&&(Xr=G.type.defaultProps);for(tt in ke)nr.call(ke,tt)&&!Or.hasOwnProperty(tt)&&(ke[tt]===void 0&&Xr!==void 0?ht[tt]=Xr[tt]:ht[tt]=ke[tt])}var Gr=arguments.length-2;if(Gr===1)ht.children=Xe;else if(Gr>1){for(var Lt=Array(Gr),ts=0;ts<Gr;ts++)Lt[ts]=arguments[ts+2];ht.children=Lt}return it(G.type,zt,jt,er,_t,fr,ht)}function br(G){return typeof G=="object"&&G!==null&&G.$$typeof===i}var Jt=".",Nr=":";function rt(G){var ke=/[=:]/g,Xe={"=":"=0",":":"=2"},tt=G.replace(ke,function(ht){return Xe[ht]});return"$"+tt}var Ge=!1,qe=/\/+/g;function bt(G){return G.replace(qe,"$&/")}function Dt(G,ke){return typeof G=="object"&&G!==null&&G.key!=null?(ze(G.key),rt(""+G.key)):ke.toString(36)}function Tt(G,ke,Xe,tt,ht){var zt=typeof G;(zt==="undefined"||zt==="boolean")&&(G=null);var jt=!1;if(G===null)jt=!0;else switch(zt){case"string":case"number":jt=!0;break;case"object":switch(G.$$typeof){case i:case o:jt=!0}}if(jt){var er=G,_t=ht(er),fr=tt===""?Jt+Dt(er,0):tt;if(he(_t)){var Xr="";fr!=null&&(Xr=bt(fr)+"/"),Tt(_t,ke,Xr,"",function(Qu){return Qu})}else _t!=null&&(br(_t)&&(_t.key&&(!er||er.key!==_t.key)&&ze(_t.key),_t=Rt(_t,Xe+(_t.key&&(!er||er.key!==_t.key)?bt(""+_t.key)+"/":"")+fr)),ke.push(_t));return 1}var Gr,Lt,ts=0,is=tt===""?Jt:tt+Nr;if(he(G))for(var so=0;so<G.length;so++)Gr=G[so],Lt=is+Dt(Gr,so),ts+=Tt(Gr,ke,Xe,Lt,ht);else{var on=Z(G);if(typeof on=="function"){var _a=G;on===_a.entries&&(Ge||we("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Ge=!0);for(var no=on.call(_a),yn,Vs=0;!(yn=no.next()).done;)Gr=yn.value,Lt=is+Dt(Gr,Vs++),ts+=Tt(Gr,ke,Xe,Lt,ht)}else if(zt==="object"){var Lc=String(G);throw new Error("Objects are not valid as a React child (found: "+(Lc==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Lc)+"). If you meant to render a collection of children, use an array instead.")}}return ts}function Ht(G,ke,Xe){if(G==null)return G;var tt=[],ht=0;return Tt(G,tt,"","",function(zt){return ke.call(Xe,zt,ht++)}),tt}function ur(G){var ke=0;return Ht(G,function(){ke++}),ke}function Kt(G,ke,Xe){Ht(G,function(){ke.apply(this,arguments)},Xe)}function Gt(G){return Ht(G,function(ke){return ke})||[]}function mr(G){if(!br(G))throw new Error("React.Children.only expected to receive a single React element child.");return G}function ir(G){var ke={$$typeof:g,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};ke.Provider={$$typeof:h,_context:ke};var Xe=!1,tt=!1,ht=!1;{var zt={$$typeof:g,_context:ke};Object.defineProperties(zt,{Provider:{get:function(){return tt||(tt=!0,ve("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),ke.Provider},set:function(jt){ke.Provider=jt}},_currentValue:{get:function(){return ke._currentValue},set:function(jt){ke._currentValue=jt}},_currentValue2:{get:function(){return ke._currentValue2},set:function(jt){ke._currentValue2=jt}},_threadCount:{get:function(){return ke._threadCount},set:function(jt){ke._threadCount=jt}},Consumer:{get:function(){return Xe||(Xe=!0,ve("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),ke.Consumer}},displayName:{get:function(){return ke.displayName},set:function(jt){ht||(we("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",jt),ht=!0)}}}),ke.Consumer=zt}return ke._currentRenderer=null,ke._currentRenderer2=null,ke}var pr=-1,or=0,ae=1,Ve=2;function ue(G){if(G._status===pr){var ke=G._result,Xe=ke();if(Xe.then(function(zt){if(G._status===or||G._status===pr){var jt=G;jt._status=ae,jt._result=zt}},function(zt){if(G._status===or||G._status===pr){var jt=G;jt._status=Ve,jt._result=zt}}),G._status===pr){var tt=G;tt._status=or,tt._result=Xe}}if(G._status===ae){var ht=G._result;return ht===void 0&&ve(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,ht),"default"in ht||ve(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,ht),ht.default}else throw G._result}function K(G){var ke={_status:pr,_result:G},Xe={$$typeof:w,_payload:ke,_init:ue};{var tt,ht;Object.defineProperties(Xe,{defaultProps:{configurable:!0,get:function(){return tt},set:function(zt){ve("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),tt=zt,Object.defineProperty(Xe,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return ht},set:function(zt){ve("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),ht=zt,Object.defineProperty(Xe,"propTypes",{enumerable:!0})}}})}return Xe}function C(G){G!=null&&G.$$typeof===k?ve("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof G!="function"?ve("forwardRef requires a render function but was given %s.",G===null?"null":typeof G):G.length!==0&&G.length!==2&&ve("forwardRef render functions accept exactly two parameters: props and ref. %s",G.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),G!=null&&(G.defaultProps!=null||G.propTypes!=null)&&ve("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var ke={$$typeof:v,render:G};{var Xe;Object.defineProperty(ke,"displayName",{enumerable:!1,configurable:!0,get:function(){return Xe},set:function(tt){Xe=tt,!G.name&&!G.displayName&&(G.displayName=tt)}})}return ke}var L;L=Symbol.for("react.module.reference");function F(G){return!!(typeof G=="string"||typeof G=="function"||G===u||G===m||_e||G===c||G===b||G===E||oe||G===y||B||re||H||typeof G=="object"&&G!==null&&(G.$$typeof===w||G.$$typeof===k||G.$$typeof===h||G.$$typeof===g||G.$$typeof===v||G.$$typeof===L||G.getModuleId!==void 0))}function z(G,ke){F(G)||ve("memo: The first argument must be a component. Instead received: %s",G===null?"null":typeof G);var Xe={$$typeof:k,type:G,compare:ke===void 0?null:ke};{var tt;Object.defineProperty(Xe,"displayName",{enumerable:!1,configurable:!0,get:function(){return tt},set:function(ht){tt=ht,!G.name&&!G.displayName&&(G.displayName=ht)}})}return Xe}function A(){var G=R.current;return G===null&&ve(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),G}function te(G){var ke=A();if(G._context!==void 0){var Xe=G._context;Xe.Consumer===G?ve("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Xe.Provider===G&&ve("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return ke.useContext(G)}function Ne(G){var ke=A();return ke.useState(G)}function Pe(G,ke,Xe){var tt=A();return tt.useReducer(G,ke,Xe)}function ye(G){var ke=A();return ke.useRef(G)}function pe(G,ke){var Xe=A();return Xe.useEffect(G,ke)}function Se(G,ke){var Xe=A();return Xe.useInsertionEffect(G,ke)}function je(G,ke){var Xe=A();return Xe.useLayoutEffect(G,ke)}function Qe(G,ke){var Xe=A();return Xe.useCallback(G,ke)}function et(G,ke){var Xe=A();return Xe.useMemo(G,ke)}function ct(G,ke,Xe){var tt=A();return tt.useImperativeHandle(G,ke,Xe)}function dt(G,ke){{var Xe=A();return Xe.useDebugValue(G,ke)}}function mt(){var G=A();return G.useTransition()}function Nt(G){var ke=A();return ke.useDeferredValue(G)}function hr(){var G=A();return G.useId()}function zr(G,ke,Xe){var tt=A();return tt.useSyncExternalStore(G,ke,Xe)}var nn=0,Zn,ha,ea,ta,On,Vc,Rl;function za(){}za.__reactDisabledLog=!0;function Mt(){{if(nn===0){Zn=console.log,ha=console.info,ea=console.warn,ta=console.error,On=console.group,Vc=console.groupCollapsed,Rl=console.groupEnd;var G={configurable:!0,enumerable:!0,value:za,writable:!0};Object.defineProperties(console,{info:G,log:G,warn:G,error:G,group:G,groupCollapsed:G,groupEnd:G})}nn++}}function Qr(){{if(nn--,nn===0){var G={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Q({},G,{value:Zn}),info:Q({},G,{value:ha}),warn:Q({},G,{value:ea}),error:Q({},G,{value:ta}),group:Q({},G,{value:On}),groupCollapsed:Q({},G,{value:Vc}),groupEnd:Q({},G,{value:Rl})})}nn<0&&ve("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var yr=ne.ReactCurrentDispatcher,as;function va(G,ke,Xe){{if(as===void 0)try{throw Error()}catch(ht){var tt=ht.stack.trim().match(/\n( *(at )?)/);as=tt&&tt[1]||""}return`
`+as+G}}var an=!1,Tl;{var _l=typeof WeakMap=="function"?WeakMap:Map;Tl=new _l}function $t(G,ke){if(!G||an)return"";{var Xe=Tl.get(G);if(Xe!==void 0)return Xe}var tt;an=!0;var ht=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var zt;zt=yr.current,yr.current=null,Mt();try{if(ke){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(is){tt=is}Reflect.construct(G,[],jt)}else{try{jt.call()}catch(is){tt=is}G.call(jt.prototype)}}else{try{throw Error()}catch(is){tt=is}G()}}catch(is){if(is&&tt&&typeof is.stack=="string"){for(var er=is.stack.split(`
`),_t=tt.stack.split(`
`),fr=er.length-1,Xr=_t.length-1;fr>=1&&Xr>=0&&er[fr]!==_t[Xr];)Xr--;for(;fr>=1&&Xr>=0;fr--,Xr--)if(er[fr]!==_t[Xr]){if(fr!==1||Xr!==1)do if(fr--,Xr--,Xr<0||er[fr]!==_t[Xr]){var Gr=`
`+er[fr].replace(" at new "," at ");return G.displayName&&Gr.includes("<anonymous>")&&(Gr=Gr.replace("<anonymous>",G.displayName)),typeof G=="function"&&Tl.set(G,Gr),Gr}while(fr>=1&&Xr>=0);break}}}finally{an=!1,yr.current=zt,Qr(),Error.prepareStackTrace=ht}var Lt=G?G.displayName||G.name:"",ts=Lt?va(Lt):"";return typeof G=="function"&&Tl.set(G,ts),ts}function ra(G,ke,Xe){return $t(G,!1)}function Io(G){var ke=G.prototype;return!!(ke&&ke.isReactComponent)}function Ga(G,ke,Xe){if(G==null)return"";if(typeof G=="function")return $t(G,Io(G));if(typeof G=="string")return va(G);switch(G){case b:return va("Suspense");case E:return va("SuspenseList")}if(typeof G=="object")switch(G.$$typeof){case v:return ra(G.render);case k:return Ga(G.type,ke,Xe);case w:{var tt=G,ht=tt._payload,zt=tt._init;try{return Ga(zt(ht),ke,Xe)}catch{}}}return""}var yi={},Pl=ne.ReactDebugCurrentFrame;function Ur(G){if(G){var ke=G._owner,Xe=Ga(G.type,G._source,ke?ke.type:null);Pl.setExtraStackFrame(Xe)}else Pl.setExtraStackFrame(null)}function Ef(G,ke,Xe,tt,ht){{var zt=Function.call.bind(nr);for(var jt in G)if(zt(G,jt)){var er=void 0;try{if(typeof G[jt]!="function"){var _t=Error((tt||"React class")+": "+Xe+" type `"+jt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof G[jt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw _t.name="Invariant Violation",_t}er=G[jt](ke,jt,tt,Xe,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(fr){er=fr}er&&!(er instanceof Error)&&(Ur(ht),ve("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",tt||"React class",Xe,jt,typeof er),Ur(null)),er instanceof Error&&!(er.message in yi)&&(yi[er.message]=!0,Ur(ht),ve("Failed %s type: %s",Xe,er.message),Ur(null))}}}function Ei(G){if(G){var ke=G._owner,Xe=Ga(G.type,G._source,ke?ke.type:null);_(Xe)}else _(null)}var Bt;Bt=!1;function Fo(){if(ee.current){var G=cr(ee.current.type);if(G)return`

Check the render method of \``+G+"`."}return""}function $r(G){if(G!==void 0){var ke=G.fileName.replace(/^.*[\\\/]/,""),Xe=G.lineNumber;return`

Check your code at `+ke+":"+Xe+"."}return""}function Ds(G){return G!=null?$r(G.__source):""}var Ci={};function Ul(G){var ke=Fo();if(!ke){var Xe=typeof G=="string"?G:G.displayName||G.name;Xe&&(ke=`

Check the top-level render call using <`+Xe+">.")}return ke}function ys(G,ke){if(!(!G._store||G._store.validated||G.key!=null)){G._store.validated=!0;var Xe=Ul(ke);if(!Ci[Xe]){Ci[Xe]=!0;var tt="";G&&G._owner&&G._owner!==ee.current&&(tt=" It was passed a child from "+cr(G._owner.type)+"."),Ei(G),ve('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Xe,tt),Ei(null)}}}function es(G,ke){if(typeof G=="object"){if(he(G))for(var Xe=0;Xe<G.length;Xe++){var tt=G[Xe];br(tt)&&ys(tt,ke)}else if(br(G))G._store&&(G._store.validated=!0);else if(G){var ht=Z(G);if(typeof ht=="function"&&ht!==G.entries)for(var zt=ht.call(G),jt;!(jt=zt.next()).done;)br(jt.value)&&ys(jt.value,ke)}}}function Qi(G){{var ke=G.type;if(ke==null||typeof ke=="string")return;var Xe;if(typeof ke=="function")Xe=ke.propTypes;else if(typeof ke=="object"&&(ke.$$typeof===v||ke.$$typeof===k))Xe=ke.propTypes;else return;if(Xe){var tt=cr(ke);Ef(Xe,G.props,"prop",tt,G)}else if(ke.PropTypes!==void 0&&!Bt){Bt=!0;var ht=cr(ke);ve("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ht||"Unknown")}typeof ke.getDefaultProps=="function"&&!ke.getDefaultProps.isReactClassApproved&&ve("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Es(G){{for(var ke=Object.keys(G.props),Xe=0;Xe<ke.length;Xe++){var tt=ke[Xe];if(tt!=="children"&&tt!=="key"){Ei(G),ve("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",tt),Ei(null);break}}G.ref!==null&&(Ei(G),ve("Invalid attribute `ref` supplied to `React.Fragment`."),Ei(null))}}function Cs(G,ke,Xe){var tt=F(G);if(!tt){var ht="";(G===void 0||typeof G=="object"&&G!==null&&Object.keys(G).length===0)&&(ht+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var zt=Ds(ke);zt?ht+=zt:ht+=Fo();var jt;G===null?jt="null":he(G)?jt="array":G!==void 0&&G.$$typeof===i?(jt="<"+(cr(G.type)||"Unknown")+" />",ht=" Did you accidentally export a JSX literal instead of a component?"):jt=typeof G,ve("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",jt,ht)}var er=vt.apply(this,arguments);if(er==null)return er;if(tt)for(var _t=2;_t<arguments.length;_t++)es(arguments[_t],G);return G===u?Es(er):Qi(er),er}var sa=!1;function jc(G){var ke=Cs.bind(null,G);return ke.type=G,sa||(sa=!0,we("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(ke,"type",{enumerable:!1,get:function(){return we("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:G}),G}}),ke}function Vl(G,ke,Xe){for(var tt=Ut.apply(this,arguments),ht=2;ht<arguments.length;ht++)es(arguments[ht],tt.type);return Qi(tt),tt}function $o(G,ke){var Xe=le.transition;le.transition={};var tt=le.transition;le.transition._updatedFibers=new Set;try{G()}finally{if(le.transition=Xe,Xe===null&&tt._updatedFibers){var ht=tt._updatedFibers.size;ht>10&&we("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),tt._updatedFibers.clear()}}}var jl=!1,Zi=null;function Ju(G){if(Zi===null)try{var ke=("require"+Math.random()).slice(0,7),Xe=e&&e[ke];Zi=Xe.call(e,"timers").setImmediate}catch{Zi=function(ht){jl===!1&&(jl=!0,typeof MessageChannel>"u"&&ve("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var zt=new MessageChannel;zt.port1.onmessage=ht,zt.port2.postMessage(void 0)}}return Zi(G)}var Wa=0,na=!1;function eo(G){{var ke=Wa;Wa++,W.current===null&&(W.current=[]);var Xe=W.isBatchingLegacy,tt;try{if(W.isBatchingLegacy=!0,tt=G(),!Xe&&W.didScheduleLegacyUpdate){var ht=W.current;ht!==null&&(W.didScheduleLegacyUpdate=!1,ro(ht))}}catch(Lt){throw aa(ke),Lt}finally{W.isBatchingLegacy=Xe}if(tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var zt=tt,jt=!1,er={then:function(Lt,ts){jt=!0,zt.then(function(is){aa(ke),Wa===0?to(is,Lt,ts):Lt(is)},function(is){aa(ke),ts(is)})}};return!na&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){jt||(na=!0,ve("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),er}else{var _t=tt;if(aa(ke),Wa===0){var fr=W.current;fr!==null&&(ro(fr),W.current=null);var Xr={then:function(Lt,ts){W.current===null?(W.current=[],to(_t,Lt,ts)):Lt(_t)}};return Xr}else{var Gr={then:function(Lt,ts){Lt(_t)}};return Gr}}}}function aa(G){G!==Wa-1&&ve("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Wa=G}function to(G,ke,Xe){{var tt=W.current;if(tt!==null)try{ro(tt),Ju(function(){tt.length===0?(W.current=null,ke(G)):to(G,ke,Xe)})}catch(ht){Xe(ht)}else ke(G)}}var Ya=!1;function ro(G){if(!Ya){Ya=!0;var ke=0;try{for(;ke<G.length;ke++){var Xe=G[ke];do Xe=Xe(!0);while(Xe!==null)}G.length=0}catch(tt){throw G=G.slice(ke+1),tt}finally{Ya=!1}}}var Al=Cs,Ll=Vl,Ac=jc,Bo={map:Ht,forEach:Kt,count:ur,toArray:Gt,only:mr};s.Children=Bo,s.Component=me,s.Fragment=u,s.Profiler=m,s.PureComponent=de,s.StrictMode=c,s.Suspense=b,s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,s.act=eo,s.cloneElement=Ll,s.createContext=ir,s.createElement=Al,s.createFactory=Ac,s.createRef=Ee,s.forwardRef=C,s.isValidElement=br,s.lazy=K,s.memo=z,s.startTransition=$o,s.unstable_act=eo,s.useCallback=Qe,s.useContext=te,s.useDebugValue=dt,s.useDeferredValue=Nt,s.useEffect=pe,s.useId=hr,s.useImperativeHandle=ct,s.useInsertionEffect=Se,s.useLayoutEffect=je,s.useMemo=et,s.useReducer=Pe,s.useRef=ye,s.useState=Ne,s.useSyncExternalStore=zr,s.useTransition=mt,s.version=t,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(Xm,Xm.exports)),Xm.exports}var jy;function SN(){return jy||(jy=1,Ab.exports=UU()),Ab.exports}var Ay;function VU(){if(Ay)return Bp;Ay=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){var e=SN(),s=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),w=Symbol.iterator,y="@@iterator";function T(K){if(K===null||typeof K!="object")return null;var C=w&&K[w]||K[y];return typeof C=="function"?C:null}var J=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(K){{for(var C=arguments.length,L=new Array(C>1?C-1:0),F=1;F<C;F++)L[F-1]=arguments[F];R("error",K,L)}}function R(K,C,L){{var F=J.ReactDebugCurrentFrame,z=F.getStackAddendum();z!==""&&(C+="%s",L=L.concat([z]));var A=L.map(function(te){return String(te)});A.unshift("Warning: "+C),Function.prototype.apply.call(console[K],console,A)}}var le=!1,W=!1,ee=!1,X=!1,De=!1,_;_=Symbol.for("react.module.reference");function B(K){return!!(typeof K=="string"||typeof K=="function"||K===i||K===u||De||K===o||K===g||K===v||X||K===k||le||W||ee||typeof K=="object"&&K!==null&&(K.$$typeof===E||K.$$typeof===b||K.$$typeof===c||K.$$typeof===m||K.$$typeof===h||K.$$typeof===_||K.getModuleId!==void 0))}function re(K,C,L){var F=K.displayName;if(F)return F;var z=C.displayName||C.name||"";return z!==""?L+"("+z+")":L}function H(K){return K.displayName||"Context"}function oe(K){if(K==null)return null;if(typeof K.tag=="number"&&Z("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof K=="function")return K.displayName||K.name||null;if(typeof K=="string")return K;switch(K){case i:return"Fragment";case t:return"Portal";case u:return"Profiler";case o:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if(typeof K=="object")switch(K.$$typeof){case m:var C=K;return H(C)+".Consumer";case c:var L=K;return H(L._context)+".Provider";case h:return re(K,K.render,"ForwardRef");case b:var F=K.displayName||null;return F!==null?F:oe(K.type)||"Memo";case E:{var z=K,A=z._payload,te=z._init;try{return oe(te(A))}catch{return null}}}return null}var _e=Object.assign,ne=0,we,ve,Me,be,Ie,Te,Q;function Oe(){}Oe.__reactDisabledLog=!0;function me(){{if(ne===0){we=console.log,ve=console.info,Me=console.warn,be=console.error,Ie=console.group,Te=console.groupCollapsed,Q=console.groupEnd;var K={configurable:!0,enumerable:!0,value:Oe,writable:!0};Object.defineProperties(console,{info:K,log:K,warn:K,error:K,group:K,groupCollapsed:K,groupEnd:K})}ne++}}function se(){{if(ne--,ne===0){var K={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:_e({},K,{value:we}),info:_e({},K,{value:ve}),warn:_e({},K,{value:Me}),error:_e({},K,{value:be}),group:_e({},K,{value:Ie}),groupCollapsed:_e({},K,{value:Te}),groupEnd:_e({},K,{value:Q})})}ne<0&&Z("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ie=J.ReactCurrentDispatcher,Y;function U(K,C,L){{if(Y===void 0)try{throw Error()}catch(z){var F=z.stack.trim().match(/\n( *(at )?)/);Y=F&&F[1]||""}return`
`+Y+K}}var de=!1,I;{var Ee=typeof WeakMap=="function"?WeakMap:Map;I=new Ee}function j(K,C){if(!K||de)return"";{var L=I.get(K);if(L!==void 0)return L}var F;de=!0;var z=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=ie.current,ie.current=null,me();try{if(C){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(et){F=et}Reflect.construct(K,[],te)}else{try{te.call()}catch(et){F=et}K.call(te.prototype)}}else{try{throw Error()}catch(et){F=et}K()}}catch(et){if(et&&F&&typeof et.stack=="string"){for(var Ne=et.stack.split(`
`),Pe=F.stack.split(`
`),ye=Ne.length-1,pe=Pe.length-1;ye>=1&&pe>=0&&Ne[ye]!==Pe[pe];)pe--;for(;ye>=1&&pe>=0;ye--,pe--)if(Ne[ye]!==Pe[pe]){if(ye!==1||pe!==1)do if(ye--,pe--,pe<0||Ne[ye]!==Pe[pe]){var Se=`
`+Ne[ye].replace(" at new "," at ");return K.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",K.displayName)),typeof K=="function"&&I.set(K,Se),Se}while(ye>=1&&pe>=0);break}}}finally{de=!1,ie.current=A,se(),Error.prepareStackTrace=z}var je=K?K.displayName||K.name:"",Qe=je?U(je):"";return typeof K=="function"&&I.set(K,Qe),Qe}function he(K,C,L){return j(K,!1)}function Ce(K){var C=K.prototype;return!!(C&&C.isReactComponent)}function Fe(K,C,L){if(K==null)return"";if(typeof K=="function")return j(K,Ce(K));if(typeof K=="string")return U(K);switch(K){case g:return U("Suspense");case v:return U("SuspenseList")}if(typeof K=="object")switch(K.$$typeof){case h:return he(K.render);case b:return Fe(K.type,C,L);case E:{var F=K,z=F._payload,A=F._init;try{return Fe(A(z),C,L)}catch{}}}return""}var He=Object.prototype.hasOwnProperty,ze={},Ft=J.ReactDebugCurrentFrame;function Qt(K){if(K){var C=K._owner,L=Fe(K.type,K._source,C?C.type:null);Ft.setExtraStackFrame(L)}else Ft.setExtraStackFrame(null)}function cr(K,C,L,F,z){{var A=Function.call.bind(He);for(var te in K)if(A(K,te)){var Ne=void 0;try{if(typeof K[te]!="function"){var Pe=Error((F||"React class")+": "+L+" type `"+te+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof K[te]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Pe.name="Invariant Violation",Pe}Ne=K[te](C,te,F,L,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ye){Ne=ye}Ne&&!(Ne instanceof Error)&&(Qt(z),Z("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",F||"React class",L,te,typeof Ne),Qt(null)),Ne instanceof Error&&!(Ne.message in ze)&&(ze[Ne.message]=!0,Qt(z),Z("Failed %s type: %s",L,Ne.message),Qt(null))}}}var nr=Array.isArray;function Or(K){return nr(K)}function Zt(K){{var C=typeof Symbol=="function"&&Symbol.toStringTag,L=C&&K[Symbol.toStringTag]||K.constructor.name||"Object";return L}}function xr(K){try{return Yt(K),!1}catch{return!0}}function Yt(K){return""+K}function Sr(K){if(xr(K))return Z("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Zt(K)),Yt(K)}var at=J.ReactCurrentOwner,ar={key:!0,ref:!0,__self:!0,__source:!0},Vt,Ze,it;it={};function vt(K){if(He.call(K,"ref")){var C=Object.getOwnPropertyDescriptor(K,"ref").get;if(C&&C.isReactWarning)return!1}return K.ref!==void 0}function Rt(K){if(He.call(K,"key")){var C=Object.getOwnPropertyDescriptor(K,"key").get;if(C&&C.isReactWarning)return!1}return K.key!==void 0}function Ut(K,C){if(typeof K.ref=="string"&&at.current&&C&&at.current.stateNode!==C){var L=oe(at.current.type);it[L]||(Z('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',oe(at.current.type),K.ref),it[L]=!0)}}function br(K,C){{var L=function(){Vt||(Vt=!0,Z("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",C))};L.isReactWarning=!0,Object.defineProperty(K,"key",{get:L,configurable:!0})}}function Jt(K,C){{var L=function(){Ze||(Ze=!0,Z("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",C))};L.isReactWarning=!0,Object.defineProperty(K,"ref",{get:L,configurable:!0})}}var Nr=function(K,C,L,F,z,A,te){var Ne={$$typeof:s,type:K,key:C,ref:L,props:te,_owner:A};return Ne._store={},Object.defineProperty(Ne._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ne,"_self",{configurable:!1,enumerable:!1,writable:!1,value:F}),Object.defineProperty(Ne,"_source",{configurable:!1,enumerable:!1,writable:!1,value:z}),Object.freeze&&(Object.freeze(Ne.props),Object.freeze(Ne)),Ne};function rt(K,C,L,F,z){{var A,te={},Ne=null,Pe=null;L!==void 0&&(Sr(L),Ne=""+L),Rt(C)&&(Sr(C.key),Ne=""+C.key),vt(C)&&(Pe=C.ref,Ut(C,z));for(A in C)He.call(C,A)&&!ar.hasOwnProperty(A)&&(te[A]=C[A]);if(K&&K.defaultProps){var ye=K.defaultProps;for(A in ye)te[A]===void 0&&(te[A]=ye[A])}if(Ne||Pe){var pe=typeof K=="function"?K.displayName||K.name||"Unknown":K;Ne&&br(te,pe),Pe&&Jt(te,pe)}return Nr(K,Ne,Pe,z,F,at.current,te)}}var Ge=J.ReactCurrentOwner,qe=J.ReactDebugCurrentFrame;function bt(K){if(K){var C=K._owner,L=Fe(K.type,K._source,C?C.type:null);qe.setExtraStackFrame(L)}else qe.setExtraStackFrame(null)}var Dt;Dt=!1;function Tt(K){return typeof K=="object"&&K!==null&&K.$$typeof===s}function Ht(){{if(Ge.current){var K=oe(Ge.current.type);if(K)return`

Check the render method of \``+K+"`."}return""}}function ur(K){{if(K!==void 0){var C=K.fileName.replace(/^.*[\\\/]/,""),L=K.lineNumber;return`

Check your code at `+C+":"+L+"."}return""}}var Kt={};function Gt(K){{var C=Ht();if(!C){var L=typeof K=="string"?K:K.displayName||K.name;L&&(C=`

Check the top-level render call using <`+L+">.")}return C}}function mr(K,C){{if(!K._store||K._store.validated||K.key!=null)return;K._store.validated=!0;var L=Gt(C);if(Kt[L])return;Kt[L]=!0;var F="";K&&K._owner&&K._owner!==Ge.current&&(F=" It was passed a child from "+oe(K._owner.type)+"."),bt(K),Z('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',L,F),bt(null)}}function ir(K,C){{if(typeof K!="object")return;if(Or(K))for(var L=0;L<K.length;L++){var F=K[L];Tt(F)&&mr(F,C)}else if(Tt(K))K._store&&(K._store.validated=!0);else if(K){var z=T(K);if(typeof z=="function"&&z!==K.entries)for(var A=z.call(K),te;!(te=A.next()).done;)Tt(te.value)&&mr(te.value,C)}}}function pr(K){{var C=K.type;if(C==null||typeof C=="string")return;var L;if(typeof C=="function")L=C.propTypes;else if(typeof C=="object"&&(C.$$typeof===h||C.$$typeof===b))L=C.propTypes;else return;if(L){var F=oe(C);cr(L,K.props,"prop",F,K)}else if(C.PropTypes!==void 0&&!Dt){Dt=!0;var z=oe(C);Z("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",z||"Unknown")}typeof C.getDefaultProps=="function"&&!C.getDefaultProps.isReactClassApproved&&Z("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function or(K){{for(var C=Object.keys(K.props),L=0;L<C.length;L++){var F=C[L];if(F!=="children"&&F!=="key"){bt(K),Z("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",F),bt(null);break}}K.ref!==null&&(bt(K),Z("Invalid attribute `ref` supplied to `React.Fragment`."),bt(null))}}var ae={};function Ve(K,C,L,F,z,A){{var te=B(K);if(!te){var Ne="";(K===void 0||typeof K=="object"&&K!==null&&Object.keys(K).length===0)&&(Ne+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Pe=ur(z);Pe?Ne+=Pe:Ne+=Ht();var ye;K===null?ye="null":Or(K)?ye="array":K!==void 0&&K.$$typeof===s?(ye="<"+(oe(K.type)||"Unknown")+" />",Ne=" Did you accidentally export a JSX literal instead of a component?"):ye=typeof K,Z("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ye,Ne)}var pe=rt(K,C,L,z,A);if(pe==null)return pe;if(te){var Se=C.children;if(Se!==void 0)if(F)if(Or(Se)){for(var je=0;je<Se.length;je++)ir(Se[je],K);Object.freeze&&Object.freeze(Se)}else Z("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ir(Se,K)}if(He.call(C,"key")){var Qe=oe(K),et=Object.keys(C).filter(function(mt){return mt!=="key"}),ct=et.length>0?"{key: someKey, "+et.join(": ..., ")+": ...}":"{key: someKey}";if(!ae[Qe+ct]){var dt=et.length>0?"{"+et.join(": ..., ")+": ...}":"{}";Z(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,ct,Qe,dt,Qe),ae[Qe+ct]=!0}}return K===i?or(pe):pr(pe),pe}}var ue=Ve;Bp.Fragment=i,Bp.jsxDEV=ue})(),Bp}var Ly;function jU(){return Ly||(Ly=1,jb.exports=VU()),jb.exports}var a=jU(),O=SN();const qr=lC(O);var Xp={},Lb={exports:{}},fa={},Mb={exports:{}},Ib={},My;function AU(){return My||(My=1,(function(e){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var s=!1,t=5;function i(Ze,it){var vt=Ze.length;Ze.push(it),c(Ze,it,vt)}function o(Ze){return Ze.length===0?null:Ze[0]}function u(Ze){if(Ze.length===0)return null;var it=Ze[0],vt=Ze.pop();return vt!==it&&(Ze[0]=vt,m(Ze,vt,0)),it}function c(Ze,it,vt){for(var Rt=vt;Rt>0;){var Ut=Rt-1>>>1,br=Ze[Ut];if(h(br,it)>0)Ze[Ut]=it,Ze[Rt]=br,Rt=Ut;else return}}function m(Ze,it,vt){for(var Rt=vt,Ut=Ze.length,br=Ut>>>1;Rt<br;){var Jt=(Rt+1)*2-1,Nr=Ze[Jt],rt=Jt+1,Ge=Ze[rt];if(h(Nr,it)<0)rt<Ut&&h(Ge,Nr)<0?(Ze[Rt]=Ge,Ze[rt]=it,Rt=rt):(Ze[Rt]=Nr,Ze[Jt]=it,Rt=Jt);else if(rt<Ut&&h(Ge,it)<0)Ze[Rt]=Ge,Ze[rt]=it,Rt=rt;else return}}function h(Ze,it){var vt=Ze.sortIndex-it.sortIndex;return vt!==0?vt:Ze.id-it.id}var g=1,v=2,b=3,E=4,k=5;function w(Ze,it){}var y=typeof performance=="object"&&typeof performance.now=="function";if(y){var T=performance;e.unstable_now=function(){return T.now()}}else{var J=Date,Z=J.now();e.unstable_now=function(){return J.now()-Z}}var R=1073741823,le=-1,W=250,ee=5e3,X=1e4,De=R,_=[],B=[],re=1,H=null,oe=b,_e=!1,ne=!1,we=!1,ve=typeof setTimeout=="function"?setTimeout:null,Me=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ie(Ze){for(var it=o(B);it!==null;){if(it.callback===null)u(B);else if(it.startTime<=Ze)u(B),it.sortIndex=it.expirationTime,i(_,it);else return;it=o(B)}}function Te(Ze){if(we=!1,Ie(Ze),!ne)if(o(_)!==null)ne=!0,Yt(Q);else{var it=o(B);it!==null&&Sr(Te,it.startTime-Ze)}}function Q(Ze,it){ne=!1,we&&(we=!1,at()),_e=!0;var vt=oe;try{var Rt;if(!s)return Oe(Ze,it)}finally{H=null,oe=vt,_e=!1}}function Oe(Ze,it){var vt=it;for(Ie(vt),H=o(_);H!==null&&!(H.expirationTime>vt&&(!Ze||Ft()));){var Rt=H.callback;if(typeof Rt=="function"){H.callback=null,oe=H.priorityLevel;var Ut=H.expirationTime<=vt,br=Rt(Ut);vt=e.unstable_now(),typeof br=="function"?H.callback=br:H===o(_)&&u(_),Ie(vt)}else u(_);H=o(_)}if(H!==null)return!0;var Jt=o(B);return Jt!==null&&Sr(Te,Jt.startTime-vt),!1}function me(Ze,it){switch(Ze){case g:case v:case b:case E:case k:break;default:Ze=b}var vt=oe;oe=Ze;try{return it()}finally{oe=vt}}function se(Ze){var it;switch(oe){case g:case v:case b:it=b;break;default:it=oe;break}var vt=oe;oe=it;try{return Ze()}finally{oe=vt}}function ie(Ze){var it=oe;return function(){var vt=oe;oe=it;try{return Ze.apply(this,arguments)}finally{oe=vt}}}function Y(Ze,it,vt){var Rt=e.unstable_now(),Ut;if(typeof vt=="object"&&vt!==null){var br=vt.delay;typeof br=="number"&&br>0?Ut=Rt+br:Ut=Rt}else Ut=Rt;var Jt;switch(Ze){case g:Jt=le;break;case v:Jt=W;break;case k:Jt=De;break;case E:Jt=X;break;case b:default:Jt=ee;break}var Nr=Ut+Jt,rt={id:re++,callback:it,priorityLevel:Ze,startTime:Ut,expirationTime:Nr,sortIndex:-1};return Ut>Rt?(rt.sortIndex=Ut,i(B,rt),o(_)===null&&rt===o(B)&&(we?at():we=!0,Sr(Te,Ut-Rt))):(rt.sortIndex=Nr,i(_,rt),!ne&&!_e&&(ne=!0,Yt(Q))),rt}function U(){}function de(){!ne&&!_e&&(ne=!0,Yt(Q))}function I(){return o(_)}function Ee(Ze){Ze.callback=null}function j(){return oe}var he=!1,Ce=null,Fe=-1,He=t,ze=-1;function Ft(){var Ze=e.unstable_now()-ze;return!(Ze<He)}function Qt(){}function cr(Ze){if(Ze<0||Ze>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}Ze>0?He=Math.floor(1e3/Ze):He=t}var nr=function(){if(Ce!==null){var Ze=e.unstable_now();ze=Ze;var it=!0,vt=!0;try{vt=Ce(it,Ze)}finally{vt?Or():(he=!1,Ce=null)}}else he=!1},Or;if(typeof be=="function")Or=function(){be(nr)};else if(typeof MessageChannel<"u"){var Zt=new MessageChannel,xr=Zt.port2;Zt.port1.onmessage=nr,Or=function(){xr.postMessage(null)}}else Or=function(){ve(nr,0)};function Yt(Ze){Ce=Ze,he||(he=!0,Or())}function Sr(Ze,it){Fe=ve(function(){Ze(e.unstable_now())},it)}function at(){Me(Fe),Fe=-1}var ar=Qt,Vt=null;e.unstable_IdlePriority=k,e.unstable_ImmediatePriority=g,e.unstable_LowPriority=E,e.unstable_NormalPriority=b,e.unstable_Profiling=Vt,e.unstable_UserBlockingPriority=v,e.unstable_cancelCallback=Ee,e.unstable_continueExecution=de,e.unstable_forceFrameRate=cr,e.unstable_getCurrentPriorityLevel=j,e.unstable_getFirstCallbackNode=I,e.unstable_next=se,e.unstable_pauseExecution=U,e.unstable_requestPaint=ar,e.unstable_runWithPriority=me,e.unstable_scheduleCallback=Y,e.unstable_shouldYield=Ft,e.unstable_wrapCallback=ie,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(Ib)),Ib}var Iy;function LU(){return Iy||(Iy=1,Mb.exports=AU()),Mb.exports}var Fy;function MU(){if(Fy)return fa;Fy=1;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=SN(),s=LU(),t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=!1;function o(r){i=r}function u(r){if(!i){for(var n=arguments.length,l=new Array(n>1?n-1:0),d=1;d<n;d++)l[d-1]=arguments[d];m("warn",r,l)}}function c(r){if(!i){for(var n=arguments.length,l=new Array(n>1?n-1:0),d=1;d<n;d++)l[d-1]=arguments[d];m("error",r,l)}}function m(r,n,l){{var d=t.ReactDebugCurrentFrame,f=d.getStackAddendum();f!==""&&(n+="%s",l=l.concat([f]));var x=l.map(function(S){return String(S)});x.unshift("Warning: "+n),Function.prototype.apply.call(console[r],console,x)}}var h=0,g=1,v=2,b=3,E=4,k=5,w=6,y=7,T=8,J=9,Z=10,R=11,le=12,W=13,ee=14,X=15,De=16,_=17,B=18,re=19,H=21,oe=22,_e=23,ne=24,we=25,ve=!0,Me=!1,be=!1,Ie=!1,Te=!1,Q=!0,Oe=!0,me=!0,se=!0,ie=new Set,Y={},U={};function de(r,n){I(r,n),I(r+"Capture",n)}function I(r,n){Y[r]&&c("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",r),Y[r]=n;{var l=r.toLowerCase();U[l]=r,r==="onDoubleClick"&&(U.ondblclick=r)}for(var d=0;d<n.length;d++)ie.add(n[d])}var Ee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j=Object.prototype.hasOwnProperty;function he(r){{var n=typeof Symbol=="function"&&Symbol.toStringTag,l=n&&r[Symbol.toStringTag]||r.constructor.name||"Object";return l}}function Ce(r){try{return Fe(r),!1}catch{return!0}}function Fe(r){return""+r}function He(r,n){if(Ce(r))return c("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",n,he(r)),Fe(r)}function ze(r){if(Ce(r))return c("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",he(r)),Fe(r)}function Ft(r,n){if(Ce(r))return c("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",n,he(r)),Fe(r)}function Qt(r,n){if(Ce(r))return c("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",n,he(r)),Fe(r)}function cr(r){if(Ce(r))return c("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",he(r)),Fe(r)}function nr(r){if(Ce(r))return c("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",he(r)),Fe(r)}var Or=0,Zt=1,xr=2,Yt=3,Sr=4,at=5,ar=6,Vt=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Ze=Vt+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",it=new RegExp("^["+Vt+"]["+Ze+"]*$"),vt={},Rt={};function Ut(r){return j.call(Rt,r)?!0:j.call(vt,r)?!1:it.test(r)?(Rt[r]=!0,!0):(vt[r]=!0,c("Invalid attribute name: `%s`",r),!1)}function br(r,n,l){return n!==null?n.type===Or:l?!1:r.length>2&&(r[0]==="o"||r[0]==="O")&&(r[1]==="n"||r[1]==="N")}function Jt(r,n,l,d){if(l!==null&&l.type===Or)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":{if(d)return!1;if(l!==null)return!l.acceptsBooleans;var f=r.toLowerCase().slice(0,5);return f!=="data-"&&f!=="aria-"}default:return!1}}function Nr(r,n,l,d){if(n===null||typeof n>"u"||Jt(r,n,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case Yt:return!n;case Sr:return n===!1;case at:return isNaN(n);case ar:return isNaN(n)||n<1}return!1}function rt(r){return qe.hasOwnProperty(r)?qe[r]:null}function Ge(r,n,l,d,f,x,S){this.acceptsBooleans=n===xr||n===Yt||n===Sr,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=n,this.sanitizeURL=x,this.removeEmptyString=S}var qe={},bt=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];bt.forEach(function(r){qe[r]=new Ge(r,Or,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var n=r[0],l=r[1];qe[n]=new Ge(n,Zt,!1,l,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){qe[r]=new Ge(r,xr,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){qe[r]=new Ge(r,xr,!1,r,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(r){qe[r]=new Ge(r,Yt,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){qe[r]=new Ge(r,Yt,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){qe[r]=new Ge(r,Sr,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){qe[r]=new Ge(r,ar,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){qe[r]=new Ge(r,at,!1,r.toLowerCase(),null,!1,!1)});var Dt=/[\-\:]([a-z])/g,Tt=function(r){return r[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(r){var n=r.replace(Dt,Tt);qe[n]=new Ge(n,Zt,!1,r,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(r){var n=r.replace(Dt,Tt);qe[n]=new Ge(n,Zt,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var n=r.replace(Dt,Tt);qe[n]=new Ge(n,Zt,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){qe[r]=new Ge(r,Zt,!1,r.toLowerCase(),null,!1,!1)});var Ht="xlinkHref";qe[Ht]=new Ge("xlinkHref",Zt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){qe[r]=new Ge(r,Zt,!1,r.toLowerCase(),null,!0,!0)});var ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Kt=!1;function Gt(r){!Kt&&ur.test(r)&&(Kt=!0,c("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(r)))}function mr(r,n,l,d){if(d.mustUseProperty){var f=d.propertyName;return r[f]}else{He(l,n),d.sanitizeURL&&Gt(""+l);var x=d.attributeName,S=null;if(d.type===Sr){if(r.hasAttribute(x)){var P=r.getAttribute(x);return P===""?!0:Nr(n,l,d,!1)?P:P===""+l?l:P}}else if(r.hasAttribute(x)){if(Nr(n,l,d,!1))return r.getAttribute(x);if(d.type===Yt)return l;S=r.getAttribute(x)}return Nr(n,l,d,!1)?S===null?l:S:S===""+l?l:S}}function ir(r,n,l,d){{if(!Ut(n))return;if(!r.hasAttribute(n))return l===void 0?void 0:null;var f=r.getAttribute(n);return He(l,n),f===""+l?l:f}}function pr(r,n,l,d){var f=rt(n);if(!br(n,f,d)){if(Nr(n,l,f,d)&&(l=null),d||f===null){if(Ut(n)){var x=n;l===null?r.removeAttribute(x):(He(l,n),r.setAttribute(x,""+l))}return}var S=f.mustUseProperty;if(S){var P=f.propertyName;if(l===null){var M=f.type;r[P]=M===Yt?!1:""}else r[P]=l;return}var ce=f.attributeName,ge=f.attributeNamespace;if(l===null)r.removeAttribute(ce);else{var Le=f.type,Ae;Le===Yt||Le===Sr&&l===!0?Ae="":(He(l,ce),Ae=""+l,f.sanitizeURL&&Gt(Ae.toString())),ge?r.setAttributeNS(ge,ce,Ae):r.setAttribute(ce,Ae)}}}var or=Symbol.for("react.element"),ae=Symbol.for("react.portal"),Ve=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Pe=Symbol.for("react.scope"),ye=Symbol.for("react.debug_trace_mode"),pe=Symbol.for("react.offscreen"),Se=Symbol.for("react.legacy_hidden"),je=Symbol.for("react.cache"),Qe=Symbol.for("react.tracing_marker"),et=Symbol.iterator,ct="@@iterator";function dt(r){if(r===null||typeof r!="object")return null;var n=et&&r[et]||r[ct];return typeof n=="function"?n:null}var mt=Object.assign,Nt=0,hr,zr,nn,Zn,ha,ea,ta;function On(){}On.__reactDisabledLog=!0;function Vc(){{if(Nt===0){hr=console.log,zr=console.info,nn=console.warn,Zn=console.error,ha=console.group,ea=console.groupCollapsed,ta=console.groupEnd;var r={configurable:!0,enumerable:!0,value:On,writable:!0};Object.defineProperties(console,{info:r,log:r,warn:r,error:r,group:r,groupCollapsed:r,groupEnd:r})}Nt++}}function Rl(){{if(Nt--,Nt===0){var r={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:mt({},r,{value:hr}),info:mt({},r,{value:zr}),warn:mt({},r,{value:nn}),error:mt({},r,{value:Zn}),group:mt({},r,{value:ha}),groupCollapsed:mt({},r,{value:ea}),groupEnd:mt({},r,{value:ta})})}Nt<0&&c("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var za=t.ReactCurrentDispatcher,Mt;function Qr(r,n,l){{if(Mt===void 0)try{throw Error()}catch(f){var d=f.stack.trim().match(/\n( *(at )?)/);Mt=d&&d[1]||""}return`
`+Mt+r}}var yr=!1,as;{var va=typeof WeakMap=="function"?WeakMap:Map;as=new va}function an(r,n){if(!r||yr)return"";{var l=as.get(r);if(l!==void 0)return l}var d;yr=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var x;x=za.current,za.current=null,Vc();try{if(n){var S=function(){throw Error()};if(Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(Je){d=Je}Reflect.construct(r,[],S)}else{try{S.call()}catch(Je){d=Je}r.call(S.prototype)}}else{try{throw Error()}catch(Je){d=Je}r()}}catch(Je){if(Je&&d&&typeof Je.stack=="string"){for(var P=Je.stack.split(`
`),M=d.stack.split(`
`),ce=P.length-1,ge=M.length-1;ce>=1&&ge>=0&&P[ce]!==M[ge];)ge--;for(;ce>=1&&ge>=0;ce--,ge--)if(P[ce]!==M[ge]){if(ce!==1||ge!==1)do if(ce--,ge--,ge<0||P[ce]!==M[ge]){var Le=`
`+P[ce].replace(" at new "," at ");return r.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",r.displayName)),typeof r=="function"&&as.set(r,Le),Le}while(ce>=1&&ge>=0);break}}}finally{yr=!1,za.current=x,Rl(),Error.prepareStackTrace=f}var Ae=r?r.displayName||r.name:"",Ye=Ae?Qr(Ae):"";return typeof r=="function"&&as.set(r,Ye),Ye}function Tl(r,n,l){return an(r,!0)}function _l(r,n,l){return an(r,!1)}function $t(r){var n=r.prototype;return!!(n&&n.isReactComponent)}function ra(r,n,l){if(r==null)return"";if(typeof r=="function")return an(r,$t(r));if(typeof r=="string")return Qr(r);switch(r){case z:return Qr("Suspense");case A:return Qr("SuspenseList")}if(typeof r=="object")switch(r.$$typeof){case F:return _l(r.render);case te:return ra(r.type,n,l);case Ne:{var d=r,f=d._payload,x=d._init;try{return ra(x(f),n,l)}catch{}}}return""}function Io(r){switch(r._debugOwner&&r._debugOwner.type,r._debugSource,r.tag){case k:return Qr(r.type);case De:return Qr("Lazy");case W:return Qr("Suspense");case re:return Qr("SuspenseList");case h:case v:case X:return _l(r.type);case R:return _l(r.type.render);case g:return Tl(r.type);default:return""}}function Ga(r){try{var n="",l=r;do n+=Io(l),l=l.return;while(l);return n}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function yi(r,n,l){var d=r.displayName;if(d)return d;var f=n.displayName||n.name||"";return f!==""?l+"("+f+")":l}function Pl(r){return r.displayName||"Context"}function Ur(r){if(r==null)return null;if(typeof r.tag=="number"&&c("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Ve:return"Fragment";case ae:return"Portal";case K:return"Profiler";case ue:return"StrictMode";case z:return"Suspense";case A:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:var n=r;return Pl(n)+".Consumer";case C:var l=r;return Pl(l._context)+".Provider";case F:return yi(r,r.render,"ForwardRef");case te:var d=r.displayName||null;return d!==null?d:Ur(r.type)||"Memo";case Ne:{var f=r,x=f._payload,S=f._init;try{return Ur(S(x))}catch{return null}}}return null}function Ef(r,n,l){var d=n.displayName||n.name||"";return r.displayName||(d!==""?l+"("+d+")":l)}function Ei(r){return r.displayName||"Context"}function Bt(r){var n=r.tag,l=r.type;switch(n){case ne:return"Cache";case J:var d=l;return Ei(d)+".Consumer";case Z:var f=l;return Ei(f._context)+".Provider";case B:return"DehydratedFragment";case R:return Ef(l,l.render,"ForwardRef");case y:return"Fragment";case k:return l;case E:return"Portal";case b:return"Root";case w:return"Text";case De:return Ur(l);case T:return l===ue?"StrictMode":"Mode";case oe:return"Offscreen";case le:return"Profiler";case H:return"Scope";case W:return"Suspense";case re:return"SuspenseList";case we:return"TracingMarker";case g:case h:case _:case v:case ee:case X:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;break}return null}var Fo=t.ReactDebugCurrentFrame,$r=null,Ds=!1;function Ci(){{if($r===null)return null;var r=$r._debugOwner;if(r!==null&&typeof r<"u")return Bt(r)}return null}function Ul(){return $r===null?"":Ga($r)}function ys(){Fo.getCurrentStack=null,$r=null,Ds=!1}function es(r){Fo.getCurrentStack=r===null?null:Ul,$r=r,Ds=!1}function Qi(){return $r}function Es(r){Ds=r}function Cs(r){return""+r}function sa(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return nr(r),r;default:return""}}var jc={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Vl(r,n){jc[n.type]||n.onChange||n.onInput||n.readOnly||n.disabled||n.value==null||c("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),n.onChange||n.readOnly||n.disabled||n.checked==null||c("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function $o(r){var n=r.type,l=r.nodeName;return l&&l.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jl(r){return r._valueTracker}function Zi(r){r._valueTracker=null}function Ju(r){var n="";return r&&($o(r)?n=r.checked?"true":"false":n=r.value),n}function Wa(r){var n=$o(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,n);nr(r[n]);var d=""+r[n];if(!(r.hasOwnProperty(n)||typeof l>"u"||typeof l.get!="function"||typeof l.set!="function")){var f=l.get,x=l.set;Object.defineProperty(r,n,{configurable:!0,get:function(){return f.call(this)},set:function(P){nr(P),d=""+P,x.call(this,P)}}),Object.defineProperty(r,n,{enumerable:l.enumerable});var S={getValue:function(){return d},setValue:function(P){nr(P),d=""+P},stopTracking:function(){Zi(r),delete r[n]}};return S}}function na(r){jl(r)||(r._valueTracker=Wa(r))}function eo(r){if(!r)return!1;var n=jl(r);if(!n)return!0;var l=n.getValue(),d=Ju(r);return d!==l?(n.setValue(d),!0):!1}function aa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var to=!1,Ya=!1,ro=!1,Al=!1;function Ll(r){var n=r.type==="checkbox"||r.type==="radio";return n?r.checked!=null:r.value!=null}function Ac(r,n){var l=r,d=n.checked,f=mt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??l._wrapperState.initialChecked});return f}function Bo(r,n){Vl("input",n),n.checked!==void 0&&n.defaultChecked!==void 0&&!Ya&&(c("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Ci()||"A component",n.type),Ya=!0),n.value!==void 0&&n.defaultValue!==void 0&&!to&&(c("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Ci()||"A component",n.type),to=!0);var l=r,d=n.defaultValue==null?"":n.defaultValue;l._wrapperState={initialChecked:n.checked!=null?n.checked:n.defaultChecked,initialValue:sa(n.value!=null?n.value:d),controlled:Ll(n)}}function G(r,n){var l=r,d=n.checked;d!=null&&pr(l,"checked",d,!1)}function ke(r,n){var l=r;{var d=Ll(n);!l._wrapperState.controlled&&d&&!Al&&(c("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),Al=!0),l._wrapperState.controlled&&!d&&!ro&&(c("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),ro=!0)}G(r,n);var f=sa(n.value),x=n.type;if(f!=null)x==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=Cs(f)):l.value!==Cs(f)&&(l.value=Cs(f));else if(x==="submit"||x==="reset"){l.removeAttribute("value");return}n.hasOwnProperty("value")?zt(l,n.type,f):n.hasOwnProperty("defaultValue")&&zt(l,n.type,sa(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(l.defaultChecked=!!n.defaultChecked)}function Xe(r,n,l){var d=r;if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var f=n.type,x=f==="submit"||f==="reset";if(x&&(n.value===void 0||n.value===null))return;var S=Cs(d._wrapperState.initialValue);l||S!==d.value&&(d.value=S),d.defaultValue=S}var P=d.name;P!==""&&(d.name=""),d.defaultChecked=!d.defaultChecked,d.defaultChecked=!!d._wrapperState.initialChecked,P!==""&&(d.name=P)}function tt(r,n){var l=r;ke(l,n),ht(l,n)}function ht(r,n){var l=n.name;if(n.type==="radio"&&l!=null){for(var d=r;d.parentNode;)d=d.parentNode;He(l,"name");for(var f=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),x=0;x<f.length;x++){var S=f[x];if(!(S===r||S.form!==r.form)){var P=k0(S);if(!P)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");eo(S),ke(S,P)}}}}function zt(r,n,l){(n!=="number"||aa(r.ownerDocument)!==r)&&(l==null?r.defaultValue=Cs(r._wrapperState.initialValue):r.defaultValue!==Cs(l)&&(r.defaultValue=Cs(l)))}var jt=!1,er=!1,_t=!1;function fr(r,n){n.value==null&&(typeof n.children=="object"&&n.children!==null?e.Children.forEach(n.children,function(l){l!=null&&(typeof l=="string"||typeof l=="number"||er||(er=!0,c("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):n.dangerouslySetInnerHTML!=null&&(_t||(_t=!0,c("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),n.selected!=null&&!jt&&(c("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),jt=!0)}function Xr(r,n){n.value!=null&&r.setAttribute("value",Cs(sa(n.value)))}var Gr=Array.isArray;function Lt(r){return Gr(r)}var ts;ts=!1;function is(){var r=Ci();return r?`

Check the render method of \``+r+"`.":""}var so=["value","defaultValue"];function on(r){{Vl("select",r);for(var n=0;n<so.length;n++){var l=so[n];if(r[l]!=null){var d=Lt(r[l]);r.multiple&&!d?c("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",l,is()):!r.multiple&&d&&c("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",l,is())}}}}function _a(r,n,l,d){var f=r.options;if(n){for(var x=l,S={},P=0;P<x.length;P++)S["$"+x[P]]=!0;for(var M=0;M<f.length;M++){var ce=S.hasOwnProperty("$"+f[M].value);f[M].selected!==ce&&(f[M].selected=ce),ce&&d&&(f[M].defaultSelected=!0)}}else{for(var ge=Cs(sa(l)),Le=null,Ae=0;Ae<f.length;Ae++){if(f[Ae].value===ge){f[Ae].selected=!0,d&&(f[Ae].defaultSelected=!0);return}Le===null&&!f[Ae].disabled&&(Le=f[Ae])}Le!==null&&(Le.selected=!0)}}function no(r,n){return mt({},n,{value:void 0})}function yn(r,n){var l=r;on(n),l._wrapperState={wasMultiple:!!n.multiple},n.value!==void 0&&n.defaultValue!==void 0&&!ts&&(c("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),ts=!0)}function Vs(r,n){var l=r;l.multiple=!!n.multiple;var d=n.value;d!=null?_a(l,!!n.multiple,d,!1):n.defaultValue!=null&&_a(l,!!n.multiple,n.defaultValue,!0)}function Lc(r,n){var l=r,d=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!n.multiple;var f=n.value;f!=null?_a(l,!!n.multiple,f,!1):d!==!!n.multiple&&(n.defaultValue!=null?_a(l,!!n.multiple,n.defaultValue,!0):_a(l,!!n.multiple,n.multiple?[]:"",!1))}function Qu(r,n){var l=r,d=n.value;d!=null&&_a(l,!!n.multiple,d,!1)}var wi=!1;function Zu(r,n){var l=r;if(n.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var d=mt({},n,{value:void 0,defaultValue:void 0,children:Cs(l._wrapperState.initialValue)});return d}function Cf(r,n){var l=r;Vl("textarea",n),n.value!==void 0&&n.defaultValue!==void 0&&!wi&&(c("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",Ci()||"A component"),wi=!0);var d=n.value;if(d==null){var f=n.children,x=n.defaultValue;if(f!=null){c("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(x!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Lt(f)){if(f.length>1)throw new Error("<textarea> can only have at most one child.");f=f[0]}x=f}}x==null&&(x=""),d=x}l._wrapperState={initialValue:sa(d)}}function Mc(r,n){var l=r,d=sa(n.value),f=sa(n.defaultValue);if(d!=null){var x=Cs(d);x!==l.value&&(l.value=x),n.defaultValue==null&&l.defaultValue!==x&&(l.defaultValue=x)}f!=null&&(l.defaultValue=Cs(f))}function Ka(r,n){var l=r,d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function ed(r,n){Mc(r,n)}var ln="http://www.w3.org/1999/xhtml",Vh="http://www.w3.org/1998/Math/MathML",wf="http://www.w3.org/2000/svg";function td(r){switch(r){case"svg":return wf;case"math":return Vh;default:return ln}}function qa(r,n){return r==null||r===ln?td(n):r===wf&&n==="foreignObject"?ln:r}var ao=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,d,f){MSApp.execUnsafeLocalFunction(function(){return r(n,l,d,f)})}:r},Ic,Ml=ao(function(r,n){if(r.namespaceURI===wf&&!("innerHTML"in r)){Ic=Ic||document.createElement("div"),Ic.innerHTML="<svg>"+n.valueOf().toString()+"</svg>";for(var l=Ic.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;l.firstChild;)r.appendChild(l.firstChild);return}r.innerHTML=n}),En=1,ws=3,cs=8,ia=9,rd=11,Fc=function(r,n){if(n){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===ws){l.nodeValue=n;return}}r.textContent=n},kf={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},Il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function Fl(r,n){return r+n.charAt(0).toUpperCase()+n.substring(1)}var $c=["Webkit","ms","Moz","O"];Object.keys(Il).forEach(function(r){$c.forEach(function(n){Il[Fl(n,r)]=Il[r]})});function Fn(r,n,l){var d=n==null||typeof n=="boolean"||n==="";return d?"":!l&&typeof n=="number"&&n!==0&&!(Il.hasOwnProperty(r)&&Il[r])?n+"px":(Qt(n,r),(""+n).trim())}var Ks=/([A-Z])/g,jh=/^ms-/;function sd(r){return r.replace(Ks,"-$1").toLowerCase().replace(jh,"-ms-")}var ds=function(){};{var Xo=/^(?:webkit|moz|o)[A-Z]/,io=/^-ms-/,Bc=/-(.)/g,Rf=/;\s*$/,Ja={},nd={},$l=!1,ga=!1,Ah=function(r){return r.replace(Bc,function(n,l){return l.toUpperCase()})},ad=function(r){Ja.hasOwnProperty(r)&&Ja[r]||(Ja[r]=!0,c("Unsupported style property %s. Did you mean %s?",r,Ah(r.replace(io,"ms-"))))},js=function(r){Ja.hasOwnProperty(r)&&Ja[r]||(Ja[r]=!0,c("Unsupported vendor-prefixed style property %s. Did you mean %s?",r,r.charAt(0).toUpperCase()+r.slice(1)))},os=function(r,n){nd.hasOwnProperty(n)&&nd[n]||(nd[n]=!0,c(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,r,n.replace(Rf,"")))},oa=function(r,n){$l||($l=!0,c("`NaN` is an invalid value for the `%s` css style property.",r))},oo=function(r,n){ga||(ga=!0,c("`Infinity` is an invalid value for the `%s` css style property.",r))};ds=function(r,n){r.indexOf("-")>-1?ad(r):Xo.test(r)?js(r):Rf.test(n)&&os(r,n),typeof n=="number"&&(isNaN(n)?oa(r,n):isFinite(n)||oo(r,n))}}var Tf=ds;function qs(r){{var n="",l="";for(var d in r)if(r.hasOwnProperty(d)){var f=r[d];if(f!=null){var x=d.indexOf("--")===0;n+=l+(x?d:sd(d))+":",n+=Fn(d,f,x),l=";"}}return n||null}}function _f(r,n){var l=r.style;for(var d in n)if(n.hasOwnProperty(d)){var f=d.indexOf("--")===0;f||Tf(d,n[d]);var x=Fn(d,n[d],f);d==="float"&&(d="cssFloat"),f?l.setProperty(d,x):l[d]=x}}function id(r){return r==null||typeof r=="boolean"||r===""}function Xc(r){var n={};for(var l in r)for(var d=kf[l]||[l],f=0;f<d.length;f++)n[d[f]]=l;return n}function Lh(r,n){{if(!n)return;var l=Xc(r),d=Xc(n),f={};for(var x in l){var S=l[x],P=d[x];if(P&&S!==P){var M=S+","+P;if(f[M])continue;f[M]=!0,c("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",id(r[S])?"Removing":"Updating",S,P)}}}}var Pf={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Mh=mt({menuitem:!0},Pf),Ih="__html";function od(r,n){if(n){if(Mh[r]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw new Error(r+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof n.dangerouslySetInnerHTML!="object"||!(Ih in n.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!n.suppressContentEditableWarning&&n.contentEditable&&n.children!=null&&c("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),n.style!=null&&typeof n.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function lo(r,n){if(r.indexOf("-")===-1)return typeof n.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Uf={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Ho={},Fh=new RegExp("^(aria)-["+Ze+"]*$"),zc=new RegExp("^(aria)[A-Z]["+Ze+"]*$");function $h(r,n){{if(j.call(Ho,n)&&Ho[n])return!0;if(zc.test(n)){var l="aria-"+n.slice(4).toLowerCase(),d=Uf.hasOwnProperty(l)?l:null;if(d==null)return c("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",n),Ho[n]=!0,!0;if(n!==d)return c("Invalid ARIA attribute `%s`. Did you mean `%s`?",n,d),Ho[n]=!0,!0}if(Fh.test(n)){var f=n.toLowerCase(),x=Uf.hasOwnProperty(f)?f:null;if(x==null)return Ho[n]=!0,!1;if(n!==x)return c("Unknown ARIA attribute `%s`. Did you mean `%s`?",n,x),Ho[n]=!0,!0}}return!0}function Bh(r,n){{var l=[];for(var d in n){var f=$h(r,d);f||l.push(d)}var x=l.map(function(S){return"`"+S+"`"}).join(", ");l.length===1?c("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",x,r):l.length>1&&c("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",x,r)}}function Xh(r,n){lo(r,n)||Bh(r,n)}var Vf=!1;function ld(r,n){{if(r!=="input"&&r!=="textarea"&&r!=="select")return;n!=null&&n.value===null&&!Vf&&(Vf=!0,r==="select"&&n.multiple?c("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",r):c("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",r))}}var Gc=function(){};{var As={},jf=/^on./,Hh=/^on[^A-Z]/,Hr=new RegExp("^(aria)-["+Ze+"]*$"),Ls=new RegExp("^(aria)[A-Z]["+Ze+"]*$");Gc=function(r,n,l,d){if(j.call(As,n)&&As[n])return!0;var f=n.toLowerCase();if(f==="onfocusin"||f==="onfocusout")return c("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),As[n]=!0,!0;if(d!=null){var x=d.registrationNameDependencies,S=d.possibleRegistrationNames;if(x.hasOwnProperty(n))return!0;var P=S.hasOwnProperty(f)?S[f]:null;if(P!=null)return c("Invalid event handler property `%s`. Did you mean `%s`?",n,P),As[n]=!0,!0;if(jf.test(n))return c("Unknown event handler property `%s`. It will be ignored.",n),As[n]=!0,!0}else if(jf.test(n))return Hh.test(n)&&c("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",n),As[n]=!0,!0;if(Hr.test(n)||Ls.test(n))return!0;if(f==="innerhtml")return c("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),As[n]=!0,!0;if(f==="aria")return c("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),As[n]=!0,!0;if(f==="is"&&l!==null&&l!==void 0&&typeof l!="string")return c("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof l),As[n]=!0,!0;if(typeof l=="number"&&isNaN(l))return c("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",n),As[n]=!0,!0;var M=rt(n),ce=M!==null&&M.type===Or;if(Hc.hasOwnProperty(f)){var ge=Hc[f];if(ge!==n)return c("Invalid DOM property `%s`. Did you mean `%s`?",n,ge),As[n]=!0,!0}else if(!ce&&n!==f)return c("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",n,f),As[n]=!0,!0;return typeof l=="boolean"&&Jt(n,l,M,!1)?(l?c('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',l,n,n,l,n):c('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',l,n,n,l,n,n,n),As[n]=!0,!0):ce?!0:Jt(n,l,M,!1)?(As[n]=!0,!1):((l==="false"||l==="true")&&M!==null&&M.type===Yt&&(c("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",l,n,l==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',n,l),As[n]=!0),!0)}}var Af=function(r,n,l){{var d=[];for(var f in n){var x=Gc(r,f,n[f],l);x||d.push(f)}var S=d.map(function(P){return"`"+P+"`"}).join(", ");d.length===1?c("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",S,r):d.length>1&&c("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",S,r)}};function cd(r,n,l){lo(r,n)||Af(r,n,l)}var zo=1,ud=2,Bl=4,Lf=zo|ud|Bl,Ir=null;function zh(r){Ir!==null&&c("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Ir=r}function Gh(){Ir===null&&c("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Ir=null}function Wh(r){return r===Ir}function Wc(r){var n=r.target||r.srcElement||window;return n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===ws?n.parentNode:n}var Yc=null,Go=null,xa=null;function Mf(r){var n=rl(r);if(n){if(typeof Yc!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var l=n.stateNode;if(l){var d=k0(l);Yc(n.stateNode,n.type,d)}}}function Yh(r){Yc=r}function If(r){Go?xa?xa.push(r):xa=[r]:Go=r}function co(){return Go!==null||xa!==null}function Ff(){if(Go){var r=Go,n=xa;if(Go=null,xa=null,Mf(r),n)for(var l=0;l<n.length;l++)Mf(n[l])}}var $f=function(r,n){return r(n)},Bf=function(){},Kc=!1;function Xf(){var r=co();r&&(Bf(),Ff())}function Hf(r,n,l){if(Kc)return r(n,l);Kc=!0;try{return $f(r,n,l)}finally{Kc=!1,Xf()}}function dd(r,n,l){$f=r,Bf=l}function Xl(r){return r==="button"||r==="input"||r==="select"||r==="textarea"}function Kh(r,n,l){switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(l.disabled&&Xl(n));default:return!1}}function Hl(r,n){var l=r.stateNode;if(l===null)return null;var d=k0(l);if(d===null)return null;var f=d[n];if(Kh(n,r.type,d))return null;if(f&&typeof f!="function")throw new Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof f+"` type.");return f}var md=!1;if(Ee)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){md=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{md=!1}function Gl(r,n,l,d,f,x,S,P,M){var ce=Array.prototype.slice.call(arguments,3);try{n.apply(l,ce)}catch(ge){this.onError(ge)}}var zf=Gl;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var fd=document.createElement("react");zf=function(n,l,d,f,x,S,P,M,ce){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var ge=document.createEvent("Event"),Le=!1,Ae=!0,Ye=window.event,Je=Object.getOwnPropertyDescriptor(window,"event");function st(){fd.removeEventListener(nt,Xt,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Ye)}var Ot=Array.prototype.slice.call(arguments,3);function Xt(){Le=!0,st(),l.apply(d,Ot),Ae=!1}var It,kr=!1,Dr=!1;function $e(Be){if(It=Be.error,kr=!0,It===null&&Be.colno===0&&Be.lineno===0&&(Dr=!0),Be.defaultPrevented&&It!=null&&typeof It=="object")try{It._suppressLogging=!0}catch{}}var nt="react-"+(n||"invokeguardedcallback");if(window.addEventListener("error",$e),fd.addEventListener(nt,Xt,!1),ge.initEvent(nt,!1,!1),fd.dispatchEvent(ge),Je&&Object.defineProperty(window,"event",Je),Le&&Ae&&(kr?Dr&&(It=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):It=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(It)),window.removeEventListener("error",$e),!Le)return st(),Gl.apply(this,arguments)}}var qh=zf,Wo=!1,Cn=null,qc=!1,pd=null,Gf={onError:function(r){Wo=!0,Cn=r}};function Wl(r,n,l,d,f,x,S,P,M){Wo=!1,Cn=null,qh.apply(Gf,arguments)}function Jh(r,n,l,d,f,x,S,P,M){if(Wl.apply(this,arguments),Wo){var ce=hd();qc||(qc=!0,pd=ce)}}function Qh(){if(qc){var r=pd;throw qc=!1,pd=null,r}}function Zh(){return Wo}function hd(){if(Wo){var r=Cn;return Wo=!1,Cn=null,r}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function Yo(r){return r._reactInternals}function Wf(r){return r._reactInternals!==void 0}function ev(r,n){r._reactInternals=n}var yt=0,uo=1,ps=2,Tr=4,Qa=16,Yl=32,vd=64,Rr=128,Za=256,ki=512,Ko=1024,Ri=2048,cn=4096,mo=8192,gd=16384,ba=32767,fo=32768,un=65536,p=131072,N=1048576,D=2097152,V=4194304,q=8388608,fe=16777216,xe=33554432,Re=Tr|Ko|0,Ue=ps|Tr|Qa|Yl|ki|cn|mo,We=Tr|vd|ki|mo,Ke=Ri|Qa,ft=V|q|D,gt=t.ReactCurrentOwner;function Et(r){var n=r,l=r;if(r.alternate)for(;n.return;)n=n.return;else{var d=n;do n=d,(n.flags&(ps|cn))!==yt&&(l=n.return),d=n.return;while(d)}return n.tag===b?l:null}function Vr(r){if(r.tag===W){var n=r.memoizedState;if(n===null){var l=r.alternate;l!==null&&(n=l.memoizedState)}if(n!==null)return n.dehydrated}return null}function Er(r){return r.tag===b?r.stateNode.containerInfo:null}function rs(r){return Et(r)===r}function $n(r){{var n=gt.current;if(n!==null&&n.tag===g){var l=n,d=l.stateNode;d._warnedAboutRefsInRender||c("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Bt(l)||"A component"),d._warnedAboutRefsInRender=!0}}var f=Yo(r);return f?Et(f)===f:!1}function Bn(r){if(Et(r)!==r)throw new Error("Unable to find node on an unmounted component.")}function ei(r){var n=r.alternate;if(!n){var l=Et(r);if(l===null)throw new Error("Unable to find node on an unmounted component.");return l!==r?null:r}for(var d=r,f=n;;){var x=d.return;if(x===null)break;var S=x.alternate;if(S===null){var P=x.return;if(P!==null){d=f=P;continue}break}if(x.child===S.child){for(var M=x.child;M;){if(M===d)return Bn(x),r;if(M===f)return Bn(x),n;M=M.sibling}throw new Error("Unable to find node on an unmounted component.")}if(d.return!==f.return)d=x,f=S;else{for(var ce=!1,ge=x.child;ge;){if(ge===d){ce=!0,d=x,f=S;break}if(ge===f){ce=!0,f=x,d=S;break}ge=ge.sibling}if(!ce){for(ge=S.child;ge;){if(ge===d){ce=!0,d=S,f=x;break}if(ge===f){ce=!0,f=S,d=x;break}ge=ge.sibling}if(!ce)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(d.alternate!==f)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(d.tag!==b)throw new Error("Unable to find node on an unmounted component.");return d.stateNode.current===d?r:n}function ti(r){var n=ei(r);return n!==null?Kl(n):null}function Kl(r){if(r.tag===k||r.tag===w)return r;for(var n=r.child;n!==null;){var l=Kl(n);if(l!==null)return l;n=n.sibling}return null}function xd(r){var n=ei(r);return n!==null?Yf(n):null}function Yf(r){if(r.tag===k||r.tag===w)return r;for(var n=r.child;n!==null;){if(n.tag!==E){var l=Yf(n);if(l!==null)return l}n=n.sibling}return null}var Kf=s.unstable_scheduleCallback,tv=s.unstable_cancelCallback,bd=s.unstable_shouldYield,rv=s.unstable_requestPaint,ks=s.unstable_now,sv=s.unstable_getCurrentPriorityLevel,qf=s.unstable_ImmediatePriority,nv=s.unstable_UserBlockingPriority,ql=s.unstable_NormalPriority,kk=s.unstable_LowPriority,av=s.unstable_IdlePriority,Rk=s.unstable_yieldValue,Tk=s.unstable_setDisableYieldValue,Jc=null,wn=null,wt=null,Ti=!1,ri=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function _k(r){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled)return!0;if(!n.supportsFiber)return c("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{Oe&&(r=mt({},r,{getLaneLabelMap:Lk,injectProfilingHooks:Ak})),Jc=n.inject(r),wn=n}catch(l){c("React instrumentation encountered an error: %s.",l)}return!!n.checkDCE}function Pk(r,n){if(wn&&typeof wn.onScheduleFiberRoot=="function")try{wn.onScheduleFiberRoot(Jc,r,n)}catch(l){Ti||(Ti=!0,c("React instrumentation encountered an error: %s",l))}}function Uk(r,n){if(wn&&typeof wn.onCommitFiberRoot=="function")try{var l=(r.current.flags&Rr)===Rr;if(me){var d;switch(n){case Sa:d=qf;break;case ho:d=nv;break;case vo:d=ql;break;case s0:d=av;break;default:d=ql;break}wn.onCommitFiberRoot(Jc,r,d,l)}}catch(f){Ti||(Ti=!0,c("React instrumentation encountered an error: %s",f))}}function Vk(r){if(wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Jc,r)}catch(n){Ti||(Ti=!0,c("React instrumentation encountered an error: %s",n))}}function jk(r){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Jc,r)}catch(n){Ti||(Ti=!0,c("React instrumentation encountered an error: %s",n))}}function Js(r){if(typeof Rk=="function"&&(Tk(r),o(r)),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Jc,r)}catch(n){Ti||(Ti=!0,c("React instrumentation encountered an error: %s",n))}}function Ak(r){wt=r}function Lk(){{for(var r=new Map,n=1,l=0;l<ov;l++){var d=sR(n);r.set(n,d),n*=2}return r}}function Mk(r){wt!==null&&typeof wt.markCommitStarted=="function"&&wt.markCommitStarted(r)}function iD(){wt!==null&&typeof wt.markCommitStopped=="function"&&wt.markCommitStopped()}function Nd(r){wt!==null&&typeof wt.markComponentRenderStarted=="function"&&wt.markComponentRenderStarted(r)}function Qc(){wt!==null&&typeof wt.markComponentRenderStopped=="function"&&wt.markComponentRenderStopped()}function Ik(r){wt!==null&&typeof wt.markComponentPassiveEffectMountStarted=="function"&&wt.markComponentPassiveEffectMountStarted(r)}function Fk(){wt!==null&&typeof wt.markComponentPassiveEffectMountStopped=="function"&&wt.markComponentPassiveEffectMountStopped()}function $k(r){wt!==null&&typeof wt.markComponentPassiveEffectUnmountStarted=="function"&&wt.markComponentPassiveEffectUnmountStarted(r)}function Bk(){wt!==null&&typeof wt.markComponentPassiveEffectUnmountStopped=="function"&&wt.markComponentPassiveEffectUnmountStopped()}function Xk(r){wt!==null&&typeof wt.markComponentLayoutEffectMountStarted=="function"&&wt.markComponentLayoutEffectMountStarted(r)}function Hk(){wt!==null&&typeof wt.markComponentLayoutEffectMountStopped=="function"&&wt.markComponentLayoutEffectMountStopped()}function oD(r){wt!==null&&typeof wt.markComponentLayoutEffectUnmountStarted=="function"&&wt.markComponentLayoutEffectUnmountStarted(r)}function lD(){wt!==null&&typeof wt.markComponentLayoutEffectUnmountStopped=="function"&&wt.markComponentLayoutEffectUnmountStopped()}function zk(r,n,l){wt!==null&&typeof wt.markComponentErrored=="function"&&wt.markComponentErrored(r,n,l)}function Gk(r,n,l){wt!==null&&typeof wt.markComponentSuspended=="function"&&wt.markComponentSuspended(r,n,l)}function Wk(r){wt!==null&&typeof wt.markLayoutEffectsStarted=="function"&&wt.markLayoutEffectsStarted(r)}function Yk(){wt!==null&&typeof wt.markLayoutEffectsStopped=="function"&&wt.markLayoutEffectsStopped()}function Kk(r){wt!==null&&typeof wt.markPassiveEffectsStarted=="function"&&wt.markPassiveEffectsStarted(r)}function qk(){wt!==null&&typeof wt.markPassiveEffectsStopped=="function"&&wt.markPassiveEffectsStopped()}function cD(r){wt!==null&&typeof wt.markRenderStarted=="function"&&wt.markRenderStarted(r)}function Jk(){wt!==null&&typeof wt.markRenderYielded=="function"&&wt.markRenderYielded()}function uD(){wt!==null&&typeof wt.markRenderStopped=="function"&&wt.markRenderStopped()}function Qk(r){wt!==null&&typeof wt.markRenderScheduled=="function"&&wt.markRenderScheduled(r)}function Zk(r,n){wt!==null&&typeof wt.markForceUpdateScheduled=="function"&&wt.markForceUpdateScheduled(r,n)}function iv(r,n){wt!==null&&typeof wt.markStateUpdateScheduled=="function"&&wt.markStateUpdateScheduled(r,n)}var Wt=0,Cr=1,Wr=2,hs=8,_i=16,dD=Math.clz32?Math.clz32:rR,eR=Math.log,tR=Math.LN2;function rR(r){var n=r>>>0;return n===0?32:31-(eR(n)/tR|0)|0}var ov=31,ut=0,Qs=0,tr=1,Zc=2,po=4,Jl=8,Pi=16,Dd=32,eu=4194240,Sd=64,lv=128,cv=256,uv=512,dv=1024,mv=2048,fv=4096,pv=8192,hv=16384,vv=32768,gv=65536,xv=131072,bv=262144,Nv=524288,Dv=1048576,Sv=2097152,Jf=130023424,tu=4194304,Ov=8388608,yv=16777216,Ev=33554432,Cv=67108864,mD=tu,Od=134217728,fD=268435455,yd=268435456,Ql=536870912,Na=1073741824;function sR(r){{if(r&tr)return"Sync";if(r&Zc)return"InputContinuousHydration";if(r&po)return"InputContinuous";if(r&Jl)return"DefaultHydration";if(r&Pi)return"Default";if(r&Dd)return"TransitionHydration";if(r&eu)return"Transition";if(r&Jf)return"Retry";if(r&Od)return"SelectiveHydration";if(r&yd)return"IdleHydration";if(r&Ql)return"Idle";if(r&Na)return"Offscreen"}}var ss=-1,Qf=Sd,Zf=tu;function Ed(r){switch(Zl(r)){case tr:return tr;case Zc:return Zc;case po:return po;case Jl:return Jl;case Pi:return Pi;case Dd:return Dd;case Sd:case lv:case cv:case uv:case dv:case mv:case fv:case pv:case hv:case vv:case gv:case xv:case bv:case Nv:case Dv:case Sv:return r&eu;case tu:case Ov:case yv:case Ev:case Cv:return r&Jf;case Od:return Od;case yd:return yd;case Ql:return Ql;case Na:return Na;default:return c("Should have found matching lanes. This is a bug in React."),r}}function e0(r,n){var l=r.pendingLanes;if(l===ut)return ut;var d=ut,f=r.suspendedLanes,x=r.pingedLanes,S=l&fD;if(S!==ut){var P=S&~f;if(P!==ut)d=Ed(P);else{var M=S&x;M!==ut&&(d=Ed(M))}}else{var ce=l&~f;ce!==ut?d=Ed(ce):x!==ut&&(d=Ed(x))}if(d===ut)return ut;if(n!==ut&&n!==d&&(n&f)===ut){var ge=Zl(d),Le=Zl(n);if(ge>=Le||ge===Pi&&(Le&eu)!==ut)return n}(d&po)!==ut&&(d|=l&Pi);var Ae=r.entangledLanes;if(Ae!==ut)for(var Ye=r.entanglements,Je=d&Ae;Je>0;){var st=ec(Je),Ot=1<<st;d|=Ye[st],Je&=~Ot}return d}function nR(r,n){for(var l=r.eventTimes,d=ss;n>0;){var f=ec(n),x=1<<f,S=l[f];S>d&&(d=S),n&=~x}return d}function aR(r,n){switch(r){case tr:case Zc:case po:return n+250;case Jl:case Pi:case Dd:case Sd:case lv:case cv:case uv:case dv:case mv:case fv:case pv:case hv:case vv:case gv:case xv:case bv:case Nv:case Dv:case Sv:return n+5e3;case tu:case Ov:case yv:case Ev:case Cv:return ss;case Od:case yd:case Ql:case Na:return ss;default:return c("Should have found matching lanes. This is a bug in React."),ss}}function iR(r,n){for(var l=r.pendingLanes,d=r.suspendedLanes,f=r.pingedLanes,x=r.expirationTimes,S=l;S>0;){var P=ec(S),M=1<<P,ce=x[P];ce===ss?((M&d)===ut||(M&f)!==ut)&&(x[P]=aR(M,n)):ce<=n&&(r.expiredLanes|=M),S&=~M}}function oR(r){return Ed(r.pendingLanes)}function wv(r){var n=r.pendingLanes&~Na;return n!==ut?n:n&Na?Na:ut}function lR(r){return(r&tr)!==ut}function kv(r){return(r&fD)!==ut}function pD(r){return(r&Jf)===r}function cR(r){var n=tr|po|Pi;return(r&n)===ut}function uR(r){return(r&eu)===r}function t0(r,n){var l=Zc|po|Jl|Pi;return(n&l)!==ut}function dR(r,n){return(n&r.expiredLanes)!==ut}function hD(r){return(r&eu)!==ut}function vD(){var r=Qf;return Qf<<=1,(Qf&eu)===ut&&(Qf=Sd),r}function mR(){var r=Zf;return Zf<<=1,(Zf&Jf)===ut&&(Zf=tu),r}function Zl(r){return r&-r}function Cd(r){return Zl(r)}function ec(r){return 31-dD(r)}function Rv(r){return ec(r)}function Da(r,n){return(r&n)!==ut}function ru(r,n){return(r&n)===n}function vr(r,n){return r|n}function r0(r,n){return r&~n}function gD(r,n){return r&n}function m$(r){return r}function fR(r,n){return r!==Qs&&r<n?r:n}function Tv(r){for(var n=[],l=0;l<ov;l++)n.push(r);return n}function wd(r,n,l){r.pendingLanes|=n,n!==Ql&&(r.suspendedLanes=ut,r.pingedLanes=ut);var d=r.eventTimes,f=Rv(n);d[f]=l}function pR(r,n){r.suspendedLanes|=n,r.pingedLanes&=~n;for(var l=r.expirationTimes,d=n;d>0;){var f=ec(d),x=1<<f;l[f]=ss,d&=~x}}function xD(r,n,l){r.pingedLanes|=r.suspendedLanes&n}function hR(r,n){var l=r.pendingLanes&~n;r.pendingLanes=n,r.suspendedLanes=ut,r.pingedLanes=ut,r.expiredLanes&=n,r.mutableReadLanes&=n,r.entangledLanes&=n;for(var d=r.entanglements,f=r.eventTimes,x=r.expirationTimes,S=l;S>0;){var P=ec(S),M=1<<P;d[P]=ut,f[P]=ss,x[P]=ss,S&=~M}}function _v(r,n){for(var l=r.entangledLanes|=n,d=r.entanglements,f=l;f;){var x=ec(f),S=1<<x;S&n|d[x]&n&&(d[x]|=n),f&=~S}}function vR(r,n){var l=Zl(n),d;switch(l){case po:d=Zc;break;case Pi:d=Jl;break;case Sd:case lv:case cv:case uv:case dv:case mv:case fv:case pv:case hv:case vv:case gv:case xv:case bv:case Nv:case Dv:case Sv:case tu:case Ov:case yv:case Ev:case Cv:d=Dd;break;case Ql:d=yd;break;default:d=Qs;break}return(d&(r.suspendedLanes|n))!==Qs?Qs:d}function bD(r,n,l){if(ri)for(var d=r.pendingUpdatersLaneMap;l>0;){var f=Rv(l),x=1<<f,S=d[f];S.add(n),l&=~x}}function ND(r,n){if(ri)for(var l=r.pendingUpdatersLaneMap,d=r.memoizedUpdaters;n>0;){var f=Rv(n),x=1<<f,S=l[f];S.size>0&&(S.forEach(function(P){var M=P.alternate;(M===null||!d.has(M))&&d.add(P)}),S.clear()),n&=~x}}function DD(r,n){return null}var Sa=tr,ho=po,vo=Pi,s0=Ql,kd=Qs;function si(){return kd}function Zs(r){kd=r}function gR(r,n){var l=kd;try{return kd=r,n()}finally{kd=l}}function xR(r,n){return r!==0&&r<n?r:n}function bR(r,n){return r>n?r:n}function Pv(r,n){return r!==0&&r<n}function SD(r){var n=Zl(r);return Pv(Sa,n)?Pv(ho,n)?kv(n)?vo:s0:ho:Sa}function n0(r){var n=r.current.memoizedState;return n.isDehydrated}var OD;function NR(r){OD=r}function DR(r){OD(r)}var Uv;function SR(r){Uv=r}var yD;function OR(r){yD=r}var ED;function yR(r){ED=r}var CD;function ER(r){CD=r}var Vv=!1,a0=[],qo=null,Jo=null,Qo=null,Rd=new Map,Td=new Map,Zo=[],CR=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function wR(r){return CR.indexOf(r)>-1}function kR(r,n,l,d,f){return{blockedOn:r,domEventName:n,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]}}function wD(r,n){switch(r){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":{var l=n.pointerId;Rd.delete(l);break}case"gotpointercapture":case"lostpointercapture":{var d=n.pointerId;Td.delete(d);break}}}function _d(r,n,l,d,f,x){if(r===null||r.nativeEvent!==x){var S=kR(n,l,d,f,x);if(n!==null){var P=rl(n);P!==null&&Uv(P)}return S}r.eventSystemFlags|=d;var M=r.targetContainers;return f!==null&&M.indexOf(f)===-1&&M.push(f),r}function RR(r,n,l,d,f){switch(n){case"focusin":{var x=f;return qo=_d(qo,r,n,l,d,x),!0}case"dragenter":{var S=f;return Jo=_d(Jo,r,n,l,d,S),!0}case"mouseover":{var P=f;return Qo=_d(Qo,r,n,l,d,P),!0}case"pointerover":{var M=f,ce=M.pointerId;return Rd.set(ce,_d(Rd.get(ce)||null,r,n,l,d,M)),!0}case"gotpointercapture":{var ge=f,Le=ge.pointerId;return Td.set(Le,_d(Td.get(Le)||null,r,n,l,d,ge)),!0}}return!1}function kD(r){var n=sc(r.target);if(n!==null){var l=Et(n);if(l!==null){var d=l.tag;if(d===W){var f=Vr(l);if(f!==null){r.blockedOn=f,CD(r.priority,function(){yD(l)});return}}else if(d===b){var x=l.stateNode;if(n0(x)){r.blockedOn=Er(l);return}}}}r.blockedOn=null}function TR(r){for(var n=ED(),l={blockedOn:null,target:r,priority:n},d=0;d<Zo.length&&Pv(n,Zo[d].priority);d++);Zo.splice(d,0,l),d===0&&kD(l)}function i0(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;n.length>0;){var l=n[0],d=Lv(r.domEventName,r.eventSystemFlags,l,r.nativeEvent);if(d===null){var f=r.nativeEvent,x=new f.constructor(f.type,f);zh(x),f.target.dispatchEvent(x),Gh()}else{var S=rl(d);return S!==null&&Uv(S),r.blockedOn=d,!1}n.shift()}return!0}function RD(r,n,l){i0(r)&&l.delete(n)}function _R(){Vv=!1,qo!==null&&i0(qo)&&(qo=null),Jo!==null&&i0(Jo)&&(Jo=null),Qo!==null&&i0(Qo)&&(Qo=null),Rd.forEach(RD),Td.forEach(RD)}function Pd(r,n){r.blockedOn===n&&(r.blockedOn=null,Vv||(Vv=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_R)))}function Ud(r){if(a0.length>0){Pd(a0[0],r);for(var n=1;n<a0.length;n++){var l=a0[n];l.blockedOn===r&&(l.blockedOn=null)}}qo!==null&&Pd(qo,r),Jo!==null&&Pd(Jo,r),Qo!==null&&Pd(Qo,r);var d=function(P){return Pd(P,r)};Rd.forEach(d),Td.forEach(d);for(var f=0;f<Zo.length;f++){var x=Zo[f];x.blockedOn===r&&(x.blockedOn=null)}for(;Zo.length>0;){var S=Zo[0];if(S.blockedOn!==null)break;kD(S),S.blockedOn===null&&Zo.shift()}}var su=t.ReactCurrentBatchConfig,jv=!0;function TD(r){jv=!!r}function PR(){return jv}function UR(r,n,l){var d=_D(n),f;switch(d){case Sa:f=VR;break;case ho:f=jR;break;case vo:default:f=Av;break}return f.bind(null,n,l,r)}function VR(r,n,l,d){var f=si(),x=su.transition;su.transition=null;try{Zs(Sa),Av(r,n,l,d)}finally{Zs(f),su.transition=x}}function jR(r,n,l,d){var f=si(),x=su.transition;su.transition=null;try{Zs(ho),Av(r,n,l,d)}finally{Zs(f),su.transition=x}}function Av(r,n,l,d){jv&&AR(r,n,l,d)}function AR(r,n,l,d){var f=Lv(r,n,l,d);if(f===null){Jv(r,n,d,o0,l),wD(r,d);return}if(RR(f,r,n,l,d)){d.stopPropagation();return}if(wD(r,d),n&Bl&&wR(r)){for(;f!==null;){var x=rl(f);x!==null&&DR(x);var S=Lv(r,n,l,d);if(S===null&&Jv(r,n,d,o0,l),S===f)break;f=S}f!==null&&d.stopPropagation();return}Jv(r,n,d,null,l)}var o0=null;function Lv(r,n,l,d){o0=null;var f=Wc(d),x=sc(f);if(x!==null){var S=Et(x);if(S===null)x=null;else{var P=S.tag;if(P===W){var M=Vr(S);if(M!==null)return M;x=null}else if(P===b){var ce=S.stateNode;if(n0(ce))return Er(S);x=null}else S!==x&&(x=null)}}return o0=x,null}function _D(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Sa;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return ho;case"message":{var n=sv();switch(n){case qf:return Sa;case nv:return ho;case ql:case kk:return vo;case av:return s0;default:return vo}}default:return vo}}function LR(r,n,l){return r.addEventListener(n,l,!1),l}function MR(r,n,l){return r.addEventListener(n,l,!0),l}function IR(r,n,l,d){return r.addEventListener(n,l,{capture:!0,passive:d}),l}function FR(r,n,l,d){return r.addEventListener(n,l,{passive:d}),l}var Vd=null,Mv=null,jd=null;function $R(r){return Vd=r,Mv=UD(),!0}function BR(){Vd=null,Mv=null,jd=null}function PD(){if(jd)return jd;var r,n=Mv,l=n.length,d,f=UD(),x=f.length;for(r=0;r<l&&n[r]===f[r];r++);var S=l-r;for(d=1;d<=S&&n[l-d]===f[x-d];d++);var P=d>1?1-d:void 0;return jd=f.slice(r,P),jd}function UD(){return"value"in Vd?Vd.value:Vd.textContent}function l0(r){var n,l=r.keyCode;return"charCode"in r?(n=r.charCode,n===0&&l===13&&(n=13)):n=l,n===10&&(n=13),n>=32||n===13?n:0}function c0(){return!0}function VD(){return!1}function Oa(r){function n(l,d,f,x,S){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var P in r)if(r.hasOwnProperty(P)){var M=r[P];M?this[P]=M(x):this[P]=x[P]}var ce=x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1;return ce?this.isDefaultPrevented=c0:this.isDefaultPrevented=VD,this.isPropagationStopped=VD,this}return mt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=c0)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=c0)},persist:function(){},isPersistent:c0}),n}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iv=Oa(nu),Ad=mt({},nu,{view:0,detail:0}),XR=Oa(Ad),Fv,$v,Ld;function HR(r){r!==Ld&&(Ld&&r.type==="mousemove"?(Fv=r.screenX-Ld.screenX,$v=r.screenY-Ld.screenY):(Fv=0,$v=0),Ld=r)}var u0=mt({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xv,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(HR(r),Fv)},movementY:function(r){return"movementY"in r?r.movementY:$v}}),jD=Oa(u0),zR=mt({},u0,{dataTransfer:0}),GR=Oa(zR),WR=mt({},Ad,{relatedTarget:0}),Bv=Oa(WR),YR=mt({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),KR=Oa(YR),qR=mt({},nu,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),JR=Oa(qR),QR=mt({},nu,{data:0}),AD=Oa(QR),ZR=AD,e5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function r5(r){if(r.key){var n=e5[r.key]||r.key;if(n!=="Unidentified")return n}if(r.type==="keypress"){var l=l0(r);return l===13?"Enter":String.fromCharCode(l)}return r.type==="keydown"||r.type==="keyup"?t5[r.keyCode]||"Unidentified":""}var s5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n5(r){var n=this,l=n.nativeEvent;if(l.getModifierState)return l.getModifierState(r);var d=s5[r];return d?!!l[d]:!1}function Xv(r){return n5}var a5=mt({},Ad,{key:r5,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xv,charCode:function(r){return r.type==="keypress"?l0(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?l0(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),i5=Oa(a5),o5=mt({},u0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LD=Oa(o5),l5=mt({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xv}),c5=Oa(l5),u5=mt({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),d5=Oa(u5),m5=mt({},u0,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),f5=Oa(m5),p5=[9,13,27,32],MD=229,Hv=Ee&&"CompositionEvent"in window,Md=null;Ee&&"documentMode"in document&&(Md=document.documentMode);var h5=Ee&&"TextEvent"in window&&!Md,ID=Ee&&(!Hv||Md&&Md>8&&Md<=11),FD=32,$D=String.fromCharCode(FD);function v5(){de("onBeforeInput",["compositionend","keypress","textInput","paste"]),de("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),de("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),de("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var BD=!1;function g5(r){return(r.ctrlKey||r.altKey||r.metaKey)&&!(r.ctrlKey&&r.altKey)}function x5(r){switch(r){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function b5(r,n){return r==="keydown"&&n.keyCode===MD}function XD(r,n){switch(r){case"keyup":return p5.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==MD;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HD(r){var n=r.detail;return typeof n=="object"&&"data"in n?n.data:null}function zD(r){return r.locale==="ko"}var au=!1;function N5(r,n,l,d,f){var x,S;if(Hv?x=x5(n):au?XD(n,d)&&(x="onCompositionEnd"):b5(n,d)&&(x="onCompositionStart"),!x)return null;ID&&!zD(d)&&(!au&&x==="onCompositionStart"?au=$R(f):x==="onCompositionEnd"&&au&&(S=PD()));var P=h0(l,x);if(P.length>0){var M=new AD(x,n,null,d,f);if(r.push({event:M,listeners:P}),S)M.data=S;else{var ce=HD(d);ce!==null&&(M.data=ce)}}}function D5(r,n){switch(r){case"compositionend":return HD(n);case"keypress":var l=n.which;return l!==FD?null:(BD=!0,$D);case"textInput":var d=n.data;return d===$D&&BD?null:d;default:return null}}function S5(r,n){if(au){if(r==="compositionend"||!Hv&&XD(r,n)){var l=PD();return BR(),au=!1,l}return null}switch(r){case"paste":return null;case"keypress":if(!g5(n)){if(n.char&&n.char.length>1)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ID&&!zD(n)?null:n.data;default:return null}}function O5(r,n,l,d,f){var x;if(h5?x=D5(n,d):x=S5(n,d),!x)return null;var S=h0(l,"onBeforeInput");if(S.length>0){var P=new ZR("onBeforeInput","beforeinput",null,d,f);r.push({event:P,listeners:S}),P.data=x}}function y5(r,n,l,d,f,x,S){N5(r,n,l,d,f),O5(r,n,l,d,f)}var E5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GD(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!E5[r.type]:n==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function C5(r){if(!Ee)return!1;var n="on"+r,l=n in document;if(!l){var d=document.createElement("div");d.setAttribute(n,"return;"),l=typeof d[n]=="function"}return l}function w5(){de("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function WD(r,n,l,d){If(d);var f=h0(n,"onChange");if(f.length>0){var x=new Iv("onChange","change",null,l,d);r.push({event:x,listeners:f})}}var Id=null,Fd=null;function k5(r){var n=r.nodeName&&r.nodeName.toLowerCase();return n==="select"||n==="input"&&r.type==="file"}function R5(r){var n=[];WD(n,Fd,r,Wc(r)),Hf(T5,n)}function T5(r){d1(r,0)}function d0(r){var n=du(r);if(eo(n))return r}function _5(r,n){if(r==="change")return n}var YD=!1;Ee&&(YD=C5("input")&&(!document.documentMode||document.documentMode>9));function P5(r,n){Id=r,Fd=n,Id.attachEvent("onpropertychange",qD)}function KD(){Id&&(Id.detachEvent("onpropertychange",qD),Id=null,Fd=null)}function qD(r){r.propertyName==="value"&&d0(Fd)&&R5(r)}function U5(r,n,l){r==="focusin"?(KD(),P5(n,l)):r==="focusout"&&KD()}function V5(r,n){if(r==="selectionchange"||r==="keyup"||r==="keydown")return d0(Fd)}function j5(r){var n=r.nodeName;return n&&n.toLowerCase()==="input"&&(r.type==="checkbox"||r.type==="radio")}function A5(r,n){if(r==="click")return d0(n)}function L5(r,n){if(r==="input"||r==="change")return d0(n)}function M5(r){var n=r._wrapperState;!n||!n.controlled||r.type!=="number"||zt(r,"number",r.value)}function I5(r,n,l,d,f,x,S){var P=l?du(l):window,M,ce;if(k5(P)?M=_5:GD(P)?YD?M=L5:(M=V5,ce=U5):j5(P)&&(M=A5),M){var ge=M(n,l);if(ge){WD(r,ge,d,f);return}}ce&&ce(n,P,l),n==="focusout"&&M5(P)}function F5(){I("onMouseEnter",["mouseout","mouseover"]),I("onMouseLeave",["mouseout","mouseover"]),I("onPointerEnter",["pointerout","pointerover"]),I("onPointerLeave",["pointerout","pointerover"])}function $5(r,n,l,d,f,x,S){var P=n==="mouseover"||n==="pointerover",M=n==="mouseout"||n==="pointerout";if(P&&!Wh(d)){var ce=d.relatedTarget||d.fromElement;if(ce&&(sc(ce)||tm(ce)))return}if(!(!M&&!P)){var ge;if(f.window===f)ge=f;else{var Le=f.ownerDocument;Le?ge=Le.defaultView||Le.parentWindow:ge=window}var Ae,Ye;if(M){var Je=d.relatedTarget||d.toElement;if(Ae=l,Ye=Je?sc(Je):null,Ye!==null){var st=Et(Ye);(Ye!==st||Ye.tag!==k&&Ye.tag!==w)&&(Ye=null)}}else Ae=null,Ye=l;if(Ae!==Ye){var Ot=jD,Xt="onMouseLeave",It="onMouseEnter",kr="mouse";(n==="pointerout"||n==="pointerover")&&(Ot=LD,Xt="onPointerLeave",It="onPointerEnter",kr="pointer");var Dr=Ae==null?ge:du(Ae),$e=Ye==null?ge:du(Ye),nt=new Ot(Xt,kr+"leave",Ae,d,f);nt.target=Dr,nt.relatedTarget=$e;var Be=null,pt=sc(f);if(pt===l){var Pt=new Ot(It,kr+"enter",Ye,d,f);Pt.target=$e,Pt.relatedTarget=Dr,Be=Pt}d2(r,nt,Be,Ae,Ye)}}}function B5(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var ya=typeof Object.is=="function"?Object.is:B5;function $d(r,n){if(ya(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var l=Object.keys(r),d=Object.keys(n);if(l.length!==d.length)return!1;for(var f=0;f<l.length;f++){var x=l[f];if(!j.call(n,x)||!ya(r[x],n[x]))return!1}return!0}function JD(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function X5(r){for(;r;){if(r.nextSibling)return r.nextSibling;r=r.parentNode}}function QD(r,n){for(var l=JD(r),d=0,f=0;l;){if(l.nodeType===ws){if(f=d+l.textContent.length,d<=n&&f>=n)return{node:l,offset:n-d};d=f}l=JD(X5(l))}}function H5(r){var n=r.ownerDocument,l=n&&n.defaultView||window,d=l.getSelection&&l.getSelection();if(!d||d.rangeCount===0)return null;var f=d.anchorNode,x=d.anchorOffset,S=d.focusNode,P=d.focusOffset;try{f.nodeType,S.nodeType}catch{return null}return z5(r,f,x,S,P)}function z5(r,n,l,d,f){var x=0,S=-1,P=-1,M=0,ce=0,ge=r,Le=null;e:for(;;){for(var Ae=null;ge===n&&(l===0||ge.nodeType===ws)&&(S=x+l),ge===d&&(f===0||ge.nodeType===ws)&&(P=x+f),ge.nodeType===ws&&(x+=ge.nodeValue.length),(Ae=ge.firstChild)!==null;)Le=ge,ge=Ae;for(;;){if(ge===r)break e;if(Le===n&&++M===l&&(S=x),Le===d&&++ce===f&&(P=x),(Ae=ge.nextSibling)!==null)break;ge=Le,Le=ge.parentNode}ge=Ae}return S===-1||P===-1?null:{start:S,end:P}}function G5(r,n){var l=r.ownerDocument||document,d=l&&l.defaultView||window;if(d.getSelection){var f=d.getSelection(),x=r.textContent.length,S=Math.min(n.start,x),P=n.end===void 0?S:Math.min(n.end,x);if(!f.extend&&S>P){var M=P;P=S,S=M}var ce=QD(r,S),ge=QD(r,P);if(ce&&ge){if(f.rangeCount===1&&f.anchorNode===ce.node&&f.anchorOffset===ce.offset&&f.focusNode===ge.node&&f.focusOffset===ge.offset)return;var Le=l.createRange();Le.setStart(ce.node,ce.offset),f.removeAllRanges(),S>P?(f.addRange(Le),f.extend(ge.node,ge.offset)):(Le.setEnd(ge.node,ge.offset),f.addRange(Le))}}}function ZD(r){return r&&r.nodeType===ws}function e1(r,n){return!r||!n?!1:r===n?!0:ZD(r)?!1:ZD(n)?e1(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1}function W5(r){return r&&r.ownerDocument&&e1(r.ownerDocument.documentElement,r)}function Y5(r){try{return typeof r.contentWindow.location.href=="string"}catch{return!1}}function t1(){for(var r=window,n=aa();n instanceof r.HTMLIFrameElement;){if(Y5(n))r=n.contentWindow;else return n;n=aa(r.document)}return n}function zv(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}function K5(){var r=t1();return{focusedElem:r,selectionRange:zv(r)?J5(r):null}}function q5(r){var n=t1(),l=r.focusedElem,d=r.selectionRange;if(n!==l&&W5(l)){d!==null&&zv(l)&&Q5(l,d);for(var f=[],x=l;x=x.parentNode;)x.nodeType===En&&f.push({element:x,left:x.scrollLeft,top:x.scrollTop});typeof l.focus=="function"&&l.focus();for(var S=0;S<f.length;S++){var P=f[S];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}}function J5(r){var n;return"selectionStart"in r?n={start:r.selectionStart,end:r.selectionEnd}:n=H5(r),n||{start:0,end:0}}function Q5(r,n){var l=n.start,d=n.end;d===void 0&&(d=l),"selectionStart"in r?(r.selectionStart=l,r.selectionEnd=Math.min(d,r.value.length)):G5(r,n)}var Z5=Ee&&"documentMode"in document&&document.documentMode<=11;function e2(){de("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var iu=null,Gv=null,Bd=null,Wv=!1;function t2(r){if("selectionStart"in r&&zv(r))return{start:r.selectionStart,end:r.selectionEnd};var n=r.ownerDocument&&r.ownerDocument.defaultView||window,l=n.getSelection();return{anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}}function r2(r){return r.window===r?r.document:r.nodeType===ia?r:r.ownerDocument}function r1(r,n,l){var d=r2(l);if(!(Wv||iu==null||iu!==aa(d))){var f=t2(iu);if(!Bd||!$d(Bd,f)){Bd=f;var x=h0(Gv,"onSelect");if(x.length>0){var S=new Iv("onSelect","select",null,n,l);r.push({event:S,listeners:x}),S.target=iu}}}}function s2(r,n,l,d,f,x,S){var P=l?du(l):window;switch(n){case"focusin":(GD(P)||P.contentEditable==="true")&&(iu=P,Gv=l,Bd=null);break;case"focusout":iu=null,Gv=null,Bd=null;break;case"mousedown":Wv=!0;break;case"contextmenu":case"mouseup":case"dragend":Wv=!1,r1(r,d,f);break;case"selectionchange":if(Z5)break;case"keydown":case"keyup":r1(r,d,f)}}function m0(r,n){var l={};return l[r.toLowerCase()]=n.toLowerCase(),l["Webkit"+r]="webkit"+n,l["Moz"+r]="moz"+n,l}var ou={animationend:m0("Animation","AnimationEnd"),animationiteration:m0("Animation","AnimationIteration"),animationstart:m0("Animation","AnimationStart"),transitionend:m0("Transition","TransitionEnd")},Yv={},s1={};Ee&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function f0(r){if(Yv[r])return Yv[r];if(!ou[r])return r;var n=ou[r];for(var l in n)if(n.hasOwnProperty(l)&&l in s1)return Yv[r]=n[l];return r}var n1=f0("animationend"),a1=f0("animationiteration"),i1=f0("animationstart"),o1=f0("transitionend"),l1=new Map,c1=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function el(r,n){l1.set(r,n),de(n,[r])}function n2(){for(var r=0;r<c1.length;r++){var n=c1[r],l=n.toLowerCase(),d=n[0].toUpperCase()+n.slice(1);el(l,"on"+d)}el(n1,"onAnimationEnd"),el(a1,"onAnimationIteration"),el(i1,"onAnimationStart"),el("dblclick","onDoubleClick"),el("focusin","onFocus"),el("focusout","onBlur"),el(o1,"onTransitionEnd")}function a2(r,n,l,d,f,x,S){var P=l1.get(n);if(P!==void 0){var M=Iv,ce=n;switch(n){case"keypress":if(l0(d)===0)return;case"keydown":case"keyup":M=i5;break;case"focusin":ce="focus",M=Bv;break;case"focusout":ce="blur",M=Bv;break;case"beforeblur":case"afterblur":M=Bv;break;case"click":if(d.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=jD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=GR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=c5;break;case n1:case a1:case i1:M=KR;break;case o1:M=d5;break;case"scroll":M=XR;break;case"wheel":M=f5;break;case"copy":case"cut":case"paste":M=JR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=LD;break}var ge=(x&Bl)!==0;{var Le=!ge&&n==="scroll",Ae=c2(l,P,d.type,ge,Le);if(Ae.length>0){var Ye=new M(P,ce,null,d,f);r.push({event:Ye,listeners:Ae})}}}}n2(),F5(),w5(),e2(),v5();function i2(r,n,l,d,f,x,S){a2(r,n,l,d,f,x);var P=(x&Lf)===0;P&&($5(r,n,l,d,f),I5(r,n,l,d,f),s2(r,n,l,d,f),y5(r,n,l,d,f))}var Xd=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],Kv=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Xd));function u1(r,n,l){var d=r.type||"unknown-event";r.currentTarget=l,Jh(d,n,void 0,r),r.currentTarget=null}function o2(r,n,l){var d;if(l)for(var f=n.length-1;f>=0;f--){var x=n[f],S=x.instance,P=x.currentTarget,M=x.listener;if(S!==d&&r.isPropagationStopped())return;u1(r,M,P),d=S}else for(var ce=0;ce<n.length;ce++){var ge=n[ce],Le=ge.instance,Ae=ge.currentTarget,Ye=ge.listener;if(Le!==d&&r.isPropagationStopped())return;u1(r,Ye,Ae),d=Le}}function d1(r,n){for(var l=(n&Bl)!==0,d=0;d<r.length;d++){var f=r[d],x=f.event,S=f.listeners;o2(x,S,l)}Qh()}function l2(r,n,l,d,f){var x=Wc(l),S=[];i2(S,r,d,l,x,n),d1(S,n)}function ls(r,n){Kv.has(r)||c('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',r);var l=!1,d=MT(n),f=m2(r);d.has(f)||(m1(n,r,ud,l),d.add(f))}function qv(r,n,l){Kv.has(r)&&!n&&c('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',r);var d=0;n&&(d|=Bl),m1(l,r,d,n)}var p0="_reactListening"+Math.random().toString(36).slice(2);function Hd(r){if(!r[p0]){r[p0]=!0,ie.forEach(function(l){l!=="selectionchange"&&(Kv.has(l)||qv(l,!1,r),qv(l,!0,r))});var n=r.nodeType===ia?r:r.ownerDocument;n!==null&&(n[p0]||(n[p0]=!0,qv("selectionchange",!1,n)))}}function m1(r,n,l,d,f){var x=UR(r,n,l),S=void 0;md&&(n==="touchstart"||n==="touchmove"||n==="wheel")&&(S=!0),r=r,d?S!==void 0?IR(r,n,x,S):MR(r,n,x):S!==void 0?FR(r,n,x,S):LR(r,n,x)}function f1(r,n){return r===n||r.nodeType===cs&&r.parentNode===n}function Jv(r,n,l,d,f){var x=d;if((n&zo)===0&&(n&ud)===0){var S=f;if(d!==null){var P=d;e:for(;;){if(P===null)return;var M=P.tag;if(M===b||M===E){var ce=P.stateNode.containerInfo;if(f1(ce,S))break;if(M===E)for(var ge=P.return;ge!==null;){var Le=ge.tag;if(Le===b||Le===E){var Ae=ge.stateNode.containerInfo;if(f1(Ae,S))return}ge=ge.return}for(;ce!==null;){var Ye=sc(ce);if(Ye===null)return;var Je=Ye.tag;if(Je===k||Je===w){P=x=Ye;continue e}ce=ce.parentNode}}P=P.return}}}Hf(function(){return l2(r,n,l,x)})}function zd(r,n,l){return{instance:r,listener:n,currentTarget:l}}function c2(r,n,l,d,f,x){for(var S=n!==null?n+"Capture":null,P=d?S:n,M=[],ce=r,ge=null;ce!==null;){var Le=ce,Ae=Le.stateNode,Ye=Le.tag;if(Ye===k&&Ae!==null&&(ge=Ae,P!==null)){var Je=Hl(ce,P);Je!=null&&M.push(zd(ce,Je,ge))}if(f)break;ce=ce.return}return M}function h0(r,n){for(var l=n+"Capture",d=[],f=r;f!==null;){var x=f,S=x.stateNode,P=x.tag;if(P===k&&S!==null){var M=S,ce=Hl(f,l);ce!=null&&d.unshift(zd(f,ce,M));var ge=Hl(f,n);ge!=null&&d.push(zd(f,ge,M))}f=f.return}return d}function lu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==k);return r||null}function u2(r,n){for(var l=r,d=n,f=0,x=l;x;x=lu(x))f++;for(var S=0,P=d;P;P=lu(P))S++;for(;f-S>0;)l=lu(l),f--;for(;S-f>0;)d=lu(d),S--;for(var M=f;M--;){if(l===d||d!==null&&l===d.alternate)return l;l=lu(l),d=lu(d)}return null}function p1(r,n,l,d,f){for(var x=n._reactName,S=[],P=l;P!==null&&P!==d;){var M=P,ce=M.alternate,ge=M.stateNode,Le=M.tag;if(ce!==null&&ce===d)break;if(Le===k&&ge!==null){var Ae=ge;if(f){var Ye=Hl(P,x);Ye!=null&&S.unshift(zd(P,Ye,Ae))}else if(!f){var Je=Hl(P,x);Je!=null&&S.push(zd(P,Je,Ae))}}P=P.return}S.length!==0&&r.push({event:n,listeners:S})}function d2(r,n,l,d,f){var x=d&&f?u2(d,f):null;d!==null&&p1(r,n,d,x,!1),f!==null&&l!==null&&p1(r,l,f,x,!0)}function m2(r,n){return r+"__bubble"}var la=!1,Gd="dangerouslySetInnerHTML",v0="suppressContentEditableWarning",tl="suppressHydrationWarning",h1="autoFocus",tc="children",rc="style",g0="__html",Qv,x0,Wd,v1,b0,g1,x1;Qv={dialog:!0,webview:!0},x0=function(r,n){Xh(r,n),ld(r,n),cd(r,n,{registrationNameDependencies:Y,possibleRegistrationNames:U})},g1=Ee&&!document.documentMode,Wd=function(r,n,l){if(!la){var d=N0(l),f=N0(n);f!==d&&(la=!0,c("Prop `%s` did not match. Server: %s Client: %s",r,JSON.stringify(f),JSON.stringify(d)))}},v1=function(r){if(!la){la=!0;var n=[];r.forEach(function(l){n.push(l)}),c("Extra attributes from the server: %s",n)}},b0=function(r,n){n===!1?c("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",r,r,r):c("Expected `%s` listener to be a function, instead got a value of `%s` type.",r,typeof n)},x1=function(r,n){var l=r.namespaceURI===ln?r.ownerDocument.createElement(r.tagName):r.ownerDocument.createElementNS(r.namespaceURI,r.tagName);return l.innerHTML=n,l.innerHTML};var f2=/\r\n?/g,p2=/\u0000|\uFFFD/g;function N0(r){cr(r);var n=typeof r=="string"?r:""+r;return n.replace(f2,`
`).replace(p2,"")}function D0(r,n,l,d){var f=N0(n),x=N0(r);if(x!==f&&(d&&(la||(la=!0,c('Text content did not match. Server: "%s" Client: "%s"',x,f))),l&&ve))throw new Error("Text content does not match server-rendered HTML.")}function b1(r){return r.nodeType===ia?r:r.ownerDocument}function h2(){}function S0(r){r.onclick=h2}function v2(r,n,l,d,f){for(var x in d)if(d.hasOwnProperty(x)){var S=d[x];if(x===rc)S&&Object.freeze(S),_f(n,S);else if(x===Gd){var P=S?S[g0]:void 0;P!=null&&Ml(n,P)}else if(x===tc)if(typeof S=="string"){var M=r!=="textarea"||S!=="";M&&Fc(n,S)}else typeof S=="number"&&Fc(n,""+S);else x===v0||x===tl||x===h1||(Y.hasOwnProperty(x)?S!=null&&(typeof S!="function"&&b0(x,S),x==="onScroll"&&ls("scroll",n)):S!=null&&pr(n,x,S,f))}}function g2(r,n,l,d){for(var f=0;f<n.length;f+=2){var x=n[f],S=n[f+1];x===rc?_f(r,S):x===Gd?Ml(r,S):x===tc?Fc(r,S):pr(r,x,S,d)}}function x2(r,n,l,d){var f,x=b1(l),S,P=d;if(P===ln&&(P=td(r)),P===ln){if(f=lo(r,n),!f&&r!==r.toLowerCase()&&c("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",r),r==="script"){var M=x.createElement("div");M.innerHTML="<script><\/script>";var ce=M.firstChild;S=M.removeChild(ce)}else if(typeof n.is=="string")S=x.createElement(r,{is:n.is});else if(S=x.createElement(r),r==="select"){var ge=S;n.multiple?ge.multiple=!0:n.size&&(ge.size=n.size)}}else S=x.createElementNS(P,r);return P===ln&&!f&&Object.prototype.toString.call(S)==="[object HTMLUnknownElement]"&&!j.call(Qv,r)&&(Qv[r]=!0,c("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",r)),S}function b2(r,n){return b1(n).createTextNode(r)}function N2(r,n,l,d){var f=lo(n,l);x0(n,l);var x;switch(n){case"dialog":ls("cancel",r),ls("close",r),x=l;break;case"iframe":case"object":case"embed":ls("load",r),x=l;break;case"video":case"audio":for(var S=0;S<Xd.length;S++)ls(Xd[S],r);x=l;break;case"source":ls("error",r),x=l;break;case"img":case"image":case"link":ls("error",r),ls("load",r),x=l;break;case"details":ls("toggle",r),x=l;break;case"input":Bo(r,l),x=Ac(r,l),ls("invalid",r);break;case"option":fr(r,l),x=l;break;case"select":yn(r,l),x=no(r,l),ls("invalid",r);break;case"textarea":Cf(r,l),x=Zu(r,l),ls("invalid",r);break;default:x=l}switch(od(n,x),v2(n,r,d,x,f),n){case"input":na(r),Xe(r,l,!1);break;case"textarea":na(r),Ka(r);break;case"option":Xr(r,l);break;case"select":Vs(r,l);break;default:typeof x.onClick=="function"&&S0(r);break}}function D2(r,n,l,d,f){x0(n,d);var x=null,S,P;switch(n){case"input":S=Ac(r,l),P=Ac(r,d),x=[];break;case"select":S=no(r,l),P=no(r,d),x=[];break;case"textarea":S=Zu(r,l),P=Zu(r,d),x=[];break;default:S=l,P=d,typeof S.onClick!="function"&&typeof P.onClick=="function"&&S0(r);break}od(n,P);var M,ce,ge=null;for(M in S)if(!(P.hasOwnProperty(M)||!S.hasOwnProperty(M)||S[M]==null))if(M===rc){var Le=S[M];for(ce in Le)Le.hasOwnProperty(ce)&&(ge||(ge={}),ge[ce]="")}else M===Gd||M===tc||M===v0||M===tl||M===h1||(Y.hasOwnProperty(M)?x||(x=[]):(x=x||[]).push(M,null));for(M in P){var Ae=P[M],Ye=S?.[M];if(!(!P.hasOwnProperty(M)||Ae===Ye||Ae==null&&Ye==null))if(M===rc)if(Ae&&Object.freeze(Ae),Ye){for(ce in Ye)Ye.hasOwnProperty(ce)&&(!Ae||!Ae.hasOwnProperty(ce))&&(ge||(ge={}),ge[ce]="");for(ce in Ae)Ae.hasOwnProperty(ce)&&Ye[ce]!==Ae[ce]&&(ge||(ge={}),ge[ce]=Ae[ce])}else ge||(x||(x=[]),x.push(M,ge)),ge=Ae;else if(M===Gd){var Je=Ae?Ae[g0]:void 0,st=Ye?Ye[g0]:void 0;Je!=null&&st!==Je&&(x=x||[]).push(M,Je)}else M===tc?(typeof Ae=="string"||typeof Ae=="number")&&(x=x||[]).push(M,""+Ae):M===v0||M===tl||(Y.hasOwnProperty(M)?(Ae!=null&&(typeof Ae!="function"&&b0(M,Ae),M==="onScroll"&&ls("scroll",r)),!x&&Ye!==Ae&&(x=[])):(x=x||[]).push(M,Ae))}return ge&&(Lh(ge,P[rc]),(x=x||[]).push(rc,ge)),x}function S2(r,n,l,d,f){l==="input"&&f.type==="radio"&&f.name!=null&&G(r,f);var x=lo(l,d),S=lo(l,f);switch(g2(r,n,x,S),l){case"input":ke(r,f);break;case"textarea":Mc(r,f);break;case"select":Lc(r,f);break}}function O2(r){{var n=r.toLowerCase();return Hc.hasOwnProperty(n)&&Hc[n]||null}}function y2(r,n,l,d,f,x,S){var P,M;switch(P=lo(n,l),x0(n,l),n){case"dialog":ls("cancel",r),ls("close",r);break;case"iframe":case"object":case"embed":ls("load",r);break;case"video":case"audio":for(var ce=0;ce<Xd.length;ce++)ls(Xd[ce],r);break;case"source":ls("error",r);break;case"img":case"image":case"link":ls("error",r),ls("load",r);break;case"details":ls("toggle",r);break;case"input":Bo(r,l),ls("invalid",r);break;case"option":fr(r,l);break;case"select":yn(r,l),ls("invalid",r);break;case"textarea":Cf(r,l),ls("invalid",r);break}od(n,l);{M=new Set;for(var ge=r.attributes,Le=0;Le<ge.length;Le++){var Ae=ge[Le].name.toLowerCase();switch(Ae){case"value":break;case"checked":break;case"selected":break;default:M.add(ge[Le].name)}}}var Ye=null;for(var Je in l)if(l.hasOwnProperty(Je)){var st=l[Je];if(Je===tc)typeof st=="string"?r.textContent!==st&&(l[tl]!==!0&&D0(r.textContent,st,x,S),Ye=[tc,st]):typeof st=="number"&&r.textContent!==""+st&&(l[tl]!==!0&&D0(r.textContent,st,x,S),Ye=[tc,""+st]);else if(Y.hasOwnProperty(Je))st!=null&&(typeof st!="function"&&b0(Je,st),Je==="onScroll"&&ls("scroll",r));else if(S&&typeof P=="boolean"){var Ot=void 0,Xt=rt(Je);if(l[tl]!==!0){if(!(Je===v0||Je===tl||Je==="value"||Je==="checked"||Je==="selected")){if(Je===Gd){var It=r.innerHTML,kr=st?st[g0]:void 0;if(kr!=null){var Dr=x1(r,kr);Dr!==It&&Wd(Je,It,Dr)}}else if(Je===rc){if(M.delete(Je),g1){var $e=qs(st);Ot=r.getAttribute("style"),$e!==Ot&&Wd(Je,Ot,$e)}}else if(P&&!Te)M.delete(Je.toLowerCase()),Ot=ir(r,Je,st),st!==Ot&&Wd(Je,Ot,st);else if(!br(Je,Xt,P)&&!Nr(Je,st,Xt,P)){var nt=!1;if(Xt!==null)M.delete(Xt.attributeName),Ot=mr(r,Je,st,Xt);else{var Be=d;if(Be===ln&&(Be=td(n)),Be===ln)M.delete(Je.toLowerCase());else{var pt=O2(Je);pt!==null&&pt!==Je&&(nt=!0,M.delete(pt)),M.delete(Je)}Ot=ir(r,Je,st)}var Pt=Te;!Pt&&st!==Ot&&!nt&&Wd(Je,Ot,st)}}}}}switch(S&&M.size>0&&l[tl]!==!0&&v1(M),n){case"input":na(r),Xe(r,l,!0);break;case"textarea":na(r),Ka(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&S0(r);break}return Ye}function E2(r,n,l){var d=r.nodeValue!==n;return d}function Zv(r,n){{if(la)return;la=!0,c("Did not expect server HTML to contain a <%s> in <%s>.",n.nodeName.toLowerCase(),r.nodeName.toLowerCase())}}function eg(r,n){{if(la)return;la=!0,c('Did not expect server HTML to contain the text node "%s" in <%s>.',n.nodeValue,r.nodeName.toLowerCase())}}function tg(r,n,l){{if(la)return;la=!0,c("Expected server HTML to contain a matching <%s> in <%s>.",n,r.nodeName.toLowerCase())}}function rg(r,n){{if(n===""||la)return;la=!0,c('Expected server HTML to contain a matching text node for "%s" in <%s>.',n,r.nodeName.toLowerCase())}}function C2(r,n,l){switch(n){case"input":tt(r,l);return;case"textarea":ed(r,l);return;case"select":Qu(r,l);return}}var Yd=function(){},Kd=function(){};{var w2=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],N1=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],k2=N1.concat(["button"]),R2=["dd","dt","li","option","optgroup","p","rp","rt"],D1={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Kd=function(r,n){var l=mt({},r||D1),d={tag:n};return N1.indexOf(n)!==-1&&(l.aTagInScope=null,l.buttonTagInScope=null,l.nobrTagInScope=null),k2.indexOf(n)!==-1&&(l.pTagInButtonScope=null),w2.indexOf(n)!==-1&&n!=="address"&&n!=="div"&&n!=="p"&&(l.listItemTagAutoclosing=null,l.dlItemTagAutoclosing=null),l.current=d,n==="form"&&(l.formTag=d),n==="a"&&(l.aTagInScope=d),n==="button"&&(l.buttonTagInScope=d),n==="nobr"&&(l.nobrTagInScope=d),n==="p"&&(l.pTagInButtonScope=d),n==="li"&&(l.listItemTagAutoclosing=d),(n==="dd"||n==="dt")&&(l.dlItemTagAutoclosing=d),l};var T2=function(r,n){switch(n){case"select":return r==="option"||r==="optgroup"||r==="#text";case"optgroup":return r==="option"||r==="#text";case"option":return r==="#text";case"tr":return r==="th"||r==="td"||r==="style"||r==="script"||r==="template";case"tbody":case"thead":case"tfoot":return r==="tr"||r==="style"||r==="script"||r==="template";case"colgroup":return r==="col"||r==="template";case"table":return r==="caption"||r==="colgroup"||r==="tbody"||r==="tfoot"||r==="thead"||r==="style"||r==="script"||r==="template";case"head":return r==="base"||r==="basefont"||r==="bgsound"||r==="link"||r==="meta"||r==="title"||r==="noscript"||r==="noframes"||r==="style"||r==="script"||r==="template";case"html":return r==="head"||r==="body"||r==="frameset";case"frameset":return r==="frame";case"#document":return r==="html"}switch(r){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return n!=="h1"&&n!=="h2"&&n!=="h3"&&n!=="h4"&&n!=="h5"&&n!=="h6";case"rp":case"rt":return R2.indexOf(n)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return n==null}return!0},_2=function(r,n){switch(r){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return n.pTagInButtonScope;case"form":return n.formTag||n.pTagInButtonScope;case"li":return n.listItemTagAutoclosing;case"dd":case"dt":return n.dlItemTagAutoclosing;case"button":return n.buttonTagInScope;case"a":return n.aTagInScope;case"nobr":return n.nobrTagInScope}return null},S1={};Yd=function(r,n,l){l=l||D1;var d=l.current,f=d&&d.tag;n!=null&&(r!=null&&c("validateDOMNesting: when childText is passed, childTag should be null"),r="#text");var x=T2(r,f)?null:d,S=x?null:_2(r,l),P=x||S;if(P){var M=P.tag,ce=!!x+"|"+r+"|"+M;if(!S1[ce]){S1[ce]=!0;var ge=r,Le="";if(r==="#text"?/\S/.test(n)?ge="Text nodes":(ge="Whitespace text nodes",Le=" Make sure you don't have any extra whitespace between tags on each line of your source code."):ge="<"+r+">",x){var Ae="";M==="table"&&r==="tr"&&(Ae+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),c("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",ge,M,Le,Ae)}else c("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",ge,M)}}}}var O0="suppressHydrationWarning",y0="$",E0="/$",qd="$?",Jd="$!",P2="style",sg=null,ng=null;function U2(r){var n,l,d=r.nodeType;switch(d){case ia:case rd:{n=d===ia?"#document":"#fragment";var f=r.documentElement;l=f?f.namespaceURI:qa(null,"");break}default:{var x=d===cs?r.parentNode:r,S=x.namespaceURI||null;n=x.tagName,l=qa(S,n);break}}{var P=n.toLowerCase(),M=Kd(null,P);return{namespace:l,ancestorInfo:M}}}function V2(r,n,l){{var d=r,f=qa(d.namespace,n),x=Kd(d.ancestorInfo,n);return{namespace:f,ancestorInfo:x}}}function f$(r){return r}function j2(r){sg=PR(),ng=K5();var n=null;return TD(!1),n}function A2(r){q5(ng),TD(sg),sg=null,ng=null}function L2(r,n,l,d,f){var x;{var S=d;if(Yd(r,null,S.ancestorInfo),typeof n.children=="string"||typeof n.children=="number"){var P=""+n.children,M=Kd(S.ancestorInfo,r);Yd(null,P,M)}x=S.namespace}var ce=x2(r,n,l,x);return em(f,ce),mg(ce,n),ce}function M2(r,n){r.appendChild(n)}function I2(r,n,l,d,f){switch(N2(r,n,l,d),n){case"button":case"input":case"select":case"textarea":return!!l.autoFocus;case"img":return!0;default:return!1}}function F2(r,n,l,d,f,x){{var S=x;if(typeof d.children!=typeof l.children&&(typeof d.children=="string"||typeof d.children=="number")){var P=""+d.children,M=Kd(S.ancestorInfo,n);Yd(null,P,M)}}return D2(r,n,l,d)}function ag(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}function $2(r,n,l,d){{var f=l;Yd(null,r,f.ancestorInfo)}var x=b2(r,n);return em(d,x),x}function B2(){var r=window.event;return r===void 0?vo:_D(r.type)}var ig=typeof setTimeout=="function"?setTimeout:void 0,X2=typeof clearTimeout=="function"?clearTimeout:void 0,og=-1,O1=typeof Promise=="function"?Promise:void 0,H2=typeof queueMicrotask=="function"?queueMicrotask:typeof O1<"u"?function(r){return O1.resolve(null).then(r).catch(z2)}:ig;function z2(r){setTimeout(function(){throw r})}function G2(r,n,l,d){switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();return;case"img":{l.src&&(r.src=l.src);return}}}function W2(r,n,l,d,f,x){S2(r,n,l,d,f),mg(r,f)}function y1(r){Fc(r,"")}function Y2(r,n,l){r.nodeValue=l}function K2(r,n){r.appendChild(n)}function q2(r,n){var l;r.nodeType===cs?(l=r.parentNode,l.insertBefore(n,r)):(l=r,l.appendChild(n));var d=r._reactRootContainer;d==null&&l.onclick===null&&S0(l)}function J2(r,n,l){r.insertBefore(n,l)}function Q2(r,n,l){r.nodeType===cs?r.parentNode.insertBefore(n,l):r.insertBefore(n,l)}function Z2(r,n){r.removeChild(n)}function eT(r,n){r.nodeType===cs?r.parentNode.removeChild(n):r.removeChild(n)}function lg(r,n){var l=n,d=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===cs){var x=f.data;if(x===E0)if(d===0){r.removeChild(f),Ud(n);return}else d--;else(x===y0||x===qd||x===Jd)&&d++}l=f}while(l);Ud(n)}function tT(r,n){r.nodeType===cs?lg(r.parentNode,n):r.nodeType===En&&lg(r,n),Ud(r)}function rT(r){r=r;var n=r.style;typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none"}function sT(r){r.nodeValue=""}function nT(r,n){r=r;var l=n[P2],d=l!=null&&l.hasOwnProperty("display")?l.display:null;r.style.display=Fn("display",d)}function aT(r,n){r.nodeValue=n}function iT(r){r.nodeType===En?r.textContent="":r.nodeType===ia&&r.documentElement&&r.removeChild(r.documentElement)}function oT(r,n,l){return r.nodeType!==En||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r}function lT(r,n){return n===""||r.nodeType!==ws?null:r}function cT(r){return r.nodeType!==cs?null:r}function E1(r){return r.data===qd}function cg(r){return r.data===Jd}function uT(r){var n=r.nextSibling&&r.nextSibling.dataset,l,d,f;return n&&(l=n.dgst,d=n.msg,f=n.stck),{message:d,digest:l,stack:f}}function dT(r,n){r._reactRetry=n}function C0(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===En||n===ws)break;if(n===cs){var l=r.data;if(l===y0||l===Jd||l===qd)break;if(l===E0)return null}}return r}function Qd(r){return C0(r.nextSibling)}function mT(r){return C0(r.firstChild)}function fT(r){return C0(r.firstChild)}function pT(r){return C0(r.nextSibling)}function hT(r,n,l,d,f,x,S){em(x,r),mg(r,l);var P;{var M=f;P=M.namespace}var ce=(x.mode&Cr)!==Wt;return y2(r,n,l,P,d,ce,S)}function vT(r,n,l,d){return em(l,r),l.mode&Cr,E2(r,n)}function gT(r,n){em(n,r)}function xT(r){for(var n=r.nextSibling,l=0;n;){if(n.nodeType===cs){var d=n.data;if(d===E0){if(l===0)return Qd(n);l--}else(d===y0||d===Jd||d===qd)&&l++}n=n.nextSibling}return null}function C1(r){for(var n=r.previousSibling,l=0;n;){if(n.nodeType===cs){var d=n.data;if(d===y0||d===Jd||d===qd){if(l===0)return n;l--}else d===E0&&l++}n=n.previousSibling}return null}function bT(r){Ud(r)}function NT(r){Ud(r)}function DT(r){return r!=="head"&&r!=="body"}function ST(r,n,l,d){var f=!0;D0(n.nodeValue,l,d,f)}function OT(r,n,l,d,f,x){if(n[O0]!==!0){var S=!0;D0(d.nodeValue,f,x,S)}}function yT(r,n){n.nodeType===En?Zv(r,n):n.nodeType===cs||eg(r,n)}function ET(r,n){{var l=r.parentNode;l!==null&&(n.nodeType===En?Zv(l,n):n.nodeType===cs||eg(l,n))}}function CT(r,n,l,d,f){(f||n[O0]!==!0)&&(d.nodeType===En?Zv(l,d):d.nodeType===cs||eg(l,d))}function wT(r,n,l){tg(r,n)}function kT(r,n){rg(r,n)}function RT(r,n,l){{var d=r.parentNode;d!==null&&tg(d,n)}}function TT(r,n){{var l=r.parentNode;l!==null&&rg(l,n)}}function _T(r,n,l,d,f,x){(x||n[O0]!==!0)&&tg(l,d)}function PT(r,n,l,d,f){(f||n[O0]!==!0)&&rg(l,d)}function UT(r){c("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",r.nodeName.toLowerCase())}function VT(r){Hd(r)}var cu=Math.random().toString(36).slice(2),uu="__reactFiber$"+cu,ug="__reactProps$"+cu,Zd="__reactContainer$"+cu,dg="__reactEvents$"+cu,jT="__reactListeners$"+cu,AT="__reactHandles$"+cu;function LT(r){delete r[uu],delete r[ug],delete r[dg],delete r[jT],delete r[AT]}function em(r,n){n[uu]=r}function w0(r,n){n[Zd]=r}function w1(r){r[Zd]=null}function tm(r){return!!r[Zd]}function sc(r){var n=r[uu];if(n)return n;for(var l=r.parentNode;l;){if(n=l[Zd]||l[uu],n){var d=n.alternate;if(n.child!==null||d!==null&&d.child!==null)for(var f=C1(r);f!==null;){var x=f[uu];if(x)return x;f=C1(f)}return n}r=l,l=r.parentNode}return null}function rl(r){var n=r[uu]||r[Zd];return n&&(n.tag===k||n.tag===w||n.tag===W||n.tag===b)?n:null}function du(r){if(r.tag===k||r.tag===w)return r.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function k0(r){return r[ug]||null}function mg(r,n){r[ug]=n}function MT(r){var n=r[dg];return n===void 0&&(n=r[dg]=new Set),n}var k1={},R1=t.ReactDebugCurrentFrame;function R0(r){if(r){var n=r._owner,l=ra(r.type,r._source,n?n.type:null);R1.setExtraStackFrame(l)}else R1.setExtraStackFrame(null)}function ni(r,n,l,d,f){{var x=Function.call.bind(j);for(var S in r)if(x(r,S)){var P=void 0;try{if(typeof r[S]!="function"){var M=Error((d||"React class")+": "+l+" type `"+S+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof r[S]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw M.name="Invariant Violation",M}P=r[S](n,S,d,l,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ce){P=ce}P&&!(P instanceof Error)&&(R0(f),c("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",d||"React class",l,S,typeof P),R0(null)),P instanceof Error&&!(P.message in k1)&&(k1[P.message]=!0,R0(f),c("Failed %s type: %s",l,P.message),R0(null))}}}var fg=[],T0;T0=[];var go=-1;function sl(r){return{current:r}}function kn(r,n){if(go<0){c("Unexpected pop.");return}n!==T0[go]&&c("Unexpected Fiber popped."),r.current=fg[go],fg[go]=null,T0[go]=null,go--}function Rn(r,n,l){go++,fg[go]=r.current,T0[go]=l,r.current=n}var pg;pg={};var Ea={};Object.freeze(Ea);var xo=sl(Ea),Ui=sl(!1),hg=Ea;function mu(r,n,l){return l&&Vi(n)?hg:xo.current}function T1(r,n,l){{var d=r.stateNode;d.__reactInternalMemoizedUnmaskedChildContext=n,d.__reactInternalMemoizedMaskedChildContext=l}}function fu(r,n){{var l=r.type,d=l.contextTypes;if(!d)return Ea;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===n)return f.__reactInternalMemoizedMaskedChildContext;var x={};for(var S in d)x[S]=n[S];{var P=Bt(r)||"Unknown";ni(d,x,"context",P)}return f&&T1(r,n,x),x}}function _0(){return Ui.current}function Vi(r){{var n=r.childContextTypes;return n!=null}}function P0(r){kn(Ui,r),kn(xo,r)}function vg(r){kn(Ui,r),kn(xo,r)}function _1(r,n,l){{if(xo.current!==Ea)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Rn(xo,n,r),Rn(Ui,l,r)}}function P1(r,n,l){{var d=r.stateNode,f=n.childContextTypes;if(typeof d.getChildContext!="function"){{var x=Bt(r)||"Unknown";pg[x]||(pg[x]=!0,c("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",x,x))}return l}var S=d.getChildContext();for(var P in S)if(!(P in f))throw new Error((Bt(r)||"Unknown")+'.getChildContext(): key "'+P+'" is not defined in childContextTypes.');{var M=Bt(r)||"Unknown";ni(f,S,"child context",M)}return mt({},l,S)}}function U0(r){{var n=r.stateNode,l=n&&n.__reactInternalMemoizedMergedChildContext||Ea;return hg=xo.current,Rn(xo,l,r),Rn(Ui,Ui.current,r),!0}}function U1(r,n,l){{var d=r.stateNode;if(!d)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(l){var f=P1(r,n,hg);d.__reactInternalMemoizedMergedChildContext=f,kn(Ui,r),kn(xo,r),Rn(xo,f,r),Rn(Ui,l,r)}else kn(Ui,r),Rn(Ui,l,r)}}function IT(r){{if(!rs(r)||r.tag!==g)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var n=r;do{switch(n.tag){case b:return n.stateNode.context;case g:{var l=n.type;if(Vi(l))return n.stateNode.__reactInternalMemoizedMergedChildContext;break}}n=n.return}while(n!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var nl=0,V0=1,bo=null,gg=!1,xg=!1;function V1(r){bo===null?bo=[r]:bo.push(r)}function FT(r){gg=!0,V1(r)}function j1(){gg&&al()}function al(){if(!xg&&bo!==null){xg=!0;var r=0,n=si();try{var l=!0,d=bo;for(Zs(Sa);r<d.length;r++){var f=d[r];do f=f(l);while(f!==null)}bo=null,gg=!1}catch(x){throw bo!==null&&(bo=bo.slice(r+1)),Kf(qf,al),x}finally{Zs(n),xg=!1}}return null}var pu=[],hu=0,j0=null,A0=0,Pa=[],Ua=0,nc=null,No=1,Do="";function $T(r){return ic(),(r.flags&N)!==yt}function BT(r){return ic(),A0}function XT(){var r=Do,n=No,l=n&~HT(n);return l.toString(32)+r}function ac(r,n){ic(),pu[hu++]=A0,pu[hu++]=j0,j0=r,A0=n}function A1(r,n,l){ic(),Pa[Ua++]=No,Pa[Ua++]=Do,Pa[Ua++]=nc,nc=r;var d=No,f=Do,x=L0(d)-1,S=d&~(1<<x),P=l+1,M=L0(n)+x;if(M>30){var ce=x-x%5,ge=(1<<ce)-1,Le=(S&ge).toString(32),Ae=S>>ce,Ye=x-ce,Je=L0(n)+Ye,st=P<<Ye,Ot=st|Ae,Xt=Le+f;No=1<<Je|Ot,Do=Xt}else{var It=P<<x,kr=It|S,Dr=f;No=1<<M|kr,Do=Dr}}function bg(r){ic();var n=r.return;if(n!==null){var l=1,d=0;ac(r,l),A1(r,l,d)}}function L0(r){return 32-dD(r)}function HT(r){return 1<<L0(r)-1}function Ng(r){for(;r===j0;)j0=pu[--hu],pu[hu]=null,A0=pu[--hu],pu[hu]=null;for(;r===nc;)nc=Pa[--Ua],Pa[Ua]=null,Do=Pa[--Ua],Pa[Ua]=null,No=Pa[--Ua],Pa[Ua]=null}function zT(){return ic(),nc!==null?{id:No,overflow:Do}:null}function GT(r,n){ic(),Pa[Ua++]=No,Pa[Ua++]=Do,Pa[Ua++]=nc,No=n.id,Do=n.overflow,nc=r}function ic(){mn()||c("Expected to be hydrating. This is a bug in React. Please file an issue.")}var dn=null,Va=null,ai=!1,oc=!1,il=null;function WT(){ai&&c("We should not be hydrating here. This is a bug in React. Please file a bug.")}function L1(){oc=!0}function YT(){return oc}function KT(r){var n=r.stateNode.containerInfo;return Va=fT(n),dn=r,ai=!0,il=null,oc=!1,!0}function qT(r,n,l){return Va=pT(n),dn=r,ai=!0,il=null,oc=!1,l!==null&&GT(r,l),!0}function M1(r,n){switch(r.tag){case b:{yT(r.stateNode.containerInfo,n);break}case k:{var l=(r.mode&Cr)!==Wt;CT(r.type,r.memoizedProps,r.stateNode,n,l);break}case W:{var d=r.memoizedState;d.dehydrated!==null&&ET(d.dehydrated,n);break}}}function I1(r,n){M1(r,n);var l=eU();l.stateNode=n,l.return=r;var d=r.deletions;d===null?(r.deletions=[l],r.flags|=Qa):d.push(l)}function Dg(r,n){{if(oc)return;switch(r.tag){case b:{var l=r.stateNode.containerInfo;switch(n.tag){case k:var d=n.type;n.pendingProps,wT(l,d);break;case w:var f=n.pendingProps;kT(l,f);break}break}case k:{var x=r.type,S=r.memoizedProps,P=r.stateNode;switch(n.tag){case k:{var M=n.type,ce=n.pendingProps,ge=(r.mode&Cr)!==Wt;_T(x,S,P,M,ce,ge);break}case w:{var Le=n.pendingProps,Ae=(r.mode&Cr)!==Wt;PT(x,S,P,Le,Ae);break}}break}case W:{var Ye=r.memoizedState,Je=Ye.dehydrated;if(Je!==null)switch(n.tag){case k:var st=n.type;n.pendingProps,RT(Je,st);break;case w:var Ot=n.pendingProps;TT(Je,Ot);break}break}default:return}}}function F1(r,n){n.flags=n.flags&~cn|ps,Dg(r,n)}function $1(r,n){switch(r.tag){case k:{var l=r.type;r.pendingProps;var d=oT(n,l);return d!==null?(r.stateNode=d,dn=r,Va=mT(d),!0):!1}case w:{var f=r.pendingProps,x=lT(n,f);return x!==null?(r.stateNode=x,dn=r,Va=null,!0):!1}case W:{var S=cT(n);if(S!==null){var P={dehydrated:S,treeContext:zT(),retryLane:Na};r.memoizedState=P;var M=tU(S);return M.return=r,r.child=M,dn=r,Va=null,!0}return!1}default:return!1}}function Sg(r){return(r.mode&Cr)!==Wt&&(r.flags&Rr)===yt}function Og(r){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function yg(r){if(ai){var n=Va;if(!n){Sg(r)&&(Dg(dn,r),Og()),F1(dn,r),ai=!1,dn=r;return}var l=n;if(!$1(r,n)){Sg(r)&&(Dg(dn,r),Og()),n=Qd(l);var d=dn;if(!n||!$1(r,n)){F1(dn,r),ai=!1,dn=r;return}I1(d,l)}}}function JT(r,n,l){var d=r.stateNode,f=!oc,x=hT(d,r.type,r.memoizedProps,n,l,r,f);return r.updateQueue=x,x!==null}function QT(r){var n=r.stateNode,l=r.memoizedProps,d=vT(n,l,r);if(d){var f=dn;if(f!==null)switch(f.tag){case b:{var x=f.stateNode.containerInfo,S=(f.mode&Cr)!==Wt;ST(x,n,l,S);break}case k:{var P=f.type,M=f.memoizedProps,ce=f.stateNode,ge=(f.mode&Cr)!==Wt;OT(P,M,ce,n,l,ge);break}}}return d}function ZT(r){var n=r.memoizedState,l=n!==null?n.dehydrated:null;if(!l)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");gT(l,r)}function e3(r){var n=r.memoizedState,l=n!==null?n.dehydrated:null;if(!l)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return xT(l)}function B1(r){for(var n=r.return;n!==null&&n.tag!==k&&n.tag!==b&&n.tag!==W;)n=n.return;dn=n}function M0(r){if(r!==dn)return!1;if(!ai)return B1(r),ai=!0,!1;if(r.tag!==b&&(r.tag!==k||DT(r.type)&&!ag(r.type,r.memoizedProps))){var n=Va;if(n)if(Sg(r))X1(r),Og();else for(;n;)I1(r,n),n=Qd(n)}return B1(r),r.tag===W?Va=e3(r):Va=dn?Qd(r.stateNode):null,!0}function t3(){return ai&&Va!==null}function X1(r){for(var n=Va;n;)M1(r,n),n=Qd(n)}function vu(){dn=null,Va=null,ai=!1,oc=!1}function H1(){il!==null&&(LO(il),il=null)}function mn(){return ai}function Eg(r){il===null?il=[r]:il.push(r)}var r3=t.ReactCurrentBatchConfig,s3=null;function n3(){return r3.transition}var ii={recordUnsafeLifecycleWarnings:function(r,n){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(r,n){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var a3=function(r){for(var n=null,l=r;l!==null;)l.mode&hs&&(n=l),l=l.return;return n},lc=function(r){var n=[];return r.forEach(function(l){n.push(l)}),n.sort().join(", ")},rm=[],sm=[],nm=[],am=[],im=[],om=[],cc=new Set;ii.recordUnsafeLifecycleWarnings=function(r,n){cc.has(r.type)||(typeof n.componentWillMount=="function"&&n.componentWillMount.__suppressDeprecationWarning!==!0&&rm.push(r),r.mode&hs&&typeof n.UNSAFE_componentWillMount=="function"&&sm.push(r),typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&nm.push(r),r.mode&hs&&typeof n.UNSAFE_componentWillReceiveProps=="function"&&am.push(r),typeof n.componentWillUpdate=="function"&&n.componentWillUpdate.__suppressDeprecationWarning!==!0&&im.push(r),r.mode&hs&&typeof n.UNSAFE_componentWillUpdate=="function"&&om.push(r))},ii.flushPendingUnsafeLifecycleWarnings=function(){var r=new Set;rm.length>0&&(rm.forEach(function(Ae){r.add(Bt(Ae)||"Component"),cc.add(Ae.type)}),rm=[]);var n=new Set;sm.length>0&&(sm.forEach(function(Ae){n.add(Bt(Ae)||"Component"),cc.add(Ae.type)}),sm=[]);var l=new Set;nm.length>0&&(nm.forEach(function(Ae){l.add(Bt(Ae)||"Component"),cc.add(Ae.type)}),nm=[]);var d=new Set;am.length>0&&(am.forEach(function(Ae){d.add(Bt(Ae)||"Component"),cc.add(Ae.type)}),am=[]);var f=new Set;im.length>0&&(im.forEach(function(Ae){f.add(Bt(Ae)||"Component"),cc.add(Ae.type)}),im=[]);var x=new Set;if(om.length>0&&(om.forEach(function(Ae){x.add(Bt(Ae)||"Component"),cc.add(Ae.type)}),om=[]),n.size>0){var S=lc(n);c(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,S)}if(d.size>0){var P=lc(d);c(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,P)}if(x.size>0){var M=lc(x);c(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,M)}if(r.size>0){var ce=lc(r);u(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ce)}if(l.size>0){var ge=lc(l);u(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ge)}if(f.size>0){var Le=lc(f);u(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Le)}};var I0=new Map,z1=new Set;ii.recordLegacyContextWarning=function(r,n){var l=a3(r);if(l===null){c("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!z1.has(r.type)){var d=I0.get(l);(r.type.contextTypes!=null||r.type.childContextTypes!=null||n!==null&&typeof n.getChildContext=="function")&&(d===void 0&&(d=[],I0.set(l,d)),d.push(r))}},ii.flushLegacyContextWarning=function(){I0.forEach(function(r,n){if(r.length!==0){var l=r[0],d=new Set;r.forEach(function(x){d.add(Bt(x)||"Component"),z1.add(x.type)});var f=lc(d);try{es(l),c(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,f)}finally{ys()}}})},ii.discardPendingWarnings=function(){rm=[],sm=[],nm=[],am=[],im=[],om=[],I0=new Map}}var Cg,wg,kg,Rg,Tg,G1=function(r,n){};Cg=!1,wg=!1,kg={},Rg={},Tg={},G1=function(r,n){if(!(r===null||typeof r!="object")&&!(!r._store||r._store.validated||r.key!=null)){if(typeof r._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");r._store.validated=!0;var l=Bt(n)||"Component";Rg[l]||(Rg[l]=!0,c('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function i3(r){return r.prototype&&r.prototype.isReactComponent}function lm(r,n,l){var d=l.ref;if(d!==null&&typeof d!="function"&&typeof d!="object"){if((r.mode&hs||Q)&&!(l._owner&&l._self&&l._owner.stateNode!==l._self)&&!(l._owner&&l._owner.tag!==g)&&!(typeof l.type=="function"&&!i3(l.type))&&l._owner){var f=Bt(r)||"Component";kg[f]||(c('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',f,d),kg[f]=!0)}if(l._owner){var x=l._owner,S;if(x){var P=x;if(P.tag!==g)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");S=P.stateNode}if(!S)throw new Error("Missing owner for string ref "+d+". This error is likely caused by a bug in React. Please file an issue.");var M=S;Ft(d,"ref");var ce=""+d;if(n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===ce)return n.ref;var ge=function(Le){var Ae=M.refs;Le===null?delete Ae[ce]:Ae[ce]=Le};return ge._stringRef=ce,ge}else{if(typeof d!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!l._owner)throw new Error("Element ref was specified as a string ("+d+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return d}function F0(r,n){var l=Object.prototype.toString.call(n);throw new Error("Objects are not valid as a React child (found: "+(l==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.")}function $0(r){{var n=Bt(r)||"Component";if(Tg[n])return;Tg[n]=!0,c("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function W1(r){var n=r._payload,l=r._init;return l(n)}function Y1(r){function n($e,nt){if(r){var Be=$e.deletions;Be===null?($e.deletions=[nt],$e.flags|=Qa):Be.push(nt)}}function l($e,nt){if(!r)return null;for(var Be=nt;Be!==null;)n($e,Be),Be=Be.sibling;return null}function d($e,nt){for(var Be=new Map,pt=nt;pt!==null;)pt.key!==null?Be.set(pt.key,pt):Be.set(pt.index,pt),pt=pt.sibling;return Be}function f($e,nt){var Be=xc($e,nt);return Be.index=0,Be.sibling=null,Be}function x($e,nt,Be){if($e.index=Be,!r)return $e.flags|=N,nt;var pt=$e.alternate;if(pt!==null){var Pt=pt.index;return Pt<nt?($e.flags|=ps,nt):Pt}else return $e.flags|=ps,nt}function S($e){return r&&$e.alternate===null&&($e.flags|=ps),$e}function P($e,nt,Be,pt){if(nt===null||nt.tag!==w){var Pt=Eb(Be,$e.mode,pt);return Pt.return=$e,Pt}else{var Ct=f(nt,Be);return Ct.return=$e,Ct}}function M($e,nt,Be,pt){var Pt=Be.type;if(Pt===Ve)return ge($e,nt,Be.props.children,pt,Be.key);if(nt!==null&&(nt.elementType===Pt||ZO(nt,Be)||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ne&&W1(Pt)===nt.type)){var Ct=f(nt,Be.props);return Ct.ref=lm($e,nt,Be),Ct.return=$e,Ct._debugSource=Be._source,Ct._debugOwner=Be._owner,Ct}var qt=yb(Be,$e.mode,pt);return qt.ref=lm($e,nt,Be),qt.return=$e,qt}function ce($e,nt,Be,pt){if(nt===null||nt.tag!==E||nt.stateNode.containerInfo!==Be.containerInfo||nt.stateNode.implementation!==Be.implementation){var Pt=Cb(Be,$e.mode,pt);return Pt.return=$e,Pt}else{var Ct=f(nt,Be.children||[]);return Ct.return=$e,Ct}}function ge($e,nt,Be,pt,Pt){if(nt===null||nt.tag!==y){var Ct=gl(Be,$e.mode,pt,Pt);return Ct.return=$e,Ct}else{var qt=f(nt,Be);return qt.return=$e,qt}}function Le($e,nt,Be){if(typeof nt=="string"&&nt!==""||typeof nt=="number"){var pt=Eb(""+nt,$e.mode,Be);return pt.return=$e,pt}if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case or:{var Pt=yb(nt,$e.mode,Be);return Pt.ref=lm($e,null,nt),Pt.return=$e,Pt}case ae:{var Ct=Cb(nt,$e.mode,Be);return Ct.return=$e,Ct}case Ne:{var qt=nt._payload,lr=nt._init;return Le($e,lr(qt),Be)}}if(Lt(nt)||dt(nt)){var Kr=gl(nt,$e.mode,Be,null);return Kr.return=$e,Kr}F0($e,nt)}return typeof nt=="function"&&$0($e),null}function Ae($e,nt,Be,pt){var Pt=nt!==null?nt.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Pt!==null?null:P($e,nt,""+Be,pt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case or:return Be.key===Pt?M($e,nt,Be,pt):null;case ae:return Be.key===Pt?ce($e,nt,Be,pt):null;case Ne:{var Ct=Be._payload,qt=Be._init;return Ae($e,nt,qt(Ct),pt)}}if(Lt(Be)||dt(Be))return Pt!==null?null:ge($e,nt,Be,pt,null);F0($e,Be)}return typeof Be=="function"&&$0($e),null}function Ye($e,nt,Be,pt,Pt){if(typeof pt=="string"&&pt!==""||typeof pt=="number"){var Ct=$e.get(Be)||null;return P(nt,Ct,""+pt,Pt)}if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case or:{var qt=$e.get(pt.key===null?Be:pt.key)||null;return M(nt,qt,pt,Pt)}case ae:{var lr=$e.get(pt.key===null?Be:pt.key)||null;return ce(nt,lr,pt,Pt)}case Ne:var Kr=pt._payload,jr=pt._init;return Ye($e,nt,Be,jr(Kr),Pt)}if(Lt(pt)||dt(pt)){var Ss=$e.get(Be)||null;return ge(nt,Ss,pt,Pt,null)}F0(nt,pt)}return typeof pt=="function"&&$0(nt),null}function Je($e,nt,Be){{if(typeof $e!="object"||$e===null)return nt;switch($e.$$typeof){case or:case ae:G1($e,Be);var pt=$e.key;if(typeof pt!="string")break;if(nt===null){nt=new Set,nt.add(pt);break}if(!nt.has(pt)){nt.add(pt);break}c("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",pt);break;case Ne:var Pt=$e._payload,Ct=$e._init;Je(Ct(Pt),nt,Be);break}}return nt}function st($e,nt,Be,pt){for(var Pt=null,Ct=0;Ct<Be.length;Ct++){var qt=Be[Ct];Pt=Je(qt,Pt,$e)}for(var lr=null,Kr=null,jr=nt,Ss=0,Ar=0,vs=null;jr!==null&&Ar<Be.length;Ar++){jr.index>Ar?(vs=jr,jr=null):vs=jr.sibling;var _n=Ae($e,jr,Be[Ar],pt);if(_n===null){jr===null&&(jr=vs);break}r&&jr&&_n.alternate===null&&n($e,jr),Ss=x(_n,Ss,Ar),Kr===null?lr=_n:Kr.sibling=_n,Kr=_n,jr=vs}if(Ar===Be.length){if(l($e,jr),mn()){var bn=Ar;ac($e,bn)}return lr}if(jr===null){for(;Ar<Be.length;Ar++){var wa=Le($e,Be[Ar],pt);wa!==null&&(Ss=x(wa,Ss,Ar),Kr===null?lr=wa:Kr.sibling=wa,Kr=wa)}if(mn()){var Gn=Ar;ac($e,Gn)}return lr}for(var Wn=d($e,jr);Ar<Be.length;Ar++){var Pn=Ye(Wn,$e,Ar,Be[Ar],pt);Pn!==null&&(r&&Pn.alternate!==null&&Wn.delete(Pn.key===null?Ar:Pn.key),Ss=x(Pn,Ss,Ar),Kr===null?lr=Pn:Kr.sibling=Pn,Kr=Pn)}if(r&&Wn.forEach(function(ju){return n($e,ju)}),mn()){var ko=Ar;ac($e,ko)}return lr}function Ot($e,nt,Be,pt){var Pt=dt(Be);if(typeof Pt!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&Be[Symbol.toStringTag]==="Generator"&&(wg||c("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),wg=!0),Be.entries===Pt&&(Cg||c("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Cg=!0);var Ct=Pt.call(Be);if(Ct)for(var qt=null,lr=Ct.next();!lr.done;lr=Ct.next()){var Kr=lr.value;qt=Je(Kr,qt,$e)}}var jr=Pt.call(Be);if(jr==null)throw new Error("An iterable object provided no iterator.");for(var Ss=null,Ar=null,vs=nt,_n=0,bn=0,wa=null,Gn=jr.next();vs!==null&&!Gn.done;bn++,Gn=jr.next()){vs.index>bn?(wa=vs,vs=null):wa=vs.sibling;var Wn=Ae($e,vs,Gn.value,pt);if(Wn===null){vs===null&&(vs=wa);break}r&&vs&&Wn.alternate===null&&n($e,vs),_n=x(Wn,_n,bn),Ar===null?Ss=Wn:Ar.sibling=Wn,Ar=Wn,vs=wa}if(Gn.done){if(l($e,vs),mn()){var Pn=bn;ac($e,Pn)}return Ss}if(vs===null){for(;!Gn.done;bn++,Gn=jr.next()){var ko=Le($e,Gn.value,pt);ko!==null&&(_n=x(ko,_n,bn),Ar===null?Ss=ko:Ar.sibling=ko,Ar=ko)}if(mn()){var ju=bn;ac($e,ju)}return Ss}for(var Fm=d($e,vs);!Gn.done;bn++,Gn=jr.next()){var Bi=Ye(Fm,$e,bn,Gn.value,pt);Bi!==null&&(r&&Bi.alternate!==null&&Fm.delete(Bi.key===null?bn:Bi.key),_n=x(Bi,_n,bn),Ar===null?Ss=Bi:Ar.sibling=Bi,Ar=Bi)}if(r&&Fm.forEach(function(PU){return n($e,PU)}),mn()){var _U=bn;ac($e,_U)}return Ss}function Xt($e,nt,Be,pt){if(nt!==null&&nt.tag===w){l($e,nt.sibling);var Pt=f(nt,Be);return Pt.return=$e,Pt}l($e,nt);var Ct=Eb(Be,$e.mode,pt);return Ct.return=$e,Ct}function It($e,nt,Be,pt){for(var Pt=Be.key,Ct=nt;Ct!==null;){if(Ct.key===Pt){var qt=Be.type;if(qt===Ve){if(Ct.tag===y){l($e,Ct.sibling);var lr=f(Ct,Be.props.children);return lr.return=$e,lr._debugSource=Be._source,lr._debugOwner=Be._owner,lr}}else if(Ct.elementType===qt||ZO(Ct,Be)||typeof qt=="object"&&qt!==null&&qt.$$typeof===Ne&&W1(qt)===Ct.type){l($e,Ct.sibling);var Kr=f(Ct,Be.props);return Kr.ref=lm($e,Ct,Be),Kr.return=$e,Kr._debugSource=Be._source,Kr._debugOwner=Be._owner,Kr}l($e,Ct);break}else n($e,Ct);Ct=Ct.sibling}if(Be.type===Ve){var jr=gl(Be.props.children,$e.mode,pt,Be.key);return jr.return=$e,jr}else{var Ss=yb(Be,$e.mode,pt);return Ss.ref=lm($e,nt,Be),Ss.return=$e,Ss}}function kr($e,nt,Be,pt){for(var Pt=Be.key,Ct=nt;Ct!==null;){if(Ct.key===Pt)if(Ct.tag===E&&Ct.stateNode.containerInfo===Be.containerInfo&&Ct.stateNode.implementation===Be.implementation){l($e,Ct.sibling);var qt=f(Ct,Be.children||[]);return qt.return=$e,qt}else{l($e,Ct);break}else n($e,Ct);Ct=Ct.sibling}var lr=Cb(Be,$e.mode,pt);return lr.return=$e,lr}function Dr($e,nt,Be,pt){var Pt=typeof Be=="object"&&Be!==null&&Be.type===Ve&&Be.key===null;if(Pt&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case or:return S(It($e,nt,Be,pt));case ae:return S(kr($e,nt,Be,pt));case Ne:var Ct=Be._payload,qt=Be._init;return Dr($e,nt,qt(Ct),pt)}if(Lt(Be))return st($e,nt,Be,pt);if(dt(Be))return Ot($e,nt,Be,pt);F0($e,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"?S(Xt($e,nt,""+Be,pt)):(typeof Be=="function"&&$0($e),l($e,nt))}return Dr}var gu=Y1(!0),K1=Y1(!1);function o3(r,n){if(r!==null&&n.child!==r.child)throw new Error("Resuming work not yet implemented.");if(n.child!==null){var l=n.child,d=xc(l,l.pendingProps);for(n.child=d,d.return=n;l.sibling!==null;)l=l.sibling,d=d.sibling=xc(l,l.pendingProps),d.return=n;d.sibling=null}}function l3(r,n){for(var l=r.child;l!==null;)KP(l,n),l=l.sibling}var _g=sl(null),Pg;Pg={};var B0=null,xu=null,Ug=null,X0=!1;function H0(){B0=null,xu=null,Ug=null,X0=!1}function q1(){X0=!0}function J1(){X0=!1}function Q1(r,n,l){Rn(_g,n._currentValue,r),n._currentValue=l,n._currentRenderer!==void 0&&n._currentRenderer!==null&&n._currentRenderer!==Pg&&c("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),n._currentRenderer=Pg}function Vg(r,n){var l=_g.current;kn(_g,n),r._currentValue=l}function jg(r,n,l){for(var d=r;d!==null;){var f=d.alternate;if(ru(d.childLanes,n)?f!==null&&!ru(f.childLanes,n)&&(f.childLanes=vr(f.childLanes,n)):(d.childLanes=vr(d.childLanes,n),f!==null&&(f.childLanes=vr(f.childLanes,n))),d===l)break;d=d.return}d!==l&&c("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function c3(r,n,l){u3(r,n,l)}function u3(r,n,l){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var f=void 0,x=d.dependencies;if(x!==null){f=d.child;for(var S=x.firstContext;S!==null;){if(S.context===n){if(d.tag===g){var P=Cd(l),M=So(ss,P);M.tag=G0;var ce=d.updateQueue;if(ce!==null){var ge=ce.shared,Le=ge.pending;Le===null?M.next=M:(M.next=Le.next,Le.next=M),ge.pending=M}}d.lanes=vr(d.lanes,l);var Ae=d.alternate;Ae!==null&&(Ae.lanes=vr(Ae.lanes,l)),jg(d.return,l,r),x.lanes=vr(x.lanes,l);break}S=S.next}}else if(d.tag===Z)f=d.type===r.type?null:d.child;else if(d.tag===B){var Ye=d.return;if(Ye===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");Ye.lanes=vr(Ye.lanes,l);var Je=Ye.alternate;Je!==null&&(Je.lanes=vr(Je.lanes,l)),jg(Ye,l,r),f=d.sibling}else f=d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===r){f=null;break}var st=f.sibling;if(st!==null){st.return=f.return,f=st;break}f=f.return}d=f}}function bu(r,n){B0=r,xu=null,Ug=null;var l=r.dependencies;if(l!==null){var d=l.firstContext;d!==null&&(Da(l.lanes,n)&&Om(),l.firstContext=null)}}function Rs(r){X0&&c("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var n=r._currentValue;if(Ug!==r){var l={context:r,memoizedValue:n,next:null};if(xu===null){if(B0===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");xu=l,B0.dependencies={lanes:ut,firstContext:l}}else xu=xu.next=l}return n}var uc=null;function Ag(r){uc===null?uc=[r]:uc.push(r)}function d3(){if(uc!==null){for(var r=0;r<uc.length;r++){var n=uc[r],l=n.interleaved;if(l!==null){n.interleaved=null;var d=l.next,f=n.pending;if(f!==null){var x=f.next;f.next=d,l.next=x}n.pending=l}}uc=null}}function Z1(r,n,l,d){var f=n.interleaved;return f===null?(l.next=l,Ag(n)):(l.next=f.next,f.next=l),n.interleaved=l,z0(r,d)}function m3(r,n,l,d){var f=n.interleaved;f===null?(l.next=l,Ag(n)):(l.next=f.next,f.next=l),n.interleaved=l}function f3(r,n,l,d){var f=n.interleaved;return f===null?(l.next=l,Ag(n)):(l.next=f.next,f.next=l),n.interleaved=l,z0(r,d)}function ca(r,n){return z0(r,n)}var p3=z0;function z0(r,n){r.lanes=vr(r.lanes,n);var l=r.alternate;l!==null&&(l.lanes=vr(l.lanes,n)),l===null&&(r.flags&(ps|cn))!==yt&&KO(r);for(var d=r,f=r.return;f!==null;)f.childLanes=vr(f.childLanes,n),l=f.alternate,l!==null?l.childLanes=vr(l.childLanes,n):(f.flags&(ps|cn))!==yt&&KO(r),d=f,f=f.return;if(d.tag===b){var x=d.stateNode;return x}else return null}var eS=0,tS=1,G0=2,Lg=3,W0=!1,Mg,Y0;Mg=!1,Y0=null;function Ig(r){var n={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:ut},effects:null};r.updateQueue=n}function rS(r,n){var l=n.updateQueue,d=r.updateQueue;if(l===d){var f={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects};n.updateQueue=f}}function So(r,n){var l={eventTime:r,lane:n,tag:eS,payload:null,callback:null,next:null};return l}function ol(r,n,l){var d=r.updateQueue;if(d===null)return null;var f=d.shared;if(Y0===f&&!Mg&&(c("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),Mg=!0),mP()){var x=f.pending;return x===null?n.next=n:(n.next=x.next,x.next=n),f.pending=n,p3(r,l)}else return f3(r,f,n,l)}function K0(r,n,l){var d=n.updateQueue;if(d!==null){var f=d.shared;if(hD(l)){var x=f.lanes;x=gD(x,r.pendingLanes);var S=vr(x,l);f.lanes=S,_v(r,S)}}}function Fg(r,n){var l=r.updateQueue,d=r.alternate;if(d!==null){var f=d.updateQueue;if(l===f){var x=null,S=null,P=l.firstBaseUpdate;if(P!==null){var M=P;do{var ce={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};S===null?x=S=ce:(S.next=ce,S=ce),M=M.next}while(M!==null);S===null?x=S=n:(S.next=n,S=n)}else x=S=n;l={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:f.shared,effects:f.effects},r.updateQueue=l;return}}var ge=l.lastBaseUpdate;ge===null?l.firstBaseUpdate=n:ge.next=n,l.lastBaseUpdate=n}function h3(r,n,l,d,f,x){switch(l.tag){case tS:{var S=l.payload;if(typeof S=="function"){q1();var P=S.call(x,d,f);{if(r.mode&hs){Js(!0);try{S.call(x,d,f)}finally{Js(!1)}}J1()}return P}return S}case Lg:r.flags=r.flags&~un|Rr;case eS:{var M=l.payload,ce;if(typeof M=="function"){q1(),ce=M.call(x,d,f);{if(r.mode&hs){Js(!0);try{M.call(x,d,f)}finally{Js(!1)}}J1()}}else ce=M;return ce==null?d:mt({},d,ce)}case G0:return W0=!0,d}return d}function q0(r,n,l,d){var f=r.updateQueue;W0=!1,Y0=f.shared;var x=f.firstBaseUpdate,S=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var M=P,ce=M.next;M.next=null,S===null?x=ce:S.next=ce,S=M;var ge=r.alternate;if(ge!==null){var Le=ge.updateQueue,Ae=Le.lastBaseUpdate;Ae!==S&&(Ae===null?Le.firstBaseUpdate=ce:Ae.next=ce,Le.lastBaseUpdate=M)}}if(x!==null){var Ye=f.baseState,Je=ut,st=null,Ot=null,Xt=null,It=x;do{var kr=It.lane,Dr=It.eventTime;if(ru(d,kr)){if(Xt!==null){var nt={eventTime:Dr,lane:Qs,tag:It.tag,payload:It.payload,callback:It.callback,next:null};Xt=Xt.next=nt}Ye=h3(r,f,It,Ye,n,l);var Be=It.callback;if(Be!==null&&It.lane!==Qs){r.flags|=vd;var pt=f.effects;pt===null?f.effects=[It]:pt.push(It)}}else{var $e={eventTime:Dr,lane:kr,tag:It.tag,payload:It.payload,callback:It.callback,next:null};Xt===null?(Ot=Xt=$e,st=Ye):Xt=Xt.next=$e,Je=vr(Je,kr)}if(It=It.next,It===null){if(P=f.shared.pending,P===null)break;var Pt=P,Ct=Pt.next;Pt.next=null,It=Ct,f.lastBaseUpdate=Pt,f.shared.pending=null}}while(!0);Xt===null&&(st=Ye),f.baseState=st,f.firstBaseUpdate=Ot,f.lastBaseUpdate=Xt;var qt=f.shared.interleaved;if(qt!==null){var lr=qt;do Je=vr(Je,lr.lane),lr=lr.next;while(lr!==qt)}else x===null&&(f.shared.lanes=ut);jm(Je),r.lanes=Je,r.memoizedState=Ye}Y0=null}function v3(r,n){if(typeof r!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+r));r.call(n)}function sS(){W0=!1}function J0(){return W0}function nS(r,n,l){var d=n.effects;if(n.effects=null,d!==null)for(var f=0;f<d.length;f++){var x=d[f],S=x.callback;S!==null&&(x.callback=null,v3(S,l))}}var cm={},ll=sl(cm),um=sl(cm),Q0=sl(cm);function Z0(r){if(r===cm)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return r}function aS(){var r=Z0(Q0.current);return r}function $g(r,n){Rn(Q0,n,r),Rn(um,r,r),Rn(ll,cm,r);var l=U2(n);kn(ll,r),Rn(ll,l,r)}function Nu(r){kn(ll,r),kn(um,r),kn(Q0,r)}function Bg(){var r=Z0(ll.current);return r}function iS(r){Z0(Q0.current);var n=Z0(ll.current),l=V2(n,r.type);n!==l&&(Rn(um,r,r),Rn(ll,l,r))}function Xg(r){um.current===r&&(kn(ll,r),kn(um,r))}var g3=0,oS=1,lS=1,dm=2,oi=sl(g3);function Hg(r,n){return(r&n)!==0}function Du(r){return r&oS}function zg(r,n){return r&oS|n}function x3(r,n){return r|n}function cl(r,n){Rn(oi,n,r)}function Su(r){kn(oi,r)}function b3(r,n){var l=r.memoizedState;return l!==null?l.dehydrated!==null:(r.memoizedProps,!0)}function ep(r){for(var n=r;n!==null;){if(n.tag===W){var l=n.memoizedState;if(l!==null){var d=l.dehydrated;if(d===null||E1(d)||cg(d))return n}}else if(n.tag===re&&n.memoizedProps.revealOrder!==void 0){var f=(n.flags&Rr)!==yt;if(f)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)return null;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ua=0,Ms=1,ji=2,Is=4,fn=8,Gg=[];function Wg(){for(var r=0;r<Gg.length;r++){var n=Gg[r];n._workInProgressVersionPrimary=null}Gg.length=0}function N3(r,n){var l=n._getVersion,d=l(n._source);r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,d]:r.mutableSourceEagerHydrationData.push(n,d)}var kt=t.ReactCurrentDispatcher,mm=t.ReactCurrentBatchConfig,Yg,Ou;Yg=new Set;var dc=ut,Yr=null,Fs=null,$s=null,tp=!1,fm=!1,pm=0,D3=0,S3=25,ot=null,ja=null,ul=-1,Kg=!1;function Br(){{var r=ot;ja===null?ja=[r]:ja.push(r)}}function St(){{var r=ot;ja!==null&&(ul++,ja[ul]!==r&&O3(r))}}function yu(r){r!=null&&!Lt(r)&&c("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",ot,typeof r)}function O3(r){{var n=Bt(Yr);if(!Yg.has(n)&&(Yg.add(n),ja!==null)){for(var l="",d=30,f=0;f<=ul;f++){for(var x=ja[f],S=f===ul?r:x,P=f+1+". "+x;P.length<d;)P+=" ";P+=S+`
`,l+=P}c(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,n,l)}}}function Tn(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function qg(r,n){if(Kg)return!1;if(n===null)return c("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",ot),!1;r.length!==n.length&&c(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,ot,"["+n.join(", ")+"]","["+r.join(", ")+"]");for(var l=0;l<n.length&&l<r.length;l++)if(!ya(r[l],n[l]))return!1;return!0}function Eu(r,n,l,d,f,x){dc=x,Yr=n,ja=r!==null?r._debugHookTypes:null,ul=-1,Kg=r!==null&&r.type!==n.type,n.memoizedState=null,n.updateQueue=null,n.lanes=ut,r!==null&&r.memoizedState!==null?kt.current=TS:ja!==null?kt.current=RS:kt.current=kS;var S=l(d,f);if(fm){var P=0;do{if(fm=!1,pm=0,P>=S3)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");P+=1,Kg=!1,Fs=null,$s=null,n.updateQueue=null,ul=-1,kt.current=_S,S=l(d,f)}while(fm)}kt.current=pp,n._debugHookTypes=ja;var M=Fs!==null&&Fs.next!==null;if(dc=ut,Yr=null,Fs=null,$s=null,ot=null,ja=null,ul=-1,r!==null&&(r.flags&ft)!==(n.flags&ft)&&(r.mode&Cr)!==Wt&&c("Internal React error: Expected static flag was missing. Please notify the React team."),tp=!1,M)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return S}function Cu(){var r=pm!==0;return pm=0,r}function cS(r,n,l){n.updateQueue=r.updateQueue,(n.mode&_i)!==Wt?n.flags&=-50333701:n.flags&=-2053,r.lanes=r0(r.lanes,l)}function uS(){if(kt.current=pp,tp){for(var r=Yr.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}tp=!1}dc=ut,Yr=null,Fs=null,$s=null,ja=null,ul=-1,ot=null,OS=!1,fm=!1,pm=0}function Ai(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $s===null?Yr.memoizedState=$s=r:$s=$s.next=r,$s}function Aa(){var r;if(Fs===null){var n=Yr.alternate;n!==null?r=n.memoizedState:r=null}else r=Fs.next;var l;if($s===null?l=Yr.memoizedState:l=$s.next,l!==null)$s=l,l=$s.next,Fs=r;else{if(r===null)throw new Error("Rendered more hooks than during the previous render.");Fs=r;var d={memoizedState:Fs.memoizedState,baseState:Fs.baseState,baseQueue:Fs.baseQueue,queue:Fs.queue,next:null};$s===null?Yr.memoizedState=$s=d:$s=$s.next=d}return $s}function dS(){return{lastEffect:null,stores:null}}function Jg(r,n){return typeof n=="function"?n(r):n}function Qg(r,n,l){var d=Ai(),f;l!==void 0?f=l(n):f=n,d.memoizedState=d.baseState=f;var x={pending:null,interleaved:null,lanes:ut,dispatch:null,lastRenderedReducer:r,lastRenderedState:f};d.queue=x;var S=x.dispatch=w3.bind(null,Yr,x);return[d.memoizedState,S]}function Zg(r,n,l){var d=Aa(),f=d.queue;if(f===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");f.lastRenderedReducer=r;var x=Fs,S=x.baseQueue,P=f.pending;if(P!==null){if(S!==null){var M=S.next,ce=P.next;S.next=ce,P.next=M}x.baseQueue!==S&&c("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),x.baseQueue=S=P,f.pending=null}if(S!==null){var ge=S.next,Le=x.baseState,Ae=null,Ye=null,Je=null,st=ge;do{var Ot=st.lane;if(ru(dc,Ot)){if(Je!==null){var It={lane:Qs,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};Je=Je.next=It}if(st.hasEagerState)Le=st.eagerState;else{var kr=st.action;Le=r(Le,kr)}}else{var Xt={lane:Ot,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};Je===null?(Ye=Je=Xt,Ae=Le):Je=Je.next=Xt,Yr.lanes=vr(Yr.lanes,Ot),jm(Ot)}st=st.next}while(st!==null&&st!==ge);Je===null?Ae=Le:Je.next=Ye,ya(Le,d.memoizedState)||Om(),d.memoizedState=Le,d.baseState=Ae,d.baseQueue=Je,f.lastRenderedState=Le}var Dr=f.interleaved;if(Dr!==null){var $e=Dr;do{var nt=$e.lane;Yr.lanes=vr(Yr.lanes,nt),jm(nt),$e=$e.next}while($e!==Dr)}else S===null&&(f.lanes=ut);var Be=f.dispatch;return[d.memoizedState,Be]}function ex(r,n,l){var d=Aa(),f=d.queue;if(f===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");f.lastRenderedReducer=r;var x=f.dispatch,S=f.pending,P=d.memoizedState;if(S!==null){f.pending=null;var M=S.next,ce=M;do{var ge=ce.action;P=r(P,ge),ce=ce.next}while(ce!==M);ya(P,d.memoizedState)||Om(),d.memoizedState=P,d.baseQueue===null&&(d.baseState=P),f.lastRenderedState=P}return[P,x]}function p$(r,n,l){}function h$(r,n,l){}function tx(r,n,l){var d=Yr,f=Ai(),x,S=mn();if(S){if(l===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");x=l(),Ou||x!==l()&&(c("The result of getServerSnapshot should be cached to avoid an infinite loop"),Ou=!0)}else{if(x=n(),!Ou){var P=n();ya(x,P)||(c("The result of getSnapshot should be cached to avoid an infinite loop"),Ou=!0)}var M=Up();if(M===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");t0(M,dc)||mS(d,n,x)}f.memoizedState=x;var ce={value:x,getSnapshot:n};return f.queue=ce,ip(pS.bind(null,d,ce,r),[r]),d.flags|=Ri,hm(Ms|fn,fS.bind(null,d,ce,x,n),void 0,null),x}function rp(r,n,l){var d=Yr,f=Aa(),x=n();if(!Ou){var S=n();ya(x,S)||(c("The result of getSnapshot should be cached to avoid an infinite loop"),Ou=!0)}var P=f.memoizedState,M=!ya(P,x);M&&(f.memoizedState=x,Om());var ce=f.queue;if(gm(pS.bind(null,d,ce,r),[r]),ce.getSnapshot!==n||M||$s!==null&&$s.memoizedState.tag&Ms){d.flags|=Ri,hm(Ms|fn,fS.bind(null,d,ce,x,n),void 0,null);var ge=Up();if(ge===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");t0(ge,dc)||mS(d,n,x)}return x}function mS(r,n,l){r.flags|=gd;var d={getSnapshot:n,value:l},f=Yr.updateQueue;if(f===null)f=dS(),Yr.updateQueue=f,f.stores=[d];else{var x=f.stores;x===null?f.stores=[d]:x.push(d)}}function fS(r,n,l,d){n.value=l,n.getSnapshot=d,hS(n)&&vS(r)}function pS(r,n,l){var d=function(){hS(n)&&vS(r)};return l(d)}function hS(r){var n=r.getSnapshot,l=r.value;try{var d=n();return!ya(l,d)}catch{return!0}}function vS(r){var n=ca(r,tr);n!==null&&zs(n,r,tr,ss)}function sp(r){var n=Ai();typeof r=="function"&&(r=r()),n.memoizedState=n.baseState=r;var l={pending:null,interleaved:null,lanes:ut,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:r};n.queue=l;var d=l.dispatch=k3.bind(null,Yr,l);return[n.memoizedState,d]}function rx(r){return Zg(Jg)}function sx(r){return ex(Jg)}function hm(r,n,l,d){var f={tag:r,create:n,destroy:l,deps:d,next:null},x=Yr.updateQueue;if(x===null)x=dS(),Yr.updateQueue=x,x.lastEffect=f.next=f;else{var S=x.lastEffect;if(S===null)x.lastEffect=f.next=f;else{var P=S.next;S.next=f,f.next=P,x.lastEffect=f}}return f}function nx(r){var n=Ai();{var l={current:r};return n.memoizedState=l,l}}function np(r){var n=Aa();return n.memoizedState}function vm(r,n,l,d){var f=Ai(),x=d===void 0?null:d;Yr.flags|=r,f.memoizedState=hm(Ms|n,l,void 0,x)}function ap(r,n,l,d){var f=Aa(),x=d===void 0?null:d,S=void 0;if(Fs!==null){var P=Fs.memoizedState;if(S=P.destroy,x!==null){var M=P.deps;if(qg(x,M)){f.memoizedState=hm(n,l,S,x);return}}}Yr.flags|=r,f.memoizedState=hm(Ms|n,l,S,x)}function ip(r,n){return(Yr.mode&_i)!==Wt?vm(xe|Ri|q,fn,r,n):vm(Ri|q,fn,r,n)}function gm(r,n){return ap(Ri,fn,r,n)}function ax(r,n){return vm(Tr,ji,r,n)}function op(r,n){return ap(Tr,ji,r,n)}function ix(r,n){var l=Tr;return l|=V,(Yr.mode&_i)!==Wt&&(l|=fe),vm(l,Is,r,n)}function lp(r,n){return ap(Tr,Is,r,n)}function gS(r,n){if(typeof n=="function"){var l=n,d=r();return l(d),function(){l(null)}}else if(n!=null){var f=n;f.hasOwnProperty("current")||c("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(f).join(", ")+"}");var x=r();return f.current=x,function(){f.current=null}}}function ox(r,n,l){typeof n!="function"&&c("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",n!==null?typeof n:"null");var d=l!=null?l.concat([r]):null,f=Tr;return f|=V,(Yr.mode&_i)!==Wt&&(f|=fe),vm(f,Is,gS.bind(null,n,r),d)}function cp(r,n,l){typeof n!="function"&&c("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",n!==null?typeof n:"null");var d=l!=null?l.concat([r]):null;return ap(Tr,Is,gS.bind(null,n,r),d)}function y3(r,n){}var up=y3;function lx(r,n){var l=Ai(),d=n===void 0?null:n;return l.memoizedState=[r,d],r}function dp(r,n){var l=Aa(),d=n===void 0?null:n,f=l.memoizedState;if(f!==null&&d!==null){var x=f[1];if(qg(d,x))return f[0]}return l.memoizedState=[r,d],r}function cx(r,n){var l=Ai(),d=n===void 0?null:n,f=r();return l.memoizedState=[f,d],f}function mp(r,n){var l=Aa(),d=n===void 0?null:n,f=l.memoizedState;if(f!==null&&d!==null){var x=f[1];if(qg(d,x))return f[0]}var S=r();return l.memoizedState=[S,d],S}function ux(r){var n=Ai();return n.memoizedState=r,r}function xS(r){var n=Aa(),l=Fs,d=l.memoizedState;return NS(n,d,r)}function bS(r){var n=Aa();if(Fs===null)return n.memoizedState=r,r;var l=Fs.memoizedState;return NS(n,l,r)}function NS(r,n,l){var d=!cR(dc);if(d){if(!ya(l,n)){var f=vD();Yr.lanes=vr(Yr.lanes,f),jm(f),r.baseState=!0}return n}else return r.baseState&&(r.baseState=!1,Om()),r.memoizedState=l,l}function E3(r,n,l){var d=si();Zs(xR(d,ho)),r(!0);var f=mm.transition;mm.transition={};var x=mm.transition;mm.transition._updatedFibers=new Set;try{r(!1),n()}finally{if(Zs(d),mm.transition=f,f===null&&x._updatedFibers){var S=x._updatedFibers.size;S>10&&u("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),x._updatedFibers.clear()}}}function dx(){var r=sp(!1),n=r[0],l=r[1],d=E3.bind(null,l),f=Ai();return f.memoizedState=d,[n,d]}function DS(){var r=rx(),n=r[0],l=Aa(),d=l.memoizedState;return[n,d]}function SS(){var r=sx(),n=r[0],l=Aa(),d=l.memoizedState;return[n,d]}var OS=!1;function C3(){return OS}function mx(){var r=Ai(),n=Up(),l=n.identifierPrefix,d;if(mn()){var f=XT();d=":"+l+"R"+f;var x=pm++;x>0&&(d+="H"+x.toString(32)),d+=":"}else{var S=D3++;d=":"+l+"r"+S.toString(32)+":"}return r.memoizedState=d,d}function fp(){var r=Aa(),n=r.memoizedState;return n}function w3(r,n,l){typeof arguments[3]=="function"&&c("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var d=hl(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(yS(r))ES(n,f);else{var x=Z1(r,n,f,d);if(x!==null){var S=zn();zs(x,r,d,S),CS(x,n,d)}}wS(r,d)}function k3(r,n,l){typeof arguments[3]=="function"&&c("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var d=hl(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(yS(r))ES(n,f);else{var x=r.alternate;if(r.lanes===ut&&(x===null||x.lanes===ut)){var S=n.lastRenderedReducer;if(S!==null){var P;P=kt.current,kt.current=li;try{var M=n.lastRenderedState,ce=S(M,l);if(f.hasEagerState=!0,f.eagerState=ce,ya(ce,M)){m3(r,n,f,d);return}}catch{}finally{kt.current=P}}}var ge=Z1(r,n,f,d);if(ge!==null){var Le=zn();zs(ge,r,d,Le),CS(ge,n,d)}}wS(r,d)}function yS(r){var n=r.alternate;return r===Yr||n!==null&&n===Yr}function ES(r,n){fm=tp=!0;var l=r.pending;l===null?n.next=n:(n.next=l.next,l.next=n),r.pending=n}function CS(r,n,l){if(hD(l)){var d=n.lanes;d=gD(d,r.pendingLanes);var f=vr(d,l);n.lanes=f,_v(r,f)}}function wS(r,n,l){iv(r,n)}var pp={readContext:Rs,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:Me},kS=null,RS=null,TS=null,_S=null,Li=null,li=null,hp=null;{var fx=function(){c("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},rr=function(){c("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};kS={readContext:function(r){return Rs(r)},useCallback:function(r,n){return ot="useCallback",Br(),yu(n),lx(r,n)},useContext:function(r){return ot="useContext",Br(),Rs(r)},useEffect:function(r,n){return ot="useEffect",Br(),yu(n),ip(r,n)},useImperativeHandle:function(r,n,l){return ot="useImperativeHandle",Br(),yu(l),ox(r,n,l)},useInsertionEffect:function(r,n){return ot="useInsertionEffect",Br(),yu(n),ax(r,n)},useLayoutEffect:function(r,n){return ot="useLayoutEffect",Br(),yu(n),ix(r,n)},useMemo:function(r,n){ot="useMemo",Br(),yu(n);var l=kt.current;kt.current=Li;try{return cx(r,n)}finally{kt.current=l}},useReducer:function(r,n,l){ot="useReducer",Br();var d=kt.current;kt.current=Li;try{return Qg(r,n,l)}finally{kt.current=d}},useRef:function(r){return ot="useRef",Br(),nx(r)},useState:function(r){ot="useState",Br();var n=kt.current;kt.current=Li;try{return sp(r)}finally{kt.current=n}},useDebugValue:function(r,n){return ot="useDebugValue",Br(),void 0},useDeferredValue:function(r){return ot="useDeferredValue",Br(),ux(r)},useTransition:function(){return ot="useTransition",Br(),dx()},useMutableSource:function(r,n,l){return ot="useMutableSource",Br(),void 0},useSyncExternalStore:function(r,n,l){return ot="useSyncExternalStore",Br(),tx(r,n,l)},useId:function(){return ot="useId",Br(),mx()},unstable_isNewReconciler:Me},RS={readContext:function(r){return Rs(r)},useCallback:function(r,n){return ot="useCallback",St(),lx(r,n)},useContext:function(r){return ot="useContext",St(),Rs(r)},useEffect:function(r,n){return ot="useEffect",St(),ip(r,n)},useImperativeHandle:function(r,n,l){return ot="useImperativeHandle",St(),ox(r,n,l)},useInsertionEffect:function(r,n){return ot="useInsertionEffect",St(),ax(r,n)},useLayoutEffect:function(r,n){return ot="useLayoutEffect",St(),ix(r,n)},useMemo:function(r,n){ot="useMemo",St();var l=kt.current;kt.current=Li;try{return cx(r,n)}finally{kt.current=l}},useReducer:function(r,n,l){ot="useReducer",St();var d=kt.current;kt.current=Li;try{return Qg(r,n,l)}finally{kt.current=d}},useRef:function(r){return ot="useRef",St(),nx(r)},useState:function(r){ot="useState",St();var n=kt.current;kt.current=Li;try{return sp(r)}finally{kt.current=n}},useDebugValue:function(r,n){return ot="useDebugValue",St(),void 0},useDeferredValue:function(r){return ot="useDeferredValue",St(),ux(r)},useTransition:function(){return ot="useTransition",St(),dx()},useMutableSource:function(r,n,l){return ot="useMutableSource",St(),void 0},useSyncExternalStore:function(r,n,l){return ot="useSyncExternalStore",St(),tx(r,n,l)},useId:function(){return ot="useId",St(),mx()},unstable_isNewReconciler:Me},TS={readContext:function(r){return Rs(r)},useCallback:function(r,n){return ot="useCallback",St(),dp(r,n)},useContext:function(r){return ot="useContext",St(),Rs(r)},useEffect:function(r,n){return ot="useEffect",St(),gm(r,n)},useImperativeHandle:function(r,n,l){return ot="useImperativeHandle",St(),cp(r,n,l)},useInsertionEffect:function(r,n){return ot="useInsertionEffect",St(),op(r,n)},useLayoutEffect:function(r,n){return ot="useLayoutEffect",St(),lp(r,n)},useMemo:function(r,n){ot="useMemo",St();var l=kt.current;kt.current=li;try{return mp(r,n)}finally{kt.current=l}},useReducer:function(r,n,l){ot="useReducer",St();var d=kt.current;kt.current=li;try{return Zg(r,n,l)}finally{kt.current=d}},useRef:function(r){return ot="useRef",St(),np()},useState:function(r){ot="useState",St();var n=kt.current;kt.current=li;try{return rx(r)}finally{kt.current=n}},useDebugValue:function(r,n){return ot="useDebugValue",St(),up()},useDeferredValue:function(r){return ot="useDeferredValue",St(),xS(r)},useTransition:function(){return ot="useTransition",St(),DS()},useMutableSource:function(r,n,l){return ot="useMutableSource",St(),void 0},useSyncExternalStore:function(r,n,l){return ot="useSyncExternalStore",St(),rp(r,n)},useId:function(){return ot="useId",St(),fp()},unstable_isNewReconciler:Me},_S={readContext:function(r){return Rs(r)},useCallback:function(r,n){return ot="useCallback",St(),dp(r,n)},useContext:function(r){return ot="useContext",St(),Rs(r)},useEffect:function(r,n){return ot="useEffect",St(),gm(r,n)},useImperativeHandle:function(r,n,l){return ot="useImperativeHandle",St(),cp(r,n,l)},useInsertionEffect:function(r,n){return ot="useInsertionEffect",St(),op(r,n)},useLayoutEffect:function(r,n){return ot="useLayoutEffect",St(),lp(r,n)},useMemo:function(r,n){ot="useMemo",St();var l=kt.current;kt.current=hp;try{return mp(r,n)}finally{kt.current=l}},useReducer:function(r,n,l){ot="useReducer",St();var d=kt.current;kt.current=hp;try{return ex(r,n,l)}finally{kt.current=d}},useRef:function(r){return ot="useRef",St(),np()},useState:function(r){ot="useState",St();var n=kt.current;kt.current=hp;try{return sx(r)}finally{kt.current=n}},useDebugValue:function(r,n){return ot="useDebugValue",St(),up()},useDeferredValue:function(r){return ot="useDeferredValue",St(),bS(r)},useTransition:function(){return ot="useTransition",St(),SS()},useMutableSource:function(r,n,l){return ot="useMutableSource",St(),void 0},useSyncExternalStore:function(r,n,l){return ot="useSyncExternalStore",St(),rp(r,n)},useId:function(){return ot="useId",St(),fp()},unstable_isNewReconciler:Me},Li={readContext:function(r){return fx(),Rs(r)},useCallback:function(r,n){return ot="useCallback",rr(),Br(),lx(r,n)},useContext:function(r){return ot="useContext",rr(),Br(),Rs(r)},useEffect:function(r,n){return ot="useEffect",rr(),Br(),ip(r,n)},useImperativeHandle:function(r,n,l){return ot="useImperativeHandle",rr(),Br(),ox(r,n,l)},useInsertionEffect:function(r,n){return ot="useInsertionEffect",rr(),Br(),ax(r,n)},useLayoutEffect:function(r,n){return ot="useLayoutEffect",rr(),Br(),ix(r,n)},useMemo:function(r,n){ot="useMemo",rr(),Br();var l=kt.current;kt.current=Li;try{return cx(r,n)}finally{kt.current=l}},useReducer:function(r,n,l){ot="useReducer",rr(),Br();var d=kt.current;kt.current=Li;try{return Qg(r,n,l)}finally{kt.current=d}},useRef:function(r){return ot="useRef",rr(),Br(),nx(r)},useState:function(r){ot="useState",rr(),Br();var n=kt.current;kt.current=Li;try{return sp(r)}finally{kt.current=n}},useDebugValue:function(r,n){return ot="useDebugValue",rr(),Br(),void 0},useDeferredValue:function(r){return ot="useDeferredValue",rr(),Br(),ux(r)},useTransition:function(){return ot="useTransition",rr(),Br(),dx()},useMutableSource:function(r,n,l){return ot="useMutableSource",rr(),Br(),void 0},useSyncExternalStore:function(r,n,l){return ot="useSyncExternalStore",rr(),Br(),tx(r,n,l)},useId:function(){return ot="useId",rr(),Br(),mx()},unstable_isNewReconciler:Me},li={readContext:function(r){return fx(),Rs(r)},useCallback:function(r,n){return ot="useCallback",rr(),St(),dp(r,n)},useContext:function(r){return ot="useContext",rr(),St(),Rs(r)},useEffect:function(r,n){return ot="useEffect",rr(),St(),gm(r,n)},useImperativeHandle:function(r,n,l){return ot="useImperativeHandle",rr(),St(),cp(r,n,l)},useInsertionEffect:function(r,n){return ot="useInsertionEffect",rr(),St(),op(r,n)},useLayoutEffect:function(r,n){return ot="useLayoutEffect",rr(),St(),lp(r,n)},useMemo:function(r,n){ot="useMemo",rr(),St();var l=kt.current;kt.current=li;try{return mp(r,n)}finally{kt.current=l}},useReducer:function(r,n,l){ot="useReducer",rr(),St();var d=kt.current;kt.current=li;try{return Zg(r,n,l)}finally{kt.current=d}},useRef:function(r){return ot="useRef",rr(),St(),np()},useState:function(r){ot="useState",rr(),St();var n=kt.current;kt.current=li;try{return rx(r)}finally{kt.current=n}},useDebugValue:function(r,n){return ot="useDebugValue",rr(),St(),up()},useDeferredValue:function(r){return ot="useDeferredValue",rr(),St(),xS(r)},useTransition:function(){return ot="useTransition",rr(),St(),DS()},useMutableSource:function(r,n,l){return ot="useMutableSource",rr(),St(),void 0},useSyncExternalStore:function(r,n,l){return ot="useSyncExternalStore",rr(),St(),rp(r,n)},useId:function(){return ot="useId",rr(),St(),fp()},unstable_isNewReconciler:Me},hp={readContext:function(r){return fx(),Rs(r)},useCallback:function(r,n){return ot="useCallback",rr(),St(),dp(r,n)},useContext:function(r){return ot="useContext",rr(),St(),Rs(r)},useEffect:function(r,n){return ot="useEffect",rr(),St(),gm(r,n)},useImperativeHandle:function(r,n,l){return ot="useImperativeHandle",rr(),St(),cp(r,n,l)},useInsertionEffect:function(r,n){return ot="useInsertionEffect",rr(),St(),op(r,n)},useLayoutEffect:function(r,n){return ot="useLayoutEffect",rr(),St(),lp(r,n)},useMemo:function(r,n){ot="useMemo",rr(),St();var l=kt.current;kt.current=li;try{return mp(r,n)}finally{kt.current=l}},useReducer:function(r,n,l){ot="useReducer",rr(),St();var d=kt.current;kt.current=li;try{return ex(r,n,l)}finally{kt.current=d}},useRef:function(r){return ot="useRef",rr(),St(),np()},useState:function(r){ot="useState",rr(),St();var n=kt.current;kt.current=li;try{return sx(r)}finally{kt.current=n}},useDebugValue:function(r,n){return ot="useDebugValue",rr(),St(),up()},useDeferredValue:function(r){return ot="useDeferredValue",rr(),St(),bS(r)},useTransition:function(){return ot="useTransition",rr(),St(),SS()},useMutableSource:function(r,n,l){return ot="useMutableSource",rr(),St(),void 0},useSyncExternalStore:function(r,n,l){return ot="useSyncExternalStore",rr(),St(),rp(r,n)},useId:function(){return ot="useId",rr(),St(),fp()},unstable_isNewReconciler:Me}}var dl=s.unstable_now,PS=0,vp=-1,xm=-1,gp=-1,px=!1,xp=!1;function US(){return px}function R3(){xp=!0}function T3(){px=!1,xp=!1}function _3(){px=xp,xp=!1}function VS(){return PS}function jS(){PS=dl()}function hx(r){xm=dl(),r.actualStartTime<0&&(r.actualStartTime=dl())}function AS(r){xm=-1}function bp(r,n){if(xm>=0){var l=dl()-xm;r.actualDuration+=l,n&&(r.selfBaseDuration=l),xm=-1}}function Mi(r){if(vp>=0){var n=dl()-vp;vp=-1;for(var l=r.return;l!==null;){switch(l.tag){case b:var d=l.stateNode;d.effectDuration+=n;return;case le:var f=l.stateNode;f.effectDuration+=n;return}l=l.return}}}function vx(r){if(gp>=0){var n=dl()-gp;gp=-1;for(var l=r.return;l!==null;){switch(l.tag){case b:var d=l.stateNode;d!==null&&(d.passiveEffectDuration+=n);return;case le:var f=l.stateNode;f!==null&&(f.passiveEffectDuration+=n);return}l=l.return}}}function Ii(){vp=dl()}function gx(){gp=dl()}function xx(r){for(var n=r.child;n;)r.actualDuration+=n.actualDuration,n=n.sibling}function ci(r,n){if(r&&r.defaultProps){var l=mt({},n),d=r.defaultProps;for(var f in d)l[f]===void 0&&(l[f]=d[f]);return l}return n}var bx={},Nx,Dx,Sx,Ox,yx,LS,Np,Ex,Cx,wx,bm;{Nx=new Set,Dx=new Set,Sx=new Set,Ox=new Set,Ex=new Set,yx=new Set,Cx=new Set,wx=new Set,bm=new Set;var MS=new Set;Np=function(r,n){if(!(r===null||typeof r=="function")){var l=n+"_"+r;MS.has(l)||(MS.add(l),c("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",n,r))}},LS=function(r,n){if(n===void 0){var l=Ur(r)||"Component";yx.has(l)||(yx.add(l),c("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",l))}},Object.defineProperty(bx,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(bx)}function kx(r,n,l,d){var f=r.memoizedState,x=l(d,f);{if(r.mode&hs){Js(!0);try{x=l(d,f)}finally{Js(!1)}}LS(n,x)}var S=x==null?f:mt({},f,x);if(r.memoizedState=S,r.lanes===ut){var P=r.updateQueue;P.baseState=S}}var Rx={isMounted:$n,enqueueSetState:function(r,n,l){var d=Yo(r),f=zn(),x=hl(d),S=So(f,x);S.payload=n,l!=null&&(Np(l,"setState"),S.callback=l);var P=ol(d,S,x);P!==null&&(zs(P,d,x,f),K0(P,d,x)),iv(d,x)},enqueueReplaceState:function(r,n,l){var d=Yo(r),f=zn(),x=hl(d),S=So(f,x);S.tag=tS,S.payload=n,l!=null&&(Np(l,"replaceState"),S.callback=l);var P=ol(d,S,x);P!==null&&(zs(P,d,x,f),K0(P,d,x)),iv(d,x)},enqueueForceUpdate:function(r,n){var l=Yo(r),d=zn(),f=hl(l),x=So(d,f);x.tag=G0,n!=null&&(Np(n,"forceUpdate"),x.callback=n);var S=ol(l,x,f);S!==null&&(zs(S,l,f,d),K0(S,l,f)),Zk(l,f)}};function IS(r,n,l,d,f,x,S){var P=r.stateNode;if(typeof P.shouldComponentUpdate=="function"){var M=P.shouldComponentUpdate(d,x,S);{if(r.mode&hs){Js(!0);try{M=P.shouldComponentUpdate(d,x,S)}finally{Js(!1)}}M===void 0&&c("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Ur(n)||"Component")}return M}return n.prototype&&n.prototype.isPureReactComponent?!$d(l,d)||!$d(f,x):!0}function P3(r,n,l){var d=r.stateNode;{var f=Ur(n)||"Component",x=d.render;x||(n.prototype&&typeof n.prototype.render=="function"?c("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",f):c("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",f)),d.getInitialState&&!d.getInitialState.isReactClassApproved&&!d.state&&c("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",f),d.getDefaultProps&&!d.getDefaultProps.isReactClassApproved&&c("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",f),d.propTypes&&c("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",f),d.contextType&&c("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",f),n.childContextTypes&&!bm.has(n)&&(r.mode&hs)===Wt&&(bm.add(n),c(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,f)),n.contextTypes&&!bm.has(n)&&(r.mode&hs)===Wt&&(bm.add(n),c(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,f)),d.contextTypes&&c("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",f),n.contextType&&n.contextTypes&&!Cx.has(n)&&(Cx.add(n),c("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",f)),typeof d.componentShouldUpdate=="function"&&c("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",f),n.prototype&&n.prototype.isPureReactComponent&&typeof d.shouldComponentUpdate<"u"&&c("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Ur(n)||"A pure component"),typeof d.componentDidUnmount=="function"&&c("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",f),typeof d.componentDidReceiveProps=="function"&&c("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",f),typeof d.componentWillRecieveProps=="function"&&c("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",f),typeof d.UNSAFE_componentWillRecieveProps=="function"&&c("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",f);var S=d.props!==l;d.props!==void 0&&S&&c("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",f,f),d.defaultProps&&c("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",f,f),typeof d.getSnapshotBeforeUpdate=="function"&&typeof d.componentDidUpdate!="function"&&!Sx.has(n)&&(Sx.add(n),c("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Ur(n))),typeof d.getDerivedStateFromProps=="function"&&c("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",f),typeof d.getDerivedStateFromError=="function"&&c("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",f),typeof n.getSnapshotBeforeUpdate=="function"&&c("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",f);var P=d.state;P&&(typeof P!="object"||Lt(P))&&c("%s.state: must be set to an object or null",f),typeof d.getChildContext=="function"&&typeof n.childContextTypes!="object"&&c("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",f)}}function FS(r,n){n.updater=Rx,r.stateNode=n,ev(n,r),n._reactInternalInstance=bx}function $S(r,n,l){var d=!1,f=Ea,x=Ea,S=n.contextType;if("contextType"in n){var P=S===null||S!==void 0&&S.$$typeof===L&&S._context===void 0;if(!P&&!wx.has(n)){wx.add(n);var M="";S===void 0?M=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof S!="object"?M=" However, it is set to a "+typeof S+".":S.$$typeof===C?M=" Did you accidentally pass the Context.Provider instead?":S._context!==void 0?M=" Did you accidentally pass the Context.Consumer instead?":M=" However, it is set to an object with keys {"+Object.keys(S).join(", ")+"}.",c("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Ur(n)||"Component",M)}}if(typeof S=="object"&&S!==null)x=Rs(S);else{f=mu(r,n,!0);var ce=n.contextTypes;d=ce!=null,x=d?fu(r,f):Ea}var ge=new n(l,x);if(r.mode&hs){Js(!0);try{ge=new n(l,x)}finally{Js(!1)}}var Le=r.memoizedState=ge.state!==null&&ge.state!==void 0?ge.state:null;FS(r,ge);{if(typeof n.getDerivedStateFromProps=="function"&&Le===null){var Ae=Ur(n)||"Component";Dx.has(Ae)||(Dx.add(Ae),c("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",Ae,ge.state===null?"null":"undefined",Ae))}if(typeof n.getDerivedStateFromProps=="function"||typeof ge.getSnapshotBeforeUpdate=="function"){var Ye=null,Je=null,st=null;if(typeof ge.componentWillMount=="function"&&ge.componentWillMount.__suppressDeprecationWarning!==!0?Ye="componentWillMount":typeof ge.UNSAFE_componentWillMount=="function"&&(Ye="UNSAFE_componentWillMount"),typeof ge.componentWillReceiveProps=="function"&&ge.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Je="componentWillReceiveProps":typeof ge.UNSAFE_componentWillReceiveProps=="function"&&(Je="UNSAFE_componentWillReceiveProps"),typeof ge.componentWillUpdate=="function"&&ge.componentWillUpdate.__suppressDeprecationWarning!==!0?st="componentWillUpdate":typeof ge.UNSAFE_componentWillUpdate=="function"&&(st="UNSAFE_componentWillUpdate"),Ye!==null||Je!==null||st!==null){var Ot=Ur(n)||"Component",Xt=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Ox.has(Ot)||(Ox.add(Ot),c(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,Ot,Xt,Ye!==null?`
  `+Ye:"",Je!==null?`
  `+Je:"",st!==null?`
  `+st:""))}}}return d&&T1(r,f,x),ge}function U3(r,n){var l=n.state;typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),l!==n.state&&(c("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Bt(r)||"Component"),Rx.enqueueReplaceState(n,n.state,null))}function BS(r,n,l,d){var f=n.state;if(typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,d),n.state!==f){{var x=Bt(r)||"Component";Nx.has(x)||(Nx.add(x),c("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",x))}Rx.enqueueReplaceState(n,n.state,null)}}function Tx(r,n,l,d){P3(r,n,l);var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Ig(r);var x=n.contextType;if(typeof x=="object"&&x!==null)f.context=Rs(x);else{var S=mu(r,n,!0);f.context=fu(r,S)}{if(f.state===l){var P=Ur(n)||"Component";Ex.has(P)||(Ex.add(P),c("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",P))}r.mode&hs&&ii.recordLegacyContextWarning(r,f),ii.recordUnsafeLifecycleWarnings(r,f)}f.state=r.memoizedState;var M=n.getDerivedStateFromProps;if(typeof M=="function"&&(kx(r,n,M,l),f.state=r.memoizedState),typeof n.getDerivedStateFromProps!="function"&&typeof f.getSnapshotBeforeUpdate!="function"&&(typeof f.UNSAFE_componentWillMount=="function"||typeof f.componentWillMount=="function")&&(U3(r,f),q0(r,l,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"){var ce=Tr;ce|=V,(r.mode&_i)!==Wt&&(ce|=fe),r.flags|=ce}}function V3(r,n,l,d){var f=r.stateNode,x=r.memoizedProps;f.props=x;var S=f.context,P=n.contextType,M=Ea;if(typeof P=="object"&&P!==null)M=Rs(P);else{var ce=mu(r,n,!0);M=fu(r,ce)}var ge=n.getDerivedStateFromProps,Le=typeof ge=="function"||typeof f.getSnapshotBeforeUpdate=="function";!Le&&(typeof f.UNSAFE_componentWillReceiveProps=="function"||typeof f.componentWillReceiveProps=="function")&&(x!==l||S!==M)&&BS(r,f,l,M),sS();var Ae=r.memoizedState,Ye=f.state=Ae;if(q0(r,l,f,d),Ye=r.memoizedState,x===l&&Ae===Ye&&!_0()&&!J0()){if(typeof f.componentDidMount=="function"){var Je=Tr;Je|=V,(r.mode&_i)!==Wt&&(Je|=fe),r.flags|=Je}return!1}typeof ge=="function"&&(kx(r,n,ge,l),Ye=r.memoizedState);var st=J0()||IS(r,n,x,l,Ae,Ye,M);if(st){if(!Le&&(typeof f.UNSAFE_componentWillMount=="function"||typeof f.componentWillMount=="function")&&(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"){var Ot=Tr;Ot|=V,(r.mode&_i)!==Wt&&(Ot|=fe),r.flags|=Ot}}else{if(typeof f.componentDidMount=="function"){var Xt=Tr;Xt|=V,(r.mode&_i)!==Wt&&(Xt|=fe),r.flags|=Xt}r.memoizedProps=l,r.memoizedState=Ye}return f.props=l,f.state=Ye,f.context=M,st}function j3(r,n,l,d,f){var x=n.stateNode;rS(r,n);var S=n.memoizedProps,P=n.type===n.elementType?S:ci(n.type,S);x.props=P;var M=n.pendingProps,ce=x.context,ge=l.contextType,Le=Ea;if(typeof ge=="object"&&ge!==null)Le=Rs(ge);else{var Ae=mu(n,l,!0);Le=fu(n,Ae)}var Ye=l.getDerivedStateFromProps,Je=typeof Ye=="function"||typeof x.getSnapshotBeforeUpdate=="function";!Je&&(typeof x.UNSAFE_componentWillReceiveProps=="function"||typeof x.componentWillReceiveProps=="function")&&(S!==M||ce!==Le)&&BS(n,x,d,Le),sS();var st=n.memoizedState,Ot=x.state=st;if(q0(n,d,x,f),Ot=n.memoizedState,S===M&&st===Ot&&!_0()&&!J0()&&!be)return typeof x.componentDidUpdate=="function"&&(S!==r.memoizedProps||st!==r.memoizedState)&&(n.flags|=Tr),typeof x.getSnapshotBeforeUpdate=="function"&&(S!==r.memoizedProps||st!==r.memoizedState)&&(n.flags|=Ko),!1;typeof Ye=="function"&&(kx(n,l,Ye,d),Ot=n.memoizedState);var Xt=J0()||IS(n,l,P,d,st,Ot,Le)||be;return Xt?(!Je&&(typeof x.UNSAFE_componentWillUpdate=="function"||typeof x.componentWillUpdate=="function")&&(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,Ot,Le),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,Ot,Le)),typeof x.componentDidUpdate=="function"&&(n.flags|=Tr),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=Ko)):(typeof x.componentDidUpdate=="function"&&(S!==r.memoizedProps||st!==r.memoizedState)&&(n.flags|=Tr),typeof x.getSnapshotBeforeUpdate=="function"&&(S!==r.memoizedProps||st!==r.memoizedState)&&(n.flags|=Ko),n.memoizedProps=d,n.memoizedState=Ot),x.props=d,x.state=Ot,x.context=Le,Xt}function mc(r,n){return{value:r,source:n,stack:Ga(n),digest:null}}function _x(r,n,l){return{value:r,source:null,stack:l??null,digest:n??null}}function A3(r,n){return!0}function Px(r,n){try{var l=A3(r,n);if(l===!1)return;var d=n.value,f=n.source,x=n.stack,S=x!==null?x:"";if(d!=null&&d._suppressLogging){if(r.tag===g)return;console.error(d)}var P=f?Bt(f):null,M=P?"The above error occurred in the <"+P+"> component:":"The above error occurred in one of your React components:",ce;if(r.tag===b)ce=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var ge=Bt(r)||"Anonymous";ce="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+ge+".")}var Le=M+`
`+S+`

`+(""+ce);console.error(Le)}catch(Ae){setTimeout(function(){throw Ae})}}var L3=typeof WeakMap=="function"?WeakMap:Map;function XS(r,n,l){var d=So(ss,l);d.tag=Lg,d.payload={element:null};var f=n.value;return d.callback=function(){RP(f),Px(r,n)},d}function Ux(r,n,l){var d=So(ss,l);d.tag=Lg;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var x=n.value;d.payload=function(){return f(x)},d.callback=function(){ey(r),Px(r,n)}}var S=r.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){ey(r),Px(r,n),typeof f!="function"&&wP(this);var M=n.value,ce=n.stack;this.componentDidCatch(M,{componentStack:ce!==null?ce:""}),typeof f!="function"&&(Da(r.lanes,tr)||c("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Bt(r)||"Unknown"))}),d}function HS(r,n,l){var d=r.pingCache,f;if(d===null?(d=r.pingCache=new L3,f=new Set,d.set(n,f)):(f=d.get(n),f===void 0&&(f=new Set,d.set(n,f))),!f.has(l)){f.add(l);var x=TP.bind(null,r,n,l);ri&&Am(r,l),n.then(x,x)}}function M3(r,n,l,d){var f=r.updateQueue;if(f===null){var x=new Set;x.add(l),r.updateQueue=x}else f.add(l)}function I3(r,n){var l=r.tag;if((r.mode&Cr)===Wt&&(l===h||l===R||l===X)){var d=r.alternate;d?(r.updateQueue=d.updateQueue,r.memoizedState=d.memoizedState,r.lanes=d.lanes):(r.updateQueue=null,r.memoizedState=null)}}function zS(r){var n=r;do{if(n.tag===W&&b3(n))return n;n=n.return}while(n!==null);return null}function GS(r,n,l,d,f){if((r.mode&Cr)===Wt){if(r===n)r.flags|=un;else{if(r.flags|=Rr,l.flags|=p,l.flags&=-52805,l.tag===g){var x=l.alternate;if(x===null)l.tag=_;else{var S=So(ss,tr);S.tag=G0,ol(l,S,tr)}}l.lanes=vr(l.lanes,tr)}return r}return r.flags|=un,r.lanes=f,r}function F3(r,n,l,d,f){if(l.flags|=fo,ri&&Am(r,f),d!==null&&typeof d=="object"&&typeof d.then=="function"){var x=d;I3(l),mn()&&l.mode&Cr&&L1();var S=zS(n);if(S!==null){S.flags&=~Za,GS(S,n,l,r,f),S.mode&Cr&&HS(r,x,f),M3(S,r,x);return}else{if(!lR(f)){HS(r,x,f),mb();return}var P=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");d=P}}else if(mn()&&l.mode&Cr){L1();var M=zS(n);if(M!==null){(M.flags&un)===yt&&(M.flags|=Za),GS(M,n,l,r,f),Eg(mc(d,l));return}}d=mc(d,l),bP(d);var ce=n;do{switch(ce.tag){case b:{var ge=d;ce.flags|=un;var Le=Cd(f);ce.lanes=vr(ce.lanes,Le);var Ae=XS(ce,ge,Le);Fg(ce,Ae);return}case g:var Ye=d,Je=ce.type,st=ce.stateNode;if((ce.flags&Rr)===yt&&(typeof Je.getDerivedStateFromError=="function"||st!==null&&typeof st.componentDidCatch=="function"&&!zO(st))){ce.flags|=un;var Ot=Cd(f);ce.lanes=vr(ce.lanes,Ot);var Xt=Ux(ce,Ye,Ot);Fg(ce,Xt);return}break}ce=ce.return}while(ce!==null)}function $3(){return null}var Nm=t.ReactCurrentOwner,ui=!1,Vx,Dm,jx,Ax,Lx,fc,Mx,Dp,Sm;Vx={},Dm={},jx={},Ax={},Lx={},fc=!1,Mx={},Dp={},Sm={};function Xn(r,n,l,d){r===null?n.child=K1(n,null,l,d):n.child=gu(n,r.child,l,d)}function B3(r,n,l,d){n.child=gu(n,r.child,null,d),n.child=gu(n,null,l,d)}function WS(r,n,l,d,f){if(n.type!==n.elementType){var x=l.propTypes;x&&ni(x,d,"prop",Ur(l))}var S=l.render,P=n.ref,M,ce;bu(n,f),Nd(n);{if(Nm.current=n,Es(!0),M=Eu(r,n,S,d,P,f),ce=Cu(),n.mode&hs){Js(!0);try{M=Eu(r,n,S,d,P,f),ce=Cu()}finally{Js(!1)}}Es(!1)}return Qc(),r!==null&&!ui?(cS(r,n,f),Oo(r,n,f)):(mn()&&ce&&bg(n),n.flags|=uo,Xn(r,n,M,f),n.child)}function YS(r,n,l,d,f){if(r===null){var x=l.type;if(WP(x)&&l.compare===null&&l.defaultProps===void 0){var S=x;return S=Vu(x),n.tag=X,n.type=S,$x(n,x),KS(r,n,S,d,f)}{var P=x.propTypes;if(P&&ni(P,d,"prop",Ur(x)),l.defaultProps!==void 0){var M=Ur(x)||"Unknown";Sm[M]||(c("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",M),Sm[M]=!0)}}var ce=Ob(l.type,null,d,n,n.mode,f);return ce.ref=n.ref,ce.return=n,n.child=ce,ce}{var ge=l.type,Le=ge.propTypes;Le&&ni(Le,d,"prop",Ur(ge))}var Ae=r.child,Ye=Wx(r,f);if(!Ye){var Je=Ae.memoizedProps,st=l.compare;if(st=st!==null?st:$d,st(Je,d)&&r.ref===n.ref)return Oo(r,n,f)}n.flags|=uo;var Ot=xc(Ae,d);return Ot.ref=n.ref,Ot.return=n,n.child=Ot,Ot}function KS(r,n,l,d,f){if(n.type!==n.elementType){var x=n.elementType;if(x.$$typeof===Ne){var S=x,P=S._payload,M=S._init;try{x=M(P)}catch{x=null}var ce=x&&x.propTypes;ce&&ni(ce,d,"prop",Ur(x))}}if(r!==null){var ge=r.memoizedProps;if($d(ge,d)&&r.ref===n.ref&&n.type===r.type)if(ui=!1,n.pendingProps=d=ge,Wx(r,f))(r.flags&p)!==yt&&(ui=!0);else return n.lanes=r.lanes,Oo(r,n,f)}return Ix(r,n,l,d,f)}function qS(r,n,l){var d=n.pendingProps,f=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden"||Ie)if((n.mode&Cr)===Wt){var S={baseLanes:ut,cachePool:null,transitions:null};n.memoizedState=S,Vp(n,l)}else if(Da(l,Na)){var Le={baseLanes:ut,cachePool:null,transitions:null};n.memoizedState=Le;var Ae=x!==null?x.baseLanes:l;Vp(n,Ae)}else{var P=null,M;if(x!==null){var ce=x.baseLanes;M=vr(ce,l)}else M=l;n.lanes=n.childLanes=Na;var ge={baseLanes:M,cachePool:P,transitions:null};return n.memoizedState=ge,n.updateQueue=null,Vp(n,M),null}else{var Ye;x!==null?(Ye=vr(x.baseLanes,l),n.memoizedState=null):Ye=l,Vp(n,Ye)}return Xn(r,n,f,l),n.child}function X3(r,n,l){var d=n.pendingProps;return Xn(r,n,d,l),n.child}function H3(r,n,l){var d=n.pendingProps.children;return Xn(r,n,d,l),n.child}function z3(r,n,l){{n.flags|=Tr;{var d=n.stateNode;d.effectDuration=0,d.passiveEffectDuration=0}}var f=n.pendingProps,x=f.children;return Xn(r,n,x,l),n.child}function JS(r,n){var l=n.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(n.flags|=ki,n.flags|=D)}function Ix(r,n,l,d,f){if(n.type!==n.elementType){var x=l.propTypes;x&&ni(x,d,"prop",Ur(l))}var S;{var P=mu(n,l,!0);S=fu(n,P)}var M,ce;bu(n,f),Nd(n);{if(Nm.current=n,Es(!0),M=Eu(r,n,l,d,S,f),ce=Cu(),n.mode&hs){Js(!0);try{M=Eu(r,n,l,d,S,f),ce=Cu()}finally{Js(!1)}}Es(!1)}return Qc(),r!==null&&!ui?(cS(r,n,f),Oo(r,n,f)):(mn()&&ce&&bg(n),n.flags|=uo,Xn(r,n,M,f),n.child)}function QS(r,n,l,d,f){{switch(lU(n)){case!1:{var x=n.stateNode,S=n.type,P=new S(n.memoizedProps,x.context),M=P.state;x.updater.enqueueSetState(x,M,null);break}case!0:{n.flags|=Rr,n.flags|=un;var ce=new Error("Simulated error coming from DevTools"),ge=Cd(f);n.lanes=vr(n.lanes,ge);var Le=Ux(n,mc(ce,n),ge);Fg(n,Le);break}}if(n.type!==n.elementType){var Ae=l.propTypes;Ae&&ni(Ae,d,"prop",Ur(l))}}var Ye;Vi(l)?(Ye=!0,U0(n)):Ye=!1,bu(n,f);var Je=n.stateNode,st;Je===null?(Op(r,n),$S(n,l,d),Tx(n,l,d,f),st=!0):r===null?st=V3(n,l,d,f):st=j3(r,n,l,d,f);var Ot=Fx(r,n,l,st,Ye,f);{var Xt=n.stateNode;st&&Xt.props!==d&&(fc||c("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Bt(n)||"a component"),fc=!0)}return Ot}function Fx(r,n,l,d,f,x){JS(r,n);var S=(n.flags&Rr)!==yt;if(!d&&!S)return f&&U1(n,l,!1),Oo(r,n,x);var P=n.stateNode;Nm.current=n;var M;if(S&&typeof l.getDerivedStateFromError!="function")M=null,AS();else{Nd(n);{if(Es(!0),M=P.render(),n.mode&hs){Js(!0);try{P.render()}finally{Js(!1)}}Es(!1)}Qc()}return n.flags|=uo,r!==null&&S?B3(r,n,M,x):Xn(r,n,M,x),n.memoizedState=P.state,f&&U1(n,l,!0),n.child}function ZS(r){var n=r.stateNode;n.pendingContext?_1(r,n.pendingContext,n.pendingContext!==n.context):n.context&&_1(r,n.context,!1),$g(r,n.containerInfo)}function G3(r,n,l){if(ZS(n),r===null)throw new Error("Should have a current fiber. This is a bug in React.");var d=n.pendingProps,f=n.memoizedState,x=f.element;rS(r,n),q0(n,d,null,l);var S=n.memoizedState;n.stateNode;var P=S.element;if(f.isDehydrated){var M={element:P,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},ce=n.updateQueue;if(ce.baseState=M,n.memoizedState=M,n.flags&Za){var ge=mc(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),n);return eO(r,n,P,l,ge)}else if(P!==x){var Le=mc(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),n);return eO(r,n,P,l,Le)}else{KT(n);var Ae=K1(n,null,P,l);n.child=Ae;for(var Ye=Ae;Ye;)Ye.flags=Ye.flags&~ps|cn,Ye=Ye.sibling}}else{if(vu(),P===x)return Oo(r,n,l);Xn(r,n,P,l)}return n.child}function eO(r,n,l,d,f){return vu(),Eg(f),n.flags|=Za,Xn(r,n,l,d),n.child}function W3(r,n,l){iS(n),r===null&&yg(n);var d=n.type,f=n.pendingProps,x=r!==null?r.memoizedProps:null,S=f.children,P=ag(d,f);return P?S=null:x!==null&&ag(d,x)&&(n.flags|=Yl),JS(r,n),Xn(r,n,S,l),n.child}function Y3(r,n){return r===null&&yg(n),null}function K3(r,n,l,d){Op(r,n);var f=n.pendingProps,x=l,S=x._payload,P=x._init,M=P(S);n.type=M;var ce=n.tag=YP(M),ge=ci(M,f),Le;switch(ce){case h:return $x(n,M),n.type=M=Vu(M),Le=Ix(null,n,M,ge,d),Le;case g:return n.type=M=gb(M),Le=QS(null,n,M,ge,d),Le;case R:return n.type=M=xb(M),Le=WS(null,n,M,ge,d),Le;case ee:{if(n.type!==n.elementType){var Ae=M.propTypes;Ae&&ni(Ae,ge,"prop",Ur(M))}return Le=YS(null,n,M,ci(M.type,ge),d),Le}}var Ye="";throw M!==null&&typeof M=="object"&&M.$$typeof===Ne&&(Ye=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+M+". "+("Lazy element type must resolve to a class or function."+Ye))}function q3(r,n,l,d,f){Op(r,n),n.tag=g;var x;return Vi(l)?(x=!0,U0(n)):x=!1,bu(n,f),$S(n,l,d),Tx(n,l,d,f),Fx(null,n,l,!0,x,f)}function J3(r,n,l,d){Op(r,n);var f=n.pendingProps,x;{var S=mu(n,l,!1);x=fu(n,S)}bu(n,d);var P,M;Nd(n);{if(l.prototype&&typeof l.prototype.render=="function"){var ce=Ur(l)||"Unknown";Vx[ce]||(c("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",ce,ce),Vx[ce]=!0)}n.mode&hs&&ii.recordLegacyContextWarning(n,null),Es(!0),Nm.current=n,P=Eu(null,n,l,f,x,d),M=Cu(),Es(!1)}if(Qc(),n.flags|=uo,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0){var ge=Ur(l)||"Unknown";Dm[ge]||(c("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",ge,ge,ge),Dm[ge]=!0)}if(typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0){{var Le=Ur(l)||"Unknown";Dm[Le]||(c("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",Le,Le,Le),Dm[Le]=!0)}n.tag=g,n.memoizedState=null,n.updateQueue=null;var Ae=!1;return Vi(l)?(Ae=!0,U0(n)):Ae=!1,n.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Ig(n),FS(n,P),Tx(n,l,f,d),Fx(null,n,l,!0,Ae,d)}else{if(n.tag=h,n.mode&hs){Js(!0);try{P=Eu(null,n,l,f,x,d),M=Cu()}finally{Js(!1)}}return mn()&&M&&bg(n),Xn(null,n,P,d),$x(n,l),n.child}}function $x(r,n){{if(n&&n.childContextTypes&&c("%s(...): childContextTypes cannot be defined on a function component.",n.displayName||n.name||"Component"),r.ref!==null){var l="",d=Ci();d&&(l+=`

Check the render method of \``+d+"`.");var f=d||"",x=r._debugSource;x&&(f=x.fileName+":"+x.lineNumber),Lx[f]||(Lx[f]=!0,c("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",l))}if(n.defaultProps!==void 0){var S=Ur(n)||"Unknown";Sm[S]||(c("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",S),Sm[S]=!0)}if(typeof n.getDerivedStateFromProps=="function"){var P=Ur(n)||"Unknown";Ax[P]||(c("%s: Function components do not support getDerivedStateFromProps.",P),Ax[P]=!0)}if(typeof n.contextType=="object"&&n.contextType!==null){var M=Ur(n)||"Unknown";jx[M]||(c("%s: Function components do not support contextType.",M),jx[M]=!0)}}}var Bx={dehydrated:null,treeContext:null,retryLane:Qs};function Xx(r){return{baseLanes:r,cachePool:$3(),transitions:null}}function Q3(r,n){var l=null;return{baseLanes:vr(r.baseLanes,n),cachePool:l,transitions:r.transitions}}function Z3(r,n,l,d){if(n!==null){var f=n.memoizedState;if(f===null)return!1}return Hg(r,dm)}function e_(r,n){return r0(r.childLanes,n)}function tO(r,n,l){var d=n.pendingProps;cU(n)&&(n.flags|=Rr);var f=oi.current,x=!1,S=(n.flags&Rr)!==yt;if(S||Z3(f,r)?(x=!0,n.flags&=~Rr):(r===null||r.memoizedState!==null)&&(f=x3(f,lS)),f=Du(f),cl(n,f),r===null){yg(n);var P=n.memoizedState;if(P!==null){var M=P.dehydrated;if(M!==null)return a_(n,M)}var ce=d.children,ge=d.fallback;if(x){var Le=t_(n,ce,ge,l),Ae=n.child;return Ae.memoizedState=Xx(l),n.memoizedState=Bx,Le}else return Hx(n,ce)}else{var Ye=r.memoizedState;if(Ye!==null){var Je=Ye.dehydrated;if(Je!==null)return i_(r,n,S,d,Je,Ye,l)}if(x){var st=d.fallback,Ot=d.children,Xt=s_(r,n,Ot,st,l),It=n.child,kr=r.child.memoizedState;return It.memoizedState=kr===null?Xx(l):Q3(kr,l),It.childLanes=e_(r,l),n.memoizedState=Bx,Xt}else{var Dr=d.children,$e=r_(r,n,Dr,l);return n.memoizedState=null,$e}}}function Hx(r,n,l){var d=r.mode,f={mode:"visible",children:n},x=zx(f,d);return x.return=r,r.child=x,x}function t_(r,n,l,d){var f=r.mode,x=r.child,S={mode:"hidden",children:n},P,M;return(f&Cr)===Wt&&x!==null?(P=x,P.childLanes=ut,P.pendingProps=S,r.mode&Wr&&(P.actualDuration=0,P.actualStartTime=-1,P.selfBaseDuration=0,P.treeBaseDuration=0),M=gl(l,f,d,null)):(P=zx(S,f),M=gl(l,f,d,null)),P.return=r,M.return=r,P.sibling=M,r.child=P,M}function zx(r,n,l){return ry(r,n,ut,null)}function rO(r,n){return xc(r,n)}function r_(r,n,l,d){var f=r.child,x=f.sibling,S=rO(f,{mode:"visible",children:l});if((n.mode&Cr)===Wt&&(S.lanes=d),S.return=n,S.sibling=null,x!==null){var P=n.deletions;P===null?(n.deletions=[x],n.flags|=Qa):P.push(x)}return n.child=S,S}function s_(r,n,l,d,f){var x=n.mode,S=r.child,P=S.sibling,M={mode:"hidden",children:l},ce;if((x&Cr)===Wt&&n.child!==S){var ge=n.child;ce=ge,ce.childLanes=ut,ce.pendingProps=M,n.mode&Wr&&(ce.actualDuration=0,ce.actualStartTime=-1,ce.selfBaseDuration=S.selfBaseDuration,ce.treeBaseDuration=S.treeBaseDuration),n.deletions=null}else ce=rO(S,M),ce.subtreeFlags=S.subtreeFlags&ft;var Le;return P!==null?Le=xc(P,d):(Le=gl(d,x,f,null),Le.flags|=ps),Le.return=n,ce.return=n,ce.sibling=Le,n.child=ce,Le}function Sp(r,n,l,d){d!==null&&Eg(d),gu(n,r.child,null,l);var f=n.pendingProps,x=f.children,S=Hx(n,x);return S.flags|=ps,n.memoizedState=null,S}function n_(r,n,l,d,f){var x=n.mode,S={mode:"visible",children:l},P=zx(S,x),M=gl(d,x,f,null);return M.flags|=ps,P.return=n,M.return=n,P.sibling=M,n.child=P,(n.mode&Cr)!==Wt&&gu(n,r.child,null,f),M}function a_(r,n,l){return(r.mode&Cr)===Wt?(c("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),r.lanes=tr):cg(n)?r.lanes=Jl:r.lanes=Na,null}function i_(r,n,l,d,f,x,S){if(l)if(n.flags&Za){n.flags&=~Za;var $e=_x(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return Sp(r,n,S,$e)}else{if(n.memoizedState!==null)return n.child=r.child,n.flags|=Rr,null;var nt=d.children,Be=d.fallback,pt=n_(r,n,nt,Be,S),Pt=n.child;return Pt.memoizedState=Xx(S),n.memoizedState=Bx,pt}else{if(WT(),(n.mode&Cr)===Wt)return Sp(r,n,S,null);if(cg(f)){var P,M,ce;{var ge=uT(f);P=ge.digest,M=ge.message,ce=ge.stack}var Le;M?Le=new Error(M):Le=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var Ae=_x(Le,P,ce);return Sp(r,n,S,Ae)}var Ye=Da(S,r.childLanes);if(ui||Ye){var Je=Up();if(Je!==null){var st=vR(Je,S);if(st!==Qs&&st!==x.retryLane){x.retryLane=st;var Ot=ss;ca(r,st),zs(Je,r,st,Ot)}}mb();var Xt=_x(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return Sp(r,n,S,Xt)}else if(E1(f)){n.flags|=Rr,n.child=r.child;var It=_P.bind(null,r);return dT(f,It),null}else{qT(n,f,x.treeContext);var kr=d.children,Dr=Hx(n,kr);return Dr.flags|=cn,Dr}}}function sO(r,n,l){r.lanes=vr(r.lanes,n);var d=r.alternate;d!==null&&(d.lanes=vr(d.lanes,n)),jg(r.return,n,l)}function o_(r,n,l){for(var d=n;d!==null;){if(d.tag===W){var f=d.memoizedState;f!==null&&sO(d,l,r)}else if(d.tag===re)sO(d,l,r);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)return;for(;d.sibling===null;){if(d.return===null||d.return===r)return;d=d.return}d.sibling.return=d.return,d=d.sibling}}function l_(r){for(var n=r,l=null;n!==null;){var d=n.alternate;d!==null&&ep(d)===null&&(l=n),n=n.sibling}return l}function c_(r){if(r!==void 0&&r!=="forwards"&&r!=="backwards"&&r!=="together"&&!Mx[r])if(Mx[r]=!0,typeof r=="string")switch(r.toLowerCase()){case"together":case"forwards":case"backwards":{c('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',r,r.toLowerCase());break}case"forward":case"backward":{c('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',r,r.toLowerCase());break}default:c('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',r);break}else c('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',r)}function u_(r,n){r!==void 0&&!Dp[r]&&(r!=="collapsed"&&r!=="hidden"?(Dp[r]=!0,c('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',r)):n!=="forwards"&&n!=="backwards"&&(Dp[r]=!0,c('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',r)))}function nO(r,n){{var l=Lt(r),d=!l&&typeof dt(r)=="function";if(l||d){var f=l?"array":"iterable";return c("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",f,n,f),!1}}return!0}function d_(r,n){if((n==="forwards"||n==="backwards")&&r!==void 0&&r!==null&&r!==!1)if(Lt(r)){for(var l=0;l<r.length;l++)if(!nO(r[l],l))return}else{var d=dt(r);if(typeof d=="function"){var f=d.call(r);if(f)for(var x=f.next(),S=0;!x.done;x=f.next()){if(!nO(x.value,S))return;S++}}else c('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',n)}}function Gx(r,n,l,d,f){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=f)}function aO(r,n,l){var d=n.pendingProps,f=d.revealOrder,x=d.tail,S=d.children;c_(f),u_(x,f),d_(S,f),Xn(r,n,S,l);var P=oi.current,M=Hg(P,dm);if(M)P=zg(P,dm),n.flags|=Rr;else{var ce=r!==null&&(r.flags&Rr)!==yt;ce&&o_(n,n.child,l),P=Du(P)}if(cl(n,P),(n.mode&Cr)===Wt)n.memoizedState=null;else switch(f){case"forwards":{var ge=l_(n.child),Le;ge===null?(Le=n.child,n.child=null):(Le=ge.sibling,ge.sibling=null),Gx(n,!1,Le,ge,x);break}case"backwards":{var Ae=null,Ye=n.child;for(n.child=null;Ye!==null;){var Je=Ye.alternate;if(Je!==null&&ep(Je)===null){n.child=Ye;break}var st=Ye.sibling;Ye.sibling=Ae,Ae=Ye,Ye=st}Gx(n,!0,Ae,null,x);break}case"together":{Gx(n,!1,null,null,void 0);break}default:n.memoizedState=null}return n.child}function m_(r,n,l){$g(n,n.stateNode.containerInfo);var d=n.pendingProps;return r===null?n.child=gu(n,null,d,l):Xn(r,n,d,l),n.child}var iO=!1;function f_(r,n,l){var d=n.type,f=d._context,x=n.pendingProps,S=n.memoizedProps,P=x.value;{"value"in x||iO||(iO=!0,c("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var M=n.type.propTypes;M&&ni(M,x,"prop","Context.Provider")}if(Q1(n,f,P),S!==null){var ce=S.value;if(ya(ce,P)){if(S.children===x.children&&!_0())return Oo(r,n,l)}else c3(n,f,l)}var ge=x.children;return Xn(r,n,ge,l),n.child}var oO=!1;function p_(r,n,l){var d=n.type;d._context===void 0?d!==d.Consumer&&(oO||(oO=!0,c("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):d=d._context;var f=n.pendingProps,x=f.children;typeof x!="function"&&c("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),bu(n,l);var S=Rs(d);Nd(n);var P;return Nm.current=n,Es(!0),P=x(S),Es(!1),Qc(),n.flags|=uo,Xn(r,n,P,l),n.child}function Om(){ui=!0}function Op(r,n){(n.mode&Cr)===Wt&&r!==null&&(r.alternate=null,n.alternate=null,n.flags|=ps)}function Oo(r,n,l){return r!==null&&(n.dependencies=r.dependencies),AS(),jm(n.lanes),Da(l,n.childLanes)?(o3(r,n),n.child):null}function h_(r,n,l){{var d=n.return;if(d===null)throw new Error("Cannot swap the root fiber.");if(r.alternate=null,n.alternate=null,l.index=n.index,l.sibling=n.sibling,l.return=n.return,l.ref=n.ref,n===d.child)d.child=l;else{var f=d.child;if(f===null)throw new Error("Expected parent to have a child.");for(;f.sibling!==n;)if(f=f.sibling,f===null)throw new Error("Expected to find the previous sibling.");f.sibling=l}var x=d.deletions;return x===null?(d.deletions=[r],d.flags|=Qa):x.push(r),l.flags|=ps,l}}function Wx(r,n){var l=r.lanes;return!!Da(l,n)}function v_(r,n,l){switch(n.tag){case b:ZS(n),n.stateNode,vu();break;case k:iS(n);break;case g:{var d=n.type;Vi(d)&&U0(n);break}case E:$g(n,n.stateNode.containerInfo);break;case Z:{var f=n.memoizedProps.value,x=n.type._context;Q1(n,x,f);break}case le:{var S=Da(l,n.childLanes);S&&(n.flags|=Tr);{var P=n.stateNode;P.effectDuration=0,P.passiveEffectDuration=0}}break;case W:{var M=n.memoizedState;if(M!==null){if(M.dehydrated!==null)return cl(n,Du(oi.current)),n.flags|=Rr,null;var ce=n.child,ge=ce.childLanes;if(Da(l,ge))return tO(r,n,l);cl(n,Du(oi.current));var Le=Oo(r,n,l);return Le!==null?Le.sibling:null}else cl(n,Du(oi.current));break}case re:{var Ae=(r.flags&Rr)!==yt,Ye=Da(l,n.childLanes);if(Ae){if(Ye)return aO(r,n,l);n.flags|=Rr}var Je=n.memoizedState;if(Je!==null&&(Je.rendering=null,Je.tail=null,Je.lastEffect=null),cl(n,oi.current),Ye)break;return null}case oe:case _e:return n.lanes=ut,qS(r,n,l)}return Oo(r,n,l)}function lO(r,n,l){if(n._debugNeedsRemount&&r!==null)return h_(r,n,Ob(n.type,n.key,n.pendingProps,n._debugOwner||null,n.mode,n.lanes));if(r!==null){var d=r.memoizedProps,f=n.pendingProps;if(d!==f||_0()||n.type!==r.type)ui=!0;else{var x=Wx(r,l);if(!x&&(n.flags&Rr)===yt)return ui=!1,v_(r,n,l);(r.flags&p)!==yt?ui=!0:ui=!1}}else if(ui=!1,mn()&&$T(n)){var S=n.index,P=BT();A1(n,P,S)}switch(n.lanes=ut,n.tag){case v:return J3(r,n,n.type,l);case De:{var M=n.elementType;return K3(r,n,M,l)}case h:{var ce=n.type,ge=n.pendingProps,Le=n.elementType===ce?ge:ci(ce,ge);return Ix(r,n,ce,Le,l)}case g:{var Ae=n.type,Ye=n.pendingProps,Je=n.elementType===Ae?Ye:ci(Ae,Ye);return QS(r,n,Ae,Je,l)}case b:return G3(r,n,l);case k:return W3(r,n,l);case w:return Y3(r,n);case W:return tO(r,n,l);case E:return m_(r,n,l);case R:{var st=n.type,Ot=n.pendingProps,Xt=n.elementType===st?Ot:ci(st,Ot);return WS(r,n,st,Xt,l)}case y:return X3(r,n,l);case T:return H3(r,n,l);case le:return z3(r,n,l);case Z:return f_(r,n,l);case J:return p_(r,n,l);case ee:{var It=n.type,kr=n.pendingProps,Dr=ci(It,kr);if(n.type!==n.elementType){var $e=It.propTypes;$e&&ni($e,Dr,"prop",Ur(It))}return Dr=ci(It.type,Dr),YS(r,n,It,Dr,l)}case X:return KS(r,n,n.type,n.pendingProps,l);case _:{var nt=n.type,Be=n.pendingProps,pt=n.elementType===nt?Be:ci(nt,Be);return q3(r,n,nt,pt,l)}case re:return aO(r,n,l);case H:break;case oe:return qS(r,n,l)}throw new Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function wu(r){r.flags|=Tr}function cO(r){r.flags|=ki,r.flags|=D}var uO,Yx,dO,mO;uO=function(r,n,l,d){for(var f=n.child;f!==null;){if(f.tag===k||f.tag===w)M2(r,f.stateNode);else if(f.tag!==E){if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===n)return;for(;f.sibling===null;){if(f.return===null||f.return===n)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Yx=function(r,n){},dO=function(r,n,l,d,f){var x=r.memoizedProps;if(x!==d){var S=n.stateNode,P=Bg(),M=F2(S,l,x,d,f,P);n.updateQueue=M,M&&wu(n)}},mO=function(r,n,l,d){l!==d&&wu(n)};function ym(r,n){if(!mn())switch(r.tailMode){case"hidden":{for(var l=r.tail,d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r.tail=null:d.sibling=null;break}case"collapsed":{for(var f=r.tail,x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?!n&&r.tail!==null?r.tail.sibling=null:r.tail=null:x.sibling=null;break}}}function pn(r){var n=r.alternate!==null&&r.alternate.child===r.child,l=ut,d=yt;if(n){if((r.mode&Wr)!==Wt){for(var M=r.selfBaseDuration,ce=r.child;ce!==null;)l=vr(l,vr(ce.lanes,ce.childLanes)),d|=ce.subtreeFlags&ft,d|=ce.flags&ft,M+=ce.treeBaseDuration,ce=ce.sibling;r.treeBaseDuration=M}else for(var ge=r.child;ge!==null;)l=vr(l,vr(ge.lanes,ge.childLanes)),d|=ge.subtreeFlags&ft,d|=ge.flags&ft,ge.return=r,ge=ge.sibling;r.subtreeFlags|=d}else{if((r.mode&Wr)!==Wt){for(var f=r.actualDuration,x=r.selfBaseDuration,S=r.child;S!==null;)l=vr(l,vr(S.lanes,S.childLanes)),d|=S.subtreeFlags,d|=S.flags,f+=S.actualDuration,x+=S.treeBaseDuration,S=S.sibling;r.actualDuration=f,r.treeBaseDuration=x}else for(var P=r.child;P!==null;)l=vr(l,vr(P.lanes,P.childLanes)),d|=P.subtreeFlags,d|=P.flags,P.return=r,P=P.sibling;r.subtreeFlags|=d}return r.childLanes=l,n}function g_(r,n,l){if(t3()&&(n.mode&Cr)!==Wt&&(n.flags&Rr)===yt)return X1(n),vu(),n.flags|=Za|fo|un,!1;var d=M0(n);if(l!==null&&l.dehydrated!==null)if(r===null){if(!d)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(ZT(n),pn(n),(n.mode&Wr)!==Wt){var f=l!==null;if(f){var x=n.child;x!==null&&(n.treeBaseDuration-=x.treeBaseDuration)}}return!1}else{if(vu(),(n.flags&Rr)===yt&&(n.memoizedState=null),n.flags|=Tr,pn(n),(n.mode&Wr)!==Wt){var S=l!==null;if(S){var P=n.child;P!==null&&(n.treeBaseDuration-=P.treeBaseDuration)}}return!1}else return H1(),!0}function fO(r,n,l){var d=n.pendingProps;switch(Ng(n),n.tag){case v:case De:case X:case h:case R:case y:case T:case le:case J:case ee:return pn(n),null;case g:{var f=n.type;return Vi(f)&&P0(n),pn(n),null}case b:{var x=n.stateNode;if(Nu(n),vg(n),Wg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),r===null||r.child===null){var S=M0(n);if(S)wu(n);else if(r!==null){var P=r.memoizedState;(!P.isDehydrated||(n.flags&Za)!==yt)&&(n.flags|=Ko,H1())}}return Yx(r,n),pn(n),null}case k:{Xg(n);var M=aS(),ce=n.type;if(r!==null&&n.stateNode!=null)dO(r,n,ce,d,M),r.ref!==n.ref&&cO(n);else{if(!d){if(n.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return pn(n),null}var ge=Bg(),Le=M0(n);if(Le)JT(n,M,ge)&&wu(n);else{var Ae=L2(ce,d,M,ge,n);uO(Ae,n,!1,!1),n.stateNode=Ae,I2(Ae,ce,d,M)&&wu(n)}n.ref!==null&&cO(n)}return pn(n),null}case w:{var Ye=d;if(r&&n.stateNode!=null){var Je=r.memoizedProps;mO(r,n,Je,Ye)}else{if(typeof Ye!="string"&&n.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var st=aS(),Ot=Bg(),Xt=M0(n);Xt?QT(n)&&wu(n):n.stateNode=$2(Ye,st,Ot,n)}return pn(n),null}case W:{Su(n);var It=n.memoizedState;if(r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){var kr=g_(r,n,It);if(!kr)return n.flags&un?n:null}if((n.flags&Rr)!==yt)return n.lanes=l,(n.mode&Wr)!==Wt&&xx(n),n;var Dr=It!==null,$e=r!==null&&r.memoizedState!==null;if(Dr!==$e&&Dr){var nt=n.child;if(nt.flags|=mo,(n.mode&Cr)!==Wt){var Be=r===null&&(n.memoizedProps.unstable_avoidThisFallback!==!0||!0);Be||Hg(oi.current,lS)?xP():mb()}}var pt=n.updateQueue;if(pt!==null&&(n.flags|=Tr),pn(n),(n.mode&Wr)!==Wt&&Dr){var Pt=n.child;Pt!==null&&(n.treeBaseDuration-=Pt.treeBaseDuration)}return null}case E:return Nu(n),Yx(r,n),r===null&&VT(n.stateNode.containerInfo),pn(n),null;case Z:var Ct=n.type._context;return Vg(Ct,n),pn(n),null;case _:{var qt=n.type;return Vi(qt)&&P0(n),pn(n),null}case re:{Su(n);var lr=n.memoizedState;if(lr===null)return pn(n),null;var Kr=(n.flags&Rr)!==yt,jr=lr.rendering;if(jr===null)if(Kr)ym(lr,!1);else{var Ss=NP()&&(r===null||(r.flags&Rr)===yt);if(!Ss)for(var Ar=n.child;Ar!==null;){var vs=ep(Ar);if(vs!==null){Kr=!0,n.flags|=Rr,ym(lr,!1);var _n=vs.updateQueue;return _n!==null&&(n.updateQueue=_n,n.flags|=Tr),n.subtreeFlags=yt,l3(n,l),cl(n,zg(oi.current,dm)),n.child}Ar=Ar.sibling}lr.tail!==null&&ks()>VO()&&(n.flags|=Rr,Kr=!0,ym(lr,!1),n.lanes=mD)}else{if(!Kr){var bn=ep(jr);if(bn!==null){n.flags|=Rr,Kr=!0;var wa=bn.updateQueue;if(wa!==null&&(n.updateQueue=wa,n.flags|=Tr),ym(lr,!0),lr.tail===null&&lr.tailMode==="hidden"&&!jr.alternate&&!mn())return pn(n),null}else ks()*2-lr.renderingStartTime>VO()&&l!==Na&&(n.flags|=Rr,Kr=!0,ym(lr,!1),n.lanes=mD)}if(lr.isBackwards)jr.sibling=n.child,n.child=jr;else{var Gn=lr.last;Gn!==null?Gn.sibling=jr:n.child=jr,lr.last=jr}}if(lr.tail!==null){var Wn=lr.tail;lr.rendering=Wn,lr.tail=Wn.sibling,lr.renderingStartTime=ks(),Wn.sibling=null;var Pn=oi.current;return Kr?Pn=zg(Pn,dm):Pn=Du(Pn),cl(n,Pn),Wn}return pn(n),null}case H:break;case oe:case _e:{db(n);var ko=n.memoizedState,ju=ko!==null;if(r!==null){var Fm=r.memoizedState,Bi=Fm!==null;Bi!==ju&&!Ie&&(n.flags|=mo)}return!ju||(n.mode&Cr)===Wt?pn(n):Da($i,Na)&&(pn(n),n.subtreeFlags&(ps|Tr)&&(n.flags|=mo)),null}case ne:return null;case we:return null}throw new Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function x_(r,n,l){switch(Ng(n),n.tag){case g:{var d=n.type;Vi(d)&&P0(n);var f=n.flags;return f&un?(n.flags=f&~un|Rr,(n.mode&Wr)!==Wt&&xx(n),n):null}case b:{n.stateNode,Nu(n),vg(n),Wg();var x=n.flags;return(x&un)!==yt&&(x&Rr)===yt?(n.flags=x&~un|Rr,n):null}case k:return Xg(n),null;case W:{Su(n);var S=n.memoizedState;if(S!==null&&S.dehydrated!==null){if(n.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");vu()}var P=n.flags;return P&un?(n.flags=P&~un|Rr,(n.mode&Wr)!==Wt&&xx(n),n):null}case re:return Su(n),null;case E:return Nu(n),null;case Z:var M=n.type._context;return Vg(M,n),null;case oe:case _e:return db(n),null;case ne:return null;default:return null}}function pO(r,n,l){switch(Ng(n),n.tag){case g:{var d=n.type.childContextTypes;d!=null&&P0(n);break}case b:{n.stateNode,Nu(n),vg(n),Wg();break}case k:{Xg(n);break}case E:Nu(n);break;case W:Su(n);break;case re:Su(n);break;case Z:var f=n.type._context;Vg(f,n);break;case oe:case _e:db(n);break}}var hO=null;hO=new Set;var yp=!1,hn=!1,b_=typeof WeakSet=="function"?WeakSet:Set,At=null,ku=null,Ru=null;function N_(r){Wl(null,function(){throw r}),hd()}var D_=function(r,n){if(n.props=r.memoizedProps,n.state=r.memoizedState,r.mode&Wr)try{Ii(),n.componentWillUnmount()}finally{Mi(r)}else n.componentWillUnmount()};function vO(r,n){try{ml(Is,r)}catch(l){Zr(r,n,l)}}function Kx(r,n,l){try{D_(r,l)}catch(d){Zr(r,n,d)}}function S_(r,n,l){try{l.componentDidMount()}catch(d){Zr(r,n,d)}}function gO(r,n){try{bO(r)}catch(l){Zr(r,n,l)}}function Tu(r,n){var l=r.ref;if(l!==null)if(typeof l=="function"){var d;try{if(me&&se&&r.mode&Wr)try{Ii(),d=l(null)}finally{Mi(r)}else d=l(null)}catch(f){Zr(r,n,f)}typeof d=="function"&&c("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Bt(r))}else l.current=null}function Ep(r,n,l){try{l()}catch(d){Zr(r,n,d)}}var xO=!1;function O_(r,n){j2(r.containerInfo),At=n,y_();var l=xO;return xO=!1,l}function y_(){for(;At!==null;){var r=At,n=r.child;(r.subtreeFlags&Re)!==yt&&n!==null?(n.return=r,At=n):E_()}}function E_(){for(;At!==null;){var r=At;es(r);try{C_(r)}catch(l){Zr(r,r.return,l)}ys();var n=r.sibling;if(n!==null){n.return=r.return,At=n;return}At=r.return}}function C_(r){var n=r.alternate,l=r.flags;if((l&Ko)!==yt){switch(es(r),r.tag){case h:case R:case X:break;case g:{if(n!==null){var d=n.memoizedProps,f=n.memoizedState,x=r.stateNode;r.type===r.elementType&&!fc&&(x.props!==r.memoizedProps&&c("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Bt(r)||"instance"),x.state!==r.memoizedState&&c("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Bt(r)||"instance"));var S=x.getSnapshotBeforeUpdate(r.elementType===r.type?d:ci(r.type,d),f);{var P=hO;S===void 0&&!P.has(r.type)&&(P.add(r.type),c("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Bt(r)))}x.__reactInternalSnapshotBeforeUpdate=S}break}case b:{{var M=r.stateNode;iT(M.containerInfo)}break}case k:case w:case E:case _:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}ys()}}function di(r,n,l){var d=n.updateQueue,f=d!==null?d.lastEffect:null;if(f!==null){var x=f.next,S=x;do{if((S.tag&r)===r){var P=S.destroy;S.destroy=void 0,P!==void 0&&((r&fn)!==ua?$k(n):(r&Is)!==ua&&oD(n),(r&ji)!==ua&&Lm(!0),Ep(n,l,P),(r&ji)!==ua&&Lm(!1),(r&fn)!==ua?Bk():(r&Is)!==ua&&lD())}S=S.next}while(S!==x)}}function ml(r,n){var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next,x=f;do{if((x.tag&r)===r){(r&fn)!==ua?Ik(n):(r&Is)!==ua&&Xk(n);var S=x.create;(r&ji)!==ua&&Lm(!0),x.destroy=S(),(r&ji)!==ua&&Lm(!1),(r&fn)!==ua?Fk():(r&Is)!==ua&&Hk();{var P=x.destroy;if(P!==void 0&&typeof P!="function"){var M=void 0;(x.tag&Is)!==yt?M="useLayoutEffect":(x.tag&ji)!==yt?M="useInsertionEffect":M="useEffect";var ce=void 0;P===null?ce=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof P.then=="function"?ce=`

It looks like you wrote `+M+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+M+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:ce=" You returned: "+P,c("%s must not return anything besides a function, which is used for clean-up.%s",M,ce)}}}x=x.next}while(x!==f)}}function w_(r,n){if((n.flags&Tr)!==yt)switch(n.tag){case le:{var l=n.stateNode.passiveEffectDuration,d=n.memoizedProps,f=d.id,x=d.onPostCommit,S=VS(),P=n.alternate===null?"mount":"update";US()&&(P="nested-update"),typeof x=="function"&&x(f,P,l,S);var M=n.return;e:for(;M!==null;){switch(M.tag){case b:var ce=M.stateNode;ce.passiveEffectDuration+=l;break e;case le:var ge=M.stateNode;ge.passiveEffectDuration+=l;break e}M=M.return}break}}}function k_(r,n,l,d){if((l.flags&We)!==yt)switch(l.tag){case h:case R:case X:{if(!hn)if(l.mode&Wr)try{Ii(),ml(Is|Ms,l)}finally{Mi(l)}else ml(Is|Ms,l);break}case g:{var f=l.stateNode;if(l.flags&Tr&&!hn)if(n===null)if(l.type===l.elementType&&!fc&&(f.props!==l.memoizedProps&&c("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Bt(l)||"instance"),f.state!==l.memoizedState&&c("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Bt(l)||"instance")),l.mode&Wr)try{Ii(),f.componentDidMount()}finally{Mi(l)}else f.componentDidMount();else{var x=l.elementType===l.type?n.memoizedProps:ci(l.type,n.memoizedProps),S=n.memoizedState;if(l.type===l.elementType&&!fc&&(f.props!==l.memoizedProps&&c("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Bt(l)||"instance"),f.state!==l.memoizedState&&c("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Bt(l)||"instance")),l.mode&Wr)try{Ii(),f.componentDidUpdate(x,S,f.__reactInternalSnapshotBeforeUpdate)}finally{Mi(l)}else f.componentDidUpdate(x,S,f.__reactInternalSnapshotBeforeUpdate)}var P=l.updateQueue;P!==null&&(l.type===l.elementType&&!fc&&(f.props!==l.memoizedProps&&c("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Bt(l)||"instance"),f.state!==l.memoizedState&&c("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Bt(l)||"instance")),nS(l,P,f));break}case b:{var M=l.updateQueue;if(M!==null){var ce=null;if(l.child!==null)switch(l.child.tag){case k:ce=l.child.stateNode;break;case g:ce=l.child.stateNode;break}nS(l,M,ce)}break}case k:{var ge=l.stateNode;if(n===null&&l.flags&Tr){var Le=l.type,Ae=l.memoizedProps;G2(ge,Le,Ae)}break}case w:break;case E:break;case le:{{var Ye=l.memoizedProps,Je=Ye.onCommit,st=Ye.onRender,Ot=l.stateNode.effectDuration,Xt=VS(),It=n===null?"mount":"update";US()&&(It="nested-update"),typeof st=="function"&&st(l.memoizedProps.id,It,l.actualDuration,l.treeBaseDuration,l.actualStartTime,Xt);{typeof Je=="function"&&Je(l.memoizedProps.id,It,Ot,Xt),EP(l);var kr=l.return;e:for(;kr!==null;){switch(kr.tag){case b:var Dr=kr.stateNode;Dr.effectDuration+=Ot;break e;case le:var $e=kr.stateNode;$e.effectDuration+=Ot;break e}kr=kr.return}}}break}case W:{A_(r,l);break}case re:case _:case H:case oe:case _e:case we:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}hn||l.flags&ki&&bO(l)}function R_(r){switch(r.tag){case h:case R:case X:{if(r.mode&Wr)try{Ii(),vO(r,r.return)}finally{Mi(r)}else vO(r,r.return);break}case g:{var n=r.stateNode;typeof n.componentDidMount=="function"&&S_(r,r.return,n),gO(r,r.return);break}case k:{gO(r,r.return);break}}}function T_(r,n){for(var l=null,d=r;;){if(d.tag===k){if(l===null){l=d;try{var f=d.stateNode;n?rT(f):nT(d.stateNode,d.memoizedProps)}catch(S){Zr(r,r.return,S)}}}else if(d.tag===w){if(l===null)try{var x=d.stateNode;n?sT(x):aT(x,d.memoizedProps)}catch(S){Zr(r,r.return,S)}}else if(!((d.tag===oe||d.tag===_e)&&d.memoizedState!==null&&d!==r)){if(d.child!==null){d.child.return=d,d=d.child;continue}}if(d===r)return;for(;d.sibling===null;){if(d.return===null||d.return===r)return;l===d&&(l=null),d=d.return}l===d&&(l=null),d.sibling.return=d.return,d=d.sibling}}function bO(r){var n=r.ref;if(n!==null){var l=r.stateNode,d;switch(r.tag){case k:d=l;break;default:d=l}if(typeof n=="function"){var f;if(r.mode&Wr)try{Ii(),f=n(d)}finally{Mi(r)}else f=n(d);typeof f=="function"&&c("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Bt(r))}else n.hasOwnProperty("current")||c("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Bt(r)),n.current=d}}function __(r){var n=r.alternate;n!==null&&(n.return=null),r.return=null}function NO(r){var n=r.alternate;n!==null&&(r.alternate=null,NO(n));{if(r.child=null,r.deletions=null,r.sibling=null,r.tag===k){var l=r.stateNode;l!==null&&LT(l)}r.stateNode=null,r._debugOwner=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}}function P_(r){for(var n=r.return;n!==null;){if(DO(n))return n;n=n.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function DO(r){return r.tag===k||r.tag===b||r.tag===E}function SO(r){var n=r;e:for(;;){for(;n.sibling===null;){if(n.return===null||DO(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==k&&n.tag!==w&&n.tag!==B;){if(n.flags&ps||n.child===null||n.tag===E)continue e;n.child.return=n,n=n.child}if(!(n.flags&ps))return n.stateNode}}function U_(r){var n=P_(r);switch(n.tag){case k:{var l=n.stateNode;n.flags&Yl&&(y1(l),n.flags&=~Yl);var d=SO(r);Jx(r,d,l);break}case b:case E:{var f=n.stateNode.containerInfo,x=SO(r);qx(r,x,f);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function qx(r,n,l){var d=r.tag,f=d===k||d===w;if(f){var x=r.stateNode;n?Q2(l,x,n):q2(l,x)}else if(d!==E){var S=r.child;if(S!==null){qx(S,n,l);for(var P=S.sibling;P!==null;)qx(P,n,l),P=P.sibling}}}function Jx(r,n,l){var d=r.tag,f=d===k||d===w;if(f){var x=r.stateNode;n?J2(l,x,n):K2(l,x)}else if(d!==E){var S=r.child;if(S!==null){Jx(S,n,l);for(var P=S.sibling;P!==null;)Jx(P,n,l),P=P.sibling}}}var vn=null,mi=!1;function V_(r,n,l){{var d=n;e:for(;d!==null;){switch(d.tag){case k:{vn=d.stateNode,mi=!1;break e}case b:{vn=d.stateNode.containerInfo,mi=!0;break e}case E:{vn=d.stateNode.containerInfo,mi=!0;break e}}d=d.return}if(vn===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");OO(r,n,l),vn=null,mi=!1}__(l)}function fl(r,n,l){for(var d=l.child;d!==null;)OO(r,n,d),d=d.sibling}function OO(r,n,l){switch(jk(l),l.tag){case k:hn||Tu(l,n);case w:{{var d=vn,f=mi;vn=null,fl(r,n,l),vn=d,mi=f,vn!==null&&(mi?eT(vn,l.stateNode):Z2(vn,l.stateNode))}return}case B:{vn!==null&&(mi?tT(vn,l.stateNode):lg(vn,l.stateNode));return}case E:{{var x=vn,S=mi;vn=l.stateNode.containerInfo,mi=!0,fl(r,n,l),vn=x,mi=S}return}case h:case R:case ee:case X:{if(!hn){var P=l.updateQueue;if(P!==null){var M=P.lastEffect;if(M!==null){var ce=M.next,ge=ce;do{var Le=ge,Ae=Le.destroy,Ye=Le.tag;Ae!==void 0&&((Ye&ji)!==ua?Ep(l,n,Ae):(Ye&Is)!==ua&&(oD(l),l.mode&Wr?(Ii(),Ep(l,n,Ae),Mi(l)):Ep(l,n,Ae),lD())),ge=ge.next}while(ge!==ce)}}}fl(r,n,l);return}case g:{if(!hn){Tu(l,n);var Je=l.stateNode;typeof Je.componentWillUnmount=="function"&&Kx(l,n,Je)}fl(r,n,l);return}case H:{fl(r,n,l);return}case oe:{if(l.mode&Cr){var st=hn;hn=st||l.memoizedState!==null,fl(r,n,l),hn=st}else fl(r,n,l);break}default:{fl(r,n,l);return}}}function j_(r){r.memoizedState}function A_(r,n){var l=n.memoizedState;if(l===null){var d=n.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var x=f.dehydrated;x!==null&&NT(x)}}}}function yO(r){var n=r.updateQueue;if(n!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new b_),n.forEach(function(d){var f=PP.bind(null,r,d);if(!l.has(d)){if(l.add(d),ri)if(ku!==null&&Ru!==null)Am(Ru,ku);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");d.then(f,f)}})}}function L_(r,n,l){ku=l,Ru=r,es(n),EO(n,r),es(n),ku=null,Ru=null}function fi(r,n,l){var d=n.deletions;if(d!==null)for(var f=0;f<d.length;f++){var x=d[f];try{V_(r,n,x)}catch(M){Zr(x,n,M)}}var S=Qi();if(n.subtreeFlags&Ue)for(var P=n.child;P!==null;)es(P),EO(P,r),P=P.sibling;es(S)}function EO(r,n,l){var d=r.alternate,f=r.flags;switch(r.tag){case h:case R:case ee:case X:{if(fi(n,r),Fi(r),f&Tr){try{di(ji|Ms,r,r.return),ml(ji|Ms,r)}catch(qt){Zr(r,r.return,qt)}if(r.mode&Wr){try{Ii(),di(Is|Ms,r,r.return)}catch(qt){Zr(r,r.return,qt)}Mi(r)}else try{di(Is|Ms,r,r.return)}catch(qt){Zr(r,r.return,qt)}}return}case g:{fi(n,r),Fi(r),f&ki&&d!==null&&Tu(d,d.return);return}case k:{fi(n,r),Fi(r),f&ki&&d!==null&&Tu(d,d.return);{if(r.flags&Yl){var x=r.stateNode;try{y1(x)}catch(qt){Zr(r,r.return,qt)}}if(f&Tr){var S=r.stateNode;if(S!=null){var P=r.memoizedProps,M=d!==null?d.memoizedProps:P,ce=r.type,ge=r.updateQueue;if(r.updateQueue=null,ge!==null)try{W2(S,ge,ce,M,P,r)}catch(qt){Zr(r,r.return,qt)}}}}return}case w:{if(fi(n,r),Fi(r),f&Tr){if(r.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var Le=r.stateNode,Ae=r.memoizedProps,Ye=d!==null?d.memoizedProps:Ae;try{Y2(Le,Ye,Ae)}catch(qt){Zr(r,r.return,qt)}}return}case b:{if(fi(n,r),Fi(r),f&Tr&&d!==null){var Je=d.memoizedState;if(Je.isDehydrated)try{bT(n.containerInfo)}catch(qt){Zr(r,r.return,qt)}}return}case E:{fi(n,r),Fi(r);return}case W:{fi(n,r),Fi(r);var st=r.child;if(st.flags&mo){var Ot=st.stateNode,Xt=st.memoizedState,It=Xt!==null;if(Ot.isHidden=It,It){var kr=st.alternate!==null&&st.alternate.memoizedState!==null;kr||gP()}}if(f&Tr){try{j_(r)}catch(qt){Zr(r,r.return,qt)}yO(r)}return}case oe:{var Dr=d!==null&&d.memoizedState!==null;if(r.mode&Cr){var $e=hn;hn=$e||Dr,fi(n,r),hn=$e}else fi(n,r);if(Fi(r),f&mo){var nt=r.stateNode,Be=r.memoizedState,pt=Be!==null,Pt=r;if(nt.isHidden=pt,pt&&!Dr&&(Pt.mode&Cr)!==Wt){At=Pt;for(var Ct=Pt.child;Ct!==null;)At=Ct,I_(Ct),Ct=Ct.sibling}T_(Pt,pt)}return}case re:{fi(n,r),Fi(r),f&Tr&&yO(r);return}case H:return;default:{fi(n,r),Fi(r);return}}}function Fi(r){var n=r.flags;if(n&ps){try{U_(r)}catch(l){Zr(r,r.return,l)}r.flags&=~ps}n&cn&&(r.flags&=~cn)}function M_(r,n,l){ku=l,Ru=n,At=r,CO(r,n,l),ku=null,Ru=null}function CO(r,n,l){for(var d=(r.mode&Cr)!==Wt;At!==null;){var f=At,x=f.child;if(f.tag===oe&&d){var S=f.memoizedState!==null,P=S||yp;if(P){Qx(r,n,l);continue}else{var M=f.alternate,ce=M!==null&&M.memoizedState!==null,ge=ce||hn,Le=yp,Ae=hn;yp=P,hn=ge,hn&&!Ae&&(At=f,F_(f));for(var Ye=x;Ye!==null;)At=Ye,CO(Ye,n,l),Ye=Ye.sibling;At=f,yp=Le,hn=Ae,Qx(r,n,l);continue}}(f.subtreeFlags&We)!==yt&&x!==null?(x.return=f,At=x):Qx(r,n,l)}}function Qx(r,n,l){for(;At!==null;){var d=At;if((d.flags&We)!==yt){var f=d.alternate;es(d);try{k_(n,f,d,l)}catch(S){Zr(d,d.return,S)}ys()}if(d===r){At=null;return}var x=d.sibling;if(x!==null){x.return=d.return,At=x;return}At=d.return}}function I_(r){for(;At!==null;){var n=At,l=n.child;switch(n.tag){case h:case R:case ee:case X:{if(n.mode&Wr)try{Ii(),di(Is,n,n.return)}finally{Mi(n)}else di(Is,n,n.return);break}case g:{Tu(n,n.return);var d=n.stateNode;typeof d.componentWillUnmount=="function"&&Kx(n,n.return,d);break}case k:{Tu(n,n.return);break}case oe:{var f=n.memoizedState!==null;if(f){wO(r);continue}break}}l!==null?(l.return=n,At=l):wO(r)}}function wO(r){for(;At!==null;){var n=At;if(n===r){At=null;return}var l=n.sibling;if(l!==null){l.return=n.return,At=l;return}At=n.return}}function F_(r){for(;At!==null;){var n=At,l=n.child;if(n.tag===oe){var d=n.memoizedState!==null;if(d){kO(r);continue}}l!==null?(l.return=n,At=l):kO(r)}}function kO(r){for(;At!==null;){var n=At;es(n);try{R_(n)}catch(d){Zr(n,n.return,d)}if(ys(),n===r){At=null;return}var l=n.sibling;if(l!==null){l.return=n.return,At=l;return}At=n.return}}function $_(r,n,l,d){At=n,B_(n,r,l,d)}function B_(r,n,l,d){for(;At!==null;){var f=At,x=f.child;(f.subtreeFlags&Ke)!==yt&&x!==null?(x.return=f,At=x):X_(r,n,l,d)}}function X_(r,n,l,d){for(;At!==null;){var f=At;if((f.flags&Ri)!==yt){es(f);try{H_(n,f,l,d)}catch(S){Zr(f,f.return,S)}ys()}if(f===r){At=null;return}var x=f.sibling;if(x!==null){x.return=f.return,At=x;return}At=f.return}}function H_(r,n,l,d){switch(n.tag){case h:case R:case X:{if(n.mode&Wr){gx();try{ml(fn|Ms,n)}finally{vx(n)}}else ml(fn|Ms,n);break}}}function z_(r){At=r,G_()}function G_(){for(;At!==null;){var r=At,n=r.child;if((At.flags&Qa)!==yt){var l=r.deletions;if(l!==null){for(var d=0;d<l.length;d++){var f=l[d];At=f,K_(f,r)}{var x=r.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}}At=r}}(r.subtreeFlags&Ke)!==yt&&n!==null?(n.return=r,At=n):W_()}}function W_(){for(;At!==null;){var r=At;(r.flags&Ri)!==yt&&(es(r),Y_(r),ys());var n=r.sibling;if(n!==null){n.return=r.return,At=n;return}At=r.return}}function Y_(r){switch(r.tag){case h:case R:case X:{r.mode&Wr?(gx(),di(fn|Ms,r,r.return),vx(r)):di(fn|Ms,r,r.return);break}}}function K_(r,n){for(;At!==null;){var l=At;es(l),J_(l,n),ys();var d=l.child;d!==null?(d.return=l,At=d):q_(r)}}function q_(r){for(;At!==null;){var n=At,l=n.sibling,d=n.return;if(NO(n),n===r){At=null;return}if(l!==null){l.return=d,At=l;return}At=d}}function J_(r,n){switch(r.tag){case h:case R:case X:{r.mode&Wr?(gx(),di(fn,r,n),vx(r)):di(fn,r,n);break}}}function Q_(r){switch(r.tag){case h:case R:case X:{try{ml(Is|Ms,r)}catch(l){Zr(r,r.return,l)}break}case g:{var n=r.stateNode;try{n.componentDidMount()}catch(l){Zr(r,r.return,l)}break}}}function Z_(r){switch(r.tag){case h:case R:case X:{try{ml(fn|Ms,r)}catch(n){Zr(r,r.return,n)}break}}}function eP(r){switch(r.tag){case h:case R:case X:{try{di(Is|Ms,r,r.return)}catch(l){Zr(r,r.return,l)}break}case g:{var n=r.stateNode;typeof n.componentWillUnmount=="function"&&Kx(r,r.return,n);break}}}function tP(r){switch(r.tag){case h:case R:case X:try{di(fn|Ms,r,r.return)}catch(n){Zr(r,r.return,n)}}}if(typeof Symbol=="function"&&Symbol.for){var Em=Symbol.for;Em("selector.component"),Em("selector.has_pseudo_class"),Em("selector.role"),Em("selector.test_id"),Em("selector.text")}var rP=[];function sP(){rP.forEach(function(r){return r()})}var nP=t.ReactCurrentActQueue;function aP(r){{var n=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,l=typeof jest<"u";return l&&n!==!1}}function RO(){{var r=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!r&&nP.current!==null&&c("The current testing environment is not configured to support act(...)"),r}}var iP=Math.ceil,Zx=t.ReactCurrentDispatcher,eb=t.ReactCurrentOwner,gn=t.ReactCurrentBatchConfig,pi=t.ReactCurrentActQueue,Bs=0,TO=1,xn=2,La=4,yo=0,Cm=1,pc=2,Cp=3,wm=4,_O=5,tb=6,wr=Bs,Hn=null,ms=null,Xs=ut,$i=ut,rb=sl(ut),Hs=yo,km=null,wp=ut,Rm=ut,kp=ut,Tm=null,da=null,sb=0,PO=500,UO=1/0,oP=500,Eo=null;function _m(){UO=ks()+oP}function VO(){return UO}var Rp=!1,nb=null,_u=null,hc=!1,pl=null,Pm=ut,ab=[],ib=null,lP=50,Um=0,ob=null,lb=!1,Tp=!1,cP=50,Pu=0,_p=null,Vm=ss,Pp=ut,jO=!1;function Up(){return Hn}function zn(){return(wr&(xn|La))!==Bs?ks():(Vm!==ss||(Vm=ks()),Vm)}function hl(r){var n=r.mode;if((n&Cr)===Wt)return tr;if((wr&xn)!==Bs&&Xs!==ut)return Cd(Xs);var l=n3()!==s3;if(l){if(gn.transition!==null){var d=gn.transition;d._updatedFibers||(d._updatedFibers=new Set),d._updatedFibers.add(r)}return Pp===Qs&&(Pp=vD()),Pp}var f=si();if(f!==Qs)return f;var x=B2();return x}function uP(r){var n=r.mode;return(n&Cr)===Wt?tr:mR()}function zs(r,n,l,d){VP(),jO&&c("useInsertionEffect must not schedule updates."),lb&&(Tp=!0),wd(r,l,d),(wr&xn)!==ut&&r===Hn?LP(n):(ri&&bD(r,n,l),MP(n),r===Hn&&((wr&xn)===Bs&&(Rm=vr(Rm,l)),Hs===wm&&vl(r,Xs)),ma(r,d),l===tr&&wr===Bs&&(n.mode&Cr)===Wt&&!pi.isBatchingLegacy&&(_m(),j1()))}function dP(r,n,l){var d=r.current;d.lanes=n,wd(r,n,l),ma(r,l)}function mP(r){return(wr&xn)!==Bs}function ma(r,n){var l=r.callbackNode;iR(r,n);var d=e0(r,r===Hn?Xs:ut);if(d===ut){l!==null&&JO(l),r.callbackNode=null,r.callbackPriority=Qs;return}var f=Zl(d),x=r.callbackPriority;if(x===f&&!(pi.current!==null&&l!==hb)){l==null&&x!==tr&&c("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}l!=null&&JO(l);var S;if(f===tr)r.tag===nl?(pi.isBatchingLegacy!==null&&(pi.didScheduleLegacyUpdate=!0),FT(MO.bind(null,r))):V1(MO.bind(null,r)),pi.current!==null?pi.current.push(al):H2(function(){(wr&(xn|La))===Bs&&al()}),S=null;else{var P;switch(SD(d)){case Sa:P=qf;break;case ho:P=nv;break;case vo:P=ql;break;case s0:P=av;break;default:P=ql;break}S=vb(P,AO.bind(null,r))}r.callbackPriority=f,r.callbackNode=S}function AO(r,n){if(T3(),Vm=ss,Pp=ut,(wr&(xn|La))!==Bs)throw new Error("Should not already be working.");var l=r.callbackNode,d=wo();if(d&&r.callbackNode!==l)return null;var f=e0(r,r===Hn?Xs:ut);if(f===ut)return null;var x=!t0(r,f)&&!dR(r,f)&&!n,S=x?SP(r,f):jp(r,f);if(S!==yo){if(S===pc){var P=wv(r);P!==ut&&(f=P,S=cb(r,P))}if(S===Cm){var M=km;throw vc(r,ut),vl(r,f),ma(r,ks()),M}if(S===tb)vl(r,f);else{var ce=!t0(r,f),ge=r.current.alternate;if(ce&&!pP(ge)){if(S=jp(r,f),S===pc){var Le=wv(r);Le!==ut&&(f=Le,S=cb(r,Le))}if(S===Cm){var Ae=km;throw vc(r,ut),vl(r,f),ma(r,ks()),Ae}}r.finishedWork=ge,r.finishedLanes=f,fP(r,S,f)}}return ma(r,ks()),r.callbackNode===l?AO.bind(null,r):null}function cb(r,n){var l=Tm;if(n0(r)){var d=vc(r,n);d.flags|=Za,UT(r.containerInfo)}var f=jp(r,n);if(f!==pc){var x=da;da=l,x!==null&&LO(x)}return f}function LO(r){da===null?da=r:da.push.apply(da,r)}function fP(r,n,l){switch(n){case yo:case Cm:throw new Error("Root did not complete. This is a bug in React.");case pc:{gc(r,da,Eo);break}case Cp:{if(vl(r,l),pD(l)&&!QO()){var d=sb+PO-ks();if(d>10){var f=e0(r,ut);if(f!==ut)break;var x=r.suspendedLanes;if(!ru(x,l)){zn(),xD(r,x);break}r.timeoutHandle=ig(gc.bind(null,r,da,Eo),d);break}}gc(r,da,Eo);break}case wm:{if(vl(r,l),uR(l))break;if(!QO()){var S=nR(r,l),P=S,M=ks()-P,ce=UP(M)-M;if(ce>10){r.timeoutHandle=ig(gc.bind(null,r,da,Eo),ce);break}}gc(r,da,Eo);break}case _O:{gc(r,da,Eo);break}default:throw new Error("Unknown root exit status.")}}function pP(r){for(var n=r;;){if(n.flags&gd){var l=n.updateQueue;if(l!==null){var d=l.stores;if(d!==null)for(var f=0;f<d.length;f++){var x=d[f],S=x.getSnapshot,P=x.value;try{if(!ya(S(),P))return!1}catch{return!1}}}}var M=n.child;if(n.subtreeFlags&gd&&M!==null){M.return=n,n=M;continue}if(n===r)return!0;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}return!0}function vl(r,n){n=r0(n,kp),n=r0(n,Rm),pR(r,n)}function MO(r){if(_3(),(wr&(xn|La))!==Bs)throw new Error("Should not already be working.");wo();var n=e0(r,ut);if(!Da(n,tr))return ma(r,ks()),null;var l=jp(r,n);if(r.tag!==nl&&l===pc){var d=wv(r);d!==ut&&(n=d,l=cb(r,d))}if(l===Cm){var f=km;throw vc(r,ut),vl(r,n),ma(r,ks()),f}if(l===tb)throw new Error("Root did not complete. This is a bug in React.");var x=r.current.alternate;return r.finishedWork=x,r.finishedLanes=n,gc(r,da,Eo),ma(r,ks()),null}function hP(r,n){n!==ut&&(_v(r,vr(n,tr)),ma(r,ks()),(wr&(xn|La))===Bs&&(_m(),al()))}function ub(r,n){var l=wr;wr|=TO;try{return r(n)}finally{wr=l,wr===Bs&&!pi.isBatchingLegacy&&(_m(),j1())}}function vP(r,n,l,d,f){var x=si(),S=gn.transition;try{return gn.transition=null,Zs(Sa),r(n,l,d,f)}finally{Zs(x),gn.transition=S,wr===Bs&&_m()}}function Co(r){pl!==null&&pl.tag===nl&&(wr&(xn|La))===Bs&&wo();var n=wr;wr|=TO;var l=gn.transition,d=si();try{return gn.transition=null,Zs(Sa),r?r():void 0}finally{Zs(d),gn.transition=l,wr=n,(wr&(xn|La))===Bs&&al()}}function IO(){return(wr&(xn|La))!==Bs}function Vp(r,n){Rn(rb,$i,r),$i=vr($i,n)}function db(r){$i=rb.current,kn(rb,r)}function vc(r,n){r.finishedWork=null,r.finishedLanes=ut;var l=r.timeoutHandle;if(l!==og&&(r.timeoutHandle=og,X2(l)),ms!==null)for(var d=ms.return;d!==null;){var f=d.alternate;pO(f,d),d=d.return}Hn=r;var x=xc(r.current,null);return ms=x,Xs=$i=n,Hs=yo,km=null,wp=ut,Rm=ut,kp=ut,Tm=null,da=null,d3(),ii.discardPendingWarnings(),x}function FO(r,n){do{var l=ms;try{if(H0(),uS(),ys(),eb.current=null,l===null||l.return===null){Hs=Cm,km=n,ms=null;return}if(me&&l.mode&Wr&&bp(l,!0),Oe)if(Qc(),n!==null&&typeof n=="object"&&typeof n.then=="function"){var d=n;Gk(l,d,Xs)}else zk(l,n,Xs);F3(r,l.return,l,n,Xs),HO(l)}catch(f){n=f,ms===l&&l!==null?(l=l.return,ms=l):l=ms;continue}return}while(!0)}function $O(){var r=Zx.current;return Zx.current=pp,r===null?pp:r}function BO(r){Zx.current=r}function gP(){sb=ks()}function jm(r){wp=vr(r,wp)}function xP(){Hs===yo&&(Hs=Cp)}function mb(){(Hs===yo||Hs===Cp||Hs===pc)&&(Hs=wm),Hn!==null&&(kv(wp)||kv(Rm))&&vl(Hn,Xs)}function bP(r){Hs!==wm&&(Hs=pc),Tm===null?Tm=[r]:Tm.push(r)}function NP(){return Hs===yo}function jp(r,n){var l=wr;wr|=xn;var d=$O();if(Hn!==r||Xs!==n){if(ri){var f=r.memoizedUpdaters;f.size>0&&(Am(r,Xs),f.clear()),ND(r,n)}Eo=DD(),vc(r,n)}cD(n);do try{DP();break}catch(x){FO(r,x)}while(!0);if(H0(),wr=l,BO(d),ms!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return uD(),Hn=null,Xs=ut,Hs}function DP(){for(;ms!==null;)XO(ms)}function SP(r,n){var l=wr;wr|=xn;var d=$O();if(Hn!==r||Xs!==n){if(ri){var f=r.memoizedUpdaters;f.size>0&&(Am(r,Xs),f.clear()),ND(r,n)}Eo=DD(),_m(),vc(r,n)}cD(n);do try{OP();break}catch(x){FO(r,x)}while(!0);return H0(),BO(d),wr=l,ms!==null?(Jk(),yo):(uD(),Hn=null,Xs=ut,Hs)}function OP(){for(;ms!==null&&!bd();)XO(ms)}function XO(r){var n=r.alternate;es(r);var l;(r.mode&Wr)!==Wt?(hx(r),l=fb(n,r,$i),bp(r,!0)):l=fb(n,r,$i),ys(),r.memoizedProps=r.pendingProps,l===null?HO(r):ms=l,eb.current=null}function HO(r){var n=r;do{var l=n.alternate,d=n.return;if((n.flags&fo)===yt){es(n);var f=void 0;if((n.mode&Wr)===Wt?f=fO(l,n,$i):(hx(n),f=fO(l,n,$i),bp(n,!1)),ys(),f!==null){ms=f;return}}else{var x=x_(l,n);if(x!==null){x.flags&=ba,ms=x;return}if((n.mode&Wr)!==Wt){bp(n,!1);for(var S=n.actualDuration,P=n.child;P!==null;)S+=P.actualDuration,P=P.sibling;n.actualDuration=S}if(d!==null)d.flags|=fo,d.subtreeFlags=yt,d.deletions=null;else{Hs=tb,ms=null;return}}var M=n.sibling;if(M!==null){ms=M;return}n=d,ms=n}while(n!==null);Hs===yo&&(Hs=_O)}function gc(r,n,l){var d=si(),f=gn.transition;try{gn.transition=null,Zs(Sa),yP(r,n,l,d)}finally{gn.transition=f,Zs(d)}return null}function yP(r,n,l,d){do wo();while(pl!==null);if(jP(),(wr&(xn|La))!==Bs)throw new Error("Should not already be working.");var f=r.finishedWork,x=r.finishedLanes;if(Mk(x),f===null)return iD(),null;if(x===ut&&c("root.finishedLanes should not be empty during a commit. This is a bug in React."),r.finishedWork=null,r.finishedLanes=ut,f===r.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");r.callbackNode=null,r.callbackPriority=Qs;var S=vr(f.lanes,f.childLanes);hR(r,S),r===Hn&&(Hn=null,ms=null,Xs=ut),((f.subtreeFlags&Ke)!==yt||(f.flags&Ke)!==yt)&&(hc||(hc=!0,ib=l,vb(ql,function(){return wo(),null})));var P=(f.subtreeFlags&(Re|Ue|We|Ke))!==yt,M=(f.flags&(Re|Ue|We|Ke))!==yt;if(P||M){var ce=gn.transition;gn.transition=null;var ge=si();Zs(Sa);var Le=wr;wr|=La,eb.current=null,O_(r,f),jS(),L_(r,f,x),A2(r.containerInfo),r.current=f,Wk(x),M_(f,r,x),Yk(),rv(),wr=Le,Zs(ge),gn.transition=ce}else r.current=f,jS();var Ae=hc;if(hc?(hc=!1,pl=r,Pm=x):(Pu=0,_p=null),S=r.pendingLanes,S===ut&&(_u=null),Ae||YO(r.current,!1),Uk(f.stateNode,d),ri&&r.memoizedUpdaters.clear(),sP(),ma(r,ks()),n!==null)for(var Ye=r.onRecoverableError,Je=0;Je<n.length;Je++){var st=n[Je],Ot=st.stack,Xt=st.digest;Ye(st.value,{componentStack:Ot,digest:Xt})}if(Rp){Rp=!1;var It=nb;throw nb=null,It}return Da(Pm,tr)&&r.tag!==nl&&wo(),S=r.pendingLanes,Da(S,tr)?(R3(),r===ob?Um++:(Um=0,ob=r)):Um=0,al(),iD(),null}function wo(){if(pl!==null){var r=SD(Pm),n=bR(vo,r),l=gn.transition,d=si();try{return gn.transition=null,Zs(n),CP()}finally{Zs(d),gn.transition=l}}return!1}function EP(r){ab.push(r),hc||(hc=!0,vb(ql,function(){return wo(),null}))}function CP(){if(pl===null)return!1;var r=ib;ib=null;var n=pl,l=Pm;if(pl=null,Pm=ut,(wr&(xn|La))!==Bs)throw new Error("Cannot flush passive effects while already rendering.");lb=!0,Tp=!1,Kk(l);var d=wr;wr|=La,z_(n.current),$_(n,n.current,l,r);{var f=ab;ab=[];for(var x=0;x<f.length;x++){var S=f[x];w_(n,S)}}qk(),YO(n.current,!0),wr=d,al(),Tp?n===_p?Pu++:(Pu=0,_p=n):Pu=0,lb=!1,Tp=!1,Vk(n);{var P=n.current.stateNode;P.effectDuration=0,P.passiveEffectDuration=0}return!0}function zO(r){return _u!==null&&_u.has(r)}function wP(r){_u===null?_u=new Set([r]):_u.add(r)}function kP(r){Rp||(Rp=!0,nb=r)}var RP=kP;function GO(r,n,l){var d=mc(l,n),f=XS(r,d,tr),x=ol(r,f,tr),S=zn();x!==null&&(wd(x,tr,S),ma(x,S))}function Zr(r,n,l){if(N_(l),Lm(!1),r.tag===b){GO(r,r,l);return}var d=null;for(d=n;d!==null;){if(d.tag===b){GO(d,r,l);return}else if(d.tag===g){var f=d.type,x=d.stateNode;if(typeof f.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&!zO(x)){var S=mc(l,r),P=Ux(d,S,tr),M=ol(d,P,tr),ce=zn();M!==null&&(wd(M,tr,ce),ma(M,ce));return}}d=d.return}c(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,l)}function TP(r,n,l){var d=r.pingCache;d!==null&&d.delete(n);var f=zn();xD(r,l),IP(r),Hn===r&&ru(Xs,l)&&(Hs===wm||Hs===Cp&&pD(Xs)&&ks()-sb<PO?vc(r,ut):kp=vr(kp,l)),ma(r,f)}function WO(r,n){n===Qs&&(n=uP(r));var l=zn(),d=ca(r,n);d!==null&&(wd(d,n,l),ma(d,l))}function _P(r){var n=r.memoizedState,l=Qs;n!==null&&(l=n.retryLane),WO(r,l)}function PP(r,n){var l=Qs,d;switch(r.tag){case W:d=r.stateNode;var f=r.memoizedState;f!==null&&(l=f.retryLane);break;case re:d=r.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}d!==null&&d.delete(n),WO(r,l)}function UP(r){return r<120?120:r<480?480:r<1080?1080:r<1920?1920:r<3e3?3e3:r<4320?4320:iP(r/1960)*1960}function VP(){if(Um>lP)throw Um=0,ob=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Pu>cP&&(Pu=0,_p=null,c("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function jP(){ii.flushLegacyContextWarning(),ii.flushPendingUnsafeLifecycleWarnings()}function YO(r,n){es(r),Ap(r,fe,eP),n&&Ap(r,xe,tP),Ap(r,fe,Q_),n&&Ap(r,xe,Z_),ys()}function Ap(r,n,l){for(var d=r,f=null;d!==null;){var x=d.subtreeFlags&n;d!==f&&d.child!==null&&x!==yt?d=d.child:((d.flags&n)!==yt&&l(d),d.sibling!==null?d=d.sibling:d=f=d.return)}}var Lp=null;function KO(r){{if((wr&xn)!==Bs||!(r.mode&Cr))return;var n=r.tag;if(n!==v&&n!==b&&n!==g&&n!==h&&n!==R&&n!==ee&&n!==X)return;var l=Bt(r)||"ReactComponent";if(Lp!==null){if(Lp.has(l))return;Lp.add(l)}else Lp=new Set([l]);var d=$r;try{es(r),c("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{d?es(r):ys()}}}var fb;{var AP=null;fb=function(r,n,l){var d=sy(AP,n);try{return lO(r,n,l)}catch(x){if(YT()||x!==null&&typeof x=="object"&&typeof x.then=="function")throw x;if(H0(),uS(),pO(r,n),sy(n,d),n.mode&Wr&&hx(n),Wl(null,lO,null,r,n,l),Zh()){var f=hd();typeof f=="object"&&f!==null&&f._suppressLogging&&typeof x=="object"&&x!==null&&!x._suppressLogging&&(x._suppressLogging=!0)}throw x}}}var qO=!1,pb;pb=new Set;function LP(r){if(Ds&&!C3())switch(r.tag){case h:case R:case X:{var n=ms&&Bt(ms)||"Unknown",l=n;if(!pb.has(l)){pb.add(l);var d=Bt(r)||"Unknown";c("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",d,n,n)}break}case g:{qO||(c("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),qO=!0);break}}}function Am(r,n){if(ri){var l=r.memoizedUpdaters;l.forEach(function(d){bD(r,d,n)})}}var hb={};function vb(r,n){{var l=pi.current;return l!==null?(l.push(n),hb):Kf(r,n)}}function JO(r){if(r!==hb)return tv(r)}function QO(){return pi.current!==null}function MP(r){{if(r.mode&Cr){if(!RO())return}else if(!aP()||wr!==Bs||r.tag!==h&&r.tag!==R&&r.tag!==X)return;if(pi.current===null){var n=$r;try{es(r),c(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Bt(r))}finally{n?es(r):ys()}}}}function IP(r){r.tag!==nl&&RO()&&pi.current===null&&c(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function Lm(r){jO=r}var Ma=null,Uu=null,FP=function(r){Ma=r};function Vu(r){{if(Ma===null)return r;var n=Ma(r);return n===void 0?r:n.current}}function gb(r){return Vu(r)}function xb(r){{if(Ma===null)return r;var n=Ma(r);if(n===void 0){if(r!=null&&typeof r.render=="function"){var l=Vu(r.render);if(r.render!==l){var d={$$typeof:F,render:l};return r.displayName!==void 0&&(d.displayName=r.displayName),d}}return r}return n.current}}function ZO(r,n){{if(Ma===null)return!1;var l=r.elementType,d=n.type,f=!1,x=typeof d=="object"&&d!==null?d.$$typeof:null;switch(r.tag){case g:{typeof d=="function"&&(f=!0);break}case h:{(typeof d=="function"||x===Ne)&&(f=!0);break}case R:{(x===F||x===Ne)&&(f=!0);break}case ee:case X:{(x===te||x===Ne)&&(f=!0);break}default:return!1}if(f){var S=Ma(l);if(S!==void 0&&S===Ma(d))return!0}return!1}}function ey(r){{if(Ma===null||typeof WeakSet!="function")return;Uu===null&&(Uu=new WeakSet),Uu.add(r)}}var $P=function(r,n){{if(Ma===null)return;var l=n.staleFamilies,d=n.updatedFamilies;wo(),Co(function(){bb(r.current,d,l)})}},BP=function(r,n){{if(r.context!==Ea)return;wo(),Co(function(){Mm(n,r,null,null)})}};function bb(r,n,l){{var d=r.alternate,f=r.child,x=r.sibling,S=r.tag,P=r.type,M=null;switch(S){case h:case X:case g:M=P;break;case R:M=P.render;break}if(Ma===null)throw new Error("Expected resolveFamily to be set during hot reload.");var ce=!1,ge=!1;if(M!==null){var Le=Ma(M);Le!==void 0&&(l.has(Le)?ge=!0:n.has(Le)&&(S===g?ge=!0:ce=!0))}if(Uu!==null&&(Uu.has(r)||d!==null&&Uu.has(d))&&(ge=!0),ge&&(r._debugNeedsRemount=!0),ge||ce){var Ae=ca(r,tr);Ae!==null&&zs(Ae,r,tr,ss)}f!==null&&!ge&&bb(f,n,l),x!==null&&bb(x,n,l)}}var XP=function(r,n){{var l=new Set,d=new Set(n.map(function(f){return f.current}));return Nb(r.current,d,l),l}};function Nb(r,n,l){{var d=r.child,f=r.sibling,x=r.tag,S=r.type,P=null;switch(x){case h:case X:case g:P=S;break;case R:P=S.render;break}var M=!1;P!==null&&n.has(P)&&(M=!0),M?HP(r,l):d!==null&&Nb(d,n,l),f!==null&&Nb(f,n,l)}}function HP(r,n){{var l=zP(r,n);if(l)return;for(var d=r;;){switch(d.tag){case k:n.add(d.stateNode);return;case E:n.add(d.stateNode.containerInfo);return;case b:n.add(d.stateNode.containerInfo);return}if(d.return===null)throw new Error("Expected to reach root first.");d=d.return}}}function zP(r,n){for(var l=r,d=!1;;){if(l.tag===k)d=!0,n.add(l.stateNode);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)return d;for(;l.sibling===null;){if(l.return===null||l.return===r)return d;l=l.return}l.sibling.return=l.return,l=l.sibling}return!1}var Db;{Db=!1;try{var ty=Object.preventExtensions({})}catch{Db=!0}}function GP(r,n,l,d){this.tag=r,this.key=l,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=n,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=d,this.flags=yt,this.subtreeFlags=yt,this.deletions=null,this.lanes=ut,this.childLanes=ut,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!Db&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var Ca=function(r,n,l,d){return new GP(r,n,l,d)};function Sb(r){var n=r.prototype;return!!(n&&n.isReactComponent)}function WP(r){return typeof r=="function"&&!Sb(r)&&r.defaultProps===void 0}function YP(r){if(typeof r=="function")return Sb(r)?g:h;if(r!=null){var n=r.$$typeof;if(n===F)return R;if(n===te)return ee}return v}function xc(r,n){var l=r.alternate;l===null?(l=Ca(r.tag,n,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l._debugSource=r._debugSource,l._debugOwner=r._debugOwner,l._debugHookTypes=r._debugHookTypes,l.alternate=r,r.alternate=l):(l.pendingProps=n,l.type=r.type,l.flags=yt,l.subtreeFlags=yt,l.deletions=null,l.actualDuration=0,l.actualStartTime=-1),l.flags=r.flags&ft,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue;var d=r.dependencies;switch(l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.selfBaseDuration=r.selfBaseDuration,l.treeBaseDuration=r.treeBaseDuration,l._debugNeedsRemount=r._debugNeedsRemount,l.tag){case v:case h:case X:l.type=Vu(r.type);break;case g:l.type=gb(r.type);break;case R:l.type=xb(r.type);break}return l}function KP(r,n){r.flags&=ft|ps;var l=r.alternate;if(l===null)r.childLanes=ut,r.lanes=n,r.child=null,r.subtreeFlags=yt,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null,r.selfBaseDuration=0,r.treeBaseDuration=0;else{r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=yt,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type;var d=l.dependencies;r.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},r.selfBaseDuration=l.selfBaseDuration,r.treeBaseDuration=l.treeBaseDuration}return r}function qP(r,n,l){var d;return r===V0?(d=Cr,n===!0&&(d|=hs,d|=_i)):d=Wt,ri&&(d|=Wr),Ca(b,null,null,d)}function Ob(r,n,l,d,f,x){var S=v,P=r;if(typeof r=="function")Sb(r)?(S=g,P=gb(P)):P=Vu(P);else if(typeof r=="string")S=k;else e:switch(r){case Ve:return gl(l.children,f,x,n);case ue:S=T,f|=hs,(f&Cr)!==Wt&&(f|=_i);break;case K:return JP(l,f,x,n);case z:return QP(l,f,x,n);case A:return ZP(l,f,x,n);case pe:return ry(l,f,x,n);case Se:case Pe:case je:case Qe:case ye:default:{if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:S=Z;break e;case L:S=J;break e;case F:S=R,P=xb(P);break e;case te:S=ee;break e;case Ne:S=De,P=null;break e}var M="";{(r===void 0||typeof r=="object"&&r!==null&&Object.keys(r).length===0)&&(M+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ce=d?Bt(d):null;ce&&(M+=`

Check the render method of \``+ce+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(r==null?r:typeof r)+"."+M))}}var ge=Ca(S,l,n,f);return ge.elementType=r,ge.type=P,ge.lanes=x,ge._debugOwner=d,ge}function yb(r,n,l){var d=null;d=r._owner;var f=r.type,x=r.key,S=r.props,P=Ob(f,x,S,d,n,l);return P._debugSource=r._source,P._debugOwner=r._owner,P}function gl(r,n,l,d){var f=Ca(y,r,d,n);return f.lanes=l,f}function JP(r,n,l,d){typeof r.id!="string"&&c('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof r.id);var f=Ca(le,r,d,n|Wr);return f.elementType=K,f.lanes=l,f.stateNode={effectDuration:0,passiveEffectDuration:0},f}function QP(r,n,l,d){var f=Ca(W,r,d,n);return f.elementType=z,f.lanes=l,f}function ZP(r,n,l,d){var f=Ca(re,r,d,n);return f.elementType=A,f.lanes=l,f}function ry(r,n,l,d){var f=Ca(oe,r,d,n);f.elementType=pe,f.lanes=l;var x={isHidden:!1};return f.stateNode=x,f}function Eb(r,n,l){var d=Ca(w,r,null,n);return d.lanes=l,d}function eU(){var r=Ca(k,null,null,Wt);return r.elementType="DELETED",r}function tU(r){var n=Ca(B,null,null,Wt);return n.stateNode=r,n}function Cb(r,n,l){var d=r.children!==null?r.children:[],f=Ca(E,d,r.key,n);return f.lanes=l,f.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},f}function sy(r,n){return r===null&&(r=Ca(v,null,null,Wt)),r.tag=n.tag,r.key=n.key,r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.return=n.return,r.child=n.child,r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.pendingProps=n.pendingProps,r.memoizedProps=n.memoizedProps,r.updateQueue=n.updateQueue,r.memoizedState=n.memoizedState,r.dependencies=n.dependencies,r.mode=n.mode,r.flags=n.flags,r.subtreeFlags=n.subtreeFlags,r.deletions=n.deletions,r.lanes=n.lanes,r.childLanes=n.childLanes,r.alternate=n.alternate,r.actualDuration=n.actualDuration,r.actualStartTime=n.actualStartTime,r.selfBaseDuration=n.selfBaseDuration,r.treeBaseDuration=n.treeBaseDuration,r._debugSource=n._debugSource,r._debugOwner=n._debugOwner,r._debugNeedsRemount=n._debugNeedsRemount,r._debugHookTypes=n._debugHookTypes,r}function rU(r,n,l,d,f){this.tag=n,this.containerInfo=r,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=og,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Qs,this.eventTimes=Tv(ut),this.expirationTimes=Tv(ss),this.pendingLanes=ut,this.suspendedLanes=ut,this.pingedLanes=ut,this.expiredLanes=ut,this.mutableReadLanes=ut,this.finishedLanes=ut,this.entangledLanes=ut,this.entanglements=Tv(ut),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var x=this.pendingUpdatersLaneMap=[],S=0;S<ov;S++)x.push(new Set)}switch(n){case V0:this._debugRootType=l?"hydrateRoot()":"createRoot()";break;case nl:this._debugRootType=l?"hydrate()":"render()";break}}function ny(r,n,l,d,f,x,S,P,M,ce){var ge=new rU(r,n,l,P,M),Le=qP(n,x);ge.current=Le,Le.stateNode=ge;{var Ae={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null};Le.memoizedState=Ae}return Ig(Le),ge}var wb="18.3.1";function sU(r,n,l){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return ze(d),{$$typeof:ae,key:d==null?null:""+d,children:r,containerInfo:n,implementation:l}}var kb,Rb;kb=!1,Rb={};function ay(r){if(!r)return Ea;var n=Yo(r),l=IT(n);if(n.tag===g){var d=n.type;if(Vi(d))return P1(n,d,l)}return l}function nU(r,n){{var l=Yo(r);if(l===void 0){if(typeof r.render=="function")throw new Error("Unable to find node on an unmounted component.");var d=Object.keys(r).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+d)}var f=ti(l);if(f===null)return null;if(f.mode&hs){var x=Bt(l)||"Component";if(!Rb[x]){Rb[x]=!0;var S=$r;try{es(f),l.mode&hs?c("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",n,n,x):c("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",n,n,x)}finally{S?es(S):ys()}}}return f.stateNode}}function iy(r,n,l,d,f,x,S,P){var M=!1,ce=null;return ny(r,n,M,ce,l,d,f,x,S)}function oy(r,n,l,d,f,x,S,P,M,ce){var ge=!0,Le=ny(l,d,ge,r,f,x,S,P,M);Le.context=ay(null);var Ae=Le.current,Ye=zn(),Je=hl(Ae),st=So(Ye,Je);return st.callback=n??null,ol(Ae,st,Je),dP(Le,Je,Ye),Le}function Mm(r,n,l,d){Pk(n,r);var f=n.current,x=zn(),S=hl(f);Qk(S);var P=ay(l);n.context===null?n.context=P:n.pendingContext=P,Ds&&$r!==null&&!kb&&(kb=!0,c(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Bt($r)||"Unknown"));var M=So(x,S);M.payload={element:r},d=d===void 0?null:d,d!==null&&(typeof d!="function"&&c("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",d),M.callback=d);var ce=ol(f,M,S);return ce!==null&&(zs(ce,f,S,x),K0(ce,f,S)),S}function Mp(r){var n=r.current;if(!n.child)return null;switch(n.child.tag){case k:return n.child.stateNode;default:return n.child.stateNode}}function aU(r){switch(r.tag){case b:{var n=r.stateNode;if(n0(n)){var l=oR(n);hP(n,l)}break}case W:{Co(function(){var f=ca(r,tr);if(f!==null){var x=zn();zs(f,r,tr,x)}});var d=tr;Tb(r,d);break}}}function ly(r,n){var l=r.memoizedState;l!==null&&l.dehydrated!==null&&(l.retryLane=fR(l.retryLane,n))}function Tb(r,n){ly(r,n);var l=r.alternate;l&&ly(l,n)}function iU(r){if(r.tag===W){var n=Od,l=ca(r,n);if(l!==null){var d=zn();zs(l,r,n,d)}Tb(r,n)}}function oU(r){if(r.tag===W){var n=hl(r),l=ca(r,n);if(l!==null){var d=zn();zs(l,r,n,d)}Tb(r,n)}}function cy(r){var n=xd(r);return n===null?null:n.stateNode}var uy=function(r){return null};function lU(r){return uy(r)}var dy=function(r){return!1};function cU(r){return dy(r)}var my=null,fy=null,py=null,hy=null,vy=null,gy=null,xy=null,by=null,Ny=null;{var Dy=function(r,n,l){var d=n[l],f=Lt(r)?r.slice():mt({},r);return l+1===n.length?(Lt(f)?f.splice(d,1):delete f[d],f):(f[d]=Dy(r[d],n,l+1),f)},Sy=function(r,n){return Dy(r,n,0)},Oy=function(r,n,l,d){var f=n[d],x=Lt(r)?r.slice():mt({},r);if(d+1===n.length){var S=l[d];x[S]=x[f],Lt(x)?x.splice(f,1):delete x[f]}else x[f]=Oy(r[f],n,l,d+1);return x},yy=function(r,n,l){if(n.length!==l.length){u("copyWithRename() expects paths of the same length");return}else for(var d=0;d<l.length-1;d++)if(n[d]!==l[d]){u("copyWithRename() expects paths to be the same except for the deepest key");return}return Oy(r,n,l,0)},Ey=function(r,n,l,d){if(l>=n.length)return d;var f=n[l],x=Lt(r)?r.slice():mt({},r);return x[f]=Ey(r[f],n,l+1,d),x},Cy=function(r,n,l){return Ey(r,n,0,l)},_b=function(r,n){for(var l=r.memoizedState;l!==null&&n>0;)l=l.next,n--;return l};my=function(r,n,l,d){var f=_b(r,n);if(f!==null){var x=Cy(f.memoizedState,l,d);f.memoizedState=x,f.baseState=x,r.memoizedProps=mt({},r.memoizedProps);var S=ca(r,tr);S!==null&&zs(S,r,tr,ss)}},fy=function(r,n,l){var d=_b(r,n);if(d!==null){var f=Sy(d.memoizedState,l);d.memoizedState=f,d.baseState=f,r.memoizedProps=mt({},r.memoizedProps);var x=ca(r,tr);x!==null&&zs(x,r,tr,ss)}},py=function(r,n,l,d){var f=_b(r,n);if(f!==null){var x=yy(f.memoizedState,l,d);f.memoizedState=x,f.baseState=x,r.memoizedProps=mt({},r.memoizedProps);var S=ca(r,tr);S!==null&&zs(S,r,tr,ss)}},hy=function(r,n,l){r.pendingProps=Cy(r.memoizedProps,n,l),r.alternate&&(r.alternate.pendingProps=r.pendingProps);var d=ca(r,tr);d!==null&&zs(d,r,tr,ss)},vy=function(r,n){r.pendingProps=Sy(r.memoizedProps,n),r.alternate&&(r.alternate.pendingProps=r.pendingProps);var l=ca(r,tr);l!==null&&zs(l,r,tr,ss)},gy=function(r,n,l){r.pendingProps=yy(r.memoizedProps,n,l),r.alternate&&(r.alternate.pendingProps=r.pendingProps);var d=ca(r,tr);d!==null&&zs(d,r,tr,ss)},xy=function(r){var n=ca(r,tr);n!==null&&zs(n,r,tr,ss)},by=function(r){uy=r},Ny=function(r){dy=r}}function uU(r){var n=ti(r);return n===null?null:n.stateNode}function dU(r){return null}function mU(){return $r}function fU(r){var n=r.findFiberByHostInstance,l=t.ReactCurrentDispatcher;return _k({bundleType:r.bundleType,version:r.version,rendererPackageName:r.rendererPackageName,rendererConfig:r.rendererConfig,overrideHookState:my,overrideHookStateDeletePath:fy,overrideHookStateRenamePath:py,overrideProps:hy,overridePropsDeletePath:vy,overridePropsRenamePath:gy,setErrorHandler:by,setSuspenseHandler:Ny,scheduleUpdate:xy,currentDispatcherRef:l,findHostInstanceByFiber:uU,findFiberByHostInstance:n||dU,findHostInstancesForRefresh:XP,scheduleRefresh:$P,scheduleRoot:BP,setRefreshHandler:FP,getCurrentFiber:mU,reconcilerVersion:wb})}var wy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Pb(r){this._internalRoot=r}Ip.prototype.render=Pb.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?c("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):Fp(arguments[1])?c("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&c("You passed a second argument to root.render(...) but it only accepts one argument.");var l=n.containerInfo;if(l.nodeType!==cs){var d=cy(n.current);d&&d.parentNode!==l&&c("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}Mm(r,n,null,null)},Ip.prototype.unmount=Pb.prototype.unmount=function(){typeof arguments[0]=="function"&&c("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;IO()&&c("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Co(function(){Mm(null,r,null,null)}),w1(n)}};function pU(r,n){if(!Fp(r))throw new Error("createRoot(...): Target container is not a DOM element.");ky(r);var l=!1,d=!1,f="",x=wy;n!=null&&(n.hydrate?u("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof n=="object"&&n!==null&&n.$$typeof===or&&c(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.transitionCallbacks!==void 0&&n.transitionCallbacks);var S=iy(r,V0,null,l,d,f,x);w0(S.current,r);var P=r.nodeType===cs?r.parentNode:r;return Hd(P),new Pb(S)}function Ip(r){this._internalRoot=r}function hU(r){r&&TR(r)}Ip.prototype.unstable_scheduleHydration=hU;function vU(r,n,l){if(!Fp(r))throw new Error("hydrateRoot(...): Target container is not a DOM element.");ky(r),n===void 0&&c("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var d=l??null,f=l!=null&&l.hydratedSources||null,x=!1,S=!1,P="",M=wy;l!=null&&(l.unstable_strictMode===!0&&(x=!0),l.identifierPrefix!==void 0&&(P=l.identifierPrefix),l.onRecoverableError!==void 0&&(M=l.onRecoverableError));var ce=oy(n,null,r,V0,d,x,S,P,M);if(w0(ce.current,r),Hd(r),f)for(var ge=0;ge<f.length;ge++){var Le=f[ge];N3(ce,Le)}return new Ip(ce)}function Fp(r){return!!(r&&(r.nodeType===En||r.nodeType===ia||r.nodeType===rd))}function Im(r){return!!(r&&(r.nodeType===En||r.nodeType===ia||r.nodeType===rd||r.nodeType===cs&&r.nodeValue===" react-mount-point-unstable "))}function ky(r){r.nodeType===En&&r.tagName&&r.tagName.toUpperCase()==="BODY"&&c("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),tm(r)&&(r._reactRootContainer?c("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):c("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var gU=t.ReactCurrentOwner,Ry;Ry=function(r){if(r._reactRootContainer&&r.nodeType!==cs){var n=cy(r._reactRootContainer.current);n&&n.parentNode!==r&&c("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var l=!!r._reactRootContainer,d=Ub(r),f=!!(d&&rl(d));f&&!l&&c("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),r.nodeType===En&&r.tagName&&r.tagName.toUpperCase()==="BODY"&&c("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function Ub(r){return r?r.nodeType===ia?r.documentElement:r.firstChild:null}function Ty(){}function xU(r,n,l,d,f){if(f){if(typeof d=="function"){var x=d;d=function(){var Ae=Mp(S);x.call(Ae)}}var S=oy(n,d,r,nl,null,!1,!1,"",Ty);r._reactRootContainer=S,w0(S.current,r);var P=r.nodeType===cs?r.parentNode:r;return Hd(P),Co(),S}else{for(var M;M=r.lastChild;)r.removeChild(M);if(typeof d=="function"){var ce=d;d=function(){var Ae=Mp(ge);ce.call(Ae)}}var ge=iy(r,nl,null,!1,!1,"",Ty);r._reactRootContainer=ge,w0(ge.current,r);var Le=r.nodeType===cs?r.parentNode:r;return Hd(Le),Co(function(){Mm(n,ge,l,d)}),ge}}function bU(r,n){r!==null&&typeof r!="function"&&c("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",n,r)}function $p(r,n,l,d,f){Ry(l),bU(f===void 0?null:f,"render");var x=l._reactRootContainer,S;if(!x)S=xU(l,n,r,f,d);else{if(S=x,typeof f=="function"){var P=f;f=function(){var M=Mp(S);P.call(M)}}Mm(n,S,r,f)}return Mp(S)}var _y=!1;function NU(r){{_y||(_y=!0,c("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var n=gU.current;if(n!==null&&n.stateNode!==null){var l=n.stateNode._warnedAboutRefsInRender;l||c("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Ur(n.type)||"A component"),n.stateNode._warnedAboutRefsInRender=!0}}return r==null?null:r.nodeType===En?r:nU(r,"findDOMNode")}function DU(r,n,l){if(c("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Im(n))throw new Error("Target container is not a DOM element.");{var d=tm(n)&&n._reactRootContainer===void 0;d&&c("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return $p(null,r,n,!0,l)}function SU(r,n,l){if(c("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Im(n))throw new Error("Target container is not a DOM element.");{var d=tm(n)&&n._reactRootContainer===void 0;d&&c("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return $p(null,r,n,!1,l)}function OU(r,n,l,d){if(c("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Im(l))throw new Error("Target container is not a DOM element.");if(r==null||!Wf(r))throw new Error("parentComponent must be a valid React Component");return $p(r,n,l,!1,d)}var Py=!1;function yU(r){if(Py||(Py=!0,c("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!Im(r))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var n=tm(r)&&r._reactRootContainer===void 0;n&&c("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(r._reactRootContainer){{var l=Ub(r),d=l&&!rl(l);d&&c("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Co(function(){$p(null,null,r,!1,function(){r._reactRootContainer=null,w1(r)})}),!0}else{{var f=Ub(r),x=!!(f&&rl(f)),S=r.nodeType===En&&Im(r.parentNode)&&!!r.parentNode._reactRootContainer;x&&c("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",S?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}NR(aU),SR(iU),OR(oU),yR(si),ER(gR),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&c("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Yh(C2),dd(ub,vP,Co);function EU(r,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Fp(n))throw new Error("Target container is not a DOM element.");return sU(r,n,null,l)}function CU(r,n,l,d){return OU(r,n,l,d)}var Vb={usingClientEntryPoint:!1,Events:[rl,du,k0,If,Ff,ub]};function wU(r,n){return Vb.usingClientEntryPoint||c('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),pU(r,n)}function kU(r,n,l){return Vb.usingClientEntryPoint||c('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),vU(r,n,l)}function RU(r){return IO()&&c("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Co(r)}var TU=fU({findFiberByHostInstance:sc,bundleType:1,version:wb,rendererPackageName:"react-dom"});if(!TU&&Ee&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var Uy=window.location.protocol;/^(https?|file):$/.test(Uy)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(Uy==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vb,fa.createPortal=EU,fa.createRoot=wU,fa.findDOMNode=NU,fa.flushSync=RU,fa.hydrate=DU,fa.hydrateRoot=kU,fa.render=SU,fa.unmountComponentAtNode=yU,fa.unstable_batchedUpdates=ub,fa.unstable_renderSubtreeIntoContainer=CU,fa.version=wb,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})(),fa}var $y;function IU(){return $y||($y=1,Lb.exports=MU()),Lb.exports}var By;function FU(){if(By)return Xp;By=1;var e=IU();{var s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Xp.createRoot=function(t,i){s.usingClientEntryPoint=!0;try{return e.createRoot(t,i)}finally{s.usingClientEntryPoint=!1}},Xp.hydrateRoot=function(t,i,o){s.usingClientEntryPoint=!0;try{return e.hydrateRoot(t,i,o)}finally{s.usingClientEntryPoint=!1}}}return Xp}var $U=FU();const BU=lC($U);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xy="popstate";function XU(e={}){function s(i,o){let{pathname:u,search:c,hash:m}=i.location;return tN("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:nf(o)}return zU(s,t,null,e)}function fs(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function Oi(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function HU(){return Math.random().toString(36).substring(2,10)}function Hy(e,s){return{usr:e.state,key:e.key,idx:s}}function tN(e,s,t=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof s=="string"?zu(s):s,state:t,key:s&&s.key||i||HU()}}function nf({pathname:e="/",search:s="",hash:t=""}){return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function zu(e){let s={};if(e){let t=e.indexOf("#");t>=0&&(s.hash=e.substring(t),e=e.substring(0,t));let i=e.indexOf("?");i>=0&&(s.search=e.substring(i),e=e.substring(0,i)),e&&(s.pathname=e)}return s}function zU(e,s,t,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,c=o.history,m="POP",h=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){m="POP";let T=v(),J=T==null?null:T-g;g=T,h&&h({action:m,location:y.location,delta:J})}function E(T,J){m="PUSH";let Z=tN(y.location,T,J);g=v()+1;let R=Hy(Z,g),le=y.createHref(Z);try{c.pushState(R,"",le)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(le)}u&&h&&h({action:m,location:y.location,delta:1})}function k(T,J){m="REPLACE";let Z=tN(y.location,T,J);g=v();let R=Hy(Z,g),le=y.createHref(Z);c.replaceState(R,"",le),u&&h&&h({action:m,location:y.location,delta:0})}function w(T){return GU(T)}let y={get action(){return m},get location(){return e(o,c)},listen(T){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Xy,b),h=T,()=>{o.removeEventListener(Xy,b),h=null}},createHref(T){return s(o,T)},createURL:w,encodeLocation(T){let J=w(T);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:E,replace:k,go(T){return c.go(T)}};return y}function GU(e,s=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),fs(t,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:nf(e);return i=i.replace(/ $/,"%20"),!s&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function cC(e,s,t="/"){return WU(e,s,t,!1)}function WU(e,s,t,i){let o=typeof s=="string"?zu(s):s,u=Uo(o.pathname||"/",t);if(u==null)return null;let c=uC(e);YU(c);let m=null;for(let h=0;m==null&&h<c.length;++h){let g=aV(u);m=sV(c[h],g,i)}return m}function uC(e,s=[],t=[],i="",o=!1){let u=(c,m,h=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&h)return;fs(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=To([i,v.relativePath]),E=t.concat(v);c.children&&c.children.length>0&&(fs(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),uC(c.children,s,E,b,h)),!(c.path==null&&!c.index)&&s.push({path:b,score:tV(b,c.index),routesMeta:E})};return e.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let h of dC(c.path))u(c,m,!0,h)}),s}function dC(e){let s=e.split("/");if(s.length===0)return[];let[t,...i]=s,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let c=dC(i.join("/")),m=[];return m.push(...c.map(h=>h===""?u:[u,h].join("/"))),o&&m.push(...c),m.map(h=>e.startsWith("/")&&h===""?"/":h)}function YU(e){e.sort((s,t)=>s.score!==t.score?t.score-s.score:rV(s.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var KU=/^:[\w-]+$/,qU=3,JU=2,QU=1,ZU=10,eV=-2,zy=e=>e==="*";function tV(e,s){let t=e.split("/"),i=t.length;return t.some(zy)&&(i+=eV),s&&(i+=JU),t.filter(o=>!zy(o)).reduce((o,u)=>o+(KU.test(u)?qU:u===""?QU:ZU),i)}function rV(e,s){return e.length===s.length&&e.slice(0,-1).every((i,o)=>i===s[o])?e[e.length-1]-s[s.length-1]:0}function sV(e,s,t=!1){let{routesMeta:i}=e,o={},u="/",c=[];for(let m=0;m<i.length;++m){let h=i[m],g=m===i.length-1,v=u==="/"?s:s.slice(u.length)||"/",b=mh({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},v),E=h.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=mh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:To([u,b.pathname]),pathnameBase:cV(To([u,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(u=To([u,b.pathnameBase]))}return c}function mh(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,i]=nV(e.path,e.caseSensitive,e.end),o=s.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},E)=>{if(v==="*"){let w=m[E]||"";c=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const k=m[E];return b&&!k?g[v]=void 0:g[v]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:e}}function nV(e,s=!1,t=!0){Oi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,h)=>(i.push({paramName:m,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,s?void 0:"i"),i]}function aV(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Oi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),e}}function Uo(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let t=s.endsWith("/")?s.length-1:s.length,i=e.charAt(t);return i&&i!=="/"?null:e.slice(t)||"/"}function iV(e,s="/"){let{pathname:t,search:i="",hash:o=""}=typeof e=="string"?zu(e):e;return{pathname:t?t.startsWith("/")?t:oV(t,s):s,search:uV(i),hash:dV(o)}}function oV(e,s){let t=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Fb(e,s,t,i){return`Cannot include a '${e}' character in a manually specified \`to.${s}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lV(e){return e.filter((s,t)=>t===0||s.route.path&&s.route.path.length>0)}function mC(e){let s=lV(e);return s.map((t,i)=>i===s.length-1?t.pathname:t.pathnameBase)}function fC(e,s,t,i=!1){let o;typeof e=="string"?o=zu(e):(o={...e},fs(!o.pathname||!o.pathname.includes("?"),Fb("?","pathname","search",o)),fs(!o.pathname||!o.pathname.includes("#"),Fb("#","pathname","hash",o)),fs(!o.search||!o.search.includes("#"),Fb("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=t;else{let b=s.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;o.pathname=E.join("/")}m=b>=0?s[b]:"/"}let h=iV(o,m),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(g||v)&&(h.pathname+="/"),h}var To=e=>e.join("/").replace(/\/\/+/g,"/"),cV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var pC=["POST","PUT","PATCH","DELETE"];new Set(pC);var fV=["GET",...pC];new Set(fV);var Gu=O.createContext(null);Gu.displayName="DataRouter";var Eh=O.createContext(null);Eh.displayName="DataRouterState";O.createContext(!1);var hC=O.createContext({isTransitioning:!1});hC.displayName="ViewTransition";var pV=O.createContext(new Map);pV.displayName="Fetchers";var hV=O.createContext(null);hV.displayName="Await";var Yi=O.createContext(null);Yi.displayName="Navigation";var vf=O.createContext(null);vf.displayName="Location";var jo=O.createContext({outlet:null,matches:[],isDataRoute:!1});jo.displayName="Route";var ON=O.createContext(null);ON.displayName="RouteError";function vV(e,{relative:s}={}){fs(gf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=O.useContext(Yi),{hash:o,pathname:u,search:c}=xf(e,{relative:s}),m=u;return t!=="/"&&(m=u==="/"?t:To([t,u])),i.createHref({pathname:m,search:c,hash:o})}function gf(){return O.useContext(vf)!=null}function sn(){return fs(gf(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(vf).location}var vC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gC(e){O.useContext(Yi).static||O.useLayoutEffect(e)}function Ki(){let{isDataRoute:e}=O.useContext(jo);return e?RV():gV()}function gV(){fs(gf(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Gu),{basename:s,navigator:t}=O.useContext(Yi),{matches:i}=O.useContext(jo),{pathname:o}=sn(),u=JSON.stringify(mC(i)),c=O.useRef(!1);return gC(()=>{c.current=!0}),O.useCallback((h,g={})=>{if(Oi(c.current,vC),!c.current)return;if(typeof h=="number"){t.go(h);return}let v=fC(h,JSON.parse(u),o,g.relative==="path");e==null&&s!=="/"&&(v.pathname=v.pathname==="/"?s:To([s,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[s,t,u,o,e])}O.createContext(null);function xf(e,{relative:s}={}){let{matches:t}=O.useContext(jo),{pathname:i}=sn(),o=JSON.stringify(mC(t));return O.useMemo(()=>fC(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function xV(e,s){return xC(e,s)}function xC(e,s,t,i,o){fs(gf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=O.useContext(Yi),{matches:c}=O.useContext(jo),m=c[c.length-1],h=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let Z=b&&b.path||"";bC(g,!b||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let E=sn(),k;if(s){let Z=typeof s=="string"?zu(s):s;fs(v==="/"||Z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),k=Z}else k=E;let w=k.pathname||"/",y=w;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(Z.length).join("/")}let T=cC(e,{pathname:y});Oi(b||T!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Oi(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=OV(T&&T.map(Z=>Object.assign({},Z,{params:Object.assign({},h,Z.params),pathname:To([v,u.encodeLocation?u.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:To([v,u.encodeLocation?u.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),c,t,i,o);return s&&J?O.createElement(vf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},J):J}function bV(){let e=kV(),s=mV(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},s),t?O.createElement("pre",{style:o},t):null,c)}var NV=O.createElement(bV,null),DV=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){this.props.unstable_onError?this.props.unstable_onError(e,s):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?O.createElement(jo.Provider,{value:this.props.routeContext},O.createElement(ON.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SV({routeContext:e,match:s,children:t}){let i=O.useContext(Gu);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),O.createElement(jo.Provider,{value:e},t)}function OV(e,s=[],t=null,i=null,o=null){if(e==null){if(!t)return null;if(t.errors)e=t.matches;else if(s.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let u=e,c=t?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);fs(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,h=-1;if(t)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:b,errors:E}=t,k=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||k){m=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}return u.reduceRight((g,v,b)=>{let E,k=!1,w=null,y=null;t&&(E=c&&v.route.id?c[v.route.id]:void 0,w=v.route.errorElement||NV,m&&(h<0&&b===0?(bC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,y=null):h===b&&(k=!0,y=v.route.hydrateFallbackElement||null)));let T=s.concat(u.slice(0,b+1)),J=()=>{let Z;return E?Z=w:k?Z=y:v.route.Component?Z=O.createElement(v.route.Component,null):v.route.element?Z=v.route.element:Z=g,O.createElement(SV,{match:v,routeContext:{outlet:g,matches:T,isDataRoute:t!=null},children:Z})};return t&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?O.createElement(DV,{location:t.location,revalidation:t.revalidation,component:w,error:E,children:J(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:i}):J()},null)}function yN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yV(e){let s=O.useContext(Gu);return fs(s,yN(e)),s}function EV(e){let s=O.useContext(Eh);return fs(s,yN(e)),s}function CV(e){let s=O.useContext(jo);return fs(s,yN(e)),s}function EN(e){let s=CV(e),t=s.matches[s.matches.length-1];return fs(t.route.id,`${e} can only be used on routes that contain a unique "id"`),t.route.id}function wV(){return EN("useRouteId")}function kV(){let e=O.useContext(ON),s=EV("useRouteError"),t=EN("useRouteError");return e!==void 0?e:s.errors?.[t]}function RV(){let{router:e}=yV("useNavigate"),s=EN("useNavigate"),t=O.useRef(!1);return gC(()=>{t.current=!0}),O.useCallback(async(o,u={})=>{Oi(t.current,vC),t.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:s,...u}))},[e,s])}var Gy={};function bC(e,s,t){!s&&!Gy[e]&&(Gy[e]=!0,Oi(!1,t))}O.memo(TV);function TV({routes:e,future:s,state:t,unstable_onError:i}){return xC(e,void 0,t,i,s)}function en(e){fs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _V({basename:e="/",children:s=null,location:t,navigationType:i="POP",navigator:o,static:u=!1}){fs(!gf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=zu(t));let{pathname:h="/",search:g="",hash:v="",state:b=null,key:E="default"}=t,k=O.useMemo(()=>{let w=Uo(h,c);return w==null?null:{location:{pathname:w,search:g,hash:v,state:b,key:E},navigationType:i}},[c,h,g,v,b,E,i]);return Oi(k!=null,`<Router basename="${c}"> is not able to match the URL "${h}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:O.createElement(Yi.Provider,{value:m},O.createElement(vf.Provider,{children:s,value:k}))}function Wy({children:e,location:s}){return xV(rN(e),s)}function rN(e,s=[]){let t=[];return O.Children.forEach(e,(i,o)=>{if(!O.isValidElement(i))return;let u=[...s,o];if(i.type===O.Fragment){t.push.apply(t,rN(i.props.children,u));return}fs(i.type===en,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fs(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=rN(i.props.children,u)),t.push(c)}),t}var ih="get",oh="application/x-www-form-urlencoded";function Ch(e){return e!=null&&typeof e.tagName=="string"}function PV(e){return Ch(e)&&e.tagName.toLowerCase()==="button"}function UV(e){return Ch(e)&&e.tagName.toLowerCase()==="form"}function VV(e){return Ch(e)&&e.tagName.toLowerCase()==="input"}function jV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AV(e,s){return e.button===0&&(!s||s==="_self")&&!jV(e)}function sN(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,t)=>{let i=e[t];return s.concat(Array.isArray(i)?i.map(o=>[t,o]):[[t,i]])},[]))}function LV(e,s){let t=sN(e);return s&&s.forEach((i,o)=>{t.has(o)||s.getAll(o).forEach(u=>{t.append(o,u)})}),t}var Hp=null;function MV(){if(Hp===null)try{new FormData(document.createElement("form"),0),Hp=!1}catch{Hp=!0}return Hp}var IV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $b(e){return e!=null&&!IV.has(e)?(Oi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):e}function FV(e,s){let t,i,o,u,c;if(UV(e)){let m=e.getAttribute("action");i=m?Uo(m,s):null,t=e.getAttribute("method")||ih,o=$b(e.getAttribute("enctype"))||oh,u=new FormData(e)}else if(PV(e)||VV(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||m.getAttribute("action");if(i=h?Uo(h,s):null,t=e.getAttribute("formmethod")||m.getAttribute("method")||ih,o=$b(e.getAttribute("formenctype"))||$b(m.getAttribute("enctype"))||oh,u=new FormData(m,e),!MV()){let{name:g,type:v,value:b}=e;if(v==="image"){let E=g?`${g}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else g&&u.append(g,b)}}else{if(Ch(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ih,i=null,o=oh,c=e}return u&&o==="text/plain"&&(c=u,u=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function CN(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function $V(e,s,t){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${t}`:s&&Uo(i.pathname,s)==="/"?i.pathname=`${s.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function BV(e,s){if(e.id in s)return s[e.id];try{let t=await import(e.module);return s[e.id]=t,t}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XV(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function HV(e,s,t){let i=await Promise.all(e.map(async o=>{let u=s.routes[o.route.id];if(u){let c=await BV(u,t);return c.links?c.links():[]}return[]}));return YV(i.flat(1).filter(XV).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yy(e,s,t,i,o,u){let c=(h,g)=>t[g]?h.route.id!==t[g].route.id:!0,m=(h,g)=>t[g].pathname!==h.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==h.params["*"];return u==="assets"?s.filter((h,g)=>c(h,g)||m(h,g)):u==="data"?s.filter((h,g)=>{let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,g)||m(h,g))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function zV(e,s,{includeHydrateFallback:t}={}){return GV(e.map(i=>{let o=s.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function GV(e){return[...new Set(e)]}function WV(e){let s={},t=Object.keys(e).sort();for(let i of t)s[i]=e[i];return s}function YV(e,s){let t=new Set;return new Set(s),e.reduce((i,o)=>{let u=JSON.stringify(WV(o));return t.has(u)||(t.add(u),i.push({key:u,link:o})),i},[])}function NC(){let e=O.useContext(Gu);return CN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function KV(){let e=O.useContext(Eh);return CN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wN=O.createContext(void 0);wN.displayName="FrameworkContext";function DC(){let e=O.useContext(wN);return CN(e,"You must render this element inside a <HydratedRouter> element"),e}function qV(e,s){let t=O.useContext(wN),[i,o]=O.useState(!1),[u,c]=O.useState(!1),{onFocus:m,onBlur:h,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=s,E=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let y=J=>{J.forEach(Z=>{c(Z.isIntersecting)})},T=new IntersectionObserver(y,{threshold:.5});return E.current&&T.observe(E.current),()=>{T.disconnect()}}},[e]),O.useEffect(()=>{if(i){let y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(y)}}},[i]);let k=()=>{o(!0)},w=()=>{o(!1),c(!1)};return t?e!=="intent"?[u,E,{}]:[u,E,{onFocus:$m(m,k),onBlur:$m(h,w),onMouseEnter:$m(g,k),onMouseLeave:$m(v,w),onTouchStart:$m(b,k)}]:[!1,E,{}]}function $m(e,s){return t=>{e&&e(t),t.defaultPrevented||s(t)}}function JV({page:e,...s}){let{router:t}=NC(),i=O.useMemo(()=>cC(t.routes,e,t.basename),[t.routes,e,t.basename]);return i?O.createElement(ZV,{page:e,matches:i,...s}):null}function QV(e){let{manifest:s,routeModules:t}=DC(),[i,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return HV(e,s,t).then(c=>{u||o(c)}),()=>{u=!0}},[e,s,t]),i}function ZV({page:e,matches:s,...t}){let i=sn(),{manifest:o,routeModules:u}=DC(),{basename:c}=NC(),{loaderData:m,matches:h}=KV(),g=O.useMemo(()=>Yy(e,s,h,o,i,"data"),[e,s,h,o,i]),v=O.useMemo(()=>Yy(e,s,h,o,i,"assets"),[e,s,h,o,i]),b=O.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let w=new Set,y=!1;if(s.forEach(J=>{let Z=o.routes[J.route.id];!Z||!Z.hasLoader||(!g.some(R=>R.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||Z.hasClientLoader?y=!0:w.add(J.route.id))}),w.size===0)return[];let T=$V(e,c,"data");return y&&w.size>0&&T.searchParams.set("_routes",s.filter(J=>w.has(J.route.id)).map(J=>J.route.id).join(",")),[T.pathname+T.search]},[c,m,i,o,g,s,e,u]),E=O.useMemo(()=>zV(v,o),[v,o]),k=QV(v);return O.createElement(O.Fragment,null,b.map(w=>O.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),E.map(w=>O.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),k.map(({key:w,link:y})=>O.createElement("link",{key:w,nonce:t.nonce,...y})))}function e4(...e){return s=>{e.forEach(t=>{typeof t=="function"?t(s):t!=null&&(t.current=s)})}}var SC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SC&&(window.__reactRouterVersion="7.8.2")}catch{}function t4({basename:e,children:s,window:t}){let i=O.useRef();i.current==null&&(i.current=XU({window:t,v5Compat:!0}));let o=i.current,[u,c]=O.useState({action:o.action,location:o.location}),m=O.useCallback(h=>{O.startTransition(()=>c(h))},[c]);return O.useLayoutEffect(()=>o.listen(m),[o,m]),O.createElement(_V,{basename:e,children:s,location:u.location,navigationType:u.action,navigator:o})}var OC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yC=O.forwardRef(function({onClick:s,discover:t="render",prefetch:i="none",relative:o,reloadDocument:u,replace:c,state:m,target:h,to:g,preventScrollReset:v,viewTransition:b,...E},k){let{basename:w}=O.useContext(Yi),y=typeof g=="string"&&OC.test(g),T,J=!1;if(typeof g=="string"&&y&&(T=g,SC))try{let _=new URL(window.location.href),B=g.startsWith("//")?new URL(_.protocol+g):new URL(g),re=Uo(B.pathname,w);B.origin===_.origin&&re!=null?g=re+B.search+B.hash:J=!0}catch{Oi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=vV(g,{relative:o}),[R,le,W]=qV(i,E),ee=a4(g,{replace:c,state:m,target:h,preventScrollReset:v,relative:o,viewTransition:b});function X(_){s&&s(_),_.defaultPrevented||ee(_)}let De=O.createElement("a",{...E,...W,href:T||Z,onClick:J||u?s:X,ref:e4(k,le),target:h,"data-discover":!y&&t==="render"?"true":void 0});return R&&!y?O.createElement(O.Fragment,null,De,O.createElement(JV,{page:Z})):De});yC.displayName="Link";var r4=O.forwardRef(function({"aria-current":s="page",caseSensitive:t=!1,className:i="",end:o=!1,style:u,to:c,viewTransition:m,children:h,...g},v){let b=xf(c,{relative:g.relative}),E=sn(),k=O.useContext(Eh),{navigator:w,basename:y}=O.useContext(Yi),T=k!=null&&u4(b)&&m===!0,J=w.encodeLocation?w.encodeLocation(b).pathname:b.pathname,Z=E.pathname,R=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),R=R?R.toLowerCase():null,J=J.toLowerCase()),R&&y&&(R=Uo(R,y)||R);const le=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let W=Z===J||!o&&Z.startsWith(J)&&Z.charAt(le)==="/",ee=R!=null&&(R===J||!o&&R.startsWith(J)&&R.charAt(J.length)==="/"),X={isActive:W,isPending:ee,isTransitioning:T},De=W?s:void 0,_;typeof i=="function"?_=i(X):_=[i,W?"active":null,ee?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let B=typeof u=="function"?u(X):u;return O.createElement(yC,{...g,"aria-current":De,className:_,ref:v,style:B,to:c,viewTransition:m},typeof h=="function"?h(X):h)});r4.displayName="NavLink";var s4=O.forwardRef(({discover:e="render",fetcherKey:s,navigate:t,reloadDocument:i,replace:o,state:u,method:c=ih,action:m,onSubmit:h,relative:g,preventScrollReset:v,viewTransition:b,...E},k)=>{let w=l4(),y=c4(m,{relative:g}),T=c.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&OC.test(m),Z=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let le=R.nativeEvent.submitter,W=le?.getAttribute("formmethod")||c;w(le||R.currentTarget,{fetcherKey:s,method:W,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return O.createElement("form",{ref:k,method:T,action:y,onSubmit:i?h:Z,...E,"data-discover":!J&&e==="render"?"true":void 0})});s4.displayName="Form";function n4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EC(e){let s=O.useContext(Gu);return fs(s,n4(e)),s}function a4(e,{target:s,replace:t,state:i,preventScrollReset:o,relative:u,viewTransition:c}={}){let m=Ki(),h=sn(),g=xf(e,{relative:u});return O.useCallback(v=>{if(AV(v,s)){v.preventDefault();let b=t!==void 0?t:nf(h)===nf(g);m(e,{replace:b,state:i,preventScrollReset:o,relative:u,viewTransition:c})}},[h,m,g,t,i,s,e,o,u,c])}function Ao(e){Oi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=O.useRef(sN(e)),t=O.useRef(!1),i=sn(),o=O.useMemo(()=>LV(i.search,t.current?null:s.current),[i.search]),u=Ki(),c=O.useCallback((m,h)=>{const g=sN(typeof m=="function"?m(new URLSearchParams(o)):m);t.current=!0,u("?"+g,h)},[u,o]);return[o,c]}var i4=0,o4=()=>`__${String(++i4)}__`;function l4(){let{router:e}=EC("useSubmit"),{basename:s}=O.useContext(Yi),t=wV();return O.useCallback(async(i,o={})=>{let{action:u,method:c,encType:m,formData:h,body:g}=FV(i,s);if(o.navigate===!1){let v=o.fetcherKey||o4();await e.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,s,t])}function c4(e,{relative:s}={}){let{basename:t}=O.useContext(Yi),i=O.useContext(jo);fs(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...xf(e||".",{relative:s})},c=sn();if(e==null){u.search=c.search;let m=new URLSearchParams(u.search),h=m.getAll("index");if(h.some(v=>v==="")){m.delete("index"),h.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:To([t,u.pathname])),nf(u)}function u4(e,{relative:s}={}){let t=O.useContext(hC);fs(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=EC("useViewTransitionState"),o=xf(e,{relative:s});if(!t.isTransitioning)return!1;let u=Uo(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Uo(t.nextLocation.pathname,i)||t.nextLocation.pathname;return mh(o.pathname,c)!=null||mh(o.pathname,u)!=null}class Mu{constructor(){this.authState={user:null,isAuthenticated:!1,loading:!0},this.loadFromStorage()}static getInstance(){return Mu.instance||(Mu.instance=new Mu),Mu.instance}loadFromStorage(){try{const s=localStorage.getItem("ros_user_session");if(s){const t=JSON.parse(s);this.authState={user:t.user,isAuthenticated:!0,loading:!1}}else this.authState.loading=!1}catch(s){console.error("Error loading auth from storage:",s),this.authState.loading=!1}}async signIn(s,t){try{const i={id:`user_${Date.now()}`,email:s,full_name:t,role:"VIEWER"},o={user:i,created_at:new Date().toISOString()};return localStorage.setItem("ros_user_session",JSON.stringify(o)),this.authState={user:i,isAuthenticated:!0,loading:!1},{error:null}}catch(i){return{error:i}}}async signUp(s,t){return this.signIn(s,t)}async signOut(){localStorage.removeItem("ros_user_session"),this.authState={user:null,isAuthenticated:!1,loading:!1}}getCurrentUser(){return this.authState.user}isAuthenticated(){return this.authState.isAuthenticated}isLoading(){return this.authState.loading}getAuthState(){return{...this.authState}}updateUserRole(s){if(this.authState.user){this.authState.user.role=s;const t=localStorage.getItem("ros_user_session");if(t){const i=JSON.parse(t);i.user.role=s,localStorage.setItem("ros_user_session",JSON.stringify(i))}}}}const xl=Mu.getInstance(),CC=O.createContext(void 0),Lo=()=>{const e=O.useContext(CC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},d4=({children:e})=>{const[s,t]=O.useState(null),[i,o]=O.useState(!0);O.useEffect(()=>{const v=xl.getAuthState();t(v.user),o(v.loading)},[]);const g={user:s,loading:i,signUp:async(v,b,E)=>{const k=await xl.signUp(v,b,E);return k.error||t(xl.getCurrentUser()),k},signIn:async(v,b)=>{const E=await xl.signIn(v,b);return E.error||t(xl.getCurrentUser()),E},signOut:async()=>{await xl.signOut(),t(null)},updateProfile:async v=>{try{return v.role&&xl.updateUserRole(v.role),t(xl.getCurrentUser()),{error:null}}catch(b){return{error:b}}}};return a.jsxDEV(CC.Provider,{value:g,children:e},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/contexts/AuthContext.tsx",lineNumber:80,columnNumber:10},void 0)},m4=({isOpen:e,onClose:s,onSuccess:t})=>{const[i,o]=O.useState(""),[u,c]=O.useState(""),[m,h]=O.useState(!1),[g,v]=O.useState(null),{signIn:b}=Lo(),E=async k=>{k.preventDefault(),h(!0),v(null);try{const w=await b(i,u);w.error?v(w.error.message||"An error occurred"):(t(),s())}catch{v("An unexpected error occurred")}finally{h(!1)}};return e?a.jsxDEV("div",{className:"bg-slate-800 p-8 rounded-xl shadow-2xl w-full max-w-md mx-auto border border-slate-700",children:[a.jsxDEV("div",{className:"mb-6",children:a.jsxDEV("h2",{className:"text-2xl font-bold text-white text-center",children:"Enter Your Information"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:50,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:49,columnNumber:7},void 0),a.jsxDEV("form",{onSubmit:E,className:"space-y-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Full Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:57,columnNumber:11},void 0),a.jsxDEV("input",{type:"text",value:u,onChange:k=>c(k.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500",placeholder:"Enter your full name",required:!0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:60,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:56,columnNumber:9},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Email"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:71,columnNumber:11},void 0),a.jsxDEV("input",{type:"email",value:i,onChange:k=>o(k.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500",placeholder:"Enter your email",required:!0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:74,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:70,columnNumber:9},void 0),g&&a.jsxDEV("div",{className:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm",children:g},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:85,columnNumber:11},void 0),a.jsxDEV("button",{type:"submit",disabled:m,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:m?"Loading...":"Continue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:90,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:55,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:48,columnNumber:5},void 0):null},f4=({onClose:e})=>{const{user:s,signOut:t,updateProfile:i}=Lo(),[o,u]=O.useState(null),[c,m]=O.useState(!0),[h,g]=O.useState(!1),[v,b]=O.useState(""),[E,k]=O.useState("VIEWER"),[w,y]=O.useState(!1),[T,J]=O.useState(null),Z=[{value:"VIEWER",label:"Viewer (Read Only)"},{value:"OPERATOR",label:"Operator (Limited Edit)"},{value:"EDITOR",label:"Editor (Full Access)"}];O.useEffect(()=>{s&&R()},[s]);const R=async()=>{if(s)try{const ee={id:s.id,full_name:s.full_name||s.email||"Unknown",role:s.role||"VIEWER",email:s.email||"",created_at:s.created_at||new Date().toISOString()};u(ee),b(ee.full_name),k(ee.role)}catch(ee){console.error("Error fetching profile:",ee)}finally{m(!1)}},le=async()=>{if(s){y(!0);try{await i({full_name:v,role:E}),u(ee=>ee?{...ee,full_name:v,role:E}:null),g(!1),J(null)}catch(ee){console.error("Error saving profile:",ee),J("Failed to update profile")}finally{y(!1)}}},W=async()=>{confirm("Are you sure you want to sign out?")&&await t()};return c?a.jsxDEV("div",{className:"flex items-center gap-2 text-slate-300",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:97,columnNumber:9},void 0),"Loading..."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:96,columnNumber:7},void 0):o?a.jsxDEV("div",{className:"bg-slate-800 p-4 rounded-lg shadow-2xl w-80 border border-slate-700",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white",children:"Profile"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:114,columnNumber:9},void 0),e&&a.jsxDEV("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:116,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:113,columnNumber:7},void 0),h?a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Full Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:128,columnNumber:13},void 0),a.jsxDEV("input",{type:"text",value:v,onChange:ee=>b(ee.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white text-sm",placeholder:"Enter your full name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:131,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:127,columnNumber:11},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Role"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:141,columnNumber:13},void 0),a.jsxDEV("select",{value:E,onChange:ee=>k(ee.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white text-sm",children:Z.map(ee=>a.jsxDEV("option",{value:ee.value,children:ee.label},ee.value,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:150,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:144,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:140,columnNumber:11},void 0),T&&a.jsxDEV("div",{className:"bg-red-900 border border-red-700 text-red-200 px-3 py-2 rounded text-sm",children:T},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:158,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:le,disabled:w,className:"flex-1 px-3 py-2 bg-green-600 hover:bg-green-500 disabled:bg-slate-600 text-white text-sm rounded transition-colors",children:w?"Saving...":"Save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:164,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>g(!1),className:"px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:171,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:126,columnNumber:9},void 0):a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-medium",children:(o.full_name||"U").charAt(0).toUpperCase()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:182,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-white font-medium",children:o.full_name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:186,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-slate-400 text-sm",children:o.role},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:187,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-slate-500 text-xs",children:s?.email},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:188,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:185,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:181,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>g(!0),className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",children:"Edit Profile"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:193,columnNumber:13},void 0),a.jsxDEV("button",{onClick:W,className:"px-3 py-2 bg-red-600 hover:bg-red-500 text-white text-sm rounded transition-colors",title:"Sign out",children:"Sign Out"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:199,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:192,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:180,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:112,columnNumber:5},void 0):a.jsxDEV("div",{className:"text-slate-300",children:"Profile not found"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:105,columnNumber:7},void 0)},nN=()=>{const{user:e,signOut:s}=Lo(),[t,i]=O.useState(!1);return a.jsxDEV("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-800 border-b border-slate-700 px-6 py-4",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-lg",children:"R"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:16,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:15,columnNumber:13},void 0),a.jsxDEV("h1",{className:"text-xl font-bold text-white",children:"Run of Show"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:18,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:14,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:13,columnNumber:9},void 0),e?a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"text-right",children:[a.jsxDEV("p",{className:"text-white font-semibold text-base",children:e.full_name||e.email},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:27,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-slate-300 text-xs",children:e.email},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:30,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:26,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>{confirm("Are you sure you want to sign out?")&&s()},className:"px-3 py-1.5 bg-red-600 hover:bg-red-500 text-white text-sm rounded-md transition-colors",title:"Sign out",children:"Sign Out"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:36,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:24,columnNumber:11},void 0):a.jsxDEV("div",{className:"flex items-center gap-4",children:a.jsxDEV("div",{className:"text-slate-400 text-sm",children:"Please sign in to continue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:50,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:49,columnNumber:11},void 0),t&&a.jsxDEV("div",{className:"absolute top-16 right-6 z-50",children:a.jsxDEV(f4,{onClose:()=>i(!1)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:59,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:58,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:11,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:10,columnNumber:5},void 0)},p4=({children:e})=>{const{user:s,loading:t}=Lo(),[i,o]=qr.useState(!1);return qr.useEffect(()=>{!t&&!s?o(!0):s&&o(!1)},[s,t]),t?a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 pt-16",children:[a.jsxDEV(nN,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:25,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:28,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-300",children:"Loading..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:29,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:27,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:26,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:24,columnNumber:7},void 0):s?a.jsxDEV(a.Fragment,{children:e},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:65,columnNumber:10},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 pt-16",children:[a.jsxDEV(nN,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:39,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:a.jsxDEV("div",{className:"text-center max-w-2xl mx-auto p-8",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsxDEV("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-2xl",children:"R"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:45,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:44,columnNumber:17},void 0),a.jsxDEV("h1",{className:"text-4xl font-bold text-white",children:"Run of Show"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:47,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:43,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-slate-300 text-lg",children:"Please sign in to access the Run of Show application."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:49,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:42,columnNumber:13},void 0),a.jsxDEV(m4,{isOpen:i,onClose:()=>{},onSuccess:()=>{o(!1)}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:51,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:41,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:40,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:38,columnNumber:7},void 0)},zp=[{value:"Great Hall",label:"Great Hall",color:"bg-blue-600"},{value:"Briefing Center",label:"Briefing Center",color:"bg-green-600"},{value:"Lee Anderson",label:"Lee Anderson",color:"bg-purple-600"},{value:"Virtual Show",label:"Virtual Show",color:"bg-orange-600"},{value:"Off Site",label:"Off Site",color:"bg-red-600"}],Ky=[1,2,3,4,5],h4=[{value:"America/New_York",label:"Eastern (EST/EDT)"},{value:"America/Chicago",label:"Central (CST/CDT)"},{value:"America/Denver",label:"Mountain (MST/MDT)"},{value:"America/Los_Angeles",label:"Pacific (PST/PDT)"},{value:"America/Anchorage",label:"Alaska (AKST/AKDT)"},{value:"Pacific/Honolulu",label:"Hawaii (HST)"},{value:"UTC",label:"UTC"},{value:"Europe/London",label:"London (GMT/BST)"},{value:"Europe/Paris",label:"Paris (CET/CEST)"},{value:"Asia/Tokyo",label:"Tokyo (JST)"},{value:"Asia/Shanghai",label:"Shanghai (CST)"},{value:"Australia/Sydney",label:"Sydney (AEST/AEDT)"}],wC=()=>window.__FORCE_LOCAL_API__?window.__LOCAL_API_URL__||"http://localhost:3001":"https://ros-50-production.up.railway.app";class v4{constructor(){this.cache=new Map,this.CACHE_TTL={calendarEvents:300*1e3,runOfShowData:30*1e3,completedCues:120*1e3,activeTimers:10*1e3,changeLog:60*1e3,timerMessages:60*1e3}}getCacheKey(s,t){return`${s}${t?`_${JSON.stringify(t)}`:""}`}getCachedData(s){const t=this.cache.get(s);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(s),null):t.data:null}setCachedData(s,t,i){this.cache.set(s,{data:t,timestamp:Date.now(),ttl:i})}async clearCache(){console.log(" Clearing all API cache..."),this.cache.clear(),console.log(" Cache cleared")}async request(s,t={},i,o){if(t.method==="GET"||!t.method){const h=i||this.getCacheKey(s),g=this.getCachedData(h);if(g)return console.log(` Cache hit for: ${s}`),g}const c=`${wC()}${s}`,m={headers:{"Content-Type":"application/json",...t.headers},...t};try{const h=await fetch(c,m);if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(t.method==="GET"||!t.method){const v=i||this.getCacheKey(s),b=o||this.CACHE_TTL.calendarEvents;this.setCachedData(v,g,b)}return g}catch(h){throw console.error(`API request failed for ${s}:`,h),h}}async healthCheck(){return this.request("/health")}async getCalendarEvents(){return this.request("/api/calendar-events",{},"calendarEvents",this.CACHE_TTL.calendarEvents)}async createCalendarEvent(s){const t=await this.request("/api/calendar-events",{method:"POST",body:JSON.stringify(s)});return this.cache.delete("calendarEvents"),t}async getCalendarEvent(s){return this.request(`/api/calendar-events/${s}`,{},`calendarEvent_${s}`,this.CACHE_TTL.calendarEvents)}async updateCalendarEvent(s,t){const i=await this.request(`/api/calendar-events/${s}`,{method:"PUT",body:JSON.stringify(t)});return this.cache.delete("calendarEvents"),this.cache.delete(`calendarEvent_${s}`),i}async deleteCalendarEvent(s){const t=await this.request(`/api/calendar-events/${s}`,{method:"DELETE"});return this.cache.delete("calendarEvents"),this.cache.delete(`calendarEvent_${s}`),t}async getRunOfShowData(s){return this.request(`/api/run-of-show-data/${s}`,{},`runOfShowData_${s}`,this.CACHE_TTL.runOfShowData)}async saveRunOfShowData(s){const t=await this.request("/api/run-of-show-data",{method:"POST",body:JSON.stringify(s)});return this.cache.delete(`runOfShowData_${s.event_id}`),t}async saveOvertimeMinutes(s,t,i){const o=await this.request("/api/overtime-minutes",{method:"POST",body:JSON.stringify({event_id:s,item_id:t,overtime_minutes:i})});return this.cache.delete(`overtimeMinutes_${s}`),o}async getOvertimeMinutes(s){return this.request(`/api/overtime-minutes/${s}`,{},`overtimeMinutes_${s}`,this.CACHE_TTL.completedCues)}async saveShowStartOvertime(s,t,i,o,u){const c=await this.request("/api/show-start-overtime",{method:"POST",body:JSON.stringify({event_id:s,item_id:t,show_start_overtime:i,scheduled_time:o,actual_time:u})});return this.cache.delete(`showStartOvertime_${s}`),c}async getShowStartOvertime(s){return this.request(`/api/show-start-overtime/${s}`,{},`showStartOvertime_${s}`,this.CACHE_TTL.completedCues)}async saveStartCueSelection(s,t){const i=await this.request("/api/start-cue-selection",{method:"POST",body:JSON.stringify({event_id:s,item_id:t})});return this.cache.delete(`startCueSelection_${s}`),i}async getStartCueSelection(s){return this.request(`/api/start-cue-selection/${s}`,{},`startCueSelection_${s}`,this.CACHE_TTL.completedCues)}async clearShowStartOvertime(s){const t=await this.request(`/api/show-start-overtime/${s}`,{method:"DELETE"});return this.cache.delete(`showStartOvertime_${s}`),t}async getCompletedCues(s){return this.request(`/api/completed-cues/${s}`,{},`completedCues_${s}`,this.CACHE_TTL.completedCues)}async markCueAsCompleted(s,t,i){const o=await this.request("/api/completed-cues",{method:"POST",body:JSON.stringify({event_id:s,item_id:t,user_id:i})});return this.cache.delete(`completedCues_${s}`),o}async unmarkCueAsCompleted(s,t,i){const o=await this.request("/api/completed-cues",{method:"DELETE",body:JSON.stringify({event_id:s,item_id:t,user_id:i})});return this.cache.delete(`completedCues_${s}`),o}async getActiveTimers(s){return this.request(`/api/active-timers/${s}`,{},`activeTimers_${s}`,this.CACHE_TTL.activeTimers)}async saveActiveTimer(s){const t=await this.request("/api/active-timers",{method:"POST",body:JSON.stringify(s)});return this.cache.delete(`activeTimers_${s.event_id}`),t}async getSubCueTimers(s){return this.request(`/api/sub-cue-timers/${s}`)}async getChangeLog(s,t=100){return this.request(`/api/change-log/${s}?limit=${t}`)}async logChange(s){return await this.request("/api/change-log",{method:"POST",body:JSON.stringify(s)})}async getTimerMessages(s){return this.request(`/api/timer-messages/${s}`)}}const Jr=new v4,gs="https://ros-50-production.up.railway.app";class lt{static async saveCalendarEvent(s){try{console.log(" Saving calendar event to API:",s);const t=await Jr.createCalendarEvent(s);return console.log(" Calendar event saved to API:",t),t}catch(t){return console.error("Error saving calendar event:",t),console.log(" Falling back to localStorage..."),this.saveCalendarToLocalStorage(s)}}static async updateCalendarEvent(s,t){try{console.log(" Updating calendar event via API:",s,t);const i=await Jr.updateCalendarEvent(s,t);return console.log(" Calendar event updated successfully:",i),i}catch(i){return console.error(" Exception updating calendar event:",i),null}}static async getCalendarEvents(){try{console.log(" Loading calendar events from API...");const s=await Jr.getCalendarEvents();return console.log(" Calendar events loaded from API:",s?.length||0),s||[]}catch(s){return console.error("Error fetching calendar events:",s),console.log(" Falling back to localStorage..."),this.getCalendarFromLocalStorage()}}static async getCalendarEvent(s){try{return console.log(" Loading calendar event from API:",s),await Jr.getCalendarEvent(s)}catch(t){return console.error("Error fetching calendar event:",t),this.getCalendarFromLocalStorageById(s)}}static async deleteCalendarEvent(s){try{return console.log(" Deleting calendar event via API:",s),await Jr.deleteCalendarEvent(s)}catch(t){return console.error("Error deleting calendar event:",t),this.deleteCalendarFromLocalStorage(s)}}static async logChange(s,t,i,o,u,c,m,h,g,v,b,E,k,w){try{console.log(" Logging change via API:",{eventId:s,userId:t,userName:i,userRole:o,action:u,tableName:c,recordId:m,fieldName:h,rowNumber:E,cueNumber:k});const y={event_id:s,user_id:t,user_name:i,user_role:o,action:u,table_name:c,record_id:m||null,field_name:h||null,old_value:g?JSON.stringify(g):null,new_value:v?JSON.stringify(v):null,description:b||null,metadata:w||{},row_number:E||null,cue_number:k?typeof k=="string"?parseInt(k,10):k:null},T=await Jr.logChange(y);return console.log(" Change logged:",{action:u,tableName:c,recordId:m,changeId:T}),T}catch(y){return console.error("Error logging change:",y),null}}static async logFieldChanges(s,t,i,o,u,c,m,h){try{for(const g of m)await this.logChange(s,t,i,o,"UPDATE",u,c,g.fieldName,g.oldValue,g.newValue,h)}catch(g){console.error("Error logging field changes:",g)}}static async getChangeLog(s,t=50,i=0){try{return console.log(" Loading change log from API:",{eventId:s,limit:t,offset:i}),await Jr.getChangeLog(s,t)||[]}catch(o){return console.error("Error fetching change log:",o),[]}}static async getRecordChangeLog(s,t,i,o=20){try{return console.log(" Loading record change log from API:",{eventId:s,tableName:t,recordId:i,limit:o}),[]}catch(u){return console.error("Error fetching record change log:",u),[]}}static async getChangeLogSummary(s){try{return console.log(" Loading change log summary from API:",{eventId:s}),null}catch(t){return console.error("Error fetching change log summary:",t),null}}static async cleanupOldChangeLogs(){try{return console.log(" Cleaning up old change logs via API"),0}catch(s){return console.error("Error cleaning up old change logs:",s),0}}static async saveRunOfShowData(s,t){try{console.log(" Saving run of show data to Neon:",{eventId:s.event_id,scheduleItemsCount:s.schedule_items?.length||0,customColumnsCount:s.custom_columns?.length||0,settingsKeys:Object.keys(s.settings||{}),userInfo:t?`${t.userName} (${t.userRole})`:"No user info"});const i={...s,last_modified_by:t?.userId,last_modified_by_name:t?.userName,last_modified_by_role:t?.userRole};return await Jr.saveRunOfShowData(i)}catch(i){console.error(" Error saving run of show data:",i),console.error(" Error details:",i.message,i.details,i.hint);const o={...s,last_modified_by:t?.userId,last_modified_by_name:t?.userName,last_modified_by_role:t?.userRole,updated_at:new Date().toISOString()};return this.saveRunOfShowToLocalStorage(o)}}static async updateRunOfShowData(s,t){try{return console.log(" Updating run of show data via API for event:",s,t),console.log(" Updating run of show data via API:",s,t),null}catch(i){return console.error(" Exception updating run of show data:",i),null}}static async saveOvertimeMinutes(s,t,i){try{console.log(" Saving overtime minutes via API for event:",s,"item:",t,"overtime:",i);const o=await Jr.saveOvertimeMinutes(s,t,i);return console.log(" Overtime minutes saved via API:",o?"Success":"Failed"),!!o}catch(o){return console.error(" Exception saving overtime minutes:",o),!1}}static async getOvertimeMinutes(s){try{console.log(" Loading overtime minutes via API for event:",s);const t=await Jr.getOvertimeMinutes(s);if(!t||!Array.isArray(t))return console.log(" No overtime minutes found"),{};const i={};return t.forEach(o=>{if(o.item_id){const u=typeof o.overtime_minutes=="number"?o.overtime_minutes:parseFloat(o.overtime_minutes);isNaN(u)||(i[o.item_id]=u)}}),console.log(" Loaded overtime minutes from API:",i),i}catch(t){return console.error(" Exception loading overtime minutes:",t),{}}}static async saveShowStartOvertime(s,t,i,o,u){try{console.log(" Saving show start overtime via API:",{eventId:s,itemId:t,overtimeMinutes:i,scheduledTime:o,actualTime:u});const c=await Jr.saveShowStartOvertime(s,t,i,o,u);return console.log(" Show start overtime saved via API:",c?"Success":"Failed"),!!c}catch(c){return console.error(" Exception saving show start overtime:",c),!1}}static async getShowStartOvertime(s){try{const t=await Jr.getShowStartOvertime(s);return console.log(" Loaded show start overtime from API:",t),t}catch(t){return console.error(" Exception getting show start overtime:",t),null}}static async saveStartCueSelection(s,t){try{console.log(" Saving START cue selection via API:",{eventId:s,itemId:t});const i=await Jr.saveStartCueSelection(s,t);return console.log(" START cue selection saved via API:",i?"Success":"Failed"),!!i}catch(i){return console.error(" Exception saving START cue selection:",i),!1}}static async getStartCueSelection(s){try{const t=await Jr.getStartCueSelection(s);return console.log(" Loaded START cue selection from API:",t),t}catch(t){return console.error(" Exception getting START cue selection:",t),null}}static async clearShowStartOvertime(s){try{console.log(" Clearing show start overtime via API:",s);const t=await Jr.clearShowStartOvertime(s);return console.log(" Show start overtime cleared via API:",t?"Success":"Failed"),!!t}catch(t){return console.error(" Exception clearing show start overtime:",t),!1}}static async getRunOfShowData(s){try{console.log(" Loading run of show data from API for event:",s);const t=await Jr.getRunOfShowData(s);return console.log(" Run of show data loaded from API:",t?"Found":"Not found"),t&&(console.log(" Data structure:",{hasScheduleItems:!!t.schedule_items,scheduleItemsLength:t.schedule_items?.length||0,hasCustomColumns:!!t.custom_columns,customColumnsLength:t.custom_columns?.length||0,hasSettings:!!t.settings}),t.schedule_items&&Array.isArray(t.schedule_items)&&(console.log(" Database service - Raw schedule data from API:"),t.schedule_items.forEach((i,o)=>{console.log(`  Item ${o}:`,{id:i.id,cue:i.customFields?.cue,isIndented:i.isIndented,segmentName:i.segmentName})}))),t}catch(t){return console.error(" Exception in getRunOfShowData:",t),console.log(" Falling back to localStorage due to exception..."),this.getRunOfShowFromLocalStorageById(s)}}static async deleteRunOfShowData(s){try{return console.warn("Supabase not configured, using localStorage fallback"),this.deleteRunOfShowFromLocalStorage(s)}catch(t){return console.error("Error deleting run of show data:",t),this.deleteRunOfShowFromLocalStorage(s)}}static saveCalendarToLocalStorage(s){const t=this.getCalendarFromLocalStorage(),i={...s,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return t.unshift(i),localStorage.setItem("calendar_events",JSON.stringify(t)),console.log(" Calendar event saved to localStorage"),i}static getCalendarFromLocalStorage(){try{const s=localStorage.getItem("calendar_events"),t=s?JSON.parse(s):[];return console.log(" Calendar events loaded from localStorage:",t.length),t}catch(s){return console.error("Error reading from localStorage:",s),[]}}static getCalendarFromLocalStorageById(s){return this.getCalendarFromLocalStorage().find(i=>i.id===s)||null}static deleteCalendarFromLocalStorage(s){try{const i=this.getCalendarFromLocalStorage().filter(o=>o.id!==s);return localStorage.setItem("calendar_events",JSON.stringify(i)),!0}catch(t){return console.error("Error deleting from localStorage:",t),!1}}static saveRunOfShowToLocalStorage(s){const t=this.getAllRunOfShowFromLocalStorage(),i=new Date().toISOString(),o=t.findIndex(c=>c.event_id===s.event_id);let u;if(o>=0){const c=t[o],m=c.last_change_at||i;u={...s,id:c.id,created_at:c.created_at,updated_at:i,last_change_at:m},t[o]=u}else u={...s,id:Date.now().toString(),created_at:i,updated_at:i,last_change_at:i},t.push(u);return localStorage.setItem("run_of_show_data",JSON.stringify(t)),console.log(" Run of show data saved to localStorage"),u}static getAllRunOfShowFromLocalStorage(){try{const s=localStorage.getItem("run_of_show_data");return s?JSON.parse(s):[]}catch(s){return console.error("Error reading run of show data from localStorage:",s),[]}}static getRunOfShowFromLocalStorageById(s){console.log(" Loading from localStorage for event:",s);const t=this.getAllRunOfShowFromLocalStorage();console.log(" All localStorage data:",t);const i=t.find(o=>o.event_id===s);return console.log(" Found data for event:",i?"Yes":"No"),i&&console.log(" Found data structure:",{hasScheduleItems:!!i.schedule_items,scheduleItemsLength:i.schedule_items?.length||0,hasCustomColumns:!!i.custom_columns,customColumnsLength:i.custom_columns?.length||0,hasSettings:!!i.settings}),i||null}static deleteRunOfShowFromLocalStorage(s){try{const i=this.getAllRunOfShowFromLocalStorage().filter(o=>o.event_id!==s);return localStorage.setItem("run_of_show_data",JSON.stringify(i)),!0}catch(t){return console.error("Error deleting run of show data from localStorage:",t),!1}}static async checkForChanges(s,t){try{return console.log(" Checking for changes via API:",{eventId:s,localLastChangeAt:t}),console.log(" Checking for changes via API:",{eventId:s,localLastChangeAt:t}),{hasChanges:!1}}catch(i){return console.error(" Error checking for changes:",i),{hasChanges:!1}}}static async loadChangesDynamically(s){try{return console.log(" Loading changes dynamically for event:",s),this.getRunOfShowFromLocalStorageById(s);const{data:t,error:i}=await supabase.from("run_of_show_data").select("*").eq("event_id",s).single();return i?(console.error(" Error loading changes:",i),null):(console.log(" Changes loaded successfully"),t)}catch(t){return console.error(" Error loading changes dynamically:",t),null}}static async saveUserSession(s,t,i,o){try{return console.log(" Saving authenticated user session via API:",{eventId:s,userId:t,username:i,role:o}),console.log(" Saving user session via API:",{eventId:s,userId:t,username:i,role:o}),this.saveUserSessionToLocalStorage(s,i,o)}catch(u){return console.error("Error saving user session:",u),this.saveUserSessionToLocalStorage(s,i,o)}}static async getCurrentUserSession(s,t){try{return console.log(" Getting current user session via API:",{userId:s,eventId:t}),console.log(" Getting current user session via API:",{userId:s,eventId:t}),this.getCurrentUserSessionFromLocalStorage()}catch(i){return console.error("Error getting current user session:",i),this.getCurrentUserSessionFromLocalStorage()}}static async updateUserActivity(s){try{console.log(" Updating user activity via API:",s),console.log(" Updating user activity via API:",s)}catch(t){console.error("Error updating user activity:",t)}}static async cleanupInactiveSessions(){try{console.log(" Cleaning up inactive sessions via API"),console.log(" Cleaning up inactive sessions via API")}catch(s){console.error("Error cleaning up inactive sessions:",s)}}static saveUserSessionToLocalStorage(s,t,i){try{const o={event_id:s,username:t,role:i,session_started_at:new Date().toISOString(),last_activity_at:new Date().toISOString(),is_active:!0};return localStorage.setItem(`current_user_session_${t}`,JSON.stringify(o)),localStorage.setItem(`user_role_${s}_${t}`,i),console.log(" User session saved to localStorage"),!0}catch(o){return console.error("Error saving user session to localStorage:",o),!1}}static getCurrentUserSessionFromLocalStorage(){try{const s=Object.keys(localStorage);let t=null,i=0;for(const o of s)if(o.startsWith("current_user_session_")){const u=JSON.parse(localStorage.getItem(o)||"{}");if(u.is_active&&u.last_activity_at){const c=new Date(u.last_activity_at).getTime();c>i&&(i=c,t=u)}}return console.log(" Retrieved user session from localStorage:",t),t}catch(s){return console.error("Error getting current user session from localStorage:",s),null}}static async loadCue(s,t,i,o,u,c,m){try{console.log(" Loading CUE via API:",{eventId:s,itemId:t,userId:i,totalDurationSeconds:o,rowNumber:u,cueDisplay:c,timerId:m}),console.log(" DatabaseService.loadCue parameters:",{eventId:s,itemId:t,userId:i,totalDurationSeconds:o,rowNumber:u,cueDisplay:c,timerId:m});const h=await fetch(`${gs}/api/active-timers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,user_id:i,timer_state:"loaded",is_active:!0,is_running:!1,started_at:null,last_loaded_cue_id:t,cue_is:c,duration_seconds:o})});return h.ok?(console.log(" CUE loaded successfully via API"),!0):(console.error(" Failed to load CUE via API:",h.status,h.statusText),!1)}catch(h){return console.error(" Error loading CUE:",h),!1}}static async startTimer(s,t,i,o,u,c,m,h){try{console.log(" Starting timer via API:",{eventId:s,itemId:t,userId:i,totalDurationSeconds:o,startedAt:u,rowNumber:c,cueDisplay:m,timerId:h});const g=await fetch(`${gs}/api/active-timers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,user_id:i,timer_state:"running",is_active:!0,is_running:!0,started_at:u?.toISOString(),last_loaded_cue_id:t,cue_is:m,duration_seconds:o})});return g.ok?(console.log(" Timer started successfully via API"),!0):(console.error(" Failed to start timer via API:",g.status,g.statusText),!1)}catch(g){return console.error(" Error starting timer:",g),!1}}static async stopTimer(s,t,i,o,u){try{console.log(" Stopping timer via API:",{eventId:s,itemId:t,userId:i,userName:o,userRole:u});const c=await fetch(`${gs}/api/active-timers/stop`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,user_id:i,user_name:o||"Unknown User",user_role:u||"VIEWER"})});if(c.ok){const m=await c.json();return console.log(" Timer stopped successfully via API:",m.stopped?"Timer stopped":"No active timer found"),m.stopped}else return console.error(" Failed to stop timer via API:",c.status,c.statusText),!1}catch(c){return console.error(" Error stopping timer:",c),!1}}static async updateTimerDuration(s,t,i){try{console.log(` Updating timer duration via API for event ${s}, item ${t} to ${i}s`);const o=await fetch(`${gs}/api/active-timers/${s}/${t}/duration`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({duration_seconds:i})});if(o.ok){const u=await o.json();return console.log(" Timer duration updated successfully via API:",u),!0}else return console.error(" Failed to update timer duration via API:",o.status,o.statusText),!1}catch(o){return console.error(" Error updating timer duration:",o),!1}}static async stopAllTimersForEvent(s,t,i,o){try{console.log(" Stopping all timers via API:",{eventId:s,userId:t,userName:i,userRole:o});const u=await fetch(`${gs}/api/active-timers/stop-all`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,user_id:t,user_name:i||"Unknown User",user_role:o||"VIEWER"})});if(u.ok){const c=await u.json();return console.log(" All timers stopped successfully via API:",c.message),!0}else return console.error(" Failed to stop all timers via API:",u.status,u.statusText),!1}catch(u){return console.error(" Error stopping all timers:",u),!1}}static async getActiveTimer(s){try{console.log(" Getting active timer via API:",s);const t=await fetch(`${gs}/api/active-timers/${s}`);if(t.ok){const i=await t.json();return i.length>0?i[0]:null}return null}catch(t){return console.error("Error getting active timer:",t),null}}static subscribeToTimerChanges(s,t){return console.warn("Real-time updates handled via Socket.IO and SSE"),null}static async hasActiveSubCueTimer(s){try{console.log(" Checking active sub-cue timer via API:",s);const t=await fetch(`${gs}/api/sub-cue-timers/${s}`);return t.ok?{data:(await t.json()).length>0,error:null}:{data:!1,error:null}}catch(t){return console.error(" Error checking active sub-cue timer:",t),{data:!1,error:t}}}static async getActiveSubCueTimer(s){try{console.log(" Getting active sub-cue timer via API:",s);const t=await fetch(`${gs}/api/sub-cue-timers/${s}`);if(t.ok){const i=await t.json();return{data:i.length>0?i[0]:null,error:null}}return{data:null,error:null}}catch(t){return console.error(" Error getting active sub-cue timer:",t),{data:null,error:t}}}static async getActiveSubCueTimers(s){try{console.log(" Getting active sub-cue timers via API:",s);const t=await fetch(`${gs}/api/sub-cue-timers/${s}`);return t.ok?{data:await t.json(),error:null}:{data:[],error:null}}catch(t){return console.error(" Error getting active sub-cue timers:",t),{data:[],error:t}}}static async startSubCueTimer(s,t,i,o,u,c,m,h,g){try{console.log(" Starting sub-cue timer via API:",{eventId:s,itemId:t,userId:i,durationSeconds:o,rowNumber:u,cueDisplay:c,timerId:m,userName:h,userRole:g});const v=await fetch(`${gs}/api/sub-cue-timers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,user_id:i,user_name:h||"Unknown User",user_role:g||"VIEWER",duration_seconds:o,row_number:u,cue_display:c,timer_id:m,is_active:!0,is_running:!0,started_at:new Date().toISOString()})});if(v.ok){const b=await v.json();return console.log(" Sub-cue timer started successfully via API:",b),{data:b,error:null}}else return console.error(" Failed to start sub-cue timer via API:",v.status,v.statusText),{data:null,error:{message:`HTTP ${v.status}`}}}catch(v){return console.error(" Error starting sub-cue timer:",v),{data:null,error:v}}}static async expireCompletedSubCueTimers(){try{return console.warn(" Supabase client not initialized, skipping expire completed sub-cue timers"),{data:0,error:null}}catch(s){return console.error(" Error expiring completed sub-cue timers:",s),{data:0,error:s}}}static async stopSubCueTimer(s,t){try{console.log(" Stopping sub-cue timer via API:",{eventId:s,itemId:t});const i=await fetch(`${gs}/api/sub-cue-timers/stop`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t||null})});if(i.ok){const o=await i.json();return console.log(" Sub-cue timer stopped successfully via API:",o),{data:o,error:null}}else return console.error(" Failed to stop sub-cue timer via API:",i.status,i.statusText),{data:null,error:{message:`HTTP ${i.status}`}}}catch(i){return console.error(" Error stopping sub-cue timer:",i),{data:null,error:i}}}static async getActiveSecondaryTimer(s){try{return console.warn(" Supabase client not initialized, skipping get active secondary timer"),{data:null,error:null}}catch(t){return console.error(" Error getting active secondary timer:",t),{data:null,error:t}}}static async startSecondaryTimer(s,t,i,o){try{return console.warn(" Supabase client not initialized, skipping start secondary timer"),{data:null,error:null}}catch(u){return console.error(" Error starting secondary timer:",u),{data:null,error:u}}}static async stopSecondaryTimer(s){try{return console.warn(" Supabase client not initialized, skipping stop secondary timer"),{data:null,error:null}}catch(t){return console.error(" Error stopping secondary timer:",t),{data:null,error:t}}}static async updateSecondaryTimerRemaining(s,t){try{return console.warn(" Supabase client not initialized, skipping update secondary timer remaining"),{data:null,error:null}}catch(i){return console.error(" Error updating secondary timer remaining:",i),{data:null,error:i}}}static async updateSubCueTimerRemaining(s,t,i){try{return console.warn(" Supabase client not initialized, skipping update sub-cue timer remaining"),!1}catch(o){return console.error("Error updating sub-cue timer remaining time:",o),!1}}static async clearAllActiveTimersForEvent(s){try{console.log(" Clearing all active timers for event via API:",s);const t=await fetch(`${gs}/api/active-timers/stop-all`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s})});if(!t.ok)return console.error(" Error clearing all active timers via API:",t.statusText),!1;const i=await t.json();return console.log(" All active timers cleared for event via API:",s,i),!0}catch(t){return console.error(" Error clearing all active timers:",t),!1}}static async getCompletedCues(s){try{return console.log(" Getting completed cues via API:",s),console.log(" Getting completed cues via API:",s),null}catch(t){return console.error(" Error getting completed cues:",t),null}}static async markCueCompleted(s,t,i,o,u,c){try{console.log(" Marking cue as completed via API:",{eventId:s,itemId:t,userId:o,userName:u,userRole:c});const m=await fetch("https://ros-50-production.up.railway.app/api/completed-cues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,cue_id:i,user_id:o,user_name:u,user_role:c})});if(!m.ok)return console.error(" Failed to mark cue as completed:",m.status,m.statusText),!1;const h=await m.json();return console.log(" Cue marked as completed successfully:",{eventId:s,itemId:t,data:h}),!0}catch(m){return console.error(" Error marking cue as completed:",m),!1}}static async unmarkCueCompleted(s,t){try{console.log(" Unmarking cue as completed via API:",{eventId:s,itemId:t});const i=await fetch("https://ros-50-production.up.railway.app/api/completed-cues",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t})});if(!i.ok)return console.error(" Failed to unmark cue as completed:",i.status,i.statusText),!1;const o=await i.json();return console.log(" Cue unmarked as completed:",{eventId:s,itemId:t,data:o}),!0}catch(i){return console.error(" Error unmarking cue as completed:",i),!1}}static async clearCompletedCues(s){try{console.log(" Clearing all completed cues from Neon database via API:",{eventId:s});const t=await fetch(`${gs}/api/completed-cues/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});return t.ok?(console.log(" Successfully deleted all completed cues from Neon database for event:",s),!0):(console.error(" Error clearing completed cues from Neon via API:",t.statusText),!1)}catch(t){return console.error(" Error clearing completed cues from Neon:",t),!1}}static async clearOvertimeMinutes(s){try{console.log(" Clearing all overtime minutes from database via API:",{eventId:s});const t=await fetch(`${gs}/api/overtime-minutes/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});return t.ok?(console.log(" Successfully deleted all overtime minutes from database for event:",s),!0):(console.error(" Error clearing overtime minutes via API:",t.statusText),!1)}catch(t){return console.error(" Error clearing overtime minutes:",t),!1}}static async getIndentedCues(s){try{console.log(" Getting indented cues via API:",s);const t=await fetch(`${gs}/api/indented-cues/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)return console.error(" Failed to get indented cues:",t.status,t.statusText),null;const i=await t.json();return console.log(" Indented cues retrieved successfully:",i),i}catch(t){return console.error(" Error getting indented cues:",t),null}}static async markCueIndented(s,t,i,o,u,c){try{console.log(" Marking cue as indented via API:",{eventId:s,itemId:t,parentItemId:i,userId:o,userName:u,userRole:c});const m=await fetch(`${gs}/api/indented-cues`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,parent_item_id:i,user_id:o,user_name:u,user_role:c})});if(!m.ok)return console.error(" Failed to mark cue as indented:",m.status,m.statusText),!1;const h=await m.json();return console.log(" Cue marked as indented successfully:",{eventId:s,itemId:t,parentItemId:i,data:h}),!0}catch(m){return console.error(" Error marking cue as indented:",m),!1}}static async unmarkCueIndented(s,t){try{console.log(" Unmarking cue as indented via API:",{eventId:s,itemId:t});const i=await fetch(`${gs}/api/indented-cues/${s}/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});return i.ok?(console.log(" Cue unmarked as indented successfully"),!0):(console.error(" Failed to unmark cue as indented:",i.status,i.statusText),!1)}catch(i){return console.error(" Error unmarking cue as indented:",i),!1}}static async clearIndentedCues(s){try{console.log(" Clearing indented cues via API:",s);const t=await fetch(`${gs}/api/indented-cues/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});return t.ok?(console.log(" Indented cues cleared successfully"),!0):(console.error(" Failed to clear indented cues:",t.status,t.statusText),!1)}catch(t){return console.error(" Error clearing indented cues:",t),!1}}static subscribeToTableChanges(s,t,i){try{return console.error(" Supabase client not initialized"),null}catch(o){return console.error(` Error setting up ${s} subscription:`,o),null}}static async updateLastLoadedCue(s,t,i){try{return console.log(" Updating last loaded CUE via API:",{eventId:s,cueId:t,state:i}),{data:{success:!0},error:null}}catch(o){return console.error(" Error updating last loaded CUE:",o),{data:null,error:o}}}static async getLastLoadedCue(s){try{console.log(" Getting last loaded CUE via API:",s);const t=await fetch(`https://ros-50-production.up.railway.app/api/active-timers/${s}`);if(!t.ok)return console.log(" No active timer found in database"),{data:null,error:null};const i=await t.json();if(i&&i.length>0&&i[0].last_loaded_cue_id){const o={item_id:i[0].last_loaded_cue_id,timer_state:i[0].timer_state,is_active:i[0].is_active};return console.log(" Last loaded cue retrieved from active timer:",o),{data:o,error:null}}else return console.log(" No last loaded cue found in active timer"),{data:null,error:null}}catch(t){return console.error(" Error getting last loaded CUE:",t),{data:null,error:t}}}static async saveTimerMessage(s){try{console.log(" Saving timer message via API:",s);const t=await fetch(`${gs}/api/timer-messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(t.ok){const i=await t.json();return console.log(" Timer message saved via API:",i),i}else return console.error(" Failed to save timer message via API:",t.status,t.statusText),this.saveTimerMessageToLocalStorage(s)}catch(t){return console.error(" Error saving timer message:",t),this.saveTimerMessageToLocalStorage(s)}}static async getTimerMessage(s){try{console.log(" Getting timer message via API:",s);const t=await fetch(`${gs}/api/timer-messages/${s}`);if(t.ok){const i=await t.json();return i.length>0?i[0]:null}return null}catch(t){return console.error(" Error loading timer message:",t),null}}static async updateTimerMessage(s,t){try{console.log(" Updating timer message via API:",{id:s,updates:t});const i=await fetch(`${gs}/api/timer-messages/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return i.ok?(console.log(" Timer message updated via API"),!0):(console.error(" Failed to update timer message via API:",i.status,i.statusText),this.updateTimerMessageInLocalStorage(s,t))}catch(i){return console.error(" Error updating timer message:",i),this.updateTimerMessageInLocalStorage(s,t)}}static async disableTimerMessage(s){return this.updateTimerMessage(s,{enabled:!1})}static async getTimerMessagesForEvent(s){try{console.log(" Getting timer messages via API:",s);const t=await fetch(`${gs}/api/timer-messages/${s}`);if(t.ok){const i=await t.json();return console.log(" Timer messages loaded via API:",i.length),i}else return console.error(" Failed to load timer messages via API:",t.status,t.statusText),this.getTimerMessagesFromLocalStorage().filter(i=>i.event_id===s)}catch(t){return console.error(" Error loading timer messages:",t),this.getTimerMessagesFromLocalStorage().filter(i=>i.event_id===s)}}static async getCueDataForItem(s,t){try{return console.warn(" Supabase client not initialized, skipping get CUE data"),null}catch(i){return console.error(" Error getting CUE data for item:",i),null}}static async getHybridTimerData(s){try{return console.warn("Supabase not configured, cannot fetch hybrid timer data"),null}catch(t){return console.error(" Error fetching hybrid timer data:",t),null}}static saveTimerMessageToLocalStorage(s){const t=this.getTimerMessagesFromLocalStorage(),i={...s,id:`local_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return t.push(i),localStorage.setItem("timer_messages",JSON.stringify(t)),i}static getTimerMessagesFromLocalStorage(){try{const s=localStorage.getItem("timer_messages");return s?JSON.parse(s):[]}catch(s){return console.error("Error loading timer messages from localStorage:",s),[]}}static getTimerMessageFromLocalStorage(s){return this.getTimerMessagesFromLocalStorage().find(i=>i.event_id===s&&i.enabled)||null}static updateTimerMessageInLocalStorage(s,t){try{const i=this.getTimerMessagesFromLocalStorage(),o=i.findIndex(u=>u.id===s);return o!==-1?(i[o]={...i[o],...t,updated_at:new Date().toISOString()},localStorage.setItem("timer_messages",JSON.stringify(i)),!0):!1}catch(i){return console.error("Error updating timer message in localStorage:",i),!1}}}const kC=({isOpen:e,onClose:s,onRoleSelected:t,eventId:i})=>{const{user:o}=Lo(),[u,c]=O.useState("VIEWER"),[m,h]=O.useState(!1);O.useEffect(()=>{if(e&&o?.id&&i){const b=localStorage.getItem(`user_role_${i}_${o.id}`);b&&["VIEWER","EDITOR","OPERATOR"].includes(b)&&c(b)}},[e,o?.id,i]);const g=[{value:"VIEWER",label:"Viewer (Read Only)",description:"Can view but cannot edit any content",icon:""},{value:"OPERATOR",label:"Operator (Limited Edit)",description:"Can control timers and view data",icon:""},{value:"EDITOR",label:"Editor (Full Access)",description:"Can edit all content and settings",icon:""}],v=async()=>{if(!(!o||!i)){h(!0);try{await lt.saveUserSession(i,o.id,o.user_metadata?.full_name||o.email||"Unknown",u)?(t(u),s()):alert("Failed to save user session. Please try again.")}catch(b){console.error("Error saving user session:",b),alert("Error saving user session. Please try again.")}finally{h(!1)}}};return e?a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[9999] p-4",children:a.jsxDEV("div",{className:"bg-slate-800 p-8 rounded-xl shadow-2xl max-w-2xl w-full",children:[a.jsxDEV("div",{className:"text-center mb-6",children:[a.jsxDEV("h2",{className:"text-3xl font-bold text-white mb-2",children:"Select Your Role"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:86,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-slate-300 text-lg",children:["Welcome, ",o?.user_metadata?.full_name||o?.email,"! Please select your role for this session."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:87,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:85,columnNumber:9},void 0),a.jsxDEV("div",{className:"space-y-4 mb-8",children:g.map(b=>a.jsxDEV("label",{className:`flex items-start gap-4 cursor-pointer p-4 rounded-lg border-2 transition-colors ${u===b.value?"border-blue-500 bg-blue-900/20":"border-slate-600 hover:border-blue-400"}`,children:[a.jsxDEV("input",{type:"radio",name:"role",value:b.value,checked:u===b.value,onChange:E=>c(E.target.value),className:"w-5 h-5 text-blue-600 mt-1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:103,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxDEV("span",{className:"text-2xl",children:b.icon},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:113,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-bold text-lg",children:b.label},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:114,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:112,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-slate-300 text-sm",children:b.description},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:111,columnNumber:15},void 0)]},b.value,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:95,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:93,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-4",children:[a.jsxDEV("button",{onClick:v,disabled:m,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors",children:m?"Loading...":"Continue with Selected Role"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:123,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:130,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:122,columnNumber:9},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-blue-900 rounded-lg",children:a.jsxDEV("p",{className:"text-blue-200 text-sm",children:[a.jsxDEV("strong",{children:"Note:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:140,columnNumber:13},void 0)," You can change your role later from your profile menu."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:139,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:138,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:84,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:83,columnNumber:5},void 0):null},g4=()=>{const e=Ki(),{user:s}=Lo(),[t,i]=O.useState([]),[o,u]=O.useState("upcoming"),[c,m]=O.useState(!1),[h,g]=O.useState("all"),[v,b]=O.useState("all"),[E,k]=O.useState(""),[w,y]=O.useState(null),[T,J]=O.useState({name:"",date:"",location:"Great Hall",numberOfDays:1,timezone:"America/New_York"}),[Z,R]=O.useState({name:"",date:"",location:"Great Hall",numberOfDays:1,timezone:"America/New_York"}),[le,W]=O.useState(!1),[ee,X]=O.useState(null),[De,_]=O.useState(!1),[B,re]=O.useState(()=>localStorage.getItem("forceLocalServer")==="true");O.useEffect(()=>{H()},[]);const H=async()=>{try{_(!0),console.log(" Loading events from Neon database..."),console.log(" API Base URL:","https://ros-50-production.up.railway.app"),console.log(" Environment:","Development");const Y=await lt.getCalendarEvents();if(console.log(" Raw calendar events from Neon:",Y),Y&&Y.length>0){console.log(" Processing calendar events:",Y.length);const U=Y.map((de,I)=>{console.log(` Processing event ${I}:`,{id:de.id,name:de.name,date:de.date,schedule_data:de.schedule_data,created_at:de.created_at});const j=new Date(de.date).toISOString().split("T")[0],he={id:de.id||Date.now().toString(),name:de.name,date:j,originalDate:de.date,location:de.schedule_data?.location||"Great Hall",numberOfDays:de.schedule_data?.numberOfDays||1,timezone:de.schedule_data?.timezone||"America/New_York",created_at:de.created_at||new Date().toISOString(),updated_at:de.updated_at||new Date().toISOString()};return console.log(` Event "${de.name}" timezone:`,{rawTimezone:de.schedule_data?.timezone,finalTimezone:he.timezone,scheduleData:de.schedule_data}),console.log(` Transformed event ${I}:`,he),he});console.log(" All transformed events:",U),i(U),console.log(" Loaded events from Neon:",U.length),console.log(" Final events state:",U)}else{console.log(" No events found in Neon, checking localStorage...");const U=localStorage.getItem("events");if(U)try{const de=JSON.parse(U);i(de),console.log(" Loaded events from localStorage fallback:",de.length)}catch(de){console.error("Error loading events from localStorage:",de)}else console.log(" No events found in either Neon or localStorage"),i([])}}catch(Y){console.error(" Error loading events from Neon:",Y);const U=localStorage.getItem("events");if(U)try{const de=JSON.parse(U);i(de),console.log(" Fallback to localStorage due to error:",de.length)}catch(de){console.error("Error parsing localStorage events:",de),i([])}else i([])}finally{_(!1)}};O.useEffect(()=>{localStorage.setItem("events",JSON.stringify(t))},[t]);const oe=async()=>{if(!Z.name||!Z.date||!Z.location){alert("Please fill in all fields");return}const U={id:`event-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:Z.name,date:Z.date,location:Z.location,numberOfDays:Z.numberOfDays,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};m(!1),R({name:"",date:"",location:"Great Hall",numberOfDays:1}),i(de=>[...de,U]);try{console.log(" Saving new event to Neon:",U);const de={name:U.name,date:U.date,schedule_data:{location:U.location,numberOfDays:U.numberOfDays,eventId:U.id}},I=await lt.saveCalendarEvent(de);console.log(" Calendar event saved to Neon:",I);const Ee=await lt.saveRunOfShowData({event_id:U.id,event_name:U.name,event_date:U.date,schedule_items:[],custom_columns:[],settings:{eventName:U.name,masterStartTime:"",timezone:U.timezone||"America/New_York",lastSaved:new Date().toISOString()}},{userId:s?.id||"unknown",userName:s?.user_metadata?.full_name||s?.email||"Unknown User",userRole:"EDITOR"});console.log(" Run of Show data created in Neon:",Ee),setTimeout(()=>{console.log(" Reloading events after save..."),H()},1e3)}catch(de){console.error(" Error auto-saving event to Neon:",de)}},_e=async()=>{if(console.log(" EDIT EVENT CALLED!",{editingEvent:w,editFormData:T}),!w||!T.name||!T.date||!T.location){console.error(" Validation failed:",{editingEvent:w,editFormData:T}),alert("Please fill in all fields");return}const Y={...w,name:T.name,date:T.date,location:T.location,numberOfDays:T.numberOfDays,timezone:T.timezone,updated_at:new Date().toISOString()};console.log(" About to update event:",{original:w,updated:Y,changes:{name:w.name!==Y.name,date:w.date!==Y.date,location:w.location!==Y.location,numberOfDays:w.numberOfDays!==Y.numberOfDays}}),y(null),J({name:"",date:"",location:"Great Hall",numberOfDays:1,timezone:"America/New_York"}),i(U=>U.map(de=>de.id===w.id?Y:de)),console.log(" Local UI updated");try{console.log(" Starting API update for event:",Y),await Jr.clearCache(),console.log(" Cache cleared");const U=await Jr.getCalendarEvents();console.log(" Fetched calendar events:",U.length);const de=U.find(I=>I.schedule_data?.eventId===w.id||I.id===w.id||I.name===w.name);if(console.log(" Looking for calendar event to update:",{editingEventId:w.id,editingEventName:w.name,matchingCalendarEvent:de}),de?.id){const I={name:Y.name,date:Y.date,schedule_data:{...de.schedule_data,location:Y.location,numberOfDays:Y.numberOfDays,eventId:Y.id,timezone:Y.timezone}};console.log(" Updating calendar event via API:",I),console.log(" Schedule data being sent:",I.schedule_data),await Jr.updateCalendarEvent(de.id,I),console.log(" Calendar event updated via API")}else console.warn(" No matching calendar event found for update");console.log(" Updating run of show data for event:",w.id);try{const I=await Jr.getRunOfShowData(w.id);I?(await Jr.saveRunOfShowData({event_id:w.id,event_name:Y.name,event_date:Y.date,schedule_items:I.schedule_items||[],custom_columns:I.custom_columns||[],settings:{...I.settings,eventName:Y.name,eventDate:Y.date,location:Y.location,numberOfDays:Y.numberOfDays,timezone:Y.timezone,lastSaved:new Date().toISOString()},last_modified_by:s?.id,last_modified_by_name:s?.user_metadata?.full_name||s?.email||"Unknown User",last_modified_by_role:s?.user_metadata?.role||"Unknown"}),console.log(" Run of Show data updated via API")):console.log(" No existing run of show data for this event, skipping update")}catch(I){console.warn(" Could not update run of show data:",I)}setTimeout(()=>{console.log(" Reloading events after update..."),H()},1e3)}catch(U){console.error(" Error updating event via API:",U),console.error(" Error details:",U),alert("Error updating event in database. Please try again."),H()}},ne=async Y=>{if(window.confirm("Are you sure you want to delete this event?")){i(U=>U.filter(de=>de.id!==Y));try{const U=t.find(de=>de.id===Y);if(U){await lt.deleteRunOfShowData(Y),console.log("Run of Show data deleted from Supabase automatically");const I=(await lt.getCalendarEvents()).find(Ee=>Ee.schedule_data?.eventId===Y||Ee.name===U.name);I?.id&&(await lt.deleteCalendarEvent(I.id),console.log("Calendar event deleted from Supabase automatically"))}}catch(U){console.error("Error auto-deleting event from Supabase:",U)}}},we=Y=>{y(Y),J({name:Y.name,date:Y.date,location:Y.location,numberOfDays:Y.numberOfDays,timezone:Y.timezone||"America/New_York"})},ve=Y=>{X(Y),W(!0)},Me=async Y=>{if(ee&&s?.id){try{const U=s.user_metadata?.full_name||s.email||"Unknown";await lt.saveUserSession(ee.id,s.id,U,Y),console.log(" Role saved to Supabase from EventListPage:",Y)}catch(U){console.error(" Failed to save role to Supabase from EventListPage:",U)}e("/run-of-show",{state:{event:ee,userRole:Y}}),W(!1),X(null)}},be=Y=>{const U=zp.find(de=>de.value===Y);return U?U.color:"bg-gray-600"},Ie=Y=>Y instanceof Date&&!isNaN(Y.getTime()),Te=Y=>{const[U,de,I]=Y.split("-").map(Number);return new Date(U,de-1,I).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"America/New_York"})},Oe=(()=>{console.log(" Filtering events:",{totalEvents:t.length,activeTab:o,filterLocation:h,filterDays:v,searchTerm:E,events:t.map(I=>({id:I.id,name:I.name,date:I.date}))});const Y=new Date,U=new Date(Y.getFullYear(),Y.getMonth(),Y.getDate()),de=t.filter(I=>{const[Ee,j,he]=I.date.split("-").map(Number),Ce=new Date(Ee,j-1,he),Fe=o==="upcoming"?Ce>=U:Ce<U,He=h==="all"||I.location===h,ze=v==="all"||I.numberOfDays.toString()===v,Ft=E===""||I.name.toLowerCase().includes(E.toLowerCase())||I.location.toLowerCase().includes(E.toLowerCase()),Qt=Fe&&He&&ze&&Ft;return console.log(` Event "${I.name}" filter result:`,{dateMatch:Fe,locationMatch:He,daysMatch:ze,searchMatch:Ft,passes:Qt,eventDate:Ie(Ce)?Ce.toISOString():"Invalid Date",now:Ie(Y)?Y.toISOString():"Invalid Date"}),Qt}).sort((I,Ee)=>{const j=new Date(I.date),he=new Date(Ee.date);return o==="upcoming"?j.getTime()-he.getTime():he.getTime()-j.getTime()});return console.log(" Filtered events result:",de.length,de.map(I=>I.name)),de})(),ie=(B?"http://localhost:3002":"https://ros-50-production.up.railway.app").includes("localhost");return O.useEffect(()=>{localStorage.setItem("forceLocalServer",B.toString()),B?(window.__FORCE_LOCAL_API__=!0,window.__LOCAL_API_URL__="http://localhost:3002"):window.__FORCE_LOCAL_API__=!1},[B]),a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-slate-200 pt-16",children:[a.jsxDEV("div",{className:"fixed top-16 left-0 right-0 z-40 bg-slate-800 border-b border-slate-700",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto px-6 py-2 flex items-center justify-end gap-3",children:[a.jsxDEV("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxDEV("div",{className:`w-1.5 h-1.5 rounded-full ${ie?"bg-green-400":"bg-blue-400"} animate-pulse`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:551,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-slate-400",children:ie?" Local":" Railway"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:552,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:550,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>{re(!B),setTimeout(()=>{window.location.reload()},100)},className:`px-3 py-1 ${ie?"bg-green-600 hover:bg-green-500":"bg-blue-600 hover:bg-blue-500"} text-white rounded text-xs font-medium transition-colors`,title:`Currently using ${ie?"Local":"Railway"} server. Click to switch.`,children:"Switch Server"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:557,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:549,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:548,columnNumber:7},void 0),a.jsxDEV("div",{className:"text-center py-8 mt-10",children:[a.jsxDEV("h1",{className:"text-4xl font-bold text-white mb-2",children:" Event List Calendar"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:574,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-xl text-slate-400 mb-4",children:"Manage your events and schedules"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:577,columnNumber:9},void 0),s&&a.jsxDEV("div",{className:"text-center mb-6",children:a.jsxDEV("p",{className:"text-white font-medium text-lg",children:["Welcome back, ",s.user_metadata?.full_name||s.email,"!"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:583,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:582,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:573,columnNumber:7},void 0),a.jsxDEV("div",{className:"max-w-6xl mx-auto px-6",children:[a.jsxDEV("div",{className:"flex justify-center mb-8",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-1 flex",children:[a.jsxDEV("button",{onClick:()=>u("upcoming"),className:`px-6 py-3 rounded-md font-semibold transition-colors ${o==="upcoming"?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:" Upcoming Events"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:595,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>u("past"),className:`px-6 py-3 rounded-md font-semibold transition-colors ${o==="past"?"bg-orange-600 text-white":"text-slate-400 hover:text-white"}`,children:" Past Events"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:605,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:594,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:593,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex justify-center mb-6",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-4 w-full max-w-4xl",children:[a.jsxDEV("div",{className:"flex items-center gap-6 justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-6",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white font-semibold",children:" Search:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:624,columnNumber:19},void 0),a.jsxDEV("input",{type:"text",value:E,onChange:Y=>k(Y.target.value),placeholder:"Search events by name or location...",className:"w-80 px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:625,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:623,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white font-semibold",children:" Filter by location:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:634,columnNumber:19},void 0),a.jsxDEV("select",{value:h,onChange:Y=>g(Y.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:[a.jsxDEV("option",{value:"all",children:"All Locations"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:640,columnNumber:21},void 0),zp.map(Y=>a.jsxDEV("option",{value:Y.value,children:Y.label},Y.value,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:642,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:635,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:633,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:622,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>{console.log(" Manual refresh triggered"),H()},disabled:De,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded-lg font-medium transition-colors text-sm",title:"Refresh events list",children:De?" Refreshing...":" Refresh"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:651,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:621,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-3 text-center",children:a.jsxDEV("p",{className:"text-xs text-slate-400",children:` Events don't auto-refresh. Click "Refresh" to check for new events.`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:666,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:665,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:620,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:619,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex justify-center mb-8",children:a.jsxDEV("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:"+ Add New Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:675,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:674,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-6 shadow-2xl",children:[De&&a.jsxDEV("div",{className:"text-center py-4 mb-4",children:a.jsxDEV("div",{className:"text-blue-400 text-lg",children:" Loading events..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:687,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:686,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-800 rounded-lg overflow-hidden border border-slate-600",children:a.jsxDEV("div",{className:"overflow-x-auto",children:a.jsxDEV("table",{className:"w-full",children:[a.jsxDEV("thead",{className:"bg-slate-700",children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold border-r border-slate-600",children:"Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:695,columnNumber:21},void 0),a.jsxDEV("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold border-r border-slate-600",children:"Date"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:696,columnNumber:21},void 0),a.jsxDEV("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold border-r border-slate-600",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:697,columnNumber:21},void 0),a.jsxDEV("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold border-r border-slate-600",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:698,columnNumber:21},void 0),a.jsxDEV("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold border-r border-slate-600",children:"Timezone"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:699,columnNumber:21},void 0),a.jsxDEV("th",{className:"px-4 py-3 text-center text-slate-300 font-semibold",children:"Actions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:700,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:694,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:693,columnNumber:17},void 0),a.jsxDEV("tbody",{children:Oe.length===0?a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:6,className:"px-4 py-12 text-center",children:[a.jsxDEV("div",{className:"text-6xl mb-4",children:o==="upcoming"?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:707,columnNumber:25},void 0),a.jsxDEV("h3",{className:"text-2xl font-bold text-white mb-2",children:["No ",o," events"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:710,columnNumber:25},void 0),a.jsxDEV("p",{className:"text-slate-400",children:o==="upcoming"?"Add your first upcoming event to get started!":"Past events will appear here once you have some."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:713,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:706,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:705,columnNumber:21},void 0):Oe.map(Y=>a.jsxDEV("tr",{className:"border-b border-slate-600",children:[a.jsxDEV("td",{className:"px-4 py-3 text-white font-medium border-r border-slate-600",children:Y.name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:724,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-4 py-3 text-slate-300 border-r border-slate-600",children:Te(Y.date)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:727,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-4 py-3 border-r border-slate-600",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${be(Y.location)}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:732,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-slate-300",children:Y.location},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:733,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:731,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:730,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-4 py-3 text-slate-300 border-r border-slate-600",children:[Y.numberOfDays," day",Y.numberOfDays>1?"s":""]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:736,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-4 py-3 text-slate-300 border-r border-slate-600",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-xs",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:741,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-xs font-mono",children:Y.timezone||"America/New_York"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:740,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:739,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-4 py-3",children:a.jsxDEV("div",{className:"flex gap-2 justify-center",children:[a.jsxDEV("button",{onClick:()=>ve(Y),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded transition-colors",children:"Launch"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:749,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>we(Y),className:"px-3 py-1 bg-green-600 hover:bg-green-500 text-white text-sm font-medium rounded transition-colors",children:"Edit"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:755,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>ne(Y.id),className:"px-3 py-1 bg-red-600 hover:bg-red-500 text-white text-sm font-medium rounded transition-colors",children:"Delete"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:761,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:748,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:747,columnNumber:25},void 0)]},Y.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:723,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:703,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:692,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:691,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:690,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:684,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:591,columnNumber:7},void 0),c&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-4 max-w-sm w-full",children:[a.jsxDEV("h2",{className:"text-lg font-bold text-white mb-4",children:[a.jsxDEV("span",{style:{filter:"brightness(0) invert(1)"},children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:784,columnNumber:15},void 0)," Add New Event"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:783,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:788,columnNumber:17},void 0),a.jsxDEV("input",{type:"text",value:Z.name,onChange:Y=>R(U=>({...U,name:Y.target.value})),placeholder:"Enter event name",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:789,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:787,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Date"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:798,columnNumber:17},void 0),a.jsxDEV("input",{type:"date",value:Z.date,onChange:Y=>R(U=>({...U,date:Y.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",style:{colorScheme:"dark"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:799,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:797,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:810,columnNumber:17},void 0),a.jsxDEV("select",{value:Z.location,onChange:Y=>R(U=>({...U,location:Y.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:zp.map(Y=>a.jsxDEV("option",{value:Y.value,children:Y.label},Y.value,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:817,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:811,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:809,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:824,columnNumber:17},void 0),a.jsxDEV("select",{value:Z.numberOfDays,onChange:Y=>R(U=>({...U,numberOfDays:parseInt(Y.target.value)})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:Ky.map(Y=>a.jsxDEV("option",{value:Y,children:[Y," day",Y>1?"s":""]},Y,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:831,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:825,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:823,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:786,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-2 mt-4",children:[a.jsxDEV("button",{onClick:()=>{m(!1),R({name:"",date:"",location:"Great Hall",numberOfDays:1})},className:"flex-1 px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded text-sm font-medium",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:839,columnNumber:15},void 0),a.jsxDEV("button",{onClick:oe,className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium",children:"Add Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:848,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:838,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:782,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:781,columnNumber:9},void 0),w&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-4 max-w-sm w-full",children:[a.jsxDEV("h2",{className:"text-lg font-bold text-white mb-4",children:[a.jsxDEV("span",{style:{filter:"brightness(0) invert(1)"},children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:864,columnNumber:15},void 0)," Edit Event"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:863,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:868,columnNumber:17},void 0),a.jsxDEV("input",{type:"text",value:T.name,onChange:Y=>J(U=>({...U,name:Y.target.value})),placeholder:"Enter event name",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:869,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:867,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Date"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:878,columnNumber:17},void 0),a.jsxDEV("input",{type:"date",value:T.date,onChange:Y=>J(U=>({...U,date:Y.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",style:{colorScheme:"dark"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:879,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:877,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:890,columnNumber:17},void 0),a.jsxDEV("select",{value:T.location,onChange:Y=>J(U=>({...U,location:Y.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:zp.map(Y=>a.jsxDEV("option",{value:Y.value,children:Y.label},Y.value,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:897,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:891,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:889,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:904,columnNumber:17},void 0),a.jsxDEV("select",{value:T.numberOfDays,onChange:Y=>J(U=>({...U,numberOfDays:parseInt(Y.target.value)})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:Ky.map(Y=>a.jsxDEV("option",{value:Y,children:[Y," day",Y>1?"s":""]},Y,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:911,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:905,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:903,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Timezone"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:918,columnNumber:17},void 0),a.jsxDEV("select",{value:T.timezone||"America/New_York",onChange:Y=>J(U=>({...U,timezone:Y.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:h4.map(Y=>a.jsxDEV("option",{value:Y.value,children:Y.label},Y.value,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:925,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:919,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:917,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:866,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-2 mt-4",children:[a.jsxDEV("button",{onClick:()=>{y(null),J({name:"",date:"",location:"Great Hall",numberOfDays:1,timezone:"America/New_York"})},className:"flex-1 px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded text-sm font-medium",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:933,columnNumber:15},void 0),a.jsxDEV("button",{onClick:_e,className:"flex-1 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded text-sm font-medium",children:"Update Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:942,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:932,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:862,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:861,columnNumber:9},void 0),a.jsxDEV(kC,{isOpen:le,onClose:()=>{W(!1),X(null)},onRoleSelected:Me,eventId:ee?.id||""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:954,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:546,columnNumber:5},void 0)};class x4{constructor(){this.localChanges=[],this.syncTimer=null,this.SYNC_DELAY=3e5,this.MAX_BATCH_SIZE=10,this.MAX_SYNC_ATTEMPTS=3,this.loadLocalChanges(),this.startSyncTimer()}addChange(s){const t={...s,id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,synced:!1};this.localChanges.unshift(t),this.localChanges.length>1e3&&(this.localChanges=this.localChanges.slice(0,1e3)),this.saveLocalChanges(),console.log(" Change logged locally:",t.changeType,t.details),console.log(" Total changes:",this.localChanges.length,"Unsynced:",this.localChanges.filter(o=>!o.synced).length);const i=this.localChanges.filter(o=>!o.synced).length;i>=this.MAX_BATCH_SIZE?(console.log(" Triggering sync due to batch size:",i),this.syncChanges()):console.log(" Waiting for more changes or timer. Unsynced:",i)}getLocalChanges(){return[...this.localChanges]}getUnsyncedChanges(){return this.localChanges.filter(s=>!s.synced)}getChangesCount(){const s=this.localChanges.length,t=this.localChanges.filter(i=>!i.synced).length;return{total:s,unsynced:t}}reloadLocalChanges(){this.loadLocalChanges(),console.log(" Reloaded local changes:",this.localChanges.length)}startSyncTimer(){this.syncTimer&&clearInterval(this.syncTimer),console.log(" Starting change log sync timer (5 minute interval)"),this.syncTimer=setInterval(()=>{const s=this.getUnsyncedChanges();s.length>0?(console.log(` Timer tick: Auto-syncing ${s.length} changes...`),this.syncChanges()):console.log(" Timer tick: No unsynced changes")},this.SYNC_DELAY)}stopSyncTimer(){this.syncTimer&&(clearInterval(this.syncTimer),this.syncTimer=null)}async syncChanges(){try{const s=this.getUnsyncedChanges();if(s.length===0)return!0;console.log(` Syncing ${s.length} changes to API...`);try{const t=this.groupChangesByEvent(s);for(const[i,o]of t.entries())await this.syncEventChanges(i,o);return this.localChanges=this.localChanges.map(i=>({...i,synced:!0})),this.saveLocalChanges(),console.log(" All changes synced to API"),!0}catch(t){return console.error(" Error syncing changes:",t),!1}}catch(s){return console.error(" Error syncing changes:",s),!1}}groupChangesByEvent(s){const t=new Map;for(const i of s)t.has(i.eventId)||t.set(i.eventId,[]),t.get(i.eventId).push(i);return t}async syncEventChanges(s,t){try{console.log(` Syncing ${t.length} changes for event ${s}`),console.log(" Changes to sync:",t.map(i=>({type:i.changeType||i.action,details:i.details})));for(const i of t)try{let o=i.details;if(typeof i.details=="string")try{o=JSON.parse(i.details)}catch{o={raw:i.details}}const u={event_id:i.eventId,user_id:i.userId||i.eventId,user_name:i.userName||"System",user_role:i.userRole||"EDITOR",action:i.action||i.changeType,table_name:"run_of_show_data",record_id:i.eventId,field_name:o?.fieldName||null,old_value:o?.oldValue||o?.oldValue===0?String(o.oldValue):null,new_value:o?.newValue||o?.newValue===0?String(o.newValue):null,description:i.description||i.changeType,row_number:i.rowNumber||null,cue_number:i.cueNumber?String(i.cueNumber):null,metadata:{segmentName:i.segmentName,action:i.action||i.changeType,details:o}};console.log(" Sending change to API:",JSON.stringify(u,null,2)),console.log(" Original change object:",JSON.stringify(i,null,2));const c=await Jr.logChange(u);console.log(" Change logged successfully:",c)}catch(o){console.error(" Error logging individual change:",o),console.error(" Error details:",o.message,o.stack)}console.log(` Synced ${t.length} changes for event ${s}`)}catch(i){throw console.error(" Error syncing event changes:",i),console.error(" Error details:",i.message,i.stack),new Error(`Failed to sync changes for event ${s}: ${i.message}`)}}loadLocalChanges(){try{const s=localStorage.getItem("runofshow_local_changes");if(s){const t=JSON.parse(s);this.localChanges=t.map(i=>({...i,timestamp:new Date(i.timestamp)}))}}catch(s){console.error("Error loading local changes:",s),this.localChanges=[]}}saveLocalChanges(){try{localStorage.setItem("runofshow_local_changes",JSON.stringify(this.localChanges))}catch(s){console.error("Error saving local changes:",s)}}clearLocalChanges(){this.localChanges=[],this.saveLocalChanges(),console.log(" Local changes cleared")}async clearMasterChangeLog(s){try{console.log(" Clearing master change log for event:",s);const t=await Jr.request(`/api/change-log/${s}`,{method:"DELETE"});return console.log(` Cleared ${t.deletedCount||0} change log entries`),{success:!0,error:null,deletedCount:t.deletedCount||0}}catch(t){return console.error(" Error clearing master change log:",t),{success:!1,error:t.message||"Unexpected error",deletedCount:0}}}async getMasterChangeLog(s,t=100){try{console.log(" Fetching master change log from API for event:",s);const i=await Jr.getChangeLog(s,t);return console.log(` Fetched ${i.length} changes from master log`),i}catch(i){return console.error(" Error getting master change log:",i),[]}}exportChangesAsJSON(){return JSON.stringify(this.localChanges,null,2)}exportChangesAsCSV(){if(this.localChanges.length===0)return"No changes to export";const s=["Timestamp","Event ID","Change Type","Row Number","Cue Number","Details","Segment Name","Synced"],t=this.localChanges.map(i=>[i.timestamp.toISOString(),i.eventId,i.changeType,i.rowNumber?.toString()||"",i.cueNumber?.toString()||"",i.details||"",i.segmentName||"",i.synced?"Yes":"No"]);return[s,...t].map(i=>i.join(",")).join(`
`)}}const xs=new x4,bc="https://ros-50-production.up.railway.app";class Nc{static async testBackupTable(){try{console.log(" Testing Neon backup table access...");const s=await fetch(`${bc}/api/backups/test`,{method:"GET",headers:{"Content-Type":"application/json"}});return s.ok?(console.log(" Neon backup table is accessible"),!0):(console.error(" Backup table test failed:",s.statusText),!1)}catch(s){return console.error(" Backup table test error:",s),!1}}static async createBackup(s,t,i,o,u="auto",c,m,h,g){try{console.log(` Creating/updating ${u} backup for event: ${s}`),console.log(` API_BASE_URL: ${bc}`);const v=o?.name||"Unknown Event",b=o?.date?new Date(o.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],E=o?.location||null,k=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),w=c||`${u==="auto"?"Auto Backup":"Manual Backup"} - ${k}`,y={event_id:s,event_name:v,event_date:b,event_location:E,backup_name:w,backup_type:u,schedule_data:t,custom_columns_data:i,event_data:o,schedule_items_count:t?.length||0,custom_columns_count:i?.length||0,created_by:m||"unknown",created_by_name:h||"Unknown User",created_by_role:g||"VIEWER"},T=`${bc}/api/backups`;console.log(` Full URL: ${T}`);const J=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!J.ok){const R=await J.json();throw new Error(R.error||`HTTP ${J.status}: ${J.statusText}`)}const Z=await J.json();return console.log(` Backup ${u==="auto"?"created/updated":"created"} successfully: ${Z.backup_name}`),Z}catch(v){throw console.error(" Error creating/updating backup:",v),new Error(`Failed to create/update backup: ${v.message}`)}}static async getBackupsForEvent(s){try{console.log(` Fetching backups for event: ${s}`);const t=await fetch(`${bc}/api/backups/event/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){const o=await t.json();throw new Error(o.error||`HTTP ${t.status}: ${t.statusText}`)}const i=await t.json();return console.log(` Found ${i?.length||0} backups for event: ${s}`),i||[]}catch(t){throw console.error(" Error fetching backups:",t),new Error(`Failed to fetch backups: ${t.message}`)}}static async getBackupsWithFilters(s={}){try{console.log(" Fetching backups with filters:",s);const t=new URLSearchParams;s.eventId&&t.append("eventId",s.eventId),s.eventName&&t.append("eventName",s.eventName),s.eventDate&&t.append("eventDate",s.eventDate),s.backupType&&t.append("backupType",s.backupType),s.sortBy&&t.append("sortBy",s.sortBy),s.limit&&t.append("limit",s.limit.toString());const i=await fetch(`${bc}/api/backups?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok){const u=await i.json();throw new Error(u.error||`HTTP ${i.status}: ${i.statusText}`)}const o=await i.json();return console.log(` Found ${o?.length||0} backups with filters`),o||[]}catch(t){throw console.error(" Error fetching backups with filters:",t),new Error(`Failed to fetch backups: ${t.message}`)}}static async restoreFromBackup(s){try{console.log(` Restoring from backup: ${s}`);const t=await fetch(`${bc}/api/backups/${s}/restore`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){const o=await t.json();throw new Error(o.error||`HTTP ${t.status}: ${t.statusText}`)}const i=await t.json();if(!i)throw new Error("Backup not found");return console.log(` Restored from backup: ${i.backup_name}`),{scheduleData:i.schedule_data||[],customColumnsData:i.custom_columns_data||[],eventData:i.event_data||{},backupName:i.backup_name,backupTimestamp:i.backup_timestamp}}catch(t){throw console.error(" Error restoring from backup:",t),new Error(`Failed to restore from backup: ${t.message}`)}}static async deleteBackup(s){try{console.log(` Deleting backup: ${s}`);const t=await fetch(`${bc}/api/backups/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const i=await t.json();throw new Error(i.error||`HTTP ${t.status}: ${t.statusText}`)}return console.log(` Backup deleted successfully: ${s}`),!0}catch(t){throw console.error(" Error deleting backup:",t),new Error(`Failed to delete backup: ${t.message}`)}}static async getBackupStats(s){try{const t=await this.getBackupsForEvent(s),i=t.filter(c=>c.backup_type==="auto").length,o=t.filter(c=>c.backup_type==="manual").length,u=t.length>0?t[0].backup_timestamp:null;return{totalBackups:t.length,lastBackup:u,autoBackups:i,manualBackups:o}}catch(t){throw console.error(" Error getting backup stats:",t),new Error(`Failed to get backup stats: ${t.message}`)}}}const Gi=Object.create(null);Gi.open="0";Gi.close="1";Gi.ping="2";Gi.pong="3";Gi.message="4";Gi.upgrade="5";Gi.noop="6";const lh=Object.create(null);Object.keys(Gi).forEach(e=>{lh[Gi[e]]=e});const aN={type:"error",data:"parser error"},RC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",TC=typeof ArrayBuffer=="function",_C=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,kN=({type:e,data:s},t,i)=>RC&&s instanceof Blob?t?i(s):qy(s,i):TC&&(s instanceof ArrayBuffer||_C(s))?t?i(s):qy(new Blob([s]),i):i(Gi[e]+(s||"")),qy=(e,s)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];s("b"+(i||""))},t.readAsDataURL(e)};function Jy(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Bb;function b4(e,s){if(RC&&e.data instanceof Blob)return e.data.arrayBuffer().then(Jy).then(s);if(TC&&(e.data instanceof ArrayBuffer||_C(e.data)))return s(Jy(e.data));kN(e,!1,t=>{Bb||(Bb=new TextEncoder),s(Bb.encode(t))})}const Qy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Qy.length;e++)Hm[Qy.charCodeAt(e)]=e;const N4=e=>{let s=e.length*.75,t=e.length,i,o=0,u,c,m,h;e[e.length-1]==="="&&(s--,e[e.length-2]==="="&&s--);const g=new ArrayBuffer(s),v=new Uint8Array(g);for(i=0;i<t;i+=4)u=Hm[e.charCodeAt(i)],c=Hm[e.charCodeAt(i+1)],m=Hm[e.charCodeAt(i+2)],h=Hm[e.charCodeAt(i+3)],v[o++]=u<<2|c>>4,v[o++]=(c&15)<<4|m>>2,v[o++]=(m&3)<<6|h&63;return g},D4=typeof ArrayBuffer=="function",RN=(e,s)=>{if(typeof e!="string")return{type:"message",data:PC(e,s)};const t=e.charAt(0);return t==="b"?{type:"message",data:S4(e.substring(1),s)}:lh[t]?e.length>1?{type:lh[t],data:e.substring(1)}:{type:lh[t]}:aN},S4=(e,s)=>{if(D4){const t=N4(e);return PC(t,s)}else return{base64:!0,data:e}},PC=(e,s)=>{switch(s){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},UC="",O4=(e,s)=>{const t=e.length,i=new Array(t);let o=0;e.forEach((u,c)=>{kN(u,!1,m=>{i[c]=m,++o===t&&s(i.join(UC))})})},y4=(e,s)=>{const t=e.split(UC),i=[];for(let o=0;o<t.length;o++){const u=RN(t[o],s);if(i.push(u),u.type==="error")break}return i};function E4(){return new TransformStream({transform(e,s){b4(e,t=>{const i=t.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const u=new DataView(o.buffer);u.setUint8(0,126),u.setUint16(1,i)}else{o=new Uint8Array(9);const u=new DataView(o.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(o[0]|=128),s.enqueue(o),s.enqueue(t)})}})}let Xb;function Gp(e){return e.reduce((s,t)=>s+t.length,0)}function Wp(e,s){if(e[0].length===s)return e.shift();const t=new Uint8Array(s);let i=0;for(let o=0;o<s;o++)t[o]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),t}function C4(e,s){Xb||(Xb=new TextDecoder);const t=[];let i=0,o=-1,u=!1;return new TransformStream({transform(c,m){for(t.push(c);;){if(i===0){if(Gp(t)<1)break;const h=Wp(t,1);u=(h[0]&128)===128,o=h[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(Gp(t)<2)break;const h=Wp(t,2);o=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),i=3}else if(i===2){if(Gp(t)<8)break;const h=Wp(t,8),g=new DataView(h.buffer,h.byteOffset,h.length),v=g.getUint32(0);if(v>Math.pow(2,21)-1){m.enqueue(aN);break}o=v*Math.pow(2,32)+g.getUint32(4),i=3}else{if(Gp(t)<o)break;const h=Wp(t,o);m.enqueue(RN(u?h:Xb.decode(h),s)),i=0}if(o===0||o>e){m.enqueue(aN);break}}}})}const VC=4;function Us(e){if(e)return w4(e)}function w4(e){for(var s in Us.prototype)e[s]=Us.prototype[s];return e}Us.prototype.on=Us.prototype.addEventListener=function(e,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(s),this};Us.prototype.once=function(e,s){function t(){this.off(e,t),s.apply(this,arguments)}return t.fn=s,this.on(e,t),this};Us.prototype.off=Us.prototype.removeListener=Us.prototype.removeAllListeners=Us.prototype.removeEventListener=function(e,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+e];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,o=0;o<t.length;o++)if(i=t[o],i===s||i.fn===s){t.splice(o,1);break}return t.length===0&&delete this._callbacks["$"+e],this};Us.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),t=this._callbacks["$"+e],i=1;i<arguments.length;i++)s[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,o=t.length;i<o;++i)t[i].apply(this,s)}return this};Us.prototype.emitReserved=Us.prototype.emit;Us.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Us.prototype.hasListeners=function(e){return!!this.listeners(e).length};const wh=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,t)=>t(s,0),Ba=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),k4="arraybuffer";function jC(e,...s){return s.reduce((t,i)=>(e.hasOwnProperty(i)&&(t[i]=e[i]),t),{})}const R4=Ba.setTimeout,T4=Ba.clearTimeout;function kh(e,s){s.useNativeTimers?(e.setTimeoutFn=R4.bind(Ba),e.clearTimeoutFn=T4.bind(Ba)):(e.setTimeoutFn=Ba.setTimeout.bind(Ba),e.clearTimeoutFn=Ba.clearTimeout.bind(Ba))}const _4=1.33;function P4(e){return typeof e=="string"?U4(e):Math.ceil((e.byteLength||e.size)*_4)}function U4(e){let s=0,t=0;for(let i=0,o=e.length;i<o;i++)s=e.charCodeAt(i),s<128?t+=1:s<2048?t+=2:s<55296||s>=57344?t+=3:(i++,t+=4);return t}function AC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function V4(e){let s="";for(let t in e)e.hasOwnProperty(t)&&(s.length&&(s+="&"),s+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return s}function j4(e){let s={},t=e.split("&");for(let i=0,o=t.length;i<o;i++){let u=t[i].split("=");s[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return s}class A4 extends Error{constructor(s,t,i){super(s),this.description=t,this.context=i,this.type="TransportError"}}class TN extends Us{constructor(s){super(),this.writable=!1,kh(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,t,i){return super.emitReserved("error",new A4(s,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const t=RN(s,this.socket.binaryType);this.onPacket(t)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,t={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const t=V4(s);return t.length?"?"+t:""}}class L4 extends TN{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const t=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};y4(s,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,O4(s,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=AC()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(s,t)}}let LC=!1;try{LC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const M4=LC;function I4(){}class F4 extends L4{constructor(s){if(super(s),typeof location<"u"){const t=location.protocol==="https:";let i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||i!==s.port}}doWrite(s,t){const i=this.request({method:"POST",data:s});i.on("success",t),i.on("error",(o,u)=>{this.onError("xhr post error",o,u)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=s}}class zi extends Us{constructor(s,t,i){super(),this.createRequest=s,kh(this,i),this._opts=i,this._method=i.method||"GET",this._uri=t,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var s;const t=jC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(t);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=zi.requestsCount++,zi.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=I4,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete zi.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}zi.requestsCount=0;zi.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Zy);else if(typeof addEventListener=="function"){const e="onpagehide"in Ba?"pagehide":"unload";addEventListener(e,Zy,!1)}}function Zy(){for(let e in zi.requests)zi.requests.hasOwnProperty(e)&&zi.requests[e].abort()}const $4=(function(){const e=MC({xdomain:!1});return e&&e.responseType!==null})();class B4 extends F4{constructor(s){super(s);const t=s&&s.forceBase64;this.supportsBinary=$4&&!t}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new zi(MC,this.uri(),s)}}function MC(e){const s=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||M4))return new XMLHttpRequest}catch{}if(!s)try{return new Ba[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const IC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class X4 extends TN{get name(){return"websocket"}doOpen(){const s=this.uri(),t=this.opts.protocols,i=IC?{}:jC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,t,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let t=0;t<s.length;t++){const i=s[t],o=t===s.length-1;kN(i,this.supportsBinary,u=>{try{this.doWrite(i,u)}catch{}o&&wh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=AC()),this.supportsBinary||(t.b64=1),this.createUri(s,t)}}const Hb=Ba.WebSocket||Ba.MozWebSocket;class H4 extends X4{createSocket(s,t,i){return IC?new Hb(s,t,i):t?new Hb(s,t):new Hb(s)}doWrite(s,t){this.ws.send(t)}}class z4 extends TN{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const t=C4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=s.readable.pipeThrough(t).getReader(),o=E4();o.readable.pipeTo(s.writable),this._writer=o.writable.getWriter();const u=()=>{i.read().then(({done:m,value:h})=>{m||(this.onPacket(h),u())}).catch(m=>{})};u();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let t=0;t<s.length;t++){const i=s[t],o=t===s.length-1;this._writer.write(i).then(()=>{o&&wh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const G4={websocket:H4,webtransport:z4,polling:B4},W4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Y4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function iN(e){if(e.length>8e3)throw"URI too long";const s=e,t=e.indexOf("["),i=e.indexOf("]");t!=-1&&i!=-1&&(e=e.substring(0,t)+e.substring(t,i).replace(/:/g,";")+e.substring(i,e.length));let o=W4.exec(e||""),u={},c=14;for(;c--;)u[Y4[c]]=o[c]||"";return t!=-1&&i!=-1&&(u.source=s,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=K4(u,u.path),u.queryKey=q4(u,u.query),u}function K4(e,s){const t=/\/{2,9}/g,i=s.replace(t,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&i.splice(0,1),s.slice(-1)=="/"&&i.splice(i.length-1,1),i}function q4(e,s){const t={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,u){o&&(t[o]=u)}),t}const oN=typeof addEventListener=="function"&&typeof removeEventListener=="function",ch=[];oN&&addEventListener("offline",()=>{ch.forEach(e=>e())},!1);class yl extends Us{constructor(s,t){if(super(),this.binaryType=k4,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(t=s,s=null),s){const i=iN(s);t.hostname=i.host,t.secure=i.protocol==="https"||i.protocol==="wss",t.port=i.port,i.query&&(t.query=i.query)}else t.host&&(t.hostname=iN(t.host).host);kh(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(i=>{const o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=j4(this.opts.query)),oN&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ch.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const t=Object.assign({},this.opts.query);t.EIO=VC,t.transport=s,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&yl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(s);t.open(),this.setTransport(t)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",yl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=s.data,this._onError(t);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(t+=P4(o)),i>0&&t>this._maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,wh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,t,i){return this._sendPacket("message",s,t,i),this}send(s,t,i){return this._sendPacket("message",s,t,i),this}_sendPacket(s,t,i,o){if(typeof t=="function"&&(o=t,t=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const u={type:s,data:t,options:i};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),o&&this.once("flush",o),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),s()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():s()}):this.upgrading?i():s()),this}_onError(s){if(yl.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),oN&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=ch.indexOf(this._offlineEventListener);i!==-1&&ch.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,t),this.writeBuffer=[],this._prevBufferLen=0}}}yl.protocol=VC;class J4 extends yl{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let t=this.createTransport(s),i=!1;yl.priorWebsocketSuccess=!1;const o=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",b=>{if(!i)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;yl.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(v(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const E=new Error("probe error");E.transport=t.name,this.emitReserved("upgradeError",E)}}))};function u(){i||(i=!0,v(),t.close(),t=null)}const c=b=>{const E=new Error("probe error: "+b);E.transport=t.name,u(),this.emitReserved("upgradeError",E)};function m(){c("transport closed")}function h(){c("socket closed")}function g(b){t&&b.name!==t.name&&u()}const v=()=>{t.removeListener("open",o),t.removeListener("error",c),t.removeListener("close",m),this.off("close",h),this.off("upgrading",g)};t.once("open",o),t.once("error",c),t.once("close",m),this.once("close",h),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const t=[];for(let i=0;i<s.length;i++)~this.transports.indexOf(s[i])&&t.push(s[i]);return t}}let Q4=class extends J4{constructor(s,t={}){const i=typeof s=="object"?s:t;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>G4[o]).filter(o=>!!o)),super(s,i)}};function Z4(e,s="",t){let i=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),i=iN(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const u=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+u+":"+i.port+s,i.href=i.protocol+"://"+u+(t&&t.port===i.port?"":":"+i.port),i}const ej=typeof ArrayBuffer=="function",tj=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,FC=Object.prototype.toString,rj=typeof Blob=="function"||typeof Blob<"u"&&FC.call(Blob)==="[object BlobConstructor]",sj=typeof File=="function"||typeof File<"u"&&FC.call(File)==="[object FileConstructor]";function _N(e){return ej&&(e instanceof ArrayBuffer||tj(e))||rj&&e instanceof Blob||sj&&e instanceof File}function uh(e,s){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let t=0,i=e.length;t<i;t++)if(uh(e[t]))return!0;return!1}if(_N(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return uh(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&uh(e[t]))return!0;return!1}function nj(e){const s=[],t=e.data,i=e;return i.data=lN(t,s),i.attachments=s.length,{packet:i,buffers:s}}function lN(e,s){if(!e)return e;if(_N(e)){const t={_placeholder:!0,num:s.length};return s.push(e),t}else if(Array.isArray(e)){const t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=lN(e[i],s);return t}else if(typeof e=="object"&&!(e instanceof Date)){const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=lN(e[i],s));return t}return e}function aj(e,s){return e.data=cN(e.data,s),delete e.attachments,e}function cN(e,s){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<s.length)return s[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=cN(e[t],s);else if(typeof e=="object")for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=cN(e[t],s));return e}const ij=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],oj=5;var _r;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(_r||(_r={}));class lj{constructor(s){this.replacer=s}encode(s){return(s.type===_r.EVENT||s.type===_r.ACK)&&uh(s)?this.encodeAsBinary({type:s.type===_r.EVENT?_r.BINARY_EVENT:_r.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let t=""+s.type;return(s.type===_r.BINARY_EVENT||s.type===_r.BINARY_ACK)&&(t+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(t+=s.nsp+","),s.id!=null&&(t+=s.id),s.data!=null&&(t+=JSON.stringify(s.data,this.replacer)),t}encodeAsBinary(s){const t=nj(s),i=this.encodeAsString(t.packet),o=t.buffers;return o.unshift(i),o}}function eE(e){return Object.prototype.toString.call(e)==="[object Object]"}class PN extends Us{constructor(s){super(),this.reviver=s}add(s){let t;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(s);const i=t.type===_r.BINARY_EVENT;i||t.type===_r.BINARY_ACK?(t.type=i?_r.EVENT:_r.ACK,this.reconstructor=new cj(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(_N(s)||s.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(s),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let t=0;const i={type:Number(s.charAt(0))};if(_r[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===_r.BINARY_EVENT||i.type===_r.BINARY_ACK){const u=t+1;for(;s.charAt(++t)!=="-"&&t!=s.length;);const c=s.substring(u,t);if(c!=Number(c)||s.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(c)}if(s.charAt(t+1)==="/"){const u=t+1;for(;++t&&!(s.charAt(t)===","||t===s.length););i.nsp=s.substring(u,t)}else i.nsp="/";const o=s.charAt(t+1);if(o!==""&&Number(o)==o){const u=t+1;for(;++t;){const c=s.charAt(t);if(c==null||Number(c)!=c){--t;break}if(t===s.length)break}i.id=Number(s.substring(u,t+1))}if(s.charAt(++t)){const u=this.tryParse(s.substr(t));if(PN.isPayloadValid(i.type,u))i.data=u;else throw new Error("invalid payload")}return i}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,t){switch(s){case _r.CONNECT:return eE(t);case _r.DISCONNECT:return t===void 0;case _r.CONNECT_ERROR:return typeof t=="string"||eE(t);case _r.EVENT:case _r.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&ij.indexOf(t[0])===-1);case _r.ACK:case _r.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class cj{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const t=aj(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const uj=Object.freeze(Object.defineProperty({__proto__:null,Decoder:PN,Encoder:lj,get PacketType(){return _r},protocol:oj},Symbol.toStringTag,{value:"Module"}));function xi(e,s,t){return e.on(s,t),function(){e.off(s,t)}}const dj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class $C extends Us{constructor(s,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[xi(s,"open",this.onopen.bind(this)),xi(s,"packet",this.onpacket.bind(this)),xi(s,"error",this.onerror.bind(this)),xi(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...t){var i,o,u;if(dj.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(t.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const c={type:_r.EVENT,data:t};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const v=this.ids++,b=t.pop();this._registerAckCallback(v,b),c.id=v}const m=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,h=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!m||(h?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(s,t){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[s]=t;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===s&&this.sendBuffer.splice(m,1);t.call(this,new Error("operation has timed out"))},o),c=(...m)=>{this.io.clearTimeoutFn(u),t.apply(this,m)};c.withError=!0,this.acks[s]=c}emitWithAck(s,...t){return new Promise((i,o)=>{const u=(c,m)=>c?o(c):i(m);u.withError=!0,t.push(u),this.emit(s,...t)})}_addToQueue(s){let t;typeof s[s.length-1]=="function"&&(t=s.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((o,...u)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(o)):(this._queue.shift(),t&&t(null,...u)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!s||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:_r.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(i=>String(i.id)===s)){const i=this.acks[s];delete this.acks[s],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case _r.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _r.EVENT:case _r.BINARY_EVENT:this.onevent(s);break;case _r.ACK:case _r.BINARY_ACK:this.onack(s);break;case _r.DISCONNECT:this.ondisconnect();break;case _r.CONNECT_ERROR:this.destroy();const i=new Error(s.data.message);i.data=s.data.data,this.emitReserved("connect_error",i);break}}onevent(s){const t=s.data||[];s.id!=null&&t.push(this.ack(s.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const t=this;let i=!1;return function(...o){i||(i=!0,t.packet({type:_r.ACK,id:s,data:o}))}}onack(s){const t=this.acks[s.id];typeof t=="function"&&(delete this.acks[s.id],t.withError&&s.data.unshift(null),t.apply(this,s.data))}onconnect(s,t){this.id=s,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_r.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(s===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(s===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,s.data)}}}function Wu(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Wu.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),t=Math.floor(s*this.jitter*e);e=(Math.floor(s*10)&1)==0?e-t:e+t}return Math.min(e,this.max)|0};Wu.prototype.reset=function(){this.attempts=0};Wu.prototype.setMin=function(e){this.ms=e};Wu.prototype.setMax=function(e){this.max=e};Wu.prototype.setJitter=function(e){this.jitter=e};class uN extends Us{constructor(s,t){var i;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(t=s,s=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,kh(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Wu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=s;const o=t.parser||uj;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var t;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(t=this.backoff)===null||t===void 0||t.setMin(s),this)}randomizationFactor(s){var t;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(t=this.backoff)===null||t===void 0||t.setJitter(s),this)}reconnectionDelayMax(s){var t;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(t=this.backoff)===null||t===void 0||t.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new Q4(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=xi(t,"open",function(){i.onopen(),s&&s()}),u=m=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",m),s?s(m):this.maybeReconnectOnOpen()},c=xi(t,"error",u);if(this._timeout!==!1){const m=this._timeout,h=this.setTimeoutFn(()=>{o(),u(new Error("timeout")),t.close()},m);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(o),this.subs.push(c),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(xi(s,"ping",this.onping.bind(this)),xi(s,"data",this.ondata.bind(this)),xi(s,"error",this.onerror.bind(this)),xi(s,"close",this.onclose.bind(this)),xi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(t){this.onclose("parse error",t)}}ondecoded(s){wh(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,t){let i=this.nsps[s];return i?this._autoConnect&&!i.active&&i.connect():(i=new $C(this,s,t),this.nsps[s]=i),i}_destroy(s){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(s){const t=this.encoder.encode(s);for(let i=0;i<t.length;i++)this.engine.write(t[i],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,t){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(o=>{o?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",o)):s.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const Bm={};function dh(e,s){typeof e=="object"&&(s=e,e=void 0),s=s||{};const t=Z4(e,s.path||"/socket.io"),i=t.source,o=t.id,u=t.path,c=Bm[o]&&u in Bm[o].nsps,m=s.forceNew||s["force new connection"]||s.multiplex===!1||c;let h;return m?h=new uN(i,s):(Bm[o]||(Bm[o]=new uN(i,s)),h=Bm[o]),t.query&&!s.query&&(s.query=t.queryKey),h.socket(t.path,s)}Object.assign(dh,{Manager:uN,Socket:$C,io:dh,connect:dh});const mj="https://ros-50-production.up.railway.app";class fj{constructor(){this.socket=null,this.eventId=null,this.callbacks={},this.reconnectAttempts=0,this.maxReconnectAttempts=5}connect(s,t){if(this.socket&&this.eventId===s){console.log("Socket.IO already connected for this event. Merging callbacks."),this.callbacks={...this.callbacks,...Object.fromEntries(Object.entries(t).filter(([i])=>!this.callbacks[i]))};return}this.disconnect(),this.eventId=s,this.callbacks=t,this.socket=dh(mj,{transports:["websocket","polling"],timeout:1e4}),this.socket.on("connect",()=>{console.log(` Socket.IO connected for event: ${s}`),this.reconnectAttempts=0,this.callbacks.onConnectionChange?.(!0),this.socket?.emit("joinEvent",s),this.performInitialSync(s)}),this.socket.on("update",i=>{switch(console.log(" Socket.IO update received:",i.type),i.type){case"runOfShowDataUpdated":this.callbacks.onRunOfShowDataUpdated?.(i.data);break;case"scheduleUpdated":this.callbacks.onScheduleUpdated?.(i.data);break;case"completedCuesUpdated":this.callbacks.onCompletedCuesUpdated?.(i.data);break;case"timerUpdated":console.log(" SocketClient: Received timerUpdated event:",i.data),this.callbacks.onTimerUpdated?.(i.data);break;case"timerStopped":this.callbacks.onTimerStopped?.(i.data);break;case"timersStopped":this.callbacks.onTimersStopped?.(i.data);break;case"timerStarted":this.callbacks.onTimerStarted?.(i.data);break;case"subCueTimerStarted":this.callbacks.onSubCueTimerStarted?.(i.data);break;case"subCueTimerStopped":this.callbacks.onSubCueTimerStopped?.(i.data);break;case"activeTimersUpdated":console.log(" SocketClient: Received activeTimersUpdated event:",i.data),this.callbacks.onActiveTimersUpdated?.(i.data);break;case"resetAllStates":this.callbacks.onResetAllStates?.(i.data);break;case"timerMessageUpdated":console.log(" SocketClient: Received timerMessageUpdated event:",i.data),this.callbacks.onTimerMessageUpdated?.(i.data);break;case"overtimeUpdate":console.log(" SocketClient: Received overtimeUpdate event:",i.data),this.callbacks.onOvertimeUpdate?.(i.data);break;case"overtimeReset":console.log(" SocketClient: Received overtimeReset event:",i.data),this.callbacks.onOvertimeReset?.(i.data);break;case"showStartOvertimeUpdate":console.log(" SocketClient: Received showStartOvertimeUpdate event:",i.data),this.callbacks.onShowStartOvertimeUpdate?.(i.data);break;case"startCueSelectionUpdate":console.log(" SocketClient: Received startCueSelectionUpdate event:",i.data),this.callbacks.onStartCueSelectionUpdate?.(i.data);break;default:console.log("Unknown Socket.IO message type:",i.type,i)}}),this.socket.on("serverTime",i=>{this.callbacks.onServerTime?.(i)}),this.socket.on("disconnect",i=>{console.log(` Socket.IO disconnected: ${i}`),this.callbacks.onConnectionChange?.(!1),i!=="io client disconnect"&&this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(` Attempting to reconnect Socket.IO (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>{this.eventId&&this.connect(this.eventId,this.callbacks)},2e3*this.reconnectAttempts))}),this.socket.on("connect_error",i=>{console.error(" Socket.IO connection error:",i),this.callbacks.onConnectionChange?.(!1)})}disconnect(s){if(this.socket){if(s&&this.eventId!==s){console.log(`Socket.IO: Not disconnecting, current eventId (${this.eventId}) does not match requested eventId (${s}).`);return}console.log(` Disconnecting Socket.IO for event: ${this.eventId}`),this.eventId&&this.socket.emit("leaveEvent",this.eventId),this.socket.disconnect(),this.socket=null,this.eventId=null,this.callbacks.onConnectionChange?.(!1)}}isConnected(){return this.socket?.connected||!1}getEventId(){return this.eventId}emitResetAllStates(){this.socket&&this.eventId&&(console.log(" Emitting reset all states event"),this.socket.emit("resetAllStates",{eventId:this.eventId}))}emitSyncRequest(){this.socket&&this.eventId&&(console.log(" Emitting sync request event"),this.socket.emit("requestSync",{eventId:this.eventId}))}emitScriptScroll(s,t,i){this.socket&&this.eventId&&this.socket.emit("scriptScrollUpdate",{eventId:this.eventId,scrollPosition:s,lineNumber:t,fontSize:i})}emitScriptComment(s,t,i){this.socket&&this.eventId?(console.log(" Emitting scriptCommentUpdate:",s,i||t?.id),this.socket.emit("scriptCommentUpdate",{eventId:this.eventId,action:s,comment:t,commentId:i})):console.error(" Cannot emit comment: socket or eventId missing",{hasSocket:!!this.socket,hasEventId:!!this.eventId})}getSocket(){return this.socket}async performInitialSync(s){try{console.log(" Performing initial sync on WebSocket connect..."),this.callbacks.onInitialSync?(await this.callbacks.onInitialSync(),console.log(" Initial sync completed via callback")):console.log(" No initial sync callback provided")}catch(t){console.error(" Initial sync failed:",t)}}}const xt=new fj,pj=({isOpen:e,onClose:s,event:t})=>e?a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 w-full max-w-5xl max-h-[80vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"OSC Control Panel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:21,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"text-slate-400 hover:text-white text-xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:22,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:20,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4",children:[a.jsxDEV("h3",{className:"text-sm font-semibold text-white mb-3",children:"Event Information"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:37,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-xs text-slate-400 mb-1",children:"Event ID:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:40,columnNumber:19},void 0),a.jsxDEV("div",{className:"px-3 py-2 bg-slate-600 border border-slate-500 rounded text-blue-400 font-mono text-sm",children:t?.id||"No event selected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:41,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:39,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-xs text-slate-400 mb-1",children:"Event Name:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:46,columnNumber:19},void 0),a.jsxDEV("div",{className:"px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm",children:t?.name||"No event selected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:47,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:45,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:38,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:36,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4",children:[a.jsxDEV("h3",{className:"text-sm font-semibold text-white mb-3 text-center",children:" Download OSC Apps"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:56,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-center mb-4",children:[a.jsxDEV("a",{href:"/ROS-OSC-Control-portable.zip",download:"ROS-OSC-Control-portable.zip",className:"block bg-amber-600 hover:bg-amber-500 text-white text-sm py-3 px-6 rounded text-center transition-colors font-semibold",children:" ROS-OSC-Control (Portable)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:60,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-xs text-amber-400 mt-2",children:"Recommended  Single .exe  No install  ros-osc-control dist"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:67,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:59,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-center mb-4",children:[a.jsxDEV("a",{href:"/electron-osc-app.zip",download:"electron-osc-app.zip",className:"block bg-blue-600 hover:bg-blue-700 text-white text-sm py-3 px-6 rounded text-center transition-colors font-semibold",children:" Electron OSC App (Desktop)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:74,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-xs text-blue-400 mt-2",children:"Event list  Run of Show  OSC Log"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:81,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:73,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("a",{href:"/OSC_WebSocket_App.zip",download:"OSC_WebSocket_App.zip",className:"block bg-green-600 hover:bg-green-700 text-white text-sm py-3 px-6 rounded text-center transition-colors font-semibold",children:" Python OSC App (GUI)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:88,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-xs text-green-400 mt-2",children:"GUI toggle  Railway or Local  WebSocket"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:95,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:87,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-xs text-slate-500 mt-3 text-center",children:[a.jsxDEV("strong",{children:"Portable:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:101,columnNumber:17},void 0)," Build ",a.jsxDEV("code",{className:"bg-slate-600 px-1 rounded",children:"ros-osc-control"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:101,columnNumber:50},void 0)," with ",a.jsxDEV("code",{className:"bg-slate-600 px-1 rounded",children:"build-standalone.bat"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:101,columnNumber:122},void 0),", then run ",a.jsxDEV("code",{className:"bg-slate-600 px-1 rounded",children:"create-ros-osc-control-zip.bat"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:101,columnNumber:204},void 0)," to update the zip. Others: extract, run install, then start."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:100,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:55,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:34,columnNumber:11},void 0),a.jsxDEV("div",{className:"space-y-4",children:a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4",children:[a.jsxDEV("h3",{className:"text-sm font-semibold text-white mb-3",children:"OSC Commands Reference"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:109,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400 space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-semibold text-slate-300 mb-2",children:"Main Cue Commands (Day-Aware):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:112,columnNumber:19},void 0),a.jsxDEV("div",{className:"font-mono bg-slate-800 p-2 rounded text-xs space-y-1",children:[a.jsxDEV("div",{children:"/cue/1/load"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:114,columnNumber:21},void 0),a.jsxDEV("div",{children:"/cue/1.1/load"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:115,columnNumber:21},void 0),a.jsxDEV("div",{children:"/cue/1A/load"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:116,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:113,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:111,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-semibold text-slate-300 mb-2",children:"Timer Commands:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:120,columnNumber:19},void 0),a.jsxDEV("div",{className:"font-mono bg-slate-800 p-2 rounded text-xs space-y-1",children:[a.jsxDEV("div",{children:"/timer/start"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:122,columnNumber:21},void 0),a.jsxDEV("div",{children:"/timer/stop"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:123,columnNumber:21},void 0),a.jsxDEV("div",{children:"/timer/reset"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:124,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:121,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:119,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-semibold text-slate-300 mb-2",children:"Sub-Timer Commands (Day-Aware):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:128,columnNumber:19},void 0),a.jsxDEV("div",{className:"font-mono bg-slate-800 p-2 rounded text-xs space-y-1",children:[a.jsxDEV("div",{children:"/subtimer/cue/5/start"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:130,columnNumber:21},void 0),a.jsxDEV("div",{children:"/subtimer/cue/5/stop"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:131,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:129,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:127,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-semibold text-slate-300 mb-2",children:" Multi-Day Commands:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:135,columnNumber:19},void 0),a.jsxDEV("div",{className:"font-mono bg-slate-800 p-2 rounded text-xs space-y-1",children:[a.jsxDEV("div",{children:"/set-day 2"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:137,columnNumber:21},void 0),a.jsxDEV("div",{children:"/get-day"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:138,columnNumber:21},void 0),a.jsxDEV("div",{children:"/list-cues (shows current day only)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:139,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:136,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:110,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:108,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:107,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:31,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:18,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:17,columnNumber:5},void 0):null,hj=({isOpen:e,onClose:s,onSelectFullscreenTimer:t,onSelectClock:i})=>e?a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 w-full max-w-2xl",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Select Display Mode"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:23,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"text-slate-400 hover:text-white text-2xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:24,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:22,columnNumber:9},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("p",{className:"text-slate-300 text-sm mb-6",children:"Choose how you want to display the timer information:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:34,columnNumber:11},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-3 mb-4",children:a.jsxDEV("p",{className:"text-slate-400 text-xs",children:[a.jsxDEV("strong",{children:"Fullscreen Timer:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:40,columnNumber:15},void 0)," Browser dependent - opens in new browser window",a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:40,columnNumber:97},void 0),a.jsxDEV("strong",{children:"Clock:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:41,columnNumber:15},void 0)," Full web based - integrated web display"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:39,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:38,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>{t(),s()},className:"w-full p-4 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-left",children:a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:56,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:55,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:54,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-white font-semibold",children:"Fullscreen Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:60,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-slate-400 text-sm",children:"Browser dependent - opens in new browser window"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:61,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:59,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:53,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:46,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>{i(),s()},className:"w-full p-4 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-left",children:a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:a.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:77,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:76,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:75,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-white font-semibold",children:"Clock"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:81,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-slate-400 text-sm",children:"Full web based - integrated web display"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:82,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:80,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:74,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:67,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:33,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:20,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:19,columnNumber:5},void 0):null;/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var BC=1252,vj=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],UN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},VN=function(e){vj.indexOf(e)!=-1&&(BC=UN[0]=e)};function gj(){VN(1252)}var Ni=function(e){VN(e)};function XC(){Ni(1200),gj()}function tE(e){for(var s=[],t=0,i=e.length;t<i;++t)s[t]=e.charCodeAt(t);return s}function xj(e){for(var s=[],t=0;t<e.length>>1;++t)s[t]=String.fromCharCode(e.charCodeAt(2*t)+(e.charCodeAt(2*t+1)<<8));return s.join("")}function HC(e){for(var s=[],t=0;t<e.length>>1;++t)s[t]=String.fromCharCode(e.charCodeAt(2*t+1)+(e.charCodeAt(2*t)<<8));return s.join("")}var zm=function(e){var s=e.charCodeAt(0),t=e.charCodeAt(1);return s==255&&t==254?xj(e.slice(2)):s==254&&t==255?HC(e.slice(2)):s==65279?e.slice(1):e},Yp=function(s){return String.fromCharCode(s)},rE=function(s){return String.fromCharCode(s)},af,Sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function sE(e){for(var s="",t=0,i=0,o=0,u=0,c=0,m=0,h=0,g=0;g<e.length;)t=e.charCodeAt(g++),u=t>>2,i=e.charCodeAt(g++),c=(t&3)<<4|i>>4,o=e.charCodeAt(g++),m=(i&15)<<2|o>>6,h=o&63,isNaN(i)?m=h=64:isNaN(o)&&(h=64),s+=Sl.charAt(u)+Sl.charAt(c)+Sl.charAt(m)+Sl.charAt(h);return s}function Ta(e){var s="",t=0,i=0,o=0,u=0,c=0,m=0,h=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var g=0;g<e.length;)u=Sl.indexOf(e.charAt(g++)),c=Sl.indexOf(e.charAt(g++)),t=u<<2|c>>4,s+=String.fromCharCode(t),m=Sl.indexOf(e.charAt(g++)),i=(c&15)<<4|m>>2,m!==64&&(s+=String.fromCharCode(i)),h=Sl.indexOf(e.charAt(g++)),o=(m&3)<<6|h,h!==64&&(s+=String.fromCharCode(o));return s}var Pr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),kc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(s,t){return t?new Buffer(s,t):new Buffer(s)}:Buffer.from.bind(Buffer)}return function(){}})();function Cl(e){return Pr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function nE(e){return Pr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var bi=function(s){return Pr?kc(s,"binary"):s.split("").map(function(t){return t.charCodeAt(0)&255})};function Rc(e){if(Array.isArray(e))return e.map(function(i){return String.fromCharCode(i)}).join("");for(var s=[],t=0;t<e.length;++t)s[t]=String.fromCharCode(e[t]);return s.join("")}function jN(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return jN(new Uint8Array(e));for(var s=new Array(e.length),t=0;t<e.length;++t)s[t]=e[t];return s}var Dl=Pr?function(e){return Buffer.concat(e.map(function(s){return Buffer.isBuffer(s)?s:kc(s)}))}:function(e){if(typeof Uint8Array<"u"){var s=0,t=0;for(s=0;s<e.length;++s)t+=e[s].length;var i=new Uint8Array(t),o=0;for(s=0,t=0;s<e.length;t+=o,++s)if(o=e[s].length,e[s]instanceof Uint8Array)i.set(e[s],t);else{if(typeof e[s]=="string")throw"wtf";i.set(new Uint8Array(e[s]),t)}return i}return[].concat.apply([],e.map(function(u){return Array.isArray(u)?u:[].slice.call(u)}))};function bj(e){for(var s=[],t=0,i=e.length+250,o=Cl(e.length+255),u=0;u<e.length;++u){var c=e.charCodeAt(u);if(c<128)o[t++]=c;else if(c<2048)o[t++]=192|c>>6&31,o[t++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var m=e.charCodeAt(++u)&1023;o[t++]=240|c>>8&7,o[t++]=128|c>>2&63,o[t++]=128|m>>6&15|(c&3)<<4,o[t++]=128|m&63}else o[t++]=224|c>>12&15,o[t++]=128|c>>6&63,o[t++]=128|c&63;t>i&&(s.push(o.slice(0,t)),t=0,o=Cl(65535),i=65530)}return s.push(o.slice(0,t)),Dl(s)}var Jn=/\u0000/g,Gm=/[\u0001-\u0006]/g;function Fu(e){for(var s="",t=e.length-1;t>=0;)s+=e.charAt(t--);return s}function Di(e,s){var t=""+e;return t.length>=s?t:bs("0",s-t.length)+t}function AN(e,s){var t=""+e;return t.length>=s?t:bs(" ",s-t.length)+t}function fh(e,s){var t=""+e;return t.length>=s?t:t+bs(" ",s-t.length)}function Nj(e,s){var t=""+Math.round(e);return t.length>=s?t:bs("0",s-t.length)+t}function Dj(e,s){var t=""+e;return t.length>=s?t:bs("0",s-t.length)+t}var aE=Math.pow(2,32);function Au(e,s){if(e>aE||e<-aE)return Nj(e,s);var t=Math.round(e);return Dj(t,s)}function ph(e,s){return s=s||0,e.length>=7+s&&(e.charCodeAt(s)|32)===103&&(e.charCodeAt(s+1)|32)===101&&(e.charCodeAt(s+2)|32)===110&&(e.charCodeAt(s+3)|32)===101&&(e.charCodeAt(s+4)|32)===114&&(e.charCodeAt(s+5)|32)===97&&(e.charCodeAt(s+6)|32)===108}var iE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],zb=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Sj(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},oE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Oj={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function hh(e,s,t){for(var i=e<0?-1:1,o=e*i,u=0,c=1,m=0,h=1,g=0,v=0,b=Math.floor(o);g<s&&(b=Math.floor(o),m=b*c+u,v=b*g+h,!(o-b<5e-8));)o=1/(o-b),u=c,c=m,h=g,g=v;if(v>s&&(g>s?(v=h,m=u):(v=g,m=c)),!t)return[0,i*m,v];var E=Math.floor(i*m/v);return[E,i*m-E*v,v]}function Sc(e,s,t){if(e>2958465||e<0)return null;var i=e|0,o=Math.floor(86400*(e-i)),u=0,c=[],m={D:i,T:o,u:86400*(e-i)-o,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(m.u)<1e-6&&(m.u=0),s&&s.date1904&&(i+=1462),m.u>.9999&&(m.u=0,++o==86400&&(m.T=o=0,++i,++m.D)),i===60)c=t?[1317,10,29]:[1900,2,29],u=3;else if(i===0)c=t?[1317,8,29]:[1900,1,0],u=6;else{i>60&&--i;var h=new Date(1900,0,1);h.setDate(h.getDate()+i-1),c=[h.getFullYear(),h.getMonth()+1,h.getDate()],u=h.getDay(),i<60&&(u=(u+6)%7),t&&(u=Rj(h,c))}return m.y=c[0],m.m=c[1],m.d=c[2],m.S=o%60,o=Math.floor(o/60),m.M=o%60,o=Math.floor(o/60),m.H=o,m.q=u,m}var zC=new Date(1899,11,31,0,0,0),yj=zC.getTime(),Ej=new Date(1900,2,1,0,0,0);function GC(e,s){var t=e.getTime();return s?t-=1461*24*60*60*1e3:e>=Ej&&(t+=1440*60*1e3),(t-(yj+(e.getTimezoneOffset()-zC.getTimezoneOffset())*6e4))/(1440*60*1e3)}function LN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Cj(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function wj(e){var s=e<0?12:11,t=LN(e.toFixed(12));return t.length<=s||(t=e.toPrecision(10),t.length<=s)?t:e.toExponential(5)}function kj(e){var s=LN(e.toFixed(11));return s.length>(e<0?12:11)||s==="0"||s==="-0"?e.toPrecision(6):s}function of(e){var s=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),t;return s>=-4&&s<=-1?t=e.toPrecision(10+s):Math.abs(s)<=9?t=wj(e):s===10?t=e.toFixed(10).substr(0,12):t=kj(e),LN(Cj(t.toUpperCase()))}function Ec(e,s){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):of(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Xa(14,GC(e,s&&s.date1904),s)}throw new Error("unsupported value in General format: "+e)}function Rj(e,s){s[0]-=581;var t=e.getDay();return e<60&&(t=(t+6)%7),t}function Tj(e,s,t,i){var o="",u=0,c=0,m=t.y,h,g=0;switch(e){case 98:m=t.y+543;case 121:switch(s.length){case 1:case 2:h=m%100,g=2;break;default:h=m%1e4,g=4;break}break;case 109:switch(s.length){case 1:case 2:h=t.m,g=s.length;break;case 3:return zb[t.m-1][1];case 5:return zb[t.m-1][0];default:return zb[t.m-1][2]}break;case 100:switch(s.length){case 1:case 2:h=t.d,g=s.length;break;case 3:return iE[t.q][0];default:return iE[t.q][1]}break;case 104:switch(s.length){case 1:case 2:h=1+(t.H+11)%12,g=s.length;break;default:throw"bad hour format: "+s}break;case 72:switch(s.length){case 1:case 2:h=t.H,g=s.length;break;default:throw"bad hour format: "+s}break;case 77:switch(s.length){case 1:case 2:h=t.M,g=s.length;break;default:throw"bad minute format: "+s}break;case 115:if(s!="s"&&s!="ss"&&s!=".0"&&s!=".00"&&s!=".000")throw"bad second format: "+s;return t.u===0&&(s=="s"||s=="ss")?Di(t.S,s.length):(i>=2?c=i===3?1e3:100:c=i===1?10:1,u=Math.round(c*(t.S+t.u)),u>=60*c&&(u=0),s==="s"?u===0?"0":""+u/c:(o=Di(u,2+i),s==="ss"?o.substr(0,2):"."+o.substr(2,s.length-1)));case 90:switch(s){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+s}g=s.length===3?1:2;break;case 101:h=m,g=1;break}var v=g>0?Di(h,g):"";return v}function Ol(e){var s=3;if(e.length<=s)return e;for(var t=e.length%s,i=e.substr(0,t);t!=e.length;t+=s)i+=(i.length>0?",":"")+e.substr(t,s);return i}var WC=/%/g;function _j(e,s,t){var i=s.replace(WC,""),o=s.length-i.length;return _o(e,i,t*Math.pow(10,2*o))+bs("%",o)}function Pj(e,s,t){for(var i=s.length-1;s.charCodeAt(i-1)===44;)--i;return _o(e,s.substr(0,i),t/Math.pow(10,3*(s.length-i)))}function YC(e,s){var t,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+YC(e,-s);var o=e.indexOf(".");o===-1&&(o=e.indexOf("E"));var u=Math.floor(Math.log(s)*Math.LOG10E)%o;if(u<0&&(u+=o),t=(s/Math.pow(10,u)).toPrecision(i+1+(o+u)%o),t.indexOf("e")===-1){var c=Math.floor(Math.log(s)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+u):t+="E+"+(c-u);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,o)+"."+t.substr(2+o),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(m,h,g,v){return h+g+v.substr(0,(o+u)%o)+"."+v.substr(u)+"E"})}else t=s.toExponential(i);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var KC=/# (\?+)( ?)\/( ?)(\d+)/;function Uj(e,s,t){var i=parseInt(e[4],10),o=Math.round(s*i),u=Math.floor(o/i),c=o-u*i,m=i;return t+(u===0?"":""+u)+" "+(c===0?bs(" ",e[1].length+1+e[4].length):AN(c,e[1].length)+e[2]+"/"+e[3]+Di(m,e[4].length))}function Vj(e,s,t){return t+(s===0?"":""+s)+bs(" ",e[1].length+2+e[4].length)}var qC=/^#*0*\.([0#]+)/,JC=/\).*[0#]/,QC=/\(###\) ###\\?-####/;function Yn(e){for(var s="",t,i=0;i!=e.length;++i)switch(t=e.charCodeAt(i)){case 35:break;case 63:s+=" ";break;case 48:s+="0";break;default:s+=String.fromCharCode(t)}return s}function lE(e,s){var t=Math.pow(10,s);return""+Math.round(e*t)/t}function cE(e,s){var t=e-Math.floor(e),i=Math.pow(10,s);return s<(""+Math.round(t*i)).length?0:Math.round(t*i)}function jj(e,s){return s<(""+Math.round((e-Math.floor(e))*Math.pow(10,s))).length?1:0}function Aj(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Fa(e,s,t){if(e.charCodeAt(0)===40&&!s.match(JC)){var i=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Fa("n",i,t):"("+Fa("n",i,-t)+")"}if(s.charCodeAt(s.length-1)===44)return Pj(e,s,t);if(s.indexOf("%")!==-1)return _j(e,s,t);if(s.indexOf("E")!==-1)return YC(s,t);if(s.charCodeAt(0)===36)return"$"+Fa(e,s.substr(s.charAt(1)==" "?2:1),t);var o,u,c,m,h=Math.abs(t),g=t<0?"-":"";if(s.match(/^00+$/))return g+Au(h,s.length);if(s.match(/^[#?]+$/))return o=Au(t,0),o==="0"&&(o=""),o.length>s.length?o:Yn(s.substr(0,s.length-o.length))+o;if(u=s.match(KC))return Uj(u,h,g);if(s.match(/^#+0+$/))return g+Au(h,s.length-s.indexOf("0"));if(u=s.match(qC))return o=lE(t,u[1].length).replace(/^([^\.]+)$/,"$1."+Yn(u[1])).replace(/\.$/,"."+Yn(u[1])).replace(/\.(\d*)$/,function(w,y){return"."+y+bs("0",Yn(u[1]).length-y.length)}),s.indexOf("0.")!==-1?o:o.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),u=s.match(/^(0*)\.(#*)$/))return g+lE(h,u[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,u[1].length?"0.":".");if(u=s.match(/^#{1,3},##0(\.?)$/))return g+Ol(Au(h,0));if(u=s.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Fa(e,s,-t):Ol(""+(Math.floor(t)+jj(t,u[1].length)))+"."+Di(cE(t,u[1].length),u[1].length);if(u=s.match(/^#,#*,#0/))return Fa(e,s.replace(/^#,#*,/,""),t);if(u=s.match(/^([0#]+)(\\?-([0#]+))+$/))return o=Fu(Fa(e,s.replace(/[\\-]/g,""),t)),c=0,Fu(Fu(s.replace(/\\/g,"")).replace(/[0#]/g,function(w){return c<o.length?o.charAt(c++):w==="0"?"0":""}));if(s.match(QC))return o=Fa(e,"##########",t),"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);var v="";if(u=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(u[4].length,7),m=hh(h,Math.pow(10,c)-1,!1),o=""+g,v=_o("n",u[1],m[1]),v.charAt(v.length-1)==" "&&(v=v.substr(0,v.length-1)+"0"),o+=v+u[2]+"/"+u[3],v=fh(m[2],c),v.length<u[4].length&&(v=Yn(u[4].substr(u[4].length-v.length))+v),o+=v,o;if(u=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(u[1].length,u[4].length),7),m=hh(h,Math.pow(10,c)-1,!0),g+(m[0]||(m[1]?"":"0"))+" "+(m[1]?AN(m[1],c)+u[2]+"/"+u[3]+fh(m[2],c):bs(" ",2*c+1+u[2].length+u[3].length));if(u=s.match(/^[#0?]+$/))return o=Au(t,0),s.length<=o.length?o:Yn(s.substr(0,s.length-o.length))+o;if(u=s.match(/^([#0?]+)\.([#0]+)$/)){o=""+t.toFixed(Math.min(u[2].length,10)).replace(/([^0])0+$/,"$1"),c=o.indexOf(".");var b=s.indexOf(".")-c,E=s.length-o.length-b;return Yn(s.substr(0,b)+o+s.substr(s.length-E))}if(u=s.match(/^00,000\.([#0]*0)$/))return c=cE(t,u[1].length),t<0?"-"+Fa(e,s,-t):Ol(Aj(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Di(0,3-w.length):"")+w})+"."+Di(c,u[1].length);switch(s){case"###,##0.00":return Fa(e,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var k=Ol(Au(h,0));return k!=="0"?g+k:"";case"###,###.00":return Fa(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Fa(e,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+s+"|")}function Lj(e,s,t){for(var i=s.length-1;s.charCodeAt(i-1)===44;)--i;return _o(e,s.substr(0,i),t/Math.pow(10,3*(s.length-i)))}function Mj(e,s,t){var i=s.replace(WC,""),o=s.length-i.length;return _o(e,i,t*Math.pow(10,2*o))+bs("%",o)}function ZC(e,s){var t,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+ZC(e,-s);var o=e.indexOf(".");o===-1&&(o=e.indexOf("E"));var u=Math.floor(Math.log(s)*Math.LOG10E)%o;if(u<0&&(u+=o),t=(s/Math.pow(10,u)).toPrecision(i+1+(o+u)%o),!t.match(/[Ee]/)){var c=Math.floor(Math.log(s)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+u):t+="E+"+(c-u),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(m,h,g,v){return h+g+v.substr(0,(o+u)%o)+"."+v.substr(u)+"E"})}else t=s.toExponential(i);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Hi(e,s,t){if(e.charCodeAt(0)===40&&!s.match(JC)){var i=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Hi("n",i,t):"("+Hi("n",i,-t)+")"}if(s.charCodeAt(s.length-1)===44)return Lj(e,s,t);if(s.indexOf("%")!==-1)return Mj(e,s,t);if(s.indexOf("E")!==-1)return ZC(s,t);if(s.charCodeAt(0)===36)return"$"+Hi(e,s.substr(s.charAt(1)==" "?2:1),t);var o,u,c,m,h=Math.abs(t),g=t<0?"-":"";if(s.match(/^00+$/))return g+Di(h,s.length);if(s.match(/^[#?]+$/))return o=""+t,t===0&&(o=""),o.length>s.length?o:Yn(s.substr(0,s.length-o.length))+o;if(u=s.match(KC))return Vj(u,h,g);if(s.match(/^#+0+$/))return g+Di(h,s.length-s.indexOf("0"));if(u=s.match(qC))return o=(""+t).replace(/^([^\.]+)$/,"$1."+Yn(u[1])).replace(/\.$/,"."+Yn(u[1])),o=o.replace(/\.(\d*)$/,function(w,y){return"."+y+bs("0",Yn(u[1]).length-y.length)}),s.indexOf("0.")!==-1?o:o.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),u=s.match(/^(0*)\.(#*)$/))return g+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,u[1].length?"0.":".");if(u=s.match(/^#{1,3},##0(\.?)$/))return g+Ol(""+h);if(u=s.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Hi(e,s,-t):Ol(""+t)+"."+bs("0",u[1].length);if(u=s.match(/^#,#*,#0/))return Hi(e,s.replace(/^#,#*,/,""),t);if(u=s.match(/^([0#]+)(\\?-([0#]+))+$/))return o=Fu(Hi(e,s.replace(/[\\-]/g,""),t)),c=0,Fu(Fu(s.replace(/\\/g,"")).replace(/[0#]/g,function(w){return c<o.length?o.charAt(c++):w==="0"?"0":""}));if(s.match(QC))return o=Hi(e,"##########",t),"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);var v="";if(u=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(u[4].length,7),m=hh(h,Math.pow(10,c)-1,!1),o=""+g,v=_o("n",u[1],m[1]),v.charAt(v.length-1)==" "&&(v=v.substr(0,v.length-1)+"0"),o+=v+u[2]+"/"+u[3],v=fh(m[2],c),v.length<u[4].length&&(v=Yn(u[4].substr(u[4].length-v.length))+v),o+=v,o;if(u=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(u[1].length,u[4].length),7),m=hh(h,Math.pow(10,c)-1,!0),g+(m[0]||(m[1]?"":"0"))+" "+(m[1]?AN(m[1],c)+u[2]+"/"+u[3]+fh(m[2],c):bs(" ",2*c+1+u[2].length+u[3].length));if(u=s.match(/^[#0?]+$/))return o=""+t,s.length<=o.length?o:Yn(s.substr(0,s.length-o.length))+o;if(u=s.match(/^([#0]+)\.([#0]+)$/)){o=""+t.toFixed(Math.min(u[2].length,10)).replace(/([^0])0+$/,"$1"),c=o.indexOf(".");var b=s.indexOf(".")-c,E=s.length-o.length-b;return Yn(s.substr(0,b)+o+s.substr(s.length-E))}if(u=s.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Hi(e,s,-t):Ol(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Di(0,3-w.length):"")+w})+"."+Di(0,u[1].length);switch(s){case"###,###":case"##,###":case"#,###":var k=Ol(""+h);return k!=="0"?g+k:"";default:if(s.match(/\.[0#?]*$/))return Hi(e,s.slice(0,s.lastIndexOf(".")),t)+Yn(s.slice(s.lastIndexOf(".")))}throw new Error("unsupported format |"+s+"|")}function _o(e,s,t){return(t|0)===t?Hi(e,s,t):Fa(e,s,t)}function Ij(e){for(var s=[],t=!1,i=0,o=0;i<e.length;++i)switch(e.charCodeAt(i)){case 34:t=!t;break;case 95:case 42:case 92:++i;break;case 59:s[s.length]=e.substr(o,i-o),o=i+1}if(s[s.length]=e.substr(o),t===!0)throw new Error("Format |"+e+"| unterminated string ");return s}var ew=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Yu(e){for(var s=0,t="",i="";s<e.length;)switch(t=e.charAt(s)){case"G":ph(e,s)&&(s+=6),s++;break;case'"':for(;e.charCodeAt(++s)!==34&&s<e.length;);++s;break;case"\\":s+=2;break;case"_":s+=2;break;case"@":++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(s,3).toUpperCase()==="A/P"||e.substr(s,5).toUpperCase()==="AM/PM"||e.substr(s,5).toUpperCase()==="/")return!0;++s;break;case"[":for(i=t;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.match(ew))return!0;break;case".":case"0":case"#":for(;s<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++s))>-1||t=="\\"&&e.charAt(s+1)=="-"&&"0#".indexOf(e.charAt(s+2))>-1););break;case"?":for(;e.charAt(++s)===t;);break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;);break;case" ":++s;break;default:++s;break}return!1}function Fj(e,s,t,i){for(var o=[],u="",c=0,m="",h="t",g,v,b,E="H";c<e.length;)switch(m=e.charAt(c)){case"G":if(!ph(e,c))throw new Error("unrecognized character "+m+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(u="";(b=e.charCodeAt(++c))!==34&&c<e.length;)u+=String.fromCharCode(b);o[o.length]={t:"t",v:u},++c;break;case"\\":var k=e.charAt(++c),w=k==="("||k===")"?k:"t";o[o.length]={t:w,v:k},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:s},++c;break;case"B":case"b":if(e.charAt(c+1)==="1"||e.charAt(c+1)==="2"){if(g==null&&(g=Sc(s,t,e.charAt(c+1)==="2"),g==null))return"";o[o.length]={t:"X",v:e.substr(c,2)},h=m,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":m=m.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(s<0||g==null&&(g=Sc(s,t),g==null))return"";for(u=m;++c<e.length&&e.charAt(c).toLowerCase()===m;)u+=m;m==="m"&&h.toLowerCase()==="h"&&(m="M"),m==="h"&&(m=E),o[o.length]={t:m,v:u},h=m;break;case"A":case"a":case"":var y={t:m,v:m};if(g==null&&(g=Sc(s,t)),e.substr(c,3).toUpperCase()==="A/P"?(g!=null&&(y.v=g.H>=12?"P":"A"),y.t="T",E="h",c+=3):e.substr(c,5).toUpperCase()==="AM/PM"?(g!=null&&(y.v=g.H>=12?"PM":"AM"),y.t="T",c+=5,E="h"):e.substr(c,5).toUpperCase()==="/"?(g!=null&&(y.v=g.H>=12?"":""),y.t="T",c+=5,E="h"):(y.t="t",++c),g==null&&y.t==="T")return"";o[o.length]=y,h=m;break;case"[":for(u=m;e.charAt(c++)!=="]"&&c<e.length;)u+=e.charAt(c);if(u.slice(-1)!=="]")throw'unterminated "[" block: |'+u+"|";if(u.match(ew)){if(g==null&&(g=Sc(s,t),g==null))return"";o[o.length]={t:"Z",v:u.toLowerCase()},h=u.charAt(1)}else u.indexOf("$")>-1&&(u=(u.match(/\$([^-\[\]]*)/)||[])[1]||"$",Yu(e)||(o[o.length]={t:"t",v:u}));break;case".":if(g!=null){for(u=m;++c<e.length&&(m=e.charAt(c))==="0";)u+=m;o[o.length]={t:"s",v:u};break}case"0":case"#":for(u=m;++c<e.length&&"0#?.,E+-%".indexOf(m=e.charAt(c))>-1;)u+=m;o[o.length]={t:"n",v:u};break;case"?":for(u=m;e.charAt(++c)===m;)u+=m;o[o.length]={t:m,v:u},h=m;break;case"*":++c,(e.charAt(c)==" "||e.charAt(c)=="*")&&++c;break;case"(":case")":o[o.length]={t:i===1?"t":m,v:m},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(u=m;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)u+=e.charAt(c);o[o.length]={t:"D",v:u};break;case" ":o[o.length]={t:m,v:m},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(m)===-1)throw new Error("unrecognized character "+m+" in "+e);o[o.length]={t:"t",v:m},++c;break}var T=0,J=0,Z;for(c=o.length-1,h="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=E,h="h",T<1&&(T=1);break;case"s":(Z=o[c].v.match(/\.0+$/))&&(J=Math.max(J,Z[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":h=o[c].t;break;case"m":h==="s"&&(o[c].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&o[c].v.match(/[Hh]/)&&(T=1),T<2&&o[c].v.match(/[Mm]/)&&(T=2),T<3&&o[c].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:g.u>=.5&&(g.u=0,++g.S),g.S>=60&&(g.S=0,++g.M),g.M>=60&&(g.M=0,++g.H);break;case 2:g.u>=.5&&(g.u=0,++g.S),g.S>=60&&(g.S=0,++g.M);break}var R="",le;for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=Tj(o[c].t.charCodeAt(0),o[c].v,g,J),o[c].t="t";break;case"n":case"?":for(le=c+1;o[le]!=null&&((m=o[le].t)==="?"||m==="D"||(m===" "||m==="t")&&o[le+1]!=null&&(o[le+1].t==="?"||o[le+1].t==="t"&&o[le+1].v==="/")||o[c].t==="("&&(m===" "||m==="n"||m===")")||m==="t"&&(o[le].v==="/"||o[le].v===" "&&o[le+1]!=null&&o[le+1].t=="?"));)o[c].v+=o[le].v,o[le]={v:"",t:";"},++le;R+=o[c].v,c=le-1;break;case"G":o[c].t="t",o[c].v=Ec(s,t);break}var W="",ee,X;if(R.length>0){R.charCodeAt(0)==40?(ee=s<0&&R.charCodeAt(0)===45?-s:s,X=_o("n",R,ee)):(ee=s<0&&i>1?-s:s,X=_o("n",R,ee),ee<0&&o[0]&&o[0].t=="t"&&(X=X.substr(1),o[0].v="-"+o[0].v)),le=X.length-1;var De=o.length;for(c=0;c<o.length;++c)if(o[c]!=null&&o[c].t!="t"&&o[c].v.indexOf(".")>-1){De=c;break}var _=o.length;if(De===o.length&&X.indexOf("E")===-1){for(c=o.length-1;c>=0;--c)o[c]==null||"n?".indexOf(o[c].t)===-1||(le>=o[c].v.length-1?(le-=o[c].v.length,o[c].v=X.substr(le+1,o[c].v.length)):le<0?o[c].v="":(o[c].v=X.substr(0,le+1),le=-1),o[c].t="t",_=c);le>=0&&_<o.length&&(o[_].v=X.substr(0,le+1)+o[_].v)}else if(De!==o.length&&X.indexOf("E")===-1){for(le=X.indexOf(".")-1,c=De;c>=0;--c)if(!(o[c]==null||"n?".indexOf(o[c].t)===-1)){for(v=o[c].v.indexOf(".")>-1&&c===De?o[c].v.indexOf(".")-1:o[c].v.length-1,W=o[c].v.substr(v+1);v>=0;--v)le>=0&&(o[c].v.charAt(v)==="0"||o[c].v.charAt(v)==="#")&&(W=X.charAt(le--)+W);o[c].v=W,o[c].t="t",_=c}for(le>=0&&_<o.length&&(o[_].v=X.substr(0,le+1)+o[_].v),le=X.indexOf(".")+1,c=De;c<o.length;++c)if(!(o[c]==null||"n?(".indexOf(o[c].t)===-1&&c!==De)){for(v=o[c].v.indexOf(".")>-1&&c===De?o[c].v.indexOf(".")+1:0,W=o[c].v.substr(0,v);v<o[c].v.length;++v)le<X.length&&(W+=X.charAt(le++));o[c].v=W,o[c].t="t",_=c}}}for(c=0;c<o.length;++c)o[c]!=null&&"n?".indexOf(o[c].t)>-1&&(ee=i>1&&s<0&&c>0&&o[c-1].v==="-"?-s:s,o[c].v=_o(o[c].t,o[c].v,ee),o[c].t="t");var B="";for(c=0;c!==o.length;++c)o[c]!=null&&(B+=o[c].v);return B}var uE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function dE(e,s){if(s==null)return!1;var t=parseFloat(s[2]);switch(s[1]){case"=":if(e==t)return!0;break;case">":if(e>t)return!0;break;case"<":if(e<t)return!0;break;case"<>":if(e!=t)return!0;break;case">=":if(e>=t)return!0;break;case"<=":if(e<=t)return!0;break}return!1}function $j(e,s){var t=Ij(e),i=t.length,o=t[i-1].indexOf("@");if(i<4&&o>-1&&--i,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof s!="number")return[4,t.length===4||o>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=o>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=o>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=o>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var u=s>0?t[0]:s<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[i,u];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var c=t[0].match(uE),m=t[1].match(uE);return dE(s,c)?[i,t[0]]:dE(s,m)?[i,t[1]]:[i,t[c!=null&&m!=null?2:1]]}return[i,u]}function Xa(e,s,t){t==null&&(t={});var i="";switch(typeof e){case"string":e=="m/d/yy"&&t.dateNF?i=t.dateNF:i=e;break;case"number":e==14&&t.dateNF?i=t.dateNF:i=(t.table!=null?t.table:gr)[e],i==null&&(i=t.table&&t.table[oE[e]]||gr[oE[e]]),i==null&&(i=Oj[e]||"General");break}if(ph(i,0))return Ec(s,t);s instanceof Date&&(s=GC(s,t.date1904));var o=$j(i,s);if(ph(o[1]))return Ec(s,t);if(s===!0)s="TRUE";else if(s===!1)s="FALSE";else if(s===""||s==null)return"";return Fj(o[1],s,t,o[0])}function Oc(e,s){if(typeof s!="number"){s=+s||-1;for(var t=0;t<392;++t){if(gr[t]==null){s<0&&(s=t);continue}if(gr[t]==e){s=t;break}}s<0&&(s=391)}return gr[s]=e,s}function tw(){gr=Sj()}var Bj={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},rw=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Xj(e){var s=typeof e=="number"?gr[e]:e;return s=s.replace(rw,"(\\d+)"),new RegExp("^"+s+"$")}function Hj(e,s,t){var i=-1,o=-1,u=-1,c=-1,m=-1,h=-1;(s.match(rw)||[]).forEach(function(b,E){var k=parseInt(t[E+1],10);switch(b.toLowerCase().charAt(0)){case"y":i=k;break;case"d":u=k;break;case"h":c=k;break;case"s":h=k;break;case"m":c>=0?m=k:o=k;break}}),h>=0&&m==-1&&o>=0&&(m=o,o=-1);var g=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(o>=1?o:1)).slice(-2)+"-"+("00"+(u>=1?u:1)).slice(-2);g.length==7&&(g="0"+g),g.length==8&&(g="20"+g);var v=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(m>=0?m:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return c==-1&&m==-1&&h==-1?g:i==-1&&o==-1&&u==-1?v:g+"T"+v}var zj=(function(){var e={};e.version="1.2.0";function s(){for(var X=0,De=new Array(256),_=0;_!=256;++_)X=_,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,X=X&1?-306674912^X>>>1:X>>>1,De[_]=X;return typeof Int32Array<"u"?new Int32Array(De):De}var t=s();function i(X){var De=0,_=0,B=0,re=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)re[B]=X[B];for(B=0;B!=256;++B)for(_=X[B],De=256+B;De<4096;De+=256)_=re[De]=_>>>8^X[_&255];var H=[];for(B=1;B!=16;++B)H[B-1]=typeof Int32Array<"u"?re.subarray(B*256,B*256+256):re.slice(B*256,B*256+256);return H}var o=i(t),u=o[0],c=o[1],m=o[2],h=o[3],g=o[4],v=o[5],b=o[6],E=o[7],k=o[8],w=o[9],y=o[10],T=o[11],J=o[12],Z=o[13],R=o[14];function le(X,De){for(var _=De^-1,B=0,re=X.length;B<re;)_=_>>>8^t[(_^X.charCodeAt(B++))&255];return~_}function W(X,De){for(var _=De^-1,B=X.length-15,re=0;re<B;)_=R[X[re++]^_&255]^Z[X[re++]^_>>8&255]^J[X[re++]^_>>16&255]^T[X[re++]^_>>>24]^y[X[re++]]^w[X[re++]]^k[X[re++]]^E[X[re++]]^b[X[re++]]^v[X[re++]]^g[X[re++]]^h[X[re++]]^m[X[re++]]^c[X[re++]]^u[X[re++]]^t[X[re++]];for(B+=15;re<B;)_=_>>>8^t[(_^X[re++])&255];return~_}function ee(X,De){for(var _=De^-1,B=0,re=X.length,H=0,oe=0;B<re;)H=X.charCodeAt(B++),H<128?_=_>>>8^t[(_^H)&255]:H<2048?(_=_>>>8^t[(_^(192|H>>6&31))&255],_=_>>>8^t[(_^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,oe=X.charCodeAt(B++)&1023,_=_>>>8^t[(_^(240|H>>8&7))&255],_=_>>>8^t[(_^(128|H>>2&63))&255],_=_>>>8^t[(_^(128|oe>>6&15|(H&3)<<4))&255],_=_>>>8^t[(_^(128|oe&63))&255]):(_=_>>>8^t[(_^(224|H>>12&15))&255],_=_>>>8^t[(_^(128|H>>6&63))&255],_=_>>>8^t[(_^(128|H&63))&255]);return~_}return e.table=t,e.bstr=le,e.buf=W,e.str=ee,e})(),Lr=(function(){var s={};s.version="1.2.1";function t(C,L){for(var F=C.split("/"),z=L.split("/"),A=0,te=0,Ne=Math.min(F.length,z.length);A<Ne;++A){if(te=F[A].length-z[A].length)return te;if(F[A]!=z[A])return F[A]<z[A]?-1:1}return F.length-z.length}function i(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:i(C.slice(0,-1));var L=C.lastIndexOf("/");return L===-1?C:C.slice(0,L+1)}function o(C){if(C.charAt(C.length-1)=="/")return o(C.slice(0,-1));var L=C.lastIndexOf("/");return L===-1?C:C.slice(L+1)}function u(C,L){typeof L=="string"&&(L=new Date(L));var F=L.getHours();F=F<<6|L.getMinutes(),F=F<<5|L.getSeconds()>>>1,C.write_shift(2,F);var z=L.getFullYear()-1980;z=z<<4|L.getMonth()+1,z=z<<5|L.getDate(),C.write_shift(2,z)}function c(C){var L=C.read_shift(2)&65535,F=C.read_shift(2)&65535,z=new Date,A=F&31;F>>>=5;var te=F&15;F>>>=4,z.setMilliseconds(0),z.setFullYear(F+1980),z.setMonth(te-1),z.setDate(A);var Ne=L&31;L>>>=5;var Pe=L&63;return L>>>=6,z.setHours(L),z.setMinutes(Pe),z.setSeconds(Ne<<1),z}function m(C){Nn(C,0);for(var L={},F=0;C.l<=C.length-4;){var z=C.read_shift(2),A=C.read_shift(2),te=C.l+A,Ne={};switch(z){case 21589:F=C.read_shift(1),F&1&&(Ne.mtime=C.read_shift(4)),A>5&&(F&2&&(Ne.atime=C.read_shift(4)),F&4&&(Ne.ctime=C.read_shift(4))),Ne.mtime&&(Ne.mt=new Date(Ne.mtime*1e3));break}C.l=te,L[z]=Ne}return L}var h;function g(){return h||(h={})}function v(C,L){if(C[0]==80&&C[1]==75)return qe(C,L);if((C[0]|32)==109&&(C[1]|32)==105)return ir(C,L);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var F=3,z=512,A=0,te=0,Ne=0,Pe=0,ye=0,pe=[],Se=C.slice(0,512);Nn(Se,0);var je=b(Se);switch(F=je[0],F){case 3:z=512;break;case 4:z=4096;break;case 0:if(je[1]==0)return qe(C,L);default:throw new Error("Major Version: Expected 3 or 4 saw "+F)}z!==512&&(Se=C.slice(0,z),Nn(Se,28));var Qe=C.slice(0,z);E(Se,F);var et=Se.read_shift(4,"i");if(F===3&&et!==0)throw new Error("# Directory Sectors: Expected 0 saw "+et);Se.l+=4,Ne=Se.read_shift(4,"i"),Se.l+=4,Se.chk("00100000","Mini Stream Cutoff Size: "),Pe=Se.read_shift(4,"i"),A=Se.read_shift(4,"i"),ye=Se.read_shift(4,"i"),te=Se.read_shift(4,"i");for(var ct=-1,dt=0;dt<109&&(ct=Se.read_shift(4,"i"),!(ct<0));++dt)pe[dt]=ct;var mt=k(C,z);T(ye,te,mt,z,pe);var Nt=Z(mt,Ne,pe,z);Nt[Ne].name="!Directory",A>0&&Pe!==oe&&(Nt[Pe].name="!MiniFAT"),Nt[pe[0]].name="!FAT",Nt.fat_addrs=pe,Nt.ssz=z;var hr={},zr=[],nn=[],Zn=[];R(Ne,Nt,mt,zr,A,hr,nn,Pe),w(nn,Zn,zr),zr.shift();var ha={FileIndex:nn,FullPaths:Zn};return L&&L.raw&&(ha.raw={header:Qe,sectors:mt}),ha}function b(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk(_e,"Header Signature: "),C.l+=16;var L=C.read_shift(2,"u");return[C.read_shift(2,"u"),L]}function E(C,L){var F=9;switch(C.l+=2,F=C.read_shift(2)){case 9:if(L!=3)throw new Error("Sector Shift: Expected 9 saw "+F);break;case 12:if(L!=4)throw new Error("Sector Shift: Expected 12 saw "+F);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+F)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function k(C,L){for(var F=Math.ceil(C.length/L)-1,z=[],A=1;A<F;++A)z[A-1]=C.slice(A*L,(A+1)*L);return z[F-1]=C.slice(F*L),z}function w(C,L,F){for(var z=0,A=0,te=0,Ne=0,Pe=0,ye=F.length,pe=[],Se=[];z<ye;++z)pe[z]=Se[z]=z,L[z]=F[z];for(;Pe<Se.length;++Pe)z=Se[Pe],A=C[z].L,te=C[z].R,Ne=C[z].C,pe[z]===z&&(A!==-1&&pe[A]!==A&&(pe[z]=pe[A]),te!==-1&&pe[te]!==te&&(pe[z]=pe[te])),Ne!==-1&&(pe[Ne]=z),A!==-1&&z!=pe[z]&&(pe[A]=pe[z],Se.lastIndexOf(A)<Pe&&Se.push(A)),te!==-1&&z!=pe[z]&&(pe[te]=pe[z],Se.lastIndexOf(te)<Pe&&Se.push(te));for(z=1;z<ye;++z)pe[z]===z&&(te!==-1&&pe[te]!==te?pe[z]=pe[te]:A!==-1&&pe[A]!==A&&(pe[z]=pe[A]));for(z=1;z<ye;++z)if(C[z].type!==0){if(Pe=z,Pe!=pe[Pe])do Pe=pe[Pe],L[z]=L[Pe]+"/"+L[z];while(Pe!==0&&pe[Pe]!==-1&&Pe!=pe[Pe]);pe[z]=-1}for(L[0]+="/",z=1;z<ye;++z)C[z].type!==2&&(L[z]+="/")}function y(C,L,F){for(var z=C.start,A=C.size,te=[],Ne=z;F&&A>0&&Ne>=0;)te.push(L.slice(Ne*H,Ne*H+H)),A-=H,Ne=Dc(F,Ne*4);return te.length===0?Gs(0):Dl(te).slice(0,C.size)}function T(C,L,F,z,A){var te=oe;if(C===oe){if(L!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var Ne=F[C],Pe=(z>>>2)-1;if(!Ne)return;for(var ye=0;ye<Pe&&(te=Dc(Ne,ye*4))!==oe;++ye)A.push(te);T(Dc(Ne,z-4),L-1,F,z,A)}}function J(C,L,F,z,A){var te=[],Ne=[];A||(A=[]);var Pe=z-1,ye=0,pe=0;for(ye=L;ye>=0;){A[ye]=!0,te[te.length]=ye,Ne.push(C[ye]);var Se=F[Math.floor(ye*4/z)];if(pe=ye*4&Pe,z<4+pe)throw new Error("FAT boundary crossed: "+ye+" 4 "+z);if(!C[Se])break;ye=Dc(C[Se],pe)}return{nodes:te,data:DE([Ne])}}function Z(C,L,F,z){var A=C.length,te=[],Ne=[],Pe=[],ye=[],pe=z-1,Se=0,je=0,Qe=0,et=0;for(Se=0;Se<A;++Se)if(Pe=[],Qe=Se+L,Qe>=A&&(Qe-=A),!Ne[Qe]){ye=[];var ct=[];for(je=Qe;je>=0;){ct[je]=!0,Ne[je]=!0,Pe[Pe.length]=je,ye.push(C[je]);var dt=F[Math.floor(je*4/z)];if(et=je*4&pe,z<4+et)throw new Error("FAT boundary crossed: "+je+" 4 "+z);if(!C[dt]||(je=Dc(C[dt],et),ct[je]))break}te[Qe]={nodes:Pe,data:DE([ye])}}return te}function R(C,L,F,z,A,te,Ne,Pe){for(var ye=0,pe=z.length?2:0,Se=L[C].data,je=0,Qe=0,et;je<Se.length;je+=128){var ct=Se.slice(je,je+128);Nn(ct,64),Qe=ct.read_shift(2),et=BN(ct,0,Qe-pe),z.push(et);var dt={name:et,type:ct.read_shift(1),color:ct.read_shift(1),L:ct.read_shift(4,"i"),R:ct.read_shift(4,"i"),C:ct.read_shift(4,"i"),clsid:ct.read_shift(16),state:ct.read_shift(4,"i"),start:0,size:0},mt=ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2);mt!==0&&(dt.ct=le(ct,ct.l-8));var Nt=ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2);Nt!==0&&(dt.mt=le(ct,ct.l-8)),dt.start=ct.read_shift(4,"i"),dt.size=ct.read_shift(4,"i"),dt.size<0&&dt.start<0&&(dt.size=dt.type=0,dt.start=oe,dt.name=""),dt.type===5?(ye=dt.start,A>0&&ye!==oe&&(L[ye].name="!StreamData")):dt.size>=4096?(dt.storage="fat",L[dt.start]===void 0&&(L[dt.start]=J(F,dt.start,L.fat_addrs,L.ssz)),L[dt.start].name=dt.name,dt.content=L[dt.start].data.slice(0,dt.size)):(dt.storage="minifat",dt.size<0?dt.size=0:ye!==oe&&dt.start!==oe&&L[ye]&&(dt.content=y(dt,L[ye].data,(L[Pe]||{}).data))),dt.content&&Nn(dt.content,0),te[et]=dt,Ne.push(dt)}}function le(C,L){return new Date((ka(C,L+4)/1e7*Math.pow(2,32)+ka(C,L)/1e7-11644473600)*1e3)}function W(C,L){return g(),v(h.readFileSync(C),L)}function ee(C,L){var F=L&&L.type;switch(F||Pr&&Buffer.isBuffer(C)&&(F="buffer"),F||"base64"){case"file":return W(C,L);case"base64":return v(bi(Ta(C)),L);case"binary":return v(bi(C),L)}return v(C,L)}function X(C,L){var F=L||{},z=F.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=z+"/",C.FileIndex[0]={name:z,type:5}),F.CLSID&&(C.FileIndex[0].clsid=F.CLSID),De(C)}function De(C){var L="Sh33tJ5";if(!Lr.find(C,"/"+L)){var F=Gs(4);F[0]=55,F[1]=F[3]=50,F[2]=54,C.FileIndex.push({name:L,type:2,content:F,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+L),_(C)}}function _(C,L){X(C);for(var F=!1,z=!1,A=C.FullPaths.length-1;A>=0;--A){var te=C.FileIndex[A];switch(te.type){case 0:z?F=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:z=!0,isNaN(te.R*te.L*te.C)&&(F=!0),te.R>-1&&te.L>-1&&te.R==te.L&&(F=!0);break;default:F=!0;break}}if(!(!F&&!L)){var Ne=new Date(1987,1,19),Pe=0,ye=Object.create?Object.create(null):{},pe=[];for(A=0;A<C.FullPaths.length;++A)ye[C.FullPaths[A]]=!0,C.FileIndex[A].type!==0&&pe.push([C.FullPaths[A],C.FileIndex[A]]);for(A=0;A<pe.length;++A){var Se=i(pe[A][0]);z=ye[Se],z||(pe.push([Se,{name:o(Se).replace("/",""),type:1,clsid:we,ct:Ne,mt:Ne,content:null}]),ye[Se]=!0)}for(pe.sort(function(et,ct){return t(et[0],ct[0])}),C.FullPaths=[],C.FileIndex=[],A=0;A<pe.length;++A)C.FullPaths[A]=pe[A][0],C.FileIndex[A]=pe[A][1];for(A=0;A<pe.length;++A){var je=C.FileIndex[A],Qe=C.FullPaths[A];if(je.name=o(Qe).replace("/",""),je.L=je.R=je.C=-(je.color=1),je.size=je.content?je.content.length:0,je.start=0,je.clsid=je.clsid||we,A===0)je.C=pe.length>1?1:-1,je.size=0,je.type=5;else if(Qe.slice(-1)=="/"){for(Pe=A+1;Pe<pe.length&&i(C.FullPaths[Pe])!=Qe;++Pe);for(je.C=Pe>=pe.length?-1:Pe,Pe=A+1;Pe<pe.length&&i(C.FullPaths[Pe])!=i(Qe);++Pe);je.R=Pe>=pe.length?-1:Pe,je.type=1}else i(C.FullPaths[A+1]||"")==i(Qe)&&(je.R=A+1),je.type=2}}}function B(C,L){var F=L||{};if(F.fileType=="mad")return pr(C,F);switch(_(C),F.fileType){case"zip":return Dt(C,F)}var z=(function(et){for(var ct=0,dt=0,mt=0;mt<et.FileIndex.length;++mt){var Nt=et.FileIndex[mt];if(Nt.content){var hr=Nt.content.length;hr>0&&(hr<4096?ct+=hr+63>>6:dt+=hr+511>>9)}}for(var zr=et.FullPaths.length+3>>2,nn=ct+7>>3,Zn=ct+127>>7,ha=nn+dt+zr+Zn,ea=ha+127>>7,ta=ea<=109?0:Math.ceil((ea-109)/127);ha+ea+ta+127>>7>ea;)ta=++ea<=109?0:Math.ceil((ea-109)/127);var On=[1,ta,ea,Zn,zr,dt,ct,0];return et.FileIndex[0].size=ct<<6,On[7]=(et.FileIndex[0].start=On[0]+On[1]+On[2]+On[3]+On[4]+On[5])+(On[6]+7>>3),On})(C),A=Gs(z[7]<<9),te=0,Ne=0;{for(te=0;te<8;++te)A.write_shift(1,ne[te]);for(te=0;te<8;++te)A.write_shift(2,0);for(A.write_shift(2,62),A.write_shift(2,3),A.write_shift(2,65534),A.write_shift(2,9),A.write_shift(2,6),te=0;te<3;++te)A.write_shift(2,0);for(A.write_shift(4,0),A.write_shift(4,z[2]),A.write_shift(4,z[0]+z[1]+z[2]+z[3]-1),A.write_shift(4,0),A.write_shift(4,4096),A.write_shift(4,z[3]?z[0]+z[1]+z[2]-1:oe),A.write_shift(4,z[3]),A.write_shift(-4,z[1]?z[0]-1:oe),A.write_shift(4,z[1]),te=0;te<109;++te)A.write_shift(-4,te<z[2]?z[1]+te:-1)}if(z[1])for(Ne=0;Ne<z[1];++Ne){for(;te<236+Ne*127;++te)A.write_shift(-4,te<z[2]?z[1]+te:-1);A.write_shift(-4,Ne===z[1]-1?oe:Ne+1)}var Pe=function(et){for(Ne+=et;te<Ne-1;++te)A.write_shift(-4,te+1);et&&(++te,A.write_shift(-4,oe))};for(Ne=te=0,Ne+=z[1];te<Ne;++te)A.write_shift(-4,ve.DIFSECT);for(Ne+=z[2];te<Ne;++te)A.write_shift(-4,ve.FATSECT);Pe(z[3]),Pe(z[4]);for(var ye=0,pe=0,Se=C.FileIndex[0];ye<C.FileIndex.length;++ye)Se=C.FileIndex[ye],Se.content&&(pe=Se.content.length,!(pe<4096)&&(Se.start=Ne,Pe(pe+511>>9)));for(Pe(z[6]+7>>3);A.l&511;)A.write_shift(-4,ve.ENDOFCHAIN);for(Ne=te=0,ye=0;ye<C.FileIndex.length;++ye)Se=C.FileIndex[ye],Se.content&&(pe=Se.content.length,!(!pe||pe>=4096)&&(Se.start=Ne,Pe(pe+63>>6)));for(;A.l&511;)A.write_shift(-4,ve.ENDOFCHAIN);for(te=0;te<z[4]<<2;++te){var je=C.FullPaths[te];if(!je||je.length===0){for(ye=0;ye<17;++ye)A.write_shift(4,0);for(ye=0;ye<3;++ye)A.write_shift(4,-1);for(ye=0;ye<12;++ye)A.write_shift(4,0);continue}Se=C.FileIndex[te],te===0&&(Se.start=Se.size?Se.start-1:oe);var Qe=te===0&&F.root||Se.name;if(pe=2*(Qe.length+1),A.write_shift(64,Qe,"utf16le"),A.write_shift(2,pe),A.write_shift(1,Se.type),A.write_shift(1,Se.color),A.write_shift(-4,Se.L),A.write_shift(-4,Se.R),A.write_shift(-4,Se.C),Se.clsid)A.write_shift(16,Se.clsid,"hex");else for(ye=0;ye<4;++ye)A.write_shift(4,0);A.write_shift(4,Se.state||0),A.write_shift(4,0),A.write_shift(4,0),A.write_shift(4,0),A.write_shift(4,0),A.write_shift(4,Se.start),A.write_shift(4,Se.size),A.write_shift(4,0)}for(te=1;te<C.FileIndex.length;++te)if(Se=C.FileIndex[te],Se.size>=4096)if(A.l=Se.start+1<<9,Pr&&Buffer.isBuffer(Se.content))Se.content.copy(A,A.l,0,Se.size),A.l+=Se.size+511&-512;else{for(ye=0;ye<Se.size;++ye)A.write_shift(1,Se.content[ye]);for(;ye&511;++ye)A.write_shift(1,0)}for(te=1;te<C.FileIndex.length;++te)if(Se=C.FileIndex[te],Se.size>0&&Se.size<4096)if(Pr&&Buffer.isBuffer(Se.content))Se.content.copy(A,A.l,0,Se.size),A.l+=Se.size+63&-64;else{for(ye=0;ye<Se.size;++ye)A.write_shift(1,Se.content[ye]);for(;ye&63;++ye)A.write_shift(1,0)}if(Pr)A.l=A.length;else for(;A.l<A.length;)A.write_shift(1,0);return A}function re(C,L){var F=C.FullPaths.map(function(ye){return ye.toUpperCase()}),z=F.map(function(ye){var pe=ye.split("/");return pe[pe.length-(ye.slice(-1)=="/"?2:1)]}),A=!1;L.charCodeAt(0)===47?(A=!0,L=F[0].slice(0,-1)+L):A=L.indexOf("/")!==-1;var te=L.toUpperCase(),Ne=A===!0?F.indexOf(te):z.indexOf(te);if(Ne!==-1)return C.FileIndex[Ne];var Pe=!te.match(Gm);for(te=te.replace(Jn,""),Pe&&(te=te.replace(Gm,"!")),Ne=0;Ne<F.length;++Ne)if((Pe?F[Ne].replace(Gm,"!"):F[Ne]).replace(Jn,"")==te||(Pe?z[Ne].replace(Gm,"!"):z[Ne]).replace(Jn,"")==te)return C.FileIndex[Ne];return null}var H=64,oe=-2,_e="d0cf11e0a1b11ae1",ne=[208,207,17,224,161,177,26,225],we="00000000000000000000000000000000",ve={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:oe,FREESECT:-1,HEADER_SIGNATURE:_e,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:we,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Me(C,L,F){g();var z=B(C,F);h.writeFileSync(L,z)}function be(C){for(var L=new Array(C.length),F=0;F<C.length;++F)L[F]=String.fromCharCode(C[F]);return L.join("")}function Ie(C,L){var F=B(C,L);switch(L&&L.type||"buffer"){case"file":return g(),h.writeFileSync(L.filename,F),F;case"binary":return typeof F=="string"?F:be(F);case"base64":return sE(typeof F=="string"?F:be(F));case"buffer":if(Pr)return Buffer.isBuffer(F)?F:kc(F);case"array":return typeof F=="string"?bi(F):F}return F}var Te;function Q(C){try{var L=C.InflateRaw,F=new L;if(F._processChunk(new Uint8Array([3,0]),F._finishFlushFlag),F.bytesRead)Te=C;else throw new Error("zlib does not expose bytesRead")}catch(z){console.error("cannot use native zlib: "+(z.message||z))}}function Oe(C,L){if(!Te)return rt(C,L);var F=Te.InflateRaw,z=new F,A=z._processChunk(C.slice(C.l),z._finishFlushFlag);return C.l+=z.bytesRead,A}function me(C){return Te?Te.deflateRawSync(C):Ze(C)}var se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function U(C){var L=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(L>>16|L>>8|L)&255}for(var de=typeof Uint8Array<"u",I=de?new Uint8Array(256):[],Ee=0;Ee<256;++Ee)I[Ee]=U(Ee);function j(C,L){var F=I[C&255];return L<=8?F>>>8-L:(F=F<<8|I[C>>8&255],L<=16?F>>>16-L:(F=F<<8|I[C>>16&255],F>>>24-L))}function he(C,L){var F=L&7,z=L>>>3;return(C[z]|(F<=6?0:C[z+1]<<8))>>>F&3}function Ce(C,L){var F=L&7,z=L>>>3;return(C[z]|(F<=5?0:C[z+1]<<8))>>>F&7}function Fe(C,L){var F=L&7,z=L>>>3;return(C[z]|(F<=4?0:C[z+1]<<8))>>>F&15}function He(C,L){var F=L&7,z=L>>>3;return(C[z]|(F<=3?0:C[z+1]<<8))>>>F&31}function ze(C,L){var F=L&7,z=L>>>3;return(C[z]|(F<=1?0:C[z+1]<<8))>>>F&127}function Ft(C,L,F){var z=L&7,A=L>>>3,te=(1<<F)-1,Ne=C[A]>>>z;return F<8-z||(Ne|=C[A+1]<<8-z,F<16-z)||(Ne|=C[A+2]<<16-z,F<24-z)||(Ne|=C[A+3]<<24-z),Ne&te}function Qt(C,L,F){var z=L&7,A=L>>>3;return z<=5?C[A]|=(F&7)<<z:(C[A]|=F<<z&255,C[A+1]=(F&7)>>8-z),L+3}function cr(C,L,F){var z=L&7,A=L>>>3;return F=(F&1)<<z,C[A]|=F,L+1}function nr(C,L,F){var z=L&7,A=L>>>3;return F<<=z,C[A]|=F&255,F>>>=8,C[A+1]=F,L+8}function Or(C,L,F){var z=L&7,A=L>>>3;return F<<=z,C[A]|=F&255,F>>>=8,C[A+1]=F&255,C[A+2]=F>>>8,L+16}function Zt(C,L){var F=C.length,z=2*F>L?2*F:L+5,A=0;if(F>=L)return C;if(Pr){var te=nE(z);if(C.copy)C.copy(te);else for(;A<C.length;++A)te[A]=C[A];return te}else if(de){var Ne=new Uint8Array(z);if(Ne.set)Ne.set(C);else for(;A<F;++A)Ne[A]=C[A];return Ne}return C.length=z,C}function xr(C){for(var L=new Array(C),F=0;F<C;++F)L[F]=0;return L}function Yt(C,L,F){var z=1,A=0,te=0,Ne=0,Pe=0,ye=C.length,pe=de?new Uint16Array(32):xr(32);for(te=0;te<32;++te)pe[te]=0;for(te=ye;te<F;++te)C[te]=0;ye=C.length;var Se=de?new Uint16Array(ye):xr(ye);for(te=0;te<ye;++te)pe[A=C[te]]++,z<A&&(z=A),Se[te]=0;for(pe[0]=0,te=1;te<=z;++te)pe[te+16]=Pe=Pe+pe[te-1]<<1;for(te=0;te<ye;++te)Pe=C[te],Pe!=0&&(Se[te]=pe[Pe+16]++);var je=0;for(te=0;te<ye;++te)if(je=C[te],je!=0)for(Pe=j(Se[te],z)>>z-je,Ne=(1<<z+4-je)-1;Ne>=0;--Ne)L[Pe|Ne<<je]=je&15|te<<4;return z}var Sr=de?new Uint16Array(512):xr(512),at=de?new Uint16Array(32):xr(32);if(!de){for(var ar=0;ar<512;++ar)Sr[ar]=0;for(ar=0;ar<32;++ar)at[ar]=0}(function(){for(var C=[],L=0;L<32;L++)C.push(5);Yt(C,at,32);var F=[];for(L=0;L<=143;L++)F.push(8);for(;L<=255;L++)F.push(9);for(;L<=279;L++)F.push(7);for(;L<=287;L++)F.push(8);Yt(F,Sr,288)})();var Vt=(function(){for(var L=de?new Uint8Array(32768):[],F=0,z=0;F<Y.length-1;++F)for(;z<Y[F+1];++z)L[z]=F;for(;z<32768;++z)L[z]=29;var A=de?new Uint8Array(259):[];for(F=0,z=0;F<ie.length-1;++F)for(;z<ie[F+1];++z)A[z]=F;function te(Pe,ye){for(var pe=0;pe<Pe.length;){var Se=Math.min(65535,Pe.length-pe),je=pe+Se==Pe.length;for(ye.write_shift(1,+je),ye.write_shift(2,Se),ye.write_shift(2,~Se&65535);Se-- >0;)ye[ye.l++]=Pe[pe++]}return ye.l}function Ne(Pe,ye){for(var pe=0,Se=0,je=de?new Uint16Array(32768):[];Se<Pe.length;){var Qe=Math.min(65535,Pe.length-Se);if(Qe<10){for(pe=Qt(ye,pe,+(Se+Qe==Pe.length)),pe&7&&(pe+=8-(pe&7)),ye.l=pe/8|0,ye.write_shift(2,Qe),ye.write_shift(2,~Qe&65535);Qe-- >0;)ye[ye.l++]=Pe[Se++];pe=ye.l*8;continue}pe=Qt(ye,pe,+(Se+Qe==Pe.length)+2);for(var et=0;Qe-- >0;){var ct=Pe[Se];et=(et<<5^ct)&32767;var dt=-1,mt=0;if((dt=je[et])&&(dt|=Se&-32768,dt>Se&&(dt-=32768),dt<Se))for(;Pe[dt+mt]==Pe[Se+mt]&&mt<250;)++mt;if(mt>2){ct=A[mt],ct<=22?pe=nr(ye,pe,I[ct+1]>>1)-1:(nr(ye,pe,3),pe+=5,nr(ye,pe,I[ct-23]>>5),pe+=3);var Nt=ct<8?0:ct-4>>2;Nt>0&&(Or(ye,pe,mt-ie[ct]),pe+=Nt),ct=L[Se-dt],pe=nr(ye,pe,I[ct]>>3),pe-=3;var hr=ct<4?0:ct-2>>1;hr>0&&(Or(ye,pe,Se-dt-Y[ct]),pe+=hr);for(var zr=0;zr<mt;++zr)je[et]=Se&32767,et=(et<<5^Pe[Se])&32767,++Se;Qe-=mt-1}else ct<=143?ct=ct+48:pe=cr(ye,pe,1),pe=nr(ye,pe,I[ct]),je[et]=Se&32767,++Se}pe=nr(ye,pe,0)-1}return ye.l=(pe+7)/8|0,ye.l}return function(ye,pe){return ye.length<8?te(ye,pe):Ne(ye,pe)}})();function Ze(C){var L=Gs(50+Math.floor(C.length*1.1)),F=Vt(C,L);return L.slice(0,F)}var it=de?new Uint16Array(32768):xr(32768),vt=de?new Uint16Array(32768):xr(32768),Rt=de?new Uint16Array(128):xr(128),Ut=1,br=1;function Jt(C,L){var F=He(C,L)+257;L+=5;var z=He(C,L)+1;L+=5;var A=Fe(C,L)+4;L+=4;for(var te=0,Ne=de?new Uint8Array(19):xr(19),Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ye=1,pe=de?new Uint8Array(8):xr(8),Se=de?new Uint8Array(8):xr(8),je=Ne.length,Qe=0;Qe<A;++Qe)Ne[se[Qe]]=te=Ce(C,L),ye<te&&(ye=te),pe[te]++,L+=3;var et=0;for(pe[0]=0,Qe=1;Qe<=ye;++Qe)Se[Qe]=et=et+pe[Qe-1]<<1;for(Qe=0;Qe<je;++Qe)(et=Ne[Qe])!=0&&(Pe[Qe]=Se[et]++);var ct=0;for(Qe=0;Qe<je;++Qe)if(ct=Ne[Qe],ct!=0){et=I[Pe[Qe]]>>8-ct;for(var dt=(1<<7-ct)-1;dt>=0;--dt)Rt[et|dt<<ct]=ct&7|Qe<<3}var mt=[];for(ye=1;mt.length<F+z;)switch(et=Rt[ze(C,L)],L+=et&7,et>>>=3){case 16:for(te=3+he(C,L),L+=2,et=mt[mt.length-1];te-- >0;)mt.push(et);break;case 17:for(te=3+Ce(C,L),L+=3;te-- >0;)mt.push(0);break;case 18:for(te=11+ze(C,L),L+=7;te-- >0;)mt.push(0);break;default:mt.push(et),ye<et&&(ye=et);break}var Nt=mt.slice(0,F),hr=mt.slice(F);for(Qe=F;Qe<286;++Qe)Nt[Qe]=0;for(Qe=z;Qe<30;++Qe)hr[Qe]=0;return Ut=Yt(Nt,it,286),br=Yt(hr,vt,30),L}function Nr(C,L){if(C[0]==3&&!(C[1]&3))return[Cl(L),2];for(var F=0,z=0,A=nE(L||1<<18),te=0,Ne=A.length>>>0,Pe=0,ye=0;(z&1)==0;){if(z=Ce(C,F),F+=3,z>>>1)z>>1==1?(Pe=9,ye=5):(F=Jt(C,F),Pe=Ut,ye=br);else{F&7&&(F+=8-(F&7));var pe=C[F>>>3]|C[(F>>>3)+1]<<8;if(F+=32,pe>0)for(!L&&Ne<te+pe&&(A=Zt(A,te+pe),Ne=A.length);pe-- >0;)A[te++]=C[F>>>3],F+=8;continue}for(;;){!L&&Ne<te+32767&&(A=Zt(A,te+32767),Ne=A.length);var Se=Ft(C,F,Pe),je=z>>>1==1?Sr[Se]:it[Se];if(F+=je&15,je>>>=4,(je>>>8&255)===0)A[te++]=je;else{if(je==256)break;je-=257;var Qe=je<8?0:je-4>>2;Qe>5&&(Qe=0);var et=te+ie[je];Qe>0&&(et+=Ft(C,F,Qe),F+=Qe),Se=Ft(C,F,ye),je=z>>>1==1?at[Se]:vt[Se],F+=je&15,je>>>=4;var ct=je<4?0:je-2>>1,dt=Y[je];for(ct>0&&(dt+=Ft(C,F,ct),F+=ct),!L&&Ne<et&&(A=Zt(A,et+100),Ne=A.length);te<et;)A[te]=A[te-dt],++te}}}return L?[A,F+7>>>3]:[A.slice(0,te),F+7>>>3]}function rt(C,L){var F=C.slice(C.l||0),z=Nr(F,L);return C.l+=z[1],z[0]}function Ge(C,L){if(C)typeof console<"u"&&console.error(L);else throw new Error(L)}function qe(C,L){var F=C;Nn(F,0);var z=[],A=[],te={FileIndex:z,FullPaths:A};X(te,{root:L.root});for(var Ne=F.length-4;(F[Ne]!=80||F[Ne+1]!=75||F[Ne+2]!=5||F[Ne+3]!=6)&&Ne>=0;)--Ne;F.l=Ne+4,F.l+=4;var Pe=F.read_shift(2);F.l+=6;var ye=F.read_shift(4);for(F.l=ye,Ne=0;Ne<Pe;++Ne){F.l+=20;var pe=F.read_shift(4),Se=F.read_shift(4),je=F.read_shift(2),Qe=F.read_shift(2),et=F.read_shift(2);F.l+=8;var ct=F.read_shift(4),dt=m(F.slice(F.l+je,F.l+je+Qe));F.l+=je+Qe+et;var mt=F.l;F.l=ct+4,bt(F,pe,Se,te,dt),F.l=mt}return te}function bt(C,L,F,z,A){C.l+=2;var te=C.read_shift(2),Ne=C.read_shift(2),Pe=c(C);if(te&8257)throw new Error("Unsupported ZIP encryption");for(var ye=C.read_shift(4),pe=C.read_shift(4),Se=C.read_shift(4),je=C.read_shift(2),Qe=C.read_shift(2),et="",ct=0;ct<je;++ct)et+=String.fromCharCode(C[C.l++]);if(Qe){var dt=m(C.slice(C.l,C.l+Qe));(dt[21589]||{}).mt&&(Pe=dt[21589].mt),((A||{})[21589]||{}).mt&&(Pe=A[21589].mt)}C.l+=Qe;var mt=C.slice(C.l,C.l+pe);switch(Ne){case 8:mt=Oe(C,Se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ne)}var Nt=!1;te&8&&(ye=C.read_shift(4),ye==134695760&&(ye=C.read_shift(4),Nt=!0),pe=C.read_shift(4),Se=C.read_shift(4)),pe!=L&&Ge(Nt,"Bad compressed size: "+L+" != "+pe),Se!=F&&Ge(Nt,"Bad uncompressed size: "+F+" != "+Se),ae(z,et,mt,{unsafe:!0,mt:Pe})}function Dt(C,L){var F=L||{},z=[],A=[],te=Gs(1),Ne=F.compression?8:0,Pe=0,ye=0,pe=0,Se=0,je=0,Qe=C.FullPaths[0],et=Qe,ct=C.FileIndex[0],dt=[],mt=0;for(ye=1;ye<C.FullPaths.length;++ye)if(et=C.FullPaths[ye].slice(Qe.length),ct=C.FileIndex[ye],!(!ct.size||!ct.content||et=="Sh33tJ5")){var Nt=Se,hr=Gs(et.length);for(pe=0;pe<et.length;++pe)hr.write_shift(1,et.charCodeAt(pe)&127);hr=hr.slice(0,hr.l),dt[je]=zj.buf(ct.content,0);var zr=ct.content;Ne==8&&(zr=me(zr)),te=Gs(30),te.write_shift(4,67324752),te.write_shift(2,20),te.write_shift(2,Pe),te.write_shift(2,Ne),ct.mt?u(te,ct.mt):te.write_shift(4,0),te.write_shift(-4,dt[je]),te.write_shift(4,zr.length),te.write_shift(4,ct.content.length),te.write_shift(2,hr.length),te.write_shift(2,0),Se+=te.length,z.push(te),Se+=hr.length,z.push(hr),Se+=zr.length,z.push(zr),te=Gs(46),te.write_shift(4,33639248),te.write_shift(2,0),te.write_shift(2,20),te.write_shift(2,Pe),te.write_shift(2,Ne),te.write_shift(4,0),te.write_shift(-4,dt[je]),te.write_shift(4,zr.length),te.write_shift(4,ct.content.length),te.write_shift(2,hr.length),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(4,0),te.write_shift(4,Nt),mt+=te.l,A.push(te),mt+=hr.length,A.push(hr),++je}return te=Gs(22),te.write_shift(4,101010256),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,je),te.write_shift(2,je),te.write_shift(4,mt),te.write_shift(4,Se),te.write_shift(2,0),Dl([Dl(z),Dl(A),te])}var Tt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ht(C,L){if(C.ctype)return C.ctype;var F=C.name||"",z=F.match(/\.([^\.]+)$/);return z&&Tt[z[1]]||L&&(z=(F=L).match(/[\.\\]([^\.\\])+$/),z&&Tt[z[1]])?Tt[z[1]]:"application/octet-stream"}function ur(C){for(var L=sE(C),F=[],z=0;z<L.length;z+=76)F.push(L.slice(z,z+76));return F.join(`\r
`)+`\r
`}function Kt(C){var L=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pe){var Se=pe.charCodeAt(0).toString(16).toUpperCase();return"="+(Se.length==1?"0"+Se:Se)});L=L.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),L.charAt(0)==`
`&&(L="=0D"+L.slice(1)),L=L.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var F=[],z=L.split(`\r
`),A=0;A<z.length;++A){var te=z[A];if(te.length==0){F.push("");continue}for(var Ne=0;Ne<te.length;){var Pe=76,ye=te.slice(Ne,Ne+Pe);ye.charAt(Pe-1)=="="?Pe--:ye.charAt(Pe-2)=="="?Pe-=2:ye.charAt(Pe-3)=="="&&(Pe-=3),ye=te.slice(Ne,Ne+Pe),Ne+=Pe,Ne<te.length&&(ye+="="),F.push(ye)}}return F.join(`\r
`)}function Gt(C){for(var L=[],F=0;F<C.length;++F){for(var z=C[F];F<=C.length&&z.charAt(z.length-1)=="=";)z=z.slice(0,z.length-1)+C[++F];L.push(z)}for(var A=0;A<L.length;++A)L[A]=L[A].replace(/[=][0-9A-Fa-f]{2}/g,function(te){return String.fromCharCode(parseInt(te.slice(1),16))});return bi(L.join(`\r
`))}function mr(C,L,F){for(var z="",A="",te="",Ne,Pe=0;Pe<10;++Pe){var ye=L[Pe];if(!ye||ye.match(/^\s*$/))break;var pe=ye.match(/^(.*?):\s*([^\s].*)$/);if(pe)switch(pe[1].toLowerCase()){case"content-location":z=pe[2].trim();break;case"content-type":te=pe[2].trim();break;case"content-transfer-encoding":A=pe[2].trim();break}}switch(++Pe,A.toLowerCase()){case"base64":Ne=bi(Ta(L.slice(Pe).join("")));break;case"quoted-printable":Ne=Gt(L.slice(Pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+A)}var Se=ae(C,z.slice(F.length),Ne,{unsafe:!0});te&&(Se.ctype=te)}function ir(C,L){if(be(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var F=L&&L.root||"",z=(Pr&&Buffer.isBuffer(C)?C.toString("binary"):be(C)).split(`\r
`),A=0,te="";for(A=0;A<z.length;++A)if(te=z[A],!!/^Content-Location:/i.test(te)&&(te=te.slice(te.indexOf("file")),F||(F=te.slice(0,te.lastIndexOf("/")+1)),te.slice(0,F.length)!=F))for(;F.length>0&&(F=F.slice(0,F.length-1),F=F.slice(0,F.lastIndexOf("/")+1),te.slice(0,F.length)!=F););var Ne=(z[1]||"").match(/boundary="(.*?)"/);if(!Ne)throw new Error("MAD cannot find boundary");var Pe="--"+(Ne[1]||""),ye=[],pe=[],Se={FileIndex:ye,FullPaths:pe};X(Se);var je,Qe=0;for(A=0;A<z.length;++A){var et=z[A];et!==Pe&&et!==Pe+"--"||(Qe++&&mr(Se,z.slice(je,A),F),je=A)}return Se}function pr(C,L){var F=L||{},z=F.boundary||"SheetJS";z="------="+z;for(var A=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+z.slice(2)+'"',"","",""],te=C.FullPaths[0],Ne=te,Pe=C.FileIndex[0],ye=1;ye<C.FullPaths.length;++ye)if(Ne=C.FullPaths[ye].slice(te.length),Pe=C.FileIndex[ye],!(!Pe.size||!Pe.content||Ne=="Sh33tJ5")){Ne=Ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(mt){return"_x"+mt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(mt){return"_u"+mt.charCodeAt(0).toString(16)+"_"});for(var pe=Pe.content,Se=Pr&&Buffer.isBuffer(pe)?pe.toString("binary"):be(pe),je=0,Qe=Math.min(1024,Se.length),et=0,ct=0;ct<=Qe;++ct)(et=Se.charCodeAt(ct))>=32&&et<128&&++je;var dt=je>=Qe*4/5;A.push(z),A.push("Content-Location: "+(F.root||"file:///C:/SheetJS/")+Ne),A.push("Content-Transfer-Encoding: "+(dt?"quoted-printable":"base64")),A.push("Content-Type: "+Ht(Pe,Ne)),A.push(""),A.push(dt?Kt(Se):ur(Se))}return A.push(z+`--\r
`),A.join(`\r
`)}function or(C){var L={};return X(L,C),L}function ae(C,L,F,z){var A=z&&z.unsafe;A||X(C);var te=!A&&Lr.find(C,L);if(!te){var Ne=C.FullPaths[0];L.slice(0,Ne.length)==Ne?Ne=L:(Ne.slice(-1)!="/"&&(Ne+="/"),Ne=(Ne+L).replace("//","/")),te={name:o(L),type:2},C.FileIndex.push(te),C.FullPaths.push(Ne),A||Lr.utils.cfb_gc(C)}return te.content=F,te.size=F?F.length:0,z&&(z.CLSID&&(te.clsid=z.CLSID),z.mt&&(te.mt=z.mt),z.ct&&(te.ct=z.ct)),te}function Ve(C,L){X(C);var F=Lr.find(C,L);if(F){for(var z=0;z<C.FileIndex.length;++z)if(C.FileIndex[z]==F)return C.FileIndex.splice(z,1),C.FullPaths.splice(z,1),!0}return!1}function ue(C,L,F){X(C);var z=Lr.find(C,L);if(z){for(var A=0;A<C.FileIndex.length;++A)if(C.FileIndex[A]==z)return C.FileIndex[A].name=o(F),C.FullPaths[A]=F,!0}return!1}function K(C){_(C,!0)}return s.find=re,s.read=ee,s.parse=v,s.write=Ie,s.writeFile=Me,s.utils={cfb_new:or,cfb_add:ae,cfb_del:Ve,cfb_mov:ue,cfb_gc:K,ReadShift:Km,CheckField:yw,prep_blob:Nn,bconcat:Dl,use_zlib:Q,_deflateRaw:Ze,_inflateRaw:rt,consts:ve},s})();function Gj(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(e);s.open("r"),s.encoding="binary";var t=s.read();return s.close(),t}catch(i){if(!i.message||!i.message.match(/onstruct/))throw i}throw new Error("Cannot access file "+e)}function Wi(e){for(var s=Object.keys(e),t=[],i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e,s[i])&&t.push(s[i]);return t}function MN(e){for(var s=[],t=Wi(e),i=0;i!==t.length;++i)s[e[t[i]]]=t[i];return s}var vh=new Date(1899,11,30,0,0,0);function Qn(e,s){var t=e.getTime(),i=vh.getTime()+(e.getTimezoneOffset()-vh.getTimezoneOffset())*6e4;return(t-i)/(1440*60*1e3)}var sw=new Date,Wj=vh.getTime()+(sw.getTimezoneOffset()-vh.getTimezoneOffset())*6e4,mE=sw.getTimezoneOffset();function Rh(e){var s=new Date;return s.setTime(e*24*60*60*1e3+Wj),s.getTimezoneOffset()!==mE&&s.setTime(s.getTime()+(s.getTimezoneOffset()-mE)*6e4),s}function Yj(e){var s=0,t=0,i=!1,o=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!o)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var u=1;u!=o.length;++u)if(o[u]){switch(t=1,u>3&&(i=!0),o[u].slice(o[u].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+o[u].slice(o[u].length-1));case"D":t*=24;case"H":t*=60;case"M":if(i)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}s+=t*parseInt(o[u],10)}return s}var fE=new Date("2017-02-19T19:06:09.000Z"),nw=isNaN(fE.getFullYear())?new Date("2/19/17"):fE,Kj=nw.getFullYear()==2017;function rn(e,s){var t=new Date(e);if(Kj)return s>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):s<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(e instanceof Date)return e;if(nw.getFullYear()==1917&&!isNaN(t.getFullYear())){var i=t.getFullYear();return e.indexOf(""+i)>-1||t.setFullYear(t.getFullYear()+100),t}var o=e.match(/\d+/g)||["2017","2","19","0","0","0"],u=new Date(+o[0],+o[1]-1,+o[2],+o[3]||0,+o[4]||0,+o[5]||0);return e.indexOf("Z")>-1&&(u=new Date(u.getTime()-u.getTimezoneOffset()*60*1e3)),u}function Cc(e,s){if(Pr&&Buffer.isBuffer(e)){if(s){if(e[0]==255&&e[1]==254)return Ym(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Ym(HC(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(s){if(e[0]==255&&e[1]==254)return Ym(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Ym(new TextDecoder("utf-16be").decode(e.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(u){return t[u]||u})}catch{}for(var i=[],o=0;o!=e.length;++o)i.push(String.fromCharCode(e[o]));return i.join("")}function Dn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=Dn(e[t]));return s}function bs(e,s){for(var t="";t.length<s;)t+=e;return t}function Si(e){var s=Number(e);if(!isNaN(s))return isFinite(s)?s:NaN;if(!/\d/.test(e))return s;var t=1,i=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(s=Number(i))||(i=i.replace(/[(](.*)[)]/,function(o,u){return t=-t,u}),!isNaN(s=Number(i)))?s/t:s}var qj=["january","february","march","april","may","june","july","august","september","october","november","december"];function Xu(e){var s=new Date(e),t=new Date(NaN),i=s.getYear(),o=s.getMonth(),u=s.getDate();if(isNaN(u))return t;var c=e.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&qj.indexOf(c)==-1)return t}else if(c.match(/[a-z]/))return t;return i<0||i>8099?t:(o>0||u>1)&&i!=101?s:e.match(/[^-0-9:,\/\\]/)?t:s}var Jj=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(t,i,o){if(e||typeof i=="string")return t.split(i);for(var u=t.split(i),c=[u[0]],m=1;m<u.length;++m)c.push(o),c.push(u[m]);return c}})();function aw(e){return e?e.content&&e.type?Cc(e.content,!0):e.data?zm(e.data):e.asNodeBuffer&&Pr?zm(e.asNodeBuffer().toString("binary")):e.asBinary?zm(e.asBinary()):e._data&&e._data.getContent?zm(Cc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function iw(e){if(!e)return null;if(e.data)return tE(e.data);if(e.asNodeBuffer&&Pr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var s=e._data.getContent();return typeof s=="string"?tE(s):Array.prototype.slice.call(s)}return e.content&&e.type?e.content:null}function Qj(e){return e&&e.name.slice(-4)===".bin"?iw(e):aw(e)}function $a(e,s){for(var t=e.FullPaths||Wi(e.files),i=s.toLowerCase().replace(/[\/]/g,"\\"),o=i.replace(/\\/g,"/"),u=0;u<t.length;++u){var c=t[u].replace(/^Root Entry[\/]/,"").toLowerCase();if(i==c||o==c)return e.files?e.files[t[u]]:e.FileIndex[u]}return null}function IN(e,s){var t=$a(e,s);if(t==null)throw new Error("Cannot find file "+s+" in zip");return t}function _s(e,s,t){if(!t)return Qj(IN(e,s));if(!s)return null;try{return _s(e,s)}catch{return null}}function Ra(e,s,t){if(!t)return aw(IN(e,s));if(!s)return null;try{return Ra(e,s)}catch{return null}}function Zj(e,s,t){return iw(IN(e,s))}function pE(e){for(var s=e.FullPaths||Wi(e.files),t=[],i=0;i<s.length;++i)s[i].slice(-1)!="/"&&t.push(s[i].replace(/^Root Entry[\/]/,""));return t.sort()}function e6(e,s,t){if(e.FullPaths){if(typeof t=="string"){var i;return Pr?i=kc(t):i=bj(t),Lr.utils.cfb_add(e,s,i)}Lr.utils.cfb_add(e,s,t)}else e.file(s,t)}function ow(e,s){switch(s.type){case"base64":return Lr.read(e,{type:"base64"});case"binary":return Lr.read(e,{type:"binary"});case"buffer":case"array":return Lr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+s.type)}function Wm(e,s){if(e.charAt(0)=="/")return e.slice(1);var t=s.split("/");s.slice(-1)!="/"&&t.pop();for(var i=e.split("/");i.length!==0;){var o=i.shift();o===".."?t.pop():o!=="."&&t.push(o)}return t.join("/")}var lw=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,t6=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,hE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,r6=/<[^>]*>/g,In=lw.match(hE)?hE:r6,s6=/<\w*:/,n6=/<(\/?)\w+:/;function sr(e,s,t){for(var i={},o=0,u=0;o!==e.length&&!((u=e.charCodeAt(o))===32||u===10||u===13);++o);if(s||(i[0]=e.slice(0,o)),o===e.length)return i;var c=e.match(t6),m=0,h="",g=0,v="",b="",E=1;if(c)for(g=0;g!=c.length;++g){for(b=c[g],u=0;u!=b.length&&b.charCodeAt(u)!==61;++u);for(v=b.slice(0,u).trim();b.charCodeAt(u+1)==32;)++u;for(E=(o=b.charCodeAt(u+1))==34||o==39?1:0,h=b.slice(u+1+E,b.length-E),m=0;m!=v.length&&v.charCodeAt(m)!==58;++m);if(m===v.length)v.indexOf("_")>0&&(v=v.slice(0,v.indexOf("_"))),i[v]=h,i[v.toLowerCase()]=h;else{var k=(m===5&&v.slice(0,5)==="xmlns"?"xmlns":"")+v.slice(m+1);if(i[k]&&v.slice(m-3,m)=="ext")continue;i[k]=h,i[k.toLowerCase()]=h}}return i}function qi(e){return e.replace(n6,"<$1")}var cw={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},a6=MN(cw),Fr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,s=/_x([\da-fA-F]{4})_/ig;return function t(i){var o=i+"",u=o.indexOf("<![CDATA[");if(u==-1)return o.replace(e,function(m,h){return cw[m]||String.fromCharCode(parseInt(h,m.indexOf("x")>-1?16:10))||m}).replace(s,function(m,h){return String.fromCharCode(parseInt(h,16))});var c=o.indexOf("]]>");return t(o.slice(0,u))+o.slice(u+9,c)+t(o.slice(c+3))}})(),i6=/[&<>'"]/g,o6=/[\u0000-\u001f]/g;function FN(e){var s=e+"";return s.replace(i6,function(t){return a6[t]}).replace(/\n/g,"<br/>").replace(o6,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var vE=(function(){var e=/&#(\d+);/g;function s(t,i){return String.fromCharCode(parseInt(i,10))}return function(i){return i.replace(e,s)}})();function us(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Gb(e){for(var s="",t=0,i=0,o=0,u=0,c=0,m=0;t<e.length;){if(i=e.charCodeAt(t++),i<128){s+=String.fromCharCode(i);continue}if(o=e.charCodeAt(t++),i>191&&i<224){c=(i&31)<<6,c|=o&63,s+=String.fromCharCode(c);continue}if(u=e.charCodeAt(t++),i<240){s+=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63);continue}c=e.charCodeAt(t++),m=((i&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536,s+=String.fromCharCode(55296+(m>>>10&1023)),s+=String.fromCharCode(56320+(m&1023))}return s}function gE(e){var s=Cl(2*e.length),t,i,o=1,u=0,c=0,m;for(i=0;i<e.length;i+=o)o=1,(m=e.charCodeAt(i))<128?t=m:m<224?(t=(m&31)*64+(e.charCodeAt(i+1)&63),o=2):m<240?(t=(m&15)*4096+(e.charCodeAt(i+1)&63)*64+(e.charCodeAt(i+2)&63),o=3):(o=4,t=(m&7)*262144+(e.charCodeAt(i+1)&63)*4096+(e.charCodeAt(i+2)&63)*64+(e.charCodeAt(i+3)&63),t-=65536,c=55296+(t>>>10&1023),t=56320+(t&1023)),c!==0&&(s[u++]=c&255,s[u++]=c>>>8,c=0),s[u++]=t%256,s[u++]=t>>>8;return s.slice(0,u).toString("ucs2")}function xE(e){return kc(e,"binary").toString("utf8")}var Kp="foo bar baz",ns=Pr&&(xE(Kp)==Gb(Kp)&&xE||gE(Kp)==Gb(Kp)&&gE)||Gb,Ym=Pr?function(e){return kc(e,"utf8").toString("binary")}:function(e){for(var s=[],t=0,i=0,o=0;t<e.length;)switch(i=e.charCodeAt(t++),!0){case i<128:s.push(String.fromCharCode(i));break;case i<2048:s.push(String.fromCharCode(192+(i>>6))),s.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,o=e.charCodeAt(t++)-56320+(i<<10),s.push(String.fromCharCode(240+(o>>18&7))),s.push(String.fromCharCode(144+(o>>12&63))),s.push(String.fromCharCode(128+(o>>6&63))),s.push(String.fromCharCode(128+(o&63)));break;default:s.push(String.fromCharCode(224+(i>>12))),s.push(String.fromCharCode(128+(i>>6&63))),s.push(String.fromCharCode(128+(i&63)))}return s.join("")},lf=(function(){var e={};return function(t,i){var o=t+"|"+(i||"");return e[o]?e[o]:e[o]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",i||"")}})(),uw=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(s){return[new RegExp("&"+s[0]+";","ig"),s[1]]});return function(t){for(var i=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),o=0;o<e.length;++o)i=i.replace(e[o][0],e[o][1]);return i}})(),l6=(function(){var e={};return function(t){return e[t]!==void 0?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),c6=/<\/?(?:vt:)?variant>/g,u6=/<(?:vt:)([^>]*)>([\s\S]*)</;function bE(e,s){var t=sr(e),i=e.match(l6(t.baseType))||[],o=[];if(i.length!=t.size){if(s.WTF)throw new Error("unexpected vector length "+i.length+" != "+t.size);return o}return i.forEach(function(u){var c=u.replace(c6,"").match(u6);c&&o.push({v:ns(c[2]),t:c[1]})}),o}var d6=/(^\s|\s$|\n)/;function m6(e){return Wi(e).map(function(s){return" "+s+'="'+e[s]+'"'}).join("")}function f6(e,s,t){return"<"+e+(t!=null?m6(t):"")+(s!=null?(s.match(d6)?' xml:space="preserve"':"")+">"+s+"</"+e:"/")+">"}function $N(e){if(Pr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ns(Rc(jN(e)));throw new Error("Bad input format: expected Buffer or string")}var cf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,p6={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},h6=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function v6(e,s){for(var t=1-2*(e[s+7]>>>7),i=((e[s+7]&127)<<4)+(e[s+6]>>>4&15),o=e[s+6]&15,u=5;u>=0;--u)o=o*256+e[s+u];return i==2047?o==0?t*(1/0):NaN:(i==0?i=-1022:(i-=1023,o+=Math.pow(2,52)),t*Math.pow(2,i-52)*o)}function g6(e,s,t){var i=(s<0||1/s==-1/0?1:0)<<7,o=0,u=0,c=i?-s:s;isFinite(c)?c==0?o=u=0:(o=Math.floor(Math.log(c)/Math.LN2),u=c*Math.pow(2,52-o),o<=-1023&&(!isFinite(u)||u<Math.pow(2,52))?o=-1022:(u-=Math.pow(2,52),o+=1023)):(o=2047,u=isNaN(s)?26985:0);for(var m=0;m<=5;++m,u/=256)e[t+m]=u&255;e[t+6]=(o&15)<<4|u&15,e[t+7]=o>>4|i}var NE=function(e){for(var s=[],t=10240,i=0;i<e[0].length;++i)if(e[0][i])for(var o=0,u=e[0][i].length;o<u;o+=t)s.push.apply(s,e[0][i].slice(o,o+t));return s},DE=Pr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(s){return Buffer.isBuffer(s)?s:kc(s)})):NE(e)}:NE,SE=function(e,s,t){for(var i=[],o=s;o<t;o+=2)i.push(String.fromCharCode(Ro(e,o)));return i.join("").replace(Jn,"")},BN=Pr?function(e,s,t){return Buffer.isBuffer(e)?e.toString("utf16le",s,t).replace(Jn,""):SE(e,s,t)}:SE,OE=function(e,s,t){for(var i=[],o=s;o<s+t;++o)i.push(("0"+e[o].toString(16)).slice(-2));return i.join("")},dw=Pr?function(e,s,t){return Buffer.isBuffer(e)?e.toString("hex",s,s+t):OE(e,s,t)}:OE,yE=function(e,s,t){for(var i=[],o=s;o<t;o++)i.push(String.fromCharCode(Lu(e,o)));return i.join("")},bf=Pr?function(s,t,i){return Buffer.isBuffer(s)?s.toString("utf8",t,i):yE(s,t,i)}:yE,mw=function(e,s){var t=ka(e,s);return t>0?bf(e,s+4,s+4+t-1):""},fw=mw,pw=function(e,s){var t=ka(e,s);return t>0?bf(e,s+4,s+4+t-1):""},hw=pw,vw=function(e,s){var t=2*ka(e,s);return t>0?bf(e,s+4,s+4+t-1):""},gw=vw,xw=function(s,t){var i=ka(s,t);return i>0?BN(s,t+4,t+4+i):""},bw=xw,Nw=function(e,s){var t=ka(e,s);return t>0?bf(e,s+4,s+4+t):""},Dw=Nw,Sw=function(e,s){return v6(e,s)},gh=Sw,Ow=function(s){return Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array};Pr&&(fw=function(s,t){if(!Buffer.isBuffer(s))return mw(s,t);var i=s.readUInt32LE(t);return i>0?s.toString("utf8",t+4,t+4+i-1):""},hw=function(s,t){if(!Buffer.isBuffer(s))return pw(s,t);var i=s.readUInt32LE(t);return i>0?s.toString("utf8",t+4,t+4+i-1):""},gw=function(s,t){if(!Buffer.isBuffer(s))return vw(s,t);var i=2*s.readUInt32LE(t);return s.toString("utf16le",t+4,t+4+i-1)},bw=function(s,t){if(!Buffer.isBuffer(s))return xw(s,t);var i=s.readUInt32LE(t);return s.toString("utf16le",t+4,t+4+i)},Dw=function(s,t){if(!Buffer.isBuffer(s))return Nw(s,t);var i=s.readUInt32LE(t);return s.toString("utf8",t+4,t+4+i)},gh=function(s,t){return Buffer.isBuffer(s)?s.readDoubleLE(t):Sw(s,t)},Ow=function(s){return Buffer.isBuffer(s)||Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array});var Lu=function(e,s){return e[s]},Ro=function(e,s){return e[s+1]*256+e[s]},x6=function(e,s){var t=e[s+1]*256+e[s];return t<32768?t:(65535-t+1)*-1},ka=function(e,s){return e[s+3]*(1<<24)+(e[s+2]<<16)+(e[s+1]<<8)+e[s]},Dc=function(e,s){return e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]},b6=function(e,s){return e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]};function Km(e,s){var t="",i,o,u=[],c,m,h,g;switch(s){case"dbcs":if(g=this.l,Pr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*e).toString("utf16le");else for(h=0;h<e;++h)t+=String.fromCharCode(Ro(this,g)),g+=2;e*=2;break;case"utf8":t=bf(this,this.l,this.l+e);break;case"utf16le":e*=2,t=BN(this,this.l,this.l+e);break;case"wstr":return Km.call(this,e,"dbcs");case"lpstr-ansi":t=fw(this,this.l),e=4+ka(this,this.l);break;case"lpstr-cp":t=hw(this,this.l),e=4+ka(this,this.l);break;case"lpwstr":t=gw(this,this.l),e=4+2*ka(this,this.l);break;case"lpp4":e=4+ka(this,this.l),t=bw(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ka(this,this.l),t=Dw(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,t="";(c=Lu(this,this.l+e++))!==0;)u.push(Yp(c));t=u.join("");break;case"_wstr":for(e=0,t="";(c=Ro(this,this.l+e))!==0;)u.push(Yp(c)),e+=2;e+=2,t=u.join("");break;case"dbcs-cont":for(t="",g=this.l,h=0;h<e;++h){if(this.lens&&this.lens.indexOf(g)!==-1)return c=Lu(this,g),this.l=g+1,m=Km.call(this,e-h,c?"dbcs-cont":"sbcs-cont"),u.join("")+m;u.push(Yp(Ro(this,g))),g+=2}t=u.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(t="",g=this.l,h=0;h!=e;++h){if(this.lens&&this.lens.indexOf(g)!==-1)return c=Lu(this,g),this.l=g+1,m=Km.call(this,e-h,c?"dbcs-cont":"sbcs-cont"),u.join("")+m;u.push(Yp(Lu(this,g))),g+=1}t=u.join("");break;default:switch(e){case 1:return i=Lu(this,this.l),this.l++,i;case 2:return i=(s==="i"?x6:Ro)(this,this.l),this.l+=2,i;case 4:case-4:return s==="i"||(this[this.l+3]&128)===0?(i=(e>0?Dc:b6)(this,this.l),this.l+=4,i):(o=ka(this,this.l),this.l+=4,o);case 8:case-8:if(s==="f")return e==8?o=gh(this,this.l):o=gh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,o;e=8;case 16:t=dw(this,this.l,e);break}}return this.l+=e,t}var N6=function(e,s,t){e[t]=s&255,e[t+1]=s>>>8&255,e[t+2]=s>>>16&255,e[t+3]=s>>>24&255},D6=function(e,s,t){e[t]=s&255,e[t+1]=s>>8&255,e[t+2]=s>>16&255,e[t+3]=s>>24&255},S6=function(e,s,t){e[t]=s&255,e[t+1]=s>>>8&255};function O6(e,s,t){var i=0,o=0;if(t==="dbcs"){for(o=0;o!=s.length;++o)S6(this,s.charCodeAt(o),this.l+2*o);i=2*s.length}else if(t==="sbcs"){for(s=s.replace(/[^\x00-\x7F]/g,"_"),o=0;o!=s.length;++o)this[this.l+o]=s.charCodeAt(o)&255;i=s.length}else if(t==="hex"){for(;o<e;++o)this[this.l++]=parseInt(s.slice(2*o,2*o+2),16)||0;return this}else if(t==="utf16le"){var u=Math.min(this.l+e,this.length);for(o=0;o<Math.min(s.length,e);++o){var c=s.charCodeAt(o);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<u;)this[this.l++]=0;return this}else switch(e){case 1:i=1,this[this.l]=s&255;break;case 2:i=2,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255;break;case 3:i=3,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255,s>>>=8,this[this.l+2]=s&255;break;case 4:i=4,N6(this,s,this.l);break;case 8:if(i=8,t==="f"){g6(this,s,this.l);break}case 16:break;case-4:i=4,D6(this,s,this.l);break}return this.l+=i,this}function yw(e,s){var t=dw(this,this.l,e.length>>1);if(t!==e)throw new Error(s+"Expected "+e+" saw "+t);this.l+=e.length>>1}function Nn(e,s){e.l=s,e.read_shift=Km,e.chk=yw,e.write_shift=O6}function Mn(e,s){e.l+=s}function Gs(e){var s=Cl(e);return Nn(s,0),s}function Mo(e,s,t){if(e){var i,o,u;Nn(e,e.l||0);for(var c=e.length,m=0,h=0;e.l<c;){m=e.read_shift(1),m&128&&(m=(m&127)+((e.read_shift(1)&127)<<7));var g=Oh[m]||Oh[65535];for(i=e.read_shift(1),u=i&127,o=1;o<4&&i&128;++o)u+=((i=e.read_shift(1))&127)<<7*o;h=e.l+u;var v=g.f&&g.f(e,u,t);if(e.l=h,s(v,g,m))return}}}function dN(){var e=[],s=Pr?256:2048,t=function(g){var v=Gs(g);return Nn(v,0),v},i=t(s),o=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&e.push(i),i=null)},u=function(g){return i&&g<i.length-i.l?i:(o(),i=t(Math.max(g+1,s)))},c=function(){return o(),Dl(e)},m=function(g){o(),i=g,i.l==null&&(i.l=i.length),u(s)};return{next:u,push:m,end:c,_bufs:e}}function qm(e,s,t){var i=Dn(e);if(s.s?(i.cRel&&(i.c+=s.s.c),i.rRel&&(i.r+=s.s.r)):(i.cRel&&(i.c+=s.c),i.rRel&&(i.r+=s.r)),!t||t.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function EE(e,s,t){var i=Dn(e);return i.s=qm(i.s,s.s,t),i.e=qm(i.e,s.s,t),i}function Jm(e,s){if(e.cRel&&e.c<0)for(e=Dn(e);e.c<0;)e.c+=s>8?16384:256;if(e.rRel&&e.r<0)for(e=Dn(e);e.r<0;)e.r+=s>8?1048576:s>5?65536:16384;var t=dr(e);return!e.cRel&&e.cRel!=null&&(t=C6(t)),!e.rRel&&e.rRel!=null&&(t=y6(t)),t}function Wb(e,s){return e.s.r==0&&!e.s.rRel&&e.e.r==(s.biff>=12?1048575:s.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ws(e.s.c)+":"+(e.e.cRel?"":"$")+Ws(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(s.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Sn(e.s.r)+":"+(e.e.rRel?"":"$")+Sn(e.e.r):Jm(e.s,s.biff)+":"+Jm(e.e,s.biff)}function XN(e){return parseInt(E6(e),10)-1}function Sn(e){return""+(e+1)}function y6(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function E6(e){return e.replace(/\$(\d+)$/,"$1")}function HN(e){for(var s=w6(e),t=0,i=0;i!==s.length;++i)t=26*t+s.charCodeAt(i)-64;return t-1}function Ws(e){if(e<0)throw new Error("invalid column "+e);var s="";for(++e;e;e=Math.floor((e-1)/26))s=String.fromCharCode((e-1)%26+65)+s;return s}function C6(e){return e.replace(/^([A-Z])/,"$$$1")}function w6(e){return e.replace(/^\$([A-Z])/,"$1")}function k6(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function qn(e){for(var s=0,t=0,i=0;i<e.length;++i){var o=e.charCodeAt(i);o>=48&&o<=57?s=10*s+(o-48):o>=65&&o<=90&&(t=26*t+(o-64))}return{c:t-1,r:s-1}}function dr(e){for(var s=e.c+1,t="";s;s=(s-1)/26|0)t=String.fromCharCode((s-1)%26+65)+t;return t+(e.r+1)}function Ku(e){var s=e.indexOf(":");return s==-1?{s:qn(e),e:qn(e)}:{s:qn(e.slice(0,s)),e:qn(e.slice(s+1))}}function Mr(e,s){return typeof s>"u"||typeof s=="number"?Mr(e.s,e.e):(typeof e!="string"&&(e=dr(e)),typeof s!="string"&&(s=dr(s)),e==s?e:e+":"+s)}function Ns(e){var s={s:{c:0,r:0},e:{c:0,r:0}},t=0,i=0,o=0,u=e.length;for(t=0;i<u&&!((o=e.charCodeAt(i)-64)<1||o>26);++i)t=26*t+o;for(s.s.c=--t,t=0;i<u&&!((o=e.charCodeAt(i)-48)<0||o>9);++i)t=10*t+o;if(s.s.r=--t,i===u||o!=10)return s.e.c=s.s.c,s.e.r=s.s.r,s;for(++i,t=0;i!=u&&!((o=e.charCodeAt(i)-64)<1||o>26);++i)t=26*t+o;for(s.e.c=--t,t=0;i!=u&&!((o=e.charCodeAt(i)-48)<0||o>9);++i)t=10*t+o;return s.e.r=--t,s}function CE(e,s){var t=e.t=="d"&&s instanceof Date;if(e.z!=null)try{return e.w=Xa(e.z,t?Qn(s):s)}catch{}try{return e.w=Xa((e.XF||{}).numFmtId||(t?14:0),t?Qn(s):s)}catch{return""+s}}function Vo(e,s,t){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&t&&t.dateNF&&(e.z=t.dateNF),e.t=="e"?Pc[e.v]||e.v:s==null?CE(e,e.v):CE(e,s))}function kl(e,s){var t=s&&s.sheet?s.sheet:"Sheet1",i={};return i[t]=e,{SheetNames:[t],Sheets:i}}function Ew(e,s,t){var i=t||{},o=e?Array.isArray(e):i.dense,u=e||(o?[]:{}),c=0,m=0;if(u&&i.origin!=null){if(typeof i.origin=="number")c=i.origin;else{var h=typeof i.origin=="string"?qn(i.origin):i.origin;c=h.r,m=h.c}u["!ref"]||(u["!ref"]="A1:A1")}var g={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(u["!ref"]){var v=Ns(u["!ref"]);g.s.c=v.s.c,g.s.r=v.s.r,g.e.c=Math.max(g.e.c,v.e.c),g.e.r=Math.max(g.e.r,v.e.r),c==-1&&(g.e.r=c=v.e.r+1)}for(var b=0;b!=s.length;++b)if(s[b]){if(!Array.isArray(s[b]))throw new Error("aoa_to_sheet expects an array of arrays");for(var E=0;E!=s[b].length;++E)if(!(typeof s[b][E]>"u")){var k={v:s[b][E]},w=c+b,y=m+E;if(g.s.r>w&&(g.s.r=w),g.s.c>y&&(g.s.c=y),g.e.r<w&&(g.e.r=w),g.e.c<y&&(g.e.c=y),s[b][E]&&typeof s[b][E]=="object"&&!Array.isArray(s[b][E])&&!(s[b][E]instanceof Date))k=s[b][E];else if(Array.isArray(k.v)&&(k.f=s[b][E][1],k.v=k.v[0]),k.v===null)if(k.f)k.t="n";else if(i.nullError)k.t="e",k.v=0;else if(i.sheetStubs)k.t="z";else continue;else typeof k.v=="number"?k.t="n":typeof k.v=="boolean"?k.t="b":k.v instanceof Date?(k.z=i.dateNF||gr[14],i.cellDates?(k.t="d",k.w=Xa(k.z,Qn(k.v))):(k.t="n",k.v=Qn(k.v),k.w=Xa(k.z,k.v))):k.t="s";if(o)u[w]||(u[w]=[]),u[w][y]&&u[w][y].z&&(k.z=u[w][y].z),u[w][y]=k;else{var T=dr({c:y,r:w});u[T]&&u[T].z&&(k.z=u[T].z),u[T]=k}}}return g.s.c<1e7&&(u["!ref"]=Mr(g)),u}function qu(e,s){return Ew(null,e,s)}function R6(e){return e.read_shift(4,"i")}function Ln(e){var s=e.read_shift(4);return s===0?"":e.read_shift(s,"dbcs")}function T6(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function zN(e,s){var t=e.l,i=e.read_shift(1),o=Ln(e),u=[],c={t:o,h:o};if((i&1)!==0){for(var m=e.read_shift(4),h=0;h!=m;++h)u.push(T6(e));c.r=u}else c.r=[{ich:0,ifnt:0}];return e.l=t+s,c}var _6=zN;function Ha(e){var s=e.read_shift(4),t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:s,iStyleRef:t}}function Tc(e){var s=e.read_shift(2);return s+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:s}}var P6=Ln;function GN(e){var s=e.read_shift(4);return s===0||s===4294967295?"":e.read_shift(s,"dbcs")}var U6=Ln,mN=GN;function WN(e){var s=e.slice(e.l,e.l+4),t=s[0]&1,i=s[0]&2;e.l+=4;var o=i===0?gh([0,0,0,0,s[0]&252,s[1],s[2],s[3]],0):Dc(s,0)>>2;return t?o/100:o}function Cw(e){var s={s:{},e:{}};return s.s.r=e.read_shift(4),s.e.r=e.read_shift(4),s.s.c=e.read_shift(4),s.e.c=e.read_shift(4),s}var _c=Cw;function jn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function V6(e){var s={},t=e.read_shift(1),i=t>>>1,o=e.read_shift(1),u=e.read_shift(2,"i"),c=e.read_shift(1),m=e.read_shift(1),h=e.read_shift(1);switch(e.l++,i){case 0:s.auto=1;break;case 1:s.index=o;var g=yc[o];g&&(s.rgb=df(g));break;case 2:s.rgb=df([c,m,h]);break;case 3:s.theme=o;break}return u!=0&&(s.tint=u>0?u/32767:u/32768),s}function j6(e){var s=e.read_shift(1);e.l++;var t={fBold:s&1,fItalic:s&2,fUnderline:s&4,fStrikeout:s&8,fOutline:s&16,fShadow:s&32,fCondense:s&64,fExtend:s&128};return t}function ww(e,s){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},i=e.read_shift(4);switch(i){case 0:return"";case 4294967295:case 4294967294:return t[e.read_shift(4)]||""}if(i>400)throw new Error("Unsupported Clipboard: "+i.toString(16));return e.l-=4,e.read_shift(0,s==1?"lpstr":"lpwstr")}function A6(e){return ww(e,1)}function L6(e){return ww(e,2)}var YN=2,pa=3,qp=11,wE=12,xh=19,Jp=64,M6=65,I6=71,F6=4108,$6=4126,tn=80,kw=81,B6=[tn,kw],X6={1:{n:"CodePage",t:YN},2:{n:"Category",t:tn},3:{n:"PresentationFormat",t:tn},4:{n:"ByteCount",t:pa},5:{n:"LineCount",t:pa},6:{n:"ParagraphCount",t:pa},7:{n:"SlideCount",t:pa},8:{n:"NoteCount",t:pa},9:{n:"HiddenCount",t:pa},10:{n:"MultimediaClipCount",t:pa},11:{n:"ScaleCrop",t:qp},12:{n:"HeadingPairs",t:F6},13:{n:"TitlesOfParts",t:$6},14:{n:"Manager",t:tn},15:{n:"Company",t:tn},16:{n:"LinksUpToDate",t:qp},17:{n:"CharacterCount",t:pa},19:{n:"SharedDoc",t:qp},22:{n:"HyperlinksChanged",t:qp},23:{n:"AppVersion",t:pa,p:"version"},24:{n:"DigSig",t:M6},26:{n:"ContentType",t:tn},27:{n:"ContentStatus",t:tn},28:{n:"Language",t:tn},29:{n:"Version",t:tn},255:{},2147483648:{n:"Locale",t:xh},2147483651:{n:"Behavior",t:xh},1919054434:{}},H6={1:{n:"CodePage",t:YN},2:{n:"Title",t:tn},3:{n:"Subject",t:tn},4:{n:"Author",t:tn},5:{n:"Keywords",t:tn},6:{n:"Comments",t:tn},7:{n:"Template",t:tn},8:{n:"LastAuthor",t:tn},9:{n:"RevNumber",t:tn},10:{n:"EditTime",t:Jp},11:{n:"LastPrinted",t:Jp},12:{n:"CreatedDate",t:Jp},13:{n:"ModifiedDate",t:Jp},14:{n:"PageCount",t:pa},15:{n:"WordCount",t:pa},16:{n:"CharCount",t:pa},17:{n:"Thumbnail",t:I6},18:{n:"Application",t:tn},19:{n:"DocSecurity",t:pa},255:{},2147483648:{n:"Locale",t:xh},2147483651:{n:"Behavior",t:xh},1919054434:{}},kE={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},z6=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function G6(e){return e.map(function(s){return[s>>16&255,s>>8&255,s&255]})}var W6=G6([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),yc=Dn(W6),Pc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Rw={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},RE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Y6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function K6(e){var s=Y6();if(!e||!e.match)return s;var t={};if((e.match(In)||[]).forEach(function(i){var o=sr(i);switch(o[0].replace(s6,"<")){case"<?xml":break;case"<Types":s.xmlns=o["xmlns"+(o[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[o.Extension]=o.ContentType;break;case"<Override":s[RE[o.ContentType]]!==void 0&&s[RE[o.ContentType]].push(o.PartName);break}}),s.xmlns!==p6.CT)throw new Error("Unknown Namespace: "+s.xmlns);return s.calcchain=s.calcchains.length>0?s.calcchains[0]:"",s.sst=s.strs.length>0?s.strs[0]:"",s.style=s.styles.length>0?s.styles[0]:"",s.defaults=t,delete s.calcchains,s}var Iu={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function fN(e){var s=e.lastIndexOf("/");return e.slice(0,s+1)+"_rels/"+e.slice(s+1)+".rels"}function Qm(e,s){var t={"!id":{}};if(!e)return t;s.charAt(0)!=="/"&&(s="/"+s);var i={};return(e.match(In)||[]).forEach(function(o){var u=sr(o);if(u[0]==="<Relationship"){var c={};c.Type=u.Type,c.Target=u.Target,c.Id=u.Id,u.TargetMode&&(c.TargetMode=u.TargetMode);var m=u.TargetMode==="External"?u.Target:Wm(u.Target,s);t[m]=c,i[u.Id]=c}}),t["!id"]=i,t}var q6="application/vnd.oasis.opendocument.spreadsheet";function J6(e,s){for(var t=$N(e),i,o;i=cf.exec(t);)switch(i[3]){case"manifest":break;case"file-entry":if(o=sr(i[0],!1),o.path=="/"&&o.type!==q6)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(s&&s.WTF)throw i}}var Zm=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Q6=(function(){for(var e=new Array(Zm.length),s=0;s<Zm.length;++s){var t=Zm[s],i="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);e[s]=new RegExp("<"+i+"[^>]*>([\\s\\S]*?)</"+i+">")}return e})();function Tw(e){var s={};e=ns(e);for(var t=0;t<Zm.length;++t){var i=Zm[t],o=e.match(Q6[t]);o!=null&&o.length>0&&(s[i[1]]=Fr(o[1])),i[2]==="date"&&s[i[1]]&&(s[i[1]]=rn(s[i[1]]))}return s}var Z6=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function _w(e,s,t,i){var o=[];if(typeof e=="string")o=bE(e,i);else for(var u=0;u<e.length;++u)o=o.concat(e[u].map(function(v){return{v}}));var c=typeof s=="string"?bE(s,i).map(function(v){return v.v}):s,m=0,h=0;if(c.length>0)for(var g=0;g!==o.length;g+=2){switch(h=+o[g+1].v,o[g].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=h,t.SheetNames=c.slice(m,m+h);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=h,t.DefinedNames=c.slice(m,m+h);break;case"Charts":case"Diagramme":t.Chartsheets=h,t.ChartNames=c.slice(m,m+h);break}m+=h}}function eA(e,s,t){var i={};return s||(s={}),e=ns(e),Z6.forEach(function(o){var u=(e.match(lf(o[0]))||[])[1];switch(o[2]){case"string":u&&(s[o[1]]=Fr(u));break;case"bool":s[o[1]]=u==="true";break;case"raw":var c=e.match(new RegExp("<"+o[0]+"[^>]*>([\\s\\S]*?)</"+o[0]+">"));c&&c.length>0&&(i[o[1]]=c[1]);break}}),i.HeadingPairs&&i.TitlesOfParts&&_w(i.HeadingPairs,i.TitlesOfParts,s,t),s}var tA=/<[^>]+>[^<]*/g;function rA(e,s){var t={},i="",o=e.match(tA);if(o)for(var u=0;u!=o.length;++u){var c=o[u],m=sr(c);switch(m[0]){case"<?xml":break;case"<Properties":break;case"<property":i=Fr(m.name);break;case"</property>":i=null;break;default:if(c.indexOf("<vt:")===0){var h=c.split(">"),g=h[0].slice(4),v=h[1];switch(g){case"lpstr":case"bstr":case"lpwstr":t[i]=Fr(v);break;case"bool":t[i]=us(v);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[i]=parseInt(v,10);break;case"r4":case"r8":case"decimal":t[i]=parseFloat(v);break;case"filetime":case"date":t[i]=rn(v);break;case"cy":case"error":t[i]=Fr(v);break;default:if(g.slice(-1)=="/")break;s.WTF&&typeof console<"u"&&console.warn("Unexpected",c,g,h)}}else if(c.slice(0,2)!=="</"){if(s.WTF)throw new Error(c)}}}return t}var sA={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Yb;function nA(e,s,t){Yb||(Yb=MN(sA)),s=Yb[s]||s,e[s]=t}function KN(e){var s=e.read_shift(4),t=e.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+s/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Pw(e,s,t){var i=e.l,o=e.read_shift(0,"lpstr-cp");if(t)for(;e.l-i&3;)++e.l;return o}function Uw(e,s,t){var i=e.read_shift(0,"lpwstr");return i}function Vw(e,s,t){return s===31?Uw(e):Pw(e,s,t)}function pN(e,s,t){return Vw(e,s,t===!1?0:4)}function aA(e,s){if(!s)throw new Error("VtUnalignedString must have positive length");return Vw(e,s,0)}function iA(e){for(var s=e.read_shift(4),t=[],i=0;i!=s;++i){var o=e.l;t[i]=e.read_shift(0,"lpwstr").replace(Jn,""),e.l-o&2&&(e.l+=2)}return t}function oA(e){for(var s=e.read_shift(4),t=[],i=0;i!=s;++i)t[i]=e.read_shift(0,"lpstr-cp").replace(Jn,"");return t}function lA(e){var s=e.l,t=bh(e,kw);e[e.l]==0&&e[e.l+1]==0&&e.l-s&2&&(e.l+=2);var i=bh(e,pa);return[t,i]}function cA(e){for(var s=e.read_shift(4),t=[],i=0;i<s/2;++i)t.push(lA(e));return t}function TE(e,s){for(var t=e.read_shift(4),i={},o=0;o!=t;++o){var u=e.read_shift(4),c=e.read_shift(4);i[u]=e.read_shift(c,s===1200?"utf16le":"utf8").replace(Jn,"").replace(Gm,"!"),s===1200&&c%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),i}function jw(e){var s=e.read_shift(4),t=e.slice(e.l,e.l+s);return e.l+=s,(s&3)>0&&(e.l+=4-(s&3)&3),t}function uA(e){var s={};return s.Size=e.read_shift(4),e.l+=s.Size+3-(s.Size-1)%4,s}function bh(e,s,t){var i=e.read_shift(2),o,u=t||{};if(e.l+=2,s!==wE&&i!==s&&B6.indexOf(s)===-1&&!((s&65534)==4126&&(i&65534)==4126))throw new Error("Expected type "+s+" saw "+i);switch(s===wE?i:s){case 2:return o=e.read_shift(2,"i"),u.raw||(e.l+=2),o;case 3:return o=e.read_shift(4,"i"),o;case 11:return e.read_shift(4)!==0;case 19:return o=e.read_shift(4),o;case 30:return Pw(e,i,4).replace(Jn,"");case 31:return Uw(e);case 64:return KN(e);case 65:return jw(e);case 71:return uA(e);case 80:return pN(e,i,!u.raw).replace(Jn,"");case 81:return aA(e,i).replace(Jn,"");case 4108:return cA(e);case 4126:case 4127:return i==4127?iA(e):oA(e);default:throw new Error("TypedPropertyValue unrecognized type "+s+" "+i)}}function _E(e,s){var t=e.l,i=e.read_shift(4),o=e.read_shift(4),u=[],c=0,m=0,h=-1,g={};for(c=0;c!=o;++c){var v=e.read_shift(4),b=e.read_shift(4);u[c]=[v,b+t]}u.sort(function(Z,R){return Z[1]-R[1]});var E={};for(c=0;c!=o;++c){if(e.l!==u[c][1]){var k=!0;if(c>0&&s)switch(s[u[c-1][0]].t){case 2:e.l+2===u[c][1]&&(e.l+=2,k=!1);break;case 80:e.l<=u[c][1]&&(e.l=u[c][1],k=!1);break;case 4108:e.l<=u[c][1]&&(e.l=u[c][1],k=!1);break}if((!s||c==0)&&e.l<=u[c][1]&&(k=!1,e.l=u[c][1]),k)throw new Error("Read Error: Expected address "+u[c][1]+" at "+e.l+" :"+c)}if(s){var w=s[u[c][0]];if(E[w.n]=bh(e,w.t,{raw:!0}),w.p==="version"&&(E[w.n]=String(E[w.n]>>16)+"."+("0000"+String(E[w.n]&65535)).slice(-4)),w.n=="CodePage")switch(E[w.n]){case 0:E[w.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ni(m=E[w.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+E[w.n])}}else if(u[c][0]===1){if(m=E.CodePage=bh(e,YN),Ni(m),h!==-1){var y=e.l;e.l=u[h][1],g=TE(e,m),e.l=y}}else if(u[c][0]===0){if(m===0){h=c,e.l=u[c+1][1];continue}g=TE(e,m)}else{var T=g[u[c][0]],J;switch(e[e.l]){case 65:e.l+=4,J=jw(e);break;case 30:e.l+=4,J=pN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,J=pN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,J=e.read_shift(4,"i");break;case 19:e.l+=4,J=e.read_shift(4);break;case 5:e.l+=4,J=e.read_shift(8,"f");break;case 11:e.l+=4,J=Os(e,4);break;case 64:e.l+=4,J=rn(KN(e));break;default:throw new Error("unparsed value: "+e[e.l])}E[T]=J}}return e.l=t+i,E}function PE(e,s,t){var i=e.content;if(!i)return{};Nn(i,0);var o,u,c,m,h=0;i.chk("feff","Byte Order: "),i.read_shift(2);var g=i.read_shift(4),v=i.read_shift(16);if(v!==Lr.utils.consts.HEADER_CLSID&&v!==t)throw new Error("Bad PropertySet CLSID "+v);if(o=i.read_shift(4),o!==1&&o!==2)throw new Error("Unrecognized #Sets: "+o);if(u=i.read_shift(16),m=i.read_shift(4),o===1&&m!==i.l)throw new Error("Length mismatch: "+m+" !== "+i.l);o===2&&(c=i.read_shift(16),h=i.read_shift(4));var b=_E(i,s),E={SystemIdentifier:g};for(var k in b)E[k]=b[k];if(E.FMTID=u,o===1)return E;if(h-i.l==2&&(i.l+=2),i.l!==h)throw new Error("Length mismatch 2: "+i.l+" !== "+h);var w;try{w=_E(i,null)}catch{}for(k in w)E[k]=w[k];return E.FMTID=[u,c],E}function bl(e,s){return e.read_shift(s),null}function dA(e,s,t){for(var i=[],o=e.l+s;e.l<o;)i.push(t(e,o-e.l));if(o!==e.l)throw new Error("Slurp error");return i}function Os(e,s){return e.read_shift(s)===1}function Ps(e){return e.read_shift(2,"u")}function Aw(e,s){return dA(e,s,Ps)}function mA(e){var s=e.read_shift(1),t=e.read_shift(1);return t===1?s:s===1}function Nf(e,s,t){var i=e.read_shift(t&&t.biff>=12?2:1),o="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var u=e.read_shift(1);u&&(o="dbcs-cont")}else t.biff==12&&(o="wstr");t.biff>=2&&t.biff<=5&&(o="cpstr");var c=i?e.read_shift(i,o):"";return c}function fA(e){var s=e.read_shift(2),t=e.read_shift(1),i=t&4,o=t&8,u=1+(t&1),c=0,m,h={};o&&(c=e.read_shift(2)),i&&(m=e.read_shift(4));var g=u==2?"dbcs-cont":"sbcs-cont",v=s===0?"":e.read_shift(s,g);return o&&(e.l+=4*c),i&&(e.l+=m),h.t=v,o||(h.raw="<t>"+h.t+"</t>",h.r=h.t),h}function wc(e,s,t){var i;if(t){if(t.biff>=2&&t.biff<=5)return e.read_shift(s,"cpstr");if(t.biff>=12)return e.read_shift(s,"dbcs-cont")}var o=e.read_shift(1);return o===0?i=e.read_shift(s,"sbcs-cont"):i=e.read_shift(s,"dbcs-cont"),i}function Df(e,s,t){var i=e.read_shift(t&&t.biff==2?1:2);return i===0?(e.l++,""):wc(e,i,t)}function Uc(e,s,t){if(t.biff>5)return Df(e,s,t);var i=e.read_shift(1);return i===0?(e.l++,""):e.read_shift(i,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function pA(e){var s=e.read_shift(1);e.l++;var t=e.read_shift(2);return e.l+=2,[s,t]}function hA(e){var s=e.read_shift(4),t=e.l,i=!1;s>24&&(e.l+=s-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(i=!0),e.l=t);var o=e.read_shift((i?s-24:s)>>1,"utf16le").replace(Jn,"");return i&&(e.l+=24),o}function vA(e){for(var s=e.read_shift(2),t="";s-- >0;)t+="../";var i=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var o=e.read_shift(4);if(o===0)return t+i.replace(/\\/g,"/");var u=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var c=e.read_shift(u>>1,"utf16le").replace(Jn,"");return t+c}function gA(e,s){var t=e.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return hA(e);case"0303000000000000c000000000000046":return vA(e);default:throw new Error("Unsupported Moniker "+t)}}function Qp(e){var s=e.read_shift(4),t=s>0?e.read_shift(s,"utf16le").replace(Jn,""):"";return t}function xA(e,s){var t=e.l+s,i=e.read_shift(4);if(i!==2)throw new Error("Unrecognized streamVersion: "+i);var o=e.read_shift(2);e.l+=2;var u,c,m,h,g="",v,b;o&16&&(u=Qp(e,t-e.l)),o&128&&(c=Qp(e,t-e.l)),(o&257)===257&&(m=Qp(e,t-e.l)),(o&257)===1&&(h=gA(e,t-e.l)),o&8&&(g=Qp(e,t-e.l)),o&32&&(v=e.read_shift(16)),o&64&&(b=KN(e)),e.l=t;var E=c||m||h||"";E&&g&&(E+="#"+g),E||(E="#"+g),o&2&&E.charAt(0)=="/"&&E.charAt(1)!="/"&&(E="file://"+E);var k={Target:E};return v&&(k.guid=v),b&&(k.time=b),u&&(k.Tooltip=u),k}function Lw(e){var s=e.read_shift(1),t=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(1);return[s,t,i,o]}function Mw(e,s){var t=Lw(e);return t[3]=0,t}function Ji(e){var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2);return{r:s,c:t,ixfe:i}}function bA(e){var s=e.read_shift(2),t=e.read_shift(2);return e.l+=8,{type:s,flags:t}}function NA(e,s,t){return s===0?"":Uc(e,s,t)}function DA(e,s,t){var i=t.biff>8?4:2,o=e.read_shift(i),u=e.read_shift(i,"i"),c=e.read_shift(i,"i");return[o,u,c]}function Iw(e){var s=e.read_shift(2),t=WN(e);return[s,t]}function SA(e,s,t){e.l+=4,s-=4;var i=e.l+s,o=Nf(e,s,t),u=e.read_shift(2);if(i-=e.l,u!==i)throw new Error("Malformed AddinUdf: padding = "+i+" != "+u);return e.l+=u,o}function Th(e){var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2);return{s:{c:i,r:s},e:{c:o,r:t}}}function Fw(e){var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1);return{s:{c:i,r:s},e:{c:o,r:t}}}var OA=Fw;function $w(e){e.l+=4;var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2);return e.l+=12,[t,s,i]}function yA(e){var s={};return e.l+=4,e.l+=16,s.fSharedNote=e.read_shift(2),e.l+=4,s}function EA(e){var s={};return e.l+=4,e.cf=e.read_shift(2),s}function Un(e){e.l+=2,e.l+=e.read_shift(2)}var CA={0:Un,4:Un,5:Un,6:Un,7:EA,8:Un,9:Un,10:Un,11:Un,12:Un,13:yA,14:Un,15:Un,16:Un,17:Un,18:Un,19:Un,20:Un,21:$w};function wA(e,s){for(var t=e.l+s,i=[];e.l<t;){var o=e.read_shift(2);e.l-=2;try{i.push(CA[o](e,t-e.l))}catch{return e.l=t,i}}return e.l!=t&&(e.l=t),i}function Zp(e,s){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=e.read_shift(2),s-=2,s>=2&&(t.dt=e.read_shift(2),e.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(s>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return e.read_shift(s),t}function kA(e,s){return s===0||e.read_shift(2),1200}function RA(e,s,t){if(t.enc)return e.l+=s,"";var i=e.l,o=Uc(e,0,t);return e.read_shift(s+i-e.l),o}function TA(e,s,t){var i=t&&t.biff==8||s==2?e.read_shift(2):(e.l+=s,0);return{fDialog:i&16,fBelow:i&64,fRight:i&128}}function _A(e,s,t){var i=e.read_shift(4),o=e.read_shift(1)&3,u=e.read_shift(1);switch(u){case 0:u="Worksheet";break;case 1:u="Macrosheet";break;case 2:u="Chartsheet";break;case 6:u="VBAModule";break}var c=Nf(e,0,t);return c.length===0&&(c="Sheet1"),{pos:i,hs:o,dt:u,name:c}}function PA(e,s){for(var t=e.l+s,i=e.read_shift(4),o=e.read_shift(4),u=[],c=0;c!=o&&e.l<t;++c)u.push(fA(e));return u.Count=i,u.Unique=o,u}function UA(e,s){var t={};return t.dsst=e.read_shift(2),e.l+=s-2,t}function VA(e){var s={};s.r=e.read_shift(2),s.c=e.read_shift(2),s.cnt=e.read_shift(2)-s.c;var t=e.read_shift(2);e.l+=4;var i=e.read_shift(1);return e.l+=3,i&7&&(s.level=i&7),i&32&&(s.hidden=!0),i&64&&(s.hpt=t/20),s}function jA(e){var s=bA(e);if(s.type!=2211)throw new Error("Invalid Future Record "+s.type);var t=e.read_shift(4);return t!==0}function AA(e){return e.read_shift(2),e.read_shift(4)}function UE(e,s,t){var i=0;t&&t.biff==2||(i=e.read_shift(2));var o=e.read_shift(2);t&&t.biff==2&&(i=1-(o>>15),o&=32767);var u={Unsynced:i&1,DyZero:(i&2)>>1,ExAsc:(i&4)>>2,ExDsc:(i&8)>>3};return[u,o]}function LA(e){var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),c=e.read_shift(2),m=e.read_shift(2),h=e.read_shift(2),g=e.read_shift(2);return{Pos:[s,t],Dim:[i,o],Flags:u,CurTab:c,FirstTab:m,Selected:h,TabRatio:g}}function MA(e,s,t){if(t&&t.biff>=2&&t.biff<5)return{};var i=e.read_shift(2);return{RTL:i&64}}function IA(){}function FA(e,s,t){var i={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return i.name=Nf(e,0,t),i}function $A(e){var s=Ji(e);return s.isst=e.read_shift(4),s}function BA(e,s,t){t.biffguess&&t.biff==2&&(t.biff=5);var i=e.l+s,o=Ji(e);t.biff==2&&e.l++;var u=Df(e,i-e.l,t);return o.val=u,o}function XA(e,s,t){var i=e.read_shift(2),o=Uc(e,0,t);return[i,o]}var HA=Uc;function VE(e,s,t){var i=e.l+s,o=t.biff==8||!t.biff?4:2,u=e.read_shift(o),c=e.read_shift(o),m=e.read_shift(2),h=e.read_shift(2);return e.l=i,{s:{r:u,c:m},e:{r:c,c:h}}}function zA(e){var s=e.read_shift(2),t=e.read_shift(2),i=Iw(e);return{r:s,c:t,ixfe:i[0],rknum:i[1]}}function GA(e,s){for(var t=e.l+s-2,i=e.read_shift(2),o=e.read_shift(2),u=[];e.l<t;)u.push(Iw(e));if(e.l!==t)throw new Error("MulRK read error");var c=e.read_shift(2);if(u.length!=c-o+1)throw new Error("MulRK length mismatch");return{r:i,c:o,C:c,rkrec:u}}function WA(e,s){for(var t=e.l+s-2,i=e.read_shift(2),o=e.read_shift(2),u=[];e.l<t;)u.push(e.read_shift(2));if(e.l!==t)throw new Error("MulBlank read error");var c=e.read_shift(2);if(u.length!=c-o+1)throw new Error("MulBlank length mismatch");return{r:i,c:o,C:c,ixfe:u}}function YA(e,s,t,i){var o={},u=e.read_shift(4),c=e.read_shift(4),m=e.read_shift(4),h=e.read_shift(2);return o.patternType=z6[m>>26],i.cellStyles&&(o.alc=u&7,o.fWrap=u>>3&1,o.alcV=u>>4&7,o.fJustLast=u>>7&1,o.trot=u>>8&255,o.cIndent=u>>16&15,o.fShrinkToFit=u>>20&1,o.iReadOrder=u>>22&2,o.fAtrNum=u>>26&1,o.fAtrFnt=u>>27&1,o.fAtrAlc=u>>28&1,o.fAtrBdr=u>>29&1,o.fAtrPat=u>>30&1,o.fAtrProt=u>>31&1,o.dgLeft=c&15,o.dgRight=c>>4&15,o.dgTop=c>>8&15,o.dgBottom=c>>12&15,o.icvLeft=c>>16&127,o.icvRight=c>>23&127,o.grbitDiag=c>>30&3,o.icvTop=m&127,o.icvBottom=m>>7&127,o.icvDiag=m>>14&127,o.dgDiag=m>>21&15,o.icvFore=h&127,o.icvBack=h>>7&127,o.fsxButton=h>>14&1),o}function KA(e,s,t){var i={};return i.ifnt=e.read_shift(2),i.numFmtId=e.read_shift(2),i.flags=e.read_shift(2),i.fStyle=i.flags>>2&1,s-=6,i.data=YA(e,s,i.fStyle,t),i}function qA(e){e.l+=4;var s=[e.read_shift(2),e.read_shift(2)];if(s[0]!==0&&s[0]--,s[1]!==0&&s[1]--,s[0]>7||s[1]>7)throw new Error("Bad Gutters: "+s.join("|"));return s}function jE(e,s,t){var i=Ji(e);(t.biff==2||s==9)&&++e.l;var o=mA(e);return i.val=o,i.t=o===!0||o===!1?"b":"e",i}function JA(e,s,t){t.biffguess&&t.biff==2&&(t.biff=5);var i=Ji(e),o=jn(e);return i.val=o,i}var AE=NA;function QA(e,s,t){var i=e.l+s,o=e.read_shift(2),u=e.read_shift(2);if(t.sbcch=u,u==1025||u==14849)return[u,o];if(u<1||u>255)throw new Error("Unexpected SupBook type: "+u);for(var c=wc(e,u),m=[];i>e.l;)m.push(Df(e));return[u,o,c,m]}function LE(e,s,t){var i=e.read_shift(2),o,u={fBuiltIn:i&1,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return t.sbcch===14849&&(o=SA(e,s-2,t)),u.body=o||e.read_shift(s-2),typeof o=="string"&&(u.Name=o),u}var ZA=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function ME(e,s,t){var i=e.l+s,o=e.read_shift(2),u=e.read_shift(1),c=e.read_shift(1),m=e.read_shift(t&&t.biff==2?1:2),h=0;(!t||t.biff>=5)&&(t.biff!=5&&(e.l+=2),h=e.read_shift(2),t.biff==5&&(e.l+=2),e.l+=4);var g=wc(e,c,t);o&32&&(g=ZA[g.charCodeAt(0)]);var v=i-e.l;t&&t.biff==2&&--v;var b=i==e.l||m===0||!(v>0)?[]:V8(e,v,t,m);return{chKey:u,Name:g,itab:h,rgce:b}}function Bw(e,s,t){if(t.biff<8)return eL(e,s,t);for(var i=[],o=e.l+s,u=e.read_shift(t.biff>8?4:2);u--!==0;)i.push(DA(e,t.biff>8?12:6,t));if(e.l!=o)throw new Error("Bad ExternSheet: "+e.l+" != "+o);return i}function eL(e,s,t){e[e.l+1]==3&&e[e.l]++;var i=Nf(e,s,t);return i.charCodeAt(0)==3?i.slice(1):i}function tL(e,s,t){if(t.biff<8){e.l+=s;return}var i=e.read_shift(2),o=e.read_shift(2),u=wc(e,i,t),c=wc(e,o,t);return[u,c]}function rL(e,s,t){var i=Fw(e);e.l++;var o=e.read_shift(1);return s-=8,[j8(e,s,t),o,i]}function IE(e,s,t){var i=OA(e);switch(t.biff){case 2:e.l++,s-=7;break;case 3:case 4:e.l+=2,s-=8;break;default:e.l+=6,s-=12}return[i,P8(e,s,t)]}function sL(e){var s=e.read_shift(4)!==0,t=e.read_shift(4)!==0,i=e.read_shift(4);return[s,t,i]}function nL(e,s,t){if(!(t.biff<8)){var i=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),c=e.read_shift(2),m=Uc(e,0,t);return t.biff<8&&e.read_shift(1),[{r:i,c:o},m,c,u]}}function aL(e,s,t){return nL(e,s,t)}function iL(e,s){for(var t=[],i=e.read_shift(2);i--;)t.push(Th(e));return t}function oL(e,s,t){if(t&&t.biff<8)return cL(e,s,t);var i=$w(e),o=wA(e,s-22,i[1]);return{cmo:i,ft:o}}var lL={8:function(e,s){var t=e.l+s;e.l+=10;var i=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var o=e.read_shift(1);return e.l+=o,e.l=t,{fmt:i}}};function cL(e,s,t){e.l+=4;var i=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,s-=36;var c=[];return c.push((lL[i]||Mn)(e,s,t)),{cmo:[o,i,u],ft:c}}function uL(e,s,t){var i=e.l,o="";try{e.l+=4;var u=(t.lastobj||{cmo:[0,0]}).cmo[1],c;[0,5,7,11,12,14].indexOf(u)==-1?e.l+=6:c=pA(e,6,t);var m=e.read_shift(2);e.read_shift(2),Ps(e,2);var h=e.read_shift(2);e.l+=h;for(var g=1;g<e.lens.length-1;++g){if(e.l-i!=e.lens[g])throw new Error("TxO: bad continue record");var v=e[e.l],b=wc(e,e.lens[g+1]-e.lens[g]-1);if(o+=b,o.length>=(v?m:2*m))break}if(o.length!==m&&o.length!==m*2)throw new Error("cchText: "+m+" != "+o.length);return e.l=i+s,{t:o}}catch{return e.l=i+s,{t:o}}}function dL(e,s){var t=Th(e);e.l+=16;var i=xA(e,s-24);return[t,i]}function mL(e,s){e.read_shift(2);var t=Th(e),i=e.read_shift((s-10)/2,"dbcs-cont");return i=i.replace(Jn,""),[t,i]}function fL(e){var s=[0,0],t;return t=e.read_shift(2),s[0]=kE[t]||t,t=e.read_shift(2),s[1]=kE[t]||t,s}function pL(e){for(var s=e.read_shift(2),t=[];s-- >0;)t.push(Mw(e));return t}function hL(e){for(var s=e.read_shift(2),t=[];s-- >0;)t.push(Mw(e));return t}function vL(e){e.l+=2;var s={cxfs:0,crc:0};return s.cxfs=e.read_shift(2),s.crc=e.read_shift(4),s}function Xw(e,s,t){if(!t.cellStyles)return Mn(e,s);var i=t&&t.biff>=12?4:2,o=e.read_shift(i),u=e.read_shift(i),c=e.read_shift(i),m=e.read_shift(i),h=e.read_shift(2);i==2&&(e.l+=2);var g={s:o,e:u,w:c,ixfe:m,flags:h};return(t.biff>=5||!t.biff)&&(g.level=h>>8&7),g}function gL(e,s){var t={};return s<32||(e.l+=16,t.header=jn(e),t.footer=jn(e),e.l+=2),t}function xL(e,s,t){var i={area:!1};if(t.biff!=5)return e.l+=s,i;var o=e.read_shift(1);return e.l+=3,o&16&&(i.area=!0),i}var bL=Ji,NL=Aw,DL=Df;function SL(e){var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(4),o={fmt:s,env:t,len:i,data:e.slice(e.l,e.l+i)};return e.l+=i,o}function OL(e,s,t){t.biffguess&&t.biff==5&&(t.biff=2);var i=Ji(e);++e.l;var o=Uc(e,s-7,t);return i.t="str",i.val=o,i}function yL(e){var s=Ji(e);++e.l;var t=jn(e);return s.t="n",s.val=t,s}function EL(e){var s=Ji(e);++e.l;var t=e.read_shift(2);return s.t="n",s.val=t,s}function CL(e){var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,"sbcs-cont")}function wL(e,s){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=s-13}function kL(e,s,t){var i=e.l+s,o=Ji(e),u=e.read_shift(2),c=wc(e,u,t);return e.l=i,o.t="str",o.val=c,o}var RL=[2,3,48,49,131,139,140,245],FE=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},s=MN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(m,h){var g=[],v=Cl(1);switch(h.type){case"base64":v=bi(Ta(m));break;case"binary":v=bi(m);break;case"buffer":case"array":v=m;break}Nn(v,0);var b=v.read_shift(1),E=!!(b&136),k=!1,w=!1;switch(b){case 2:break;case 3:break;case 48:k=!0,E=!0;break;case 49:k=!0,E=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+b.toString(16))}var y=0,T=521;b==2&&(y=v.read_shift(2)),v.l+=3,b!=2&&(y=v.read_shift(4)),y>1048576&&(y=1e6),b!=2&&(T=v.read_shift(2));var J=v.read_shift(2),Z=h.codepage||1252;b!=2&&(v.l+=16,v.read_shift(1),v[v.l]!==0&&(Z=e[v[v.l]]),v.l+=1,v.l+=2),w&&(v.l+=36);for(var R=[],le={},W=Math.min(v.length,b==2?521:T-10-(k?264:0)),ee=w?32:11;v.l<W&&v[v.l]!=13;)switch(le={},le.name=af.utils.decode(Z,v.slice(v.l,v.l+ee)).replace(/[\u0000\r\n].*$/g,""),v.l+=ee,le.type=String.fromCharCode(v.read_shift(1)),b!=2&&!w&&(le.offset=v.read_shift(4)),le.len=v.read_shift(1),b==2&&(le.offset=v.read_shift(2)),le.dec=v.read_shift(1),le.name.length&&R.push(le),b!=2&&(v.l+=w?13:14),le.type){case"B":(!k||le.len!=8)&&h.WTF&&console.log("Skipping "+le.name+":"+le.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+le.name+":"+le.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+le.type)}if(v[v.l]!==13&&(v.l=T-1),v.read_shift(1)!==13)throw new Error("DBF Terminator not found "+v.l+" "+v[v.l]);v.l=T;var X=0,De=0;for(g[0]=[],De=0;De!=R.length;++De)g[0][De]=R[De].name;for(;y-- >0;){if(v[v.l]===42){v.l+=J;continue}for(++v.l,g[++X]=[],De=0,De=0;De!=R.length;++De){var _=v.slice(v.l,v.l+R[De].len);v.l+=R[De].len,Nn(_,0);var B=af.utils.decode(Z,_);switch(R[De].type){case"C":B.trim().length&&(g[X][De]=B.replace(/\s+$/,""));break;case"D":B.length===8?g[X][De]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):g[X][De]=B;break;case"F":g[X][De]=parseFloat(B.trim());break;case"+":case"I":g[X][De]=w?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":g[X][De]=!0;break;case"N":case"F":g[X][De]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!E)throw new Error("DBF Unexpected MEMO for type "+b.toString(16));g[X][De]="##MEMO##"+(w?parseInt(B.trim(),10):_.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(g[X][De]=+B||0);break;case"@":g[X][De]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":g[X][De]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":g[X][De]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":g[X][De]=-_.read_shift(-8,"f");break;case"B":if(k&&R[De].len==8){g[X][De]=_.read_shift(8,"f");break}case"G":case"P":_.l+=R[De].len;break;case"0":if(R[De].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[De].type)}}}if(b!=2&&v.l<v.length&&v[v.l++]!=26)throw new Error("DBF EOF Marker missing "+(v.l-1)+" of "+v.length+" "+v[v.l-1].toString(16));return h&&h.sheetRows&&(g=g.slice(0,h.sheetRows)),h.DBF=R,g}function i(m,h){var g=h||{};g.dateNF||(g.dateNF="yyyymmdd");var v=qu(t(m,g),g);return v["!cols"]=g.DBF.map(function(b){return{wch:b.len,DBF:b}}),delete g.DBF,v}function o(m,h){try{return kl(i(m,h),h)}catch(g){if(h&&h.WTF)throw g}return{SheetNames:[],Sheets:{}}}var u={B:8,C:250,L:1,D:8,"?":0,"":0};function c(m,h){var g=h||{};if(+g.codepage>=0&&Ni(+g.codepage),g.type=="string")throw new Error("Cannot write DBF to JS string");var v=dN(),b=NN(m,{header:1,raw:!0,cellDates:!0}),E=b[0],k=b.slice(1),w=m["!cols"]||[],y=0,T=0,J=0,Z=1;for(y=0;y<E.length;++y){if(((w[y]||{}).DBF||{}).name){E[y]=w[y].DBF.name,++J;continue}if(E[y]!=null){if(++J,typeof E[y]=="number"&&(E[y]=E[y].toString(10)),typeof E[y]!="string")throw new Error("DBF Invalid column name "+E[y]+" |"+typeof E[y]+"|");if(E.indexOf(E[y])!==y){for(T=0;T<1024;++T)if(E.indexOf(E[y]+"_"+T)==-1){E[y]+="_"+T;break}}}}var R=Ns(m["!ref"]),le=[],W=[],ee=[];for(y=0;y<=R.e.c-R.s.c;++y){var X="",De="",_=0,B=[];for(T=0;T<k.length;++T)k[T][y]!=null&&B.push(k[T][y]);if(B.length==0||E[y]==null){le[y]="?";continue}for(T=0;T<B.length;++T){switch(typeof B[T]){case"number":De="B";break;case"string":De="C";break;case"boolean":De="L";break;case"object":De=B[T]instanceof Date?"D":"C";break;default:De="C"}_=Math.max(_,String(B[T]).length),X=X&&X!=De?"C":De}_>250&&(_=250),De=((w[y]||{}).DBF||{}).type,De=="C"&&w[y].DBF.len>_&&(_=w[y].DBF.len),X=="B"&&De=="N"&&(X="N",ee[y]=w[y].DBF.dec,_=w[y].DBF.len),W[y]=X=="C"||De=="N"?_:u[X]||0,Z+=W[y],le[y]=X}var re=v.next(32);for(re.write_shift(4,318902576),re.write_shift(4,k.length),re.write_shift(2,296+32*J),re.write_shift(2,Z),y=0;y<4;++y)re.write_shift(4,0);for(re.write_shift(4,0|(+s[BC]||3)<<8),y=0,T=0;y<E.length;++y)if(E[y]!=null){var H=v.next(32),oe=(E[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,oe,"sbcs"),H.write_shift(1,le[y]=="?"?"C":le[y],"sbcs"),H.write_shift(4,T),H.write_shift(1,W[y]||u[le[y]]||0),H.write_shift(1,ee[y]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),T+=W[y]||u[le[y]]||0}var _e=v.next(264);for(_e.write_shift(4,13),y=0;y<65;++y)_e.write_shift(4,0);for(y=0;y<k.length;++y){var ne=v.next(Z);for(ne.write_shift(1,0),T=0;T<E.length;++T)if(E[T]!=null)switch(le[T]){case"L":ne.write_shift(1,k[y][T]==null?63:k[y][T]?84:70);break;case"B":ne.write_shift(8,k[y][T]||0,"f");break;case"N":var we="0";for(typeof k[y][T]=="number"&&(we=k[y][T].toFixed(ee[T]||0)),J=0;J<W[T]-we.length;++J)ne.write_shift(1,32);ne.write_shift(1,we,"sbcs");break;case"D":k[y][T]?(ne.write_shift(4,("0000"+k[y][T].getFullYear()).slice(-4),"sbcs"),ne.write_shift(2,("00"+(k[y][T].getMonth()+1)).slice(-2),"sbcs"),ne.write_shift(2,("00"+k[y][T].getDate()).slice(-2),"sbcs")):ne.write_shift(8,"00000000","sbcs");break;case"C":var ve=String(k[y][T]!=null?k[y][T]:"").slice(0,W[T]);for(ne.write_shift(1,ve,"sbcs"),J=0;J<W[T]-ve.length;++J)ne.write_shift(1,32);break}}return v.next(1).write_shift(1,26),v.end()}return{to_workbook:o,to_sheet:i,from_sheet:c}})(),TL=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},s=new RegExp("\x1BN("+Wi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(E,k){var w=e[k];return typeof w=="number"?rE(w):w},i=function(E,k,w){var y=k.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return y==59?E:rE(y)};e["|"]=254;function o(E,k){switch(k.type){case"base64":return u(Ta(E),k);case"binary":return u(E,k);case"buffer":return u(Pr&&Buffer.isBuffer(E)?E.toString("binary"):Rc(E),k);case"array":return u(Cc(E),k)}throw new Error("Unrecognized type "+k.type)}function u(E,k){var w=E.split(/[\n\r]+/),y=-1,T=-1,J=0,Z=0,R=[],le=[],W=null,ee={},X=[],De=[],_=[],B=0,re;for(+k.codepage>=0&&Ni(+k.codepage);J!==w.length;++J){B=0;var H=w[J].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(s,t),oe=H.replace(/;;/g,"\0").split(";").map(function(se){return se.replace(/\u0000/g,";")}),_e=oe[0],ne;if(H.length>0)switch(_e){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":oe[1].charAt(0)=="P"&&le.push(H.slice(3).replace(/;;/g,";"));break;case"C":var we=!1,ve=!1,Me=!1,be=!1,Ie=-1,Te=-1;for(Z=1;Z<oe.length;++Z)switch(oe[Z].charAt(0)){case"A":break;case"X":T=parseInt(oe[Z].slice(1))-1,ve=!0;break;case"Y":for(y=parseInt(oe[Z].slice(1))-1,ve||(T=0),re=R.length;re<=y;++re)R[re]=[];break;case"K":ne=oe[Z].slice(1),ne.charAt(0)==='"'?ne=ne.slice(1,ne.length-1):ne==="TRUE"?ne=!0:ne==="FALSE"?ne=!1:isNaN(Si(ne))?isNaN(Xu(ne).getDate())||(ne=rn(ne)):(ne=Si(ne),W!==null&&Yu(W)&&(ne=Rh(ne))),we=!0;break;case"E":be=!0;var Q=$u(oe[Z].slice(1),{r:y,c:T});R[y][T]=[R[y][T],Q];break;case"S":Me=!0,R[y][T]=[R[y][T],"S5S"];break;case"G":break;case"R":Ie=parseInt(oe[Z].slice(1))-1;break;case"C":Te=parseInt(oe[Z].slice(1))-1;break;default:if(k&&k.WTF)throw new Error("SYLK bad record "+H)}if(we&&(R[y][T]&&R[y][T].length==2?R[y][T][0]=ne:R[y][T]=ne,W=null),Me){if(be)throw new Error("SYLK shared formula cannot have own formula");var Oe=Ie>-1&&R[Ie][Te];if(!Oe||!Oe[1])throw new Error("SYLK shared formula cannot find base");R[y][T][1]=Zw(Oe[1],{r:y-Ie,c:T-Te})}break;case"F":var me=0;for(Z=1;Z<oe.length;++Z)switch(oe[Z].charAt(0)){case"X":T=parseInt(oe[Z].slice(1))-1,++me;break;case"Y":for(y=parseInt(oe[Z].slice(1))-1,re=R.length;re<=y;++re)R[re]=[];break;case"M":B=parseInt(oe[Z].slice(1))/20;break;case"F":break;case"G":break;case"P":W=le[parseInt(oe[Z].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=oe[Z].slice(1).split(" "),re=parseInt(_[0],10);re<=parseInt(_[1],10);++re)B=parseInt(_[2],10),De[re-1]=B===0?{hidden:!0}:{wch:B},Hu(De[re-1]);break;case"C":T=parseInt(oe[Z].slice(1))-1,De[T]||(De[T]={});break;case"R":y=parseInt(oe[Z].slice(1))-1,X[y]||(X[y]={}),B>0?(X[y].hpt=B,X[y].hpx=mf(B)):B===0&&(X[y].hidden=!0);break;default:if(k&&k.WTF)throw new Error("SYLK bad record "+H)}me<1&&(W=null);break;default:if(k&&k.WTF)throw new Error("SYLK bad record "+H)}}return X.length>0&&(ee["!rows"]=X),De.length>0&&(ee["!cols"]=De),k&&k.sheetRows&&(R=R.slice(0,k.sheetRows)),[R,ee]}function c(E,k){var w=o(E,k),y=w[0],T=w[1],J=qu(y,k);return Wi(T).forEach(function(Z){J[Z]=T[Z]}),J}function m(E,k){return kl(c(E,k),k)}function h(E,k,w,y){var T="C;Y"+(w+1)+";X"+(y+1)+";K";switch(E.t){case"n":T+=E.v||0,E.f&&!E.F&&(T+=";E"+vI(E.f,{r:w,c:y}));break;case"b":T+=E.v?"TRUE":"FALSE";break;case"e":T+=E.w||E.v;break;case"d":T+='"'+(E.w||E.v)+'"';break;case"s":T+='"'+E.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function g(E,k){k.forEach(function(w,y){var T="F;W"+(y+1)+" "+(y+1)+" ";w.hidden?T+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=Dh(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=Sh(w.wpx)),typeof w.wch=="number"&&(T+=Math.round(w.wch))),T.charAt(T.length-1)!=" "&&E.push(T)})}function v(E,k){k.forEach(function(w,y){var T="F;";w.hidden?T+="M0;":w.hpt?T+="M"+20*w.hpt+";":w.hpx&&(T+="M"+20*qw(w.hpx)+";"),T.length>2&&E.push(T+"R"+(y+1))})}function b(E,k){var w=["ID;PWXL;N;E"],y=[],T=Ns(E["!ref"]),J,Z=Array.isArray(E),R=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),E["!cols"]&&g(w,E["!cols"]),E["!rows"]&&v(w,E["!rows"]),w.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var le=T.s.r;le<=T.e.r;++le)for(var W=T.s.c;W<=T.e.c;++W){var ee=dr({r:le,c:W});J=Z?(E[le]||[])[W]:E[ee],!(!J||J.v==null&&(!J.f||J.F))&&y.push(h(J,E,le,W))}return w.join(R)+R+y.join(R)+R+"E"+R}return{to_workbook:m,to_sheet:c,from_sheet:b}})(),_L=(function(){function e(u,c){switch(c.type){case"base64":return s(Ta(u),c);case"binary":return s(u,c);case"buffer":return s(Pr&&Buffer.isBuffer(u)?u.toString("binary"):Rc(u),c);case"array":return s(Cc(u),c)}throw new Error("Unrecognized type "+c.type)}function s(u,c){for(var m=u.split(`
`),h=-1,g=-1,v=0,b=[];v!==m.length;++v){if(m[v].trim()==="BOT"){b[++h]=[],g=0;continue}if(!(h<0)){var E=m[v].trim().split(","),k=E[0],w=E[1];++v;for(var y=m[v]||"";(y.match(/["]/g)||[]).length&1&&v<m.length-1;)y+=`
`+m[++v];switch(y=y.trim(),+k){case-1:if(y==="BOT"){b[++h]=[],g=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?b[h][g]=!0:y==="FALSE"?b[h][g]=!1:isNaN(Si(w))?isNaN(Xu(w).getDate())?b[h][g]=w:b[h][g]=rn(w):b[h][g]=Si(w),++g;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),b[h][g++]=y!==""?y:null;break}if(y==="EOD")break}}return c&&c.sheetRows&&(b=b.slice(0,c.sheetRows)),b}function t(u,c){return qu(e(u,c),c)}function i(u,c){return kl(t(u,c),c)}var o=(function(){var u=function(h,g,v,b,E){h.push(g),h.push(v+","+b),h.push('"'+E.replace(/"/g,'""')+'"')},c=function(h,g,v,b){h.push(g+","+v),h.push(g==1?'"'+b.replace(/"/g,'""')+'"':b)};return function(h){var g=[],v=Ns(h["!ref"]),b,E=Array.isArray(h);u(g,"TABLE",0,1,"sheetjs"),u(g,"VECTORS",0,v.e.r-v.s.r+1,""),u(g,"TUPLES",0,v.e.c-v.s.c+1,""),u(g,"DATA",0,0,"");for(var k=v.s.r;k<=v.e.r;++k){c(g,-1,0,"BOT");for(var w=v.s.c;w<=v.e.c;++w){var y=dr({r:k,c:w});if(b=E?(h[k]||[])[w]:h[y],!b){c(g,1,0,"");continue}switch(b.t){case"n":var T=b.w;!T&&b.v!=null&&(T=b.v),T==null?b.f&&!b.F?c(g,1,0,"="+b.f):c(g,1,0,""):c(g,0,T,"V");break;case"b":c(g,0,b.v?1:0,b.v?"TRUE":"FALSE");break;case"s":c(g,1,0,isNaN(b.v)?b.v:'="'+b.v+'"');break;case"d":b.w||(b.w=Xa(b.z||gr[14],Qn(rn(b.v)))),c(g,0,b.w,"V");break;default:c(g,1,0,"")}}}c(g,-1,0,"EOD");var J=`\r
`,Z=g.join(J);return Z}})();return{to_workbook:i,to_sheet:t,from_sheet:o}})(),PL=(function(){function e(b){return b.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function s(b){return b.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(b,E){for(var k=b.split(`
`),w=-1,y=-1,T=0,J=[];T!==k.length;++T){var Z=k[T].trim().split(":");if(Z[0]==="cell"){var R=qn(Z[1]);if(J.length<=R.r)for(w=J.length;w<=R.r;++w)J[w]||(J[w]=[]);switch(w=R.r,y=R.c,Z[2]){case"t":J[w][y]=e(Z[3]);break;case"v":J[w][y]=+Z[3];break;case"vtf":var le=Z[Z.length-1];case"vtc":switch(Z[3]){case"nl":J[w][y]=!!+Z[4];break;default:J[w][y]=+Z[4];break}Z[2]=="vtf"&&(J[w][y]=[J[w][y],le])}}}return E&&E.sheetRows&&(J=J.slice(0,E.sheetRows)),J}function i(b,E){return qu(t(b,E),E)}function o(b,E){return kl(i(b,E),E)}var u=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,m=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function g(b){if(!b||!b["!ref"])return"";for(var E=[],k=[],w,y="",T=Ku(b["!ref"]),J=Array.isArray(b),Z=T.s.r;Z<=T.e.r;++Z)for(var R=T.s.c;R<=T.e.c;++R)if(y=dr({r:Z,c:R}),w=J?(b[Z]||[])[R]:b[y],!(!w||w.v==null||w.t==="z")){switch(k=["cell",y,"t"],w.t){case"s":case"str":k.push(s(w.v));break;case"n":w.f?(k[2]="vtf",k[3]="n",k[4]=w.v,k[5]=s(w.f)):(k[2]="v",k[3]=w.v);break;case"b":k[2]="vt"+(w.f?"f":"c"),k[3]="nl",k[4]=w.v?"1":"0",k[5]=s(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var le=Qn(rn(w.v));k[2]="vtc",k[3]="nd",k[4]=""+le,k[5]=w.w||Xa(w.z||gr[14],le);break;case"e":continue}E.push(k.join(":"))}return E.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),E.push("valueformat:1:text-wiki"),E.join(`
`)}function v(b){return[u,c,m,c,g(b),h].join(`
`)}return{to_workbook:o,to_sheet:i,from_sheet:v}})(),uf=(function(){function e(v,b,E,k,w){w.raw?b[E][k]=v:v===""||(v==="TRUE"?b[E][k]=!0:v==="FALSE"?b[E][k]=!1:isNaN(Si(v))?isNaN(Xu(v).getDate())?b[E][k]=v:b[E][k]=rn(v):b[E][k]=Si(v))}function s(v,b){var E=b||{},k=[];if(!v||v.length===0)return k;for(var w=v.split(/[\r\n]/),y=w.length-1;y>=0&&w[y].length===0;)--y;for(var T=10,J=0,Z=0;Z<=y;++Z)J=w[Z].indexOf(" "),J==-1?J=w[Z].length:J++,T=Math.max(T,J);for(Z=0;Z<=y;++Z){k[Z]=[];var R=0;for(e(w[Z].slice(0,T).trim(),k,Z,R,E),R=1;R<=(w[Z].length-T)/10+1;++R)e(w[Z].slice(T+(R-1)*10,T+R*10).trim(),k,Z,R,E)}return E.sheetRows&&(k=k.slice(0,E.sheetRows)),k}var t={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function o(v){for(var b={},E=!1,k=0,w=0;k<v.length;++k)(w=v.charCodeAt(k))==34?E=!E:!E&&w in t&&(b[w]=(b[w]||0)+1);w=[];for(k in b)Object.prototype.hasOwnProperty.call(b,k)&&w.push([b[k],k]);if(!w.length){b=i;for(k in b)Object.prototype.hasOwnProperty.call(b,k)&&w.push([b[k],k])}return w.sort(function(y,T){return y[0]-T[0]||i[y[1]]-i[T[1]]}),t[w.pop()[1]]||44}function u(v,b){var E=b||{},k="",w=E.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};v.slice(0,4)=="sep="?v.charCodeAt(5)==13&&v.charCodeAt(6)==10?(k=v.charAt(4),v=v.slice(7)):v.charCodeAt(5)==13||v.charCodeAt(5)==10?(k=v.charAt(4),v=v.slice(6)):k=o(v.slice(0,1024)):E&&E.FS?k=E.FS:k=o(v.slice(0,1024));var T=0,J=0,Z=0,R=0,le=0,W=k.charCodeAt(0),ee=!1,X=0,De=v.charCodeAt(0);v=v.replace(/\r\n/mg,`
`);var _=E.dateNF!=null?Xj(E.dateNF):null;function B(){var re=v.slice(R,le),H={};if(re.charAt(0)=='"'&&re.charAt(re.length-1)=='"'&&(re=re.slice(1,-1).replace(/""/g,'"')),re.length===0)H.t="z";else if(E.raw)H.t="s",H.v=re;else if(re.trim().length===0)H.t="s",H.v=re;else if(re.charCodeAt(0)==61)re.charCodeAt(1)==34&&re.charCodeAt(re.length-1)==34?(H.t="s",H.v=re.slice(2,-1).replace(/""/g,'"')):xI(re)?(H.t="n",H.f=re.slice(1)):(H.t="s",H.v=re);else if(re=="TRUE")H.t="b",H.v=!0;else if(re=="FALSE")H.t="b",H.v=!1;else if(!isNaN(Z=Si(re)))H.t="n",E.cellText!==!1&&(H.w=re),H.v=Z;else if(!isNaN(Xu(re).getDate())||_&&re.match(_)){H.z=E.dateNF||gr[14];var oe=0;_&&re.match(_)&&(re=Hj(re,E.dateNF,re.match(_)||[]),oe=1),E.cellDates?(H.t="d",H.v=rn(re,oe)):(H.t="n",H.v=Qn(rn(re,oe))),E.cellText!==!1&&(H.w=Xa(H.z,H.v instanceof Date?Qn(H.v):H.v)),E.cellNF||delete H.z}else H.t="s",H.v=re;if(H.t=="z"||(E.dense?(w[T]||(w[T]=[]),w[T][J]=H):w[dr({c:J,r:T})]=H),R=le+1,De=v.charCodeAt(R),y.e.c<J&&(y.e.c=J),y.e.r<T&&(y.e.r=T),X==W)++J;else if(J=0,++T,E.sheetRows&&E.sheetRows<=T)return!0}e:for(;le<v.length;++le)switch(X=v.charCodeAt(le)){case 34:De===34&&(ee=!ee);break;case W:case 10:case 13:if(!ee&&B())break e;break}return le-R>0&&B(),w["!ref"]=Mr(y),w}function c(v,b){return!(b&&b.PRN)||b.FS||v.slice(0,4)=="sep="||v.indexOf("	")>=0||v.indexOf(",")>=0||v.indexOf(";")>=0?u(v,b):qu(s(v,b),b)}function m(v,b){var E="",k=b.type=="string"?[0,0,0,0]:sD(v,b);switch(b.type){case"base64":E=Ta(v);break;case"binary":E=v;break;case"buffer":b.codepage==65001?E=v.toString("utf8"):b.codepage&&typeof af<"u"||(E=Pr&&Buffer.isBuffer(v)?v.toString("binary"):Rc(v));break;case"array":E=Cc(v);break;case"string":E=v;break;default:throw new Error("Unrecognized type "+b.type)}return k[0]==239&&k[1]==187&&k[2]==191?E=ns(E.slice(3)):b.type!="string"&&b.type!="buffer"&&b.codepage==65001?E=ns(E):b.type=="binary"&&typeof af<"u",E.slice(0,19)=="socialcalc:version:"?PL.to_sheet(b.type=="string"?E:ns(E),b):c(E,b)}function h(v,b){return kl(m(v,b),b)}function g(v){for(var b=[],E=Ns(v["!ref"]),k,w=Array.isArray(v),y=E.s.r;y<=E.e.r;++y){for(var T=[],J=E.s.c;J<=E.e.c;++J){var Z=dr({r:y,c:J});if(k=w?(v[y]||[])[J]:v[Z],!k||k.v==null){T.push("          ");continue}for(var R=(k.w||(Vo(k),k.w)||"").slice(0,10);R.length<10;)R+=" ";T.push(R+(J===0?" ":""))}b.push(T.join(""))}return b.join(`
`)}return{to_workbook:h,to_sheet:m,from_sheet:g}})();function UL(e,s){var t=s||{},i=!!t.WTF;t.WTF=!0;try{var o=TL.to_workbook(e,t);return t.WTF=i,o}catch(u){if(t.WTF=i,!u.message.match(/SYLK bad record ID/)&&i)throw u;return uf.to_workbook(e,s)}}var ef=(function(){function e(Q,Oe,me){if(Q){Nn(Q,Q.l||0);for(var se=me.Enum||Ie;Q.l<Q.length;){var ie=Q.read_shift(2),Y=se[ie]||se[65535],U=Q.read_shift(2),de=Q.l+U,I=Y.f&&Y.f(Q,U,me);if(Q.l=de,Oe(I,Y,ie))return}}}function s(Q,Oe){switch(Oe.type){case"base64":return t(bi(Ta(Q)),Oe);case"binary":return t(bi(Q),Oe);case"buffer":case"array":return t(Q,Oe)}throw"Unsupported type "+Oe.type}function t(Q,Oe){if(!Q)return Q;var me=Oe||{},se=me.dense?[]:{},ie="Sheet1",Y="",U=0,de={},I=[],Ee=[],j={s:{r:0,c:0},e:{r:0,c:0}},he=me.sheetRows||0;if(Q[2]==0&&(Q[3]==8||Q[3]==9)&&Q.length>=16&&Q[14]==5&&Q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Q[2]==2)me.Enum=Ie,e(Q,function(ze,Ft,Qt){switch(Qt){case 0:me.vers=ze,ze>=4096&&(me.qpro=!0);break;case 6:j=ze;break;case 204:ze&&(Y=ze);break;case 222:Y=ze;break;case 15:case 51:me.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:Qt==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=me.dateNF||gr[14],me.cellDates&&(ze[1].t="d",ze[1].v=Rh(ze[1].v))),me.qpro&&ze[3]>U&&(se["!ref"]=Mr(j),de[ie]=se,I.push(ie),se=me.dense?[]:{},j={s:{r:0,c:0},e:{r:0,c:0}},U=ze[3],ie=Y||"Sheet"+(U+1),Y="");var cr=me.dense?(se[ze[0].r]||[])[ze[0].c]:se[dr(ze[0])];if(cr){cr.t=ze[1].t,cr.v=ze[1].v,ze[1].z!=null&&(cr.z=ze[1].z),ze[1].f!=null&&(cr.f=ze[1].f);break}me.dense?(se[ze[0].r]||(se[ze[0].r]=[]),se[ze[0].r][ze[0].c]=ze[1]):se[dr(ze[0])]=ze[1];break}},me);else if(Q[2]==26||Q[2]==14)me.Enum=Te,Q[2]==14&&(me.qpro=!0,Q.l=0),e(Q,function(ze,Ft,Qt){switch(Qt){case 204:ie=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>U&&(se["!ref"]=Mr(j),de[ie]=se,I.push(ie),se=me.dense?[]:{},j={s:{r:0,c:0},e:{r:0,c:0}},U=ze[3],ie="Sheet"+(U+1)),he>0&&ze[0].r>=he)break;me.dense?(se[ze[0].r]||(se[ze[0].r]=[]),se[ze[0].r][ze[0].c]=ze[1]):se[dr(ze[0])]=ze[1],j.e.c<ze[0].c&&(j.e.c=ze[0].c),j.e.r<ze[0].r&&(j.e.r=ze[0].r);break;case 27:ze[14e3]&&(Ee[ze[14e3][0]]=ze[14e3][1]);break;case 1537:Ee[ze[0]]=ze[1],ze[0]==U&&(ie=ze[1]);break}},me);else throw new Error("Unrecognized LOTUS BOF "+Q[2]);if(se["!ref"]=Mr(j),de[Y||ie]=se,I.push(Y||ie),!Ee.length)return{SheetNames:I,Sheets:de};for(var Ce={},Fe=[],He=0;He<Ee.length;++He)de[I[He]]?(Fe.push(Ee[He]||I[He]),Ce[Ee[He]]=de[Ee[He]]||de[I[He]]):(Fe.push(Ee[He]),Ce[Ee[He]]={"!ref":"A1"});return{SheetNames:Fe,Sheets:Ce}}function i(Q,Oe){var me=Oe||{};if(+me.codepage>=0&&Ni(+me.codepage),me.type=="string")throw new Error("Cannot write WK1 to JS string");var se=dN(),ie=Ns(Q["!ref"]),Y=Array.isArray(Q),U=[];vi(se,0,u(1030)),vi(se,6,h(ie));for(var de=Math.min(ie.e.r,8191),I=ie.s.r;I<=de;++I)for(var Ee=Sn(I),j=ie.s.c;j<=ie.e.c;++j){I===ie.s.r&&(U[j]=Ws(j));var he=U[j]+Ee,Ce=Y?(Q[I]||[])[j]:Q[he];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?vi(se,13,k(I,j,Ce.v)):vi(se,14,y(I,j,Ce.v));else{var Fe=Vo(Ce);vi(se,15,b(I,j,Fe.slice(0,239)))}}return vi(se,1),se.end()}function o(Q,Oe){var me=Oe||{};if(+me.codepage>=0&&Ni(+me.codepage),me.type=="string")throw new Error("Cannot write WK3 to JS string");var se=dN();vi(se,0,c(Q));for(var ie=0,Y=0;ie<Q.SheetNames.length;++ie)(Q.Sheets[Q.SheetNames[ie]]||{})["!ref"]&&vi(se,27,be(Q.SheetNames[ie],Y++));var U=0;for(ie=0;ie<Q.SheetNames.length;++ie){var de=Q.Sheets[Q.SheetNames[ie]];if(!(!de||!de["!ref"])){for(var I=Ns(de["!ref"]),Ee=Array.isArray(de),j=[],he=Math.min(I.e.r,8191),Ce=I.s.r;Ce<=he;++Ce)for(var Fe=Sn(Ce),He=I.s.c;He<=I.e.c;++He){Ce===I.s.r&&(j[He]=Ws(He));var ze=j[He]+Fe,Ft=Ee?(de[Ce]||[])[He]:de[ze];if(!(!Ft||Ft.t=="z"))if(Ft.t=="n")vi(se,23,B(Ce,He,U,Ft.v));else{var Qt=Vo(Ft);vi(se,22,X(Ce,He,U,Qt.slice(0,239)))}}++U}}return vi(se,1),se.end()}function u(Q){var Oe=Gs(2);return Oe.write_shift(2,Q),Oe}function c(Q){var Oe=Gs(26);Oe.write_shift(2,4096),Oe.write_shift(2,4),Oe.write_shift(4,0);for(var me=0,se=0,ie=0,Y=0;Y<Q.SheetNames.length;++Y){var U=Q.SheetNames[Y],de=Q.Sheets[U];if(!(!de||!de["!ref"])){++ie;var I=Ku(de["!ref"]);me<I.e.r&&(me=I.e.r),se<I.e.c&&(se=I.e.c)}}return me>8191&&(me=8191),Oe.write_shift(2,me),Oe.write_shift(1,ie),Oe.write_shift(1,se),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(1,1),Oe.write_shift(1,2),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe}function m(Q,Oe,me){var se={s:{c:0,r:0},e:{c:0,r:0}};return Oe==8&&me.qpro?(se.s.c=Q.read_shift(1),Q.l++,se.s.r=Q.read_shift(2),se.e.c=Q.read_shift(1),Q.l++,se.e.r=Q.read_shift(2),se):(se.s.c=Q.read_shift(2),se.s.r=Q.read_shift(2),Oe==12&&me.qpro&&(Q.l+=2),se.e.c=Q.read_shift(2),se.e.r=Q.read_shift(2),Oe==12&&me.qpro&&(Q.l+=2),se.s.c==65535&&(se.s.c=se.e.c=se.s.r=se.e.r=0),se)}function h(Q){var Oe=Gs(8);return Oe.write_shift(2,Q.s.c),Oe.write_shift(2,Q.s.r),Oe.write_shift(2,Q.e.c),Oe.write_shift(2,Q.e.r),Oe}function g(Q,Oe,me){var se=[{c:0,r:0},{t:"n",v:0},0,0];return me.qpro&&me.vers!=20768?(se[0].c=Q.read_shift(1),se[3]=Q.read_shift(1),se[0].r=Q.read_shift(2),Q.l+=2):(se[2]=Q.read_shift(1),se[0].c=Q.read_shift(2),se[0].r=Q.read_shift(2)),se}function v(Q,Oe,me){var se=Q.l+Oe,ie=g(Q,Oe,me);if(ie[1].t="s",me.vers==20768){Q.l++;var Y=Q.read_shift(1);return ie[1].v=Q.read_shift(Y,"utf8"),ie}return me.qpro&&Q.l++,ie[1].v=Q.read_shift(se-Q.l,"cstr"),ie}function b(Q,Oe,me){var se=Gs(7+me.length);se.write_shift(1,255),se.write_shift(2,Oe),se.write_shift(2,Q),se.write_shift(1,39);for(var ie=0;ie<se.length;++ie){var Y=me.charCodeAt(ie);se.write_shift(1,Y>=128?95:Y)}return se.write_shift(1,0),se}function E(Q,Oe,me){var se=g(Q,Oe,me);return se[1].v=Q.read_shift(2,"i"),se}function k(Q,Oe,me){var se=Gs(7);return se.write_shift(1,255),se.write_shift(2,Oe),se.write_shift(2,Q),se.write_shift(2,me,"i"),se}function w(Q,Oe,me){var se=g(Q,Oe,me);return se[1].v=Q.read_shift(8,"f"),se}function y(Q,Oe,me){var se=Gs(13);return se.write_shift(1,255),se.write_shift(2,Oe),se.write_shift(2,Q),se.write_shift(8,me,"f"),se}function T(Q,Oe,me){var se=Q.l+Oe,ie=g(Q,Oe,me);if(ie[1].v=Q.read_shift(8,"f"),me.qpro)Q.l=se;else{var Y=Q.read_shift(2);le(Q.slice(Q.l,Q.l+Y),ie),Q.l+=Y}return ie}function J(Q,Oe,me){var se=Oe&32768;return Oe&=-32769,Oe=(se?Q:0)+(Oe>=8192?Oe-16384:Oe),(se?"":"$")+(me?Ws(Oe):Sn(Oe))}var Z={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function le(Q,Oe){Nn(Q,0);for(var me=[],se=0,ie="",Y="",U="",de="";Q.l<Q.length;){var I=Q[Q.l++];switch(I){case 0:me.push(Q.read_shift(8,"f"));break;case 1:Y=J(Oe[0].c,Q.read_shift(2),!0),ie=J(Oe[0].r,Q.read_shift(2),!1),me.push(Y+ie);break;case 2:{var Ee=J(Oe[0].c,Q.read_shift(2),!0),j=J(Oe[0].r,Q.read_shift(2),!1);Y=J(Oe[0].c,Q.read_shift(2),!0),ie=J(Oe[0].r,Q.read_shift(2),!1),me.push(Ee+j+":"+Y+ie)}break;case 3:if(Q.l<Q.length){console.error("WK1 premature formula end");return}break;case 4:me.push("("+me.pop()+")");break;case 5:me.push(Q.read_shift(2));break;case 6:{for(var he="";I=Q[Q.l++];)he+=String.fromCharCode(I);me.push('"'+he.replace(/"/g,'""')+'"')}break;case 8:me.push("-"+me.pop());break;case 23:me.push("+"+me.pop());break;case 22:me.push("NOT("+me.pop()+")");break;case 20:case 21:de=me.pop(),U=me.pop(),me.push(["AND","OR"][I-20]+"("+U+","+de+")");break;default:if(I<32&&R[I])de=me.pop(),U=me.pop(),me.push(U+R[I]+de);else if(Z[I]){if(se=Z[I][1],se==69&&(se=Q[Q.l++]),se>me.length){console.error("WK1 bad formula parse 0x"+I.toString(16)+":|"+me.join("|")+"|");return}var Ce=me.slice(-se);me.length-=se,me.push(Z[I][0]+"("+Ce.join(",")+")")}else return I<=7?console.error("WK1 invalid opcode "+I.toString(16)):I<=24?console.error("WK1 unsupported op "+I.toString(16)):I<=30?console.error("WK1 invalid opcode "+I.toString(16)):I<=115?console.error("WK1 unsupported function opcode "+I.toString(16)):console.error("WK1 unrecognized opcode "+I.toString(16))}}me.length==1?Oe[1].f=""+me[0]:console.error("WK1 bad formula parse |"+me.join("|")+"|")}function W(Q){var Oe=[{c:0,r:0},{t:"n",v:0},0];return Oe[0].r=Q.read_shift(2),Oe[3]=Q[Q.l++],Oe[0].c=Q[Q.l++],Oe}function ee(Q,Oe){var me=W(Q);return me[1].t="s",me[1].v=Q.read_shift(Oe-4,"cstr"),me}function X(Q,Oe,me,se){var ie=Gs(6+se.length);ie.write_shift(2,Q),ie.write_shift(1,me),ie.write_shift(1,Oe),ie.write_shift(1,39);for(var Y=0;Y<se.length;++Y){var U=se.charCodeAt(Y);ie.write_shift(1,U>=128?95:U)}return ie.write_shift(1,0),ie}function De(Q,Oe){var me=W(Q);me[1].v=Q.read_shift(2);var se=me[1].v>>1;if(me[1].v&1)switch(se&7){case 0:se=(se>>3)*5e3;break;case 1:se=(se>>3)*500;break;case 2:se=(se>>3)/20;break;case 3:se=(se>>3)/200;break;case 4:se=(se>>3)/2e3;break;case 5:se=(se>>3)/2e4;break;case 6:se=(se>>3)/16;break;case 7:se=(se>>3)/64;break}return me[1].v=se,me}function _(Q,Oe){var me=W(Q),se=Q.read_shift(4),ie=Q.read_shift(4),Y=Q.read_shift(2);if(Y==65535)return se===0&&ie===3221225472?(me[1].t="e",me[1].v=15):se===0&&ie===3489660928?(me[1].t="e",me[1].v=42):me[1].v=0,me;var U=Y&32768;return Y=(Y&32767)-16446,me[1].v=(1-U*2)*(ie*Math.pow(2,Y+32)+se*Math.pow(2,Y)),me}function B(Q,Oe,me,se){var ie=Gs(14);if(ie.write_shift(2,Q),ie.write_shift(1,me),ie.write_shift(1,Oe),se==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var Y=0,U=0,de=0,I=0;return se<0&&(Y=1,se=-se),U=Math.log2(se)|0,se/=Math.pow(2,U-31),I=se>>>0,(I&2147483648)==0&&(se/=2,++U,I=se>>>0),se-=I,I|=2147483648,I>>>=0,se*=Math.pow(2,32),de=se>>>0,ie.write_shift(4,de),ie.write_shift(4,I),U+=16383+(Y?32768:0),ie.write_shift(2,U),ie}function re(Q,Oe){var me=_(Q);return Q.l+=Oe-14,me}function H(Q,Oe){var me=W(Q),se=Q.read_shift(4);return me[1].v=se>>6,me}function oe(Q,Oe){var me=W(Q),se=Q.read_shift(8,"f");return me[1].v=se,me}function _e(Q,Oe){var me=oe(Q);return Q.l+=Oe-10,me}function ne(Q,Oe){return Q[Q.l+Oe-1]==0?Q.read_shift(Oe,"cstr"):""}function we(Q,Oe){var me=Q[Q.l++];me>Oe-1&&(me=Oe-1);for(var se="";se.length<me;)se+=String.fromCharCode(Q[Q.l++]);return se}function ve(Q,Oe,me){if(!(!me.qpro||Oe<21)){var se=Q.read_shift(1);Q.l+=17,Q.l+=1,Q.l+=2;var ie=Q.read_shift(Oe-21,"cstr");return[se,ie]}}function Me(Q,Oe){for(var me={},se=Q.l+Oe;Q.l<se;){var ie=Q.read_shift(2);if(ie==14e3){for(me[ie]=[0,""],me[ie][0]=Q.read_shift(2);Q[Q.l];)me[ie][1]+=String.fromCharCode(Q[Q.l]),Q.l++;Q.l++}}return me}function be(Q,Oe){var me=Gs(5+Q.length);me.write_shift(2,14e3),me.write_shift(2,Oe);for(var se=0;se<Q.length;++se){var ie=Q.charCodeAt(se);me[me.l++]=ie>127?95:ie}return me[me.l++]=0,me}var Ie={0:{n:"BOF",f:Ps},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:m},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:E},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:v},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:v},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ne},222:{n:"SHEETNAMELP",f:we},65535:{n:""}},Te={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ee},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:De},25:{n:"FORMULA19",f:re},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Me},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:oe},40:{n:"FORMULA28",f:_e},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ne},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ve},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:o,to_workbook:s}})();function VL(e){var s={},t=e.match(In),i=0,o=!1;if(t)for(;i!=t.length;++i){var u=sr(t[i]);switch(u[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!u.val)break;case"<shadow>":case"<shadow/>":s.shadow=1;break;case"</shadow>":break;case"<charset":if(u.val=="1")break;s.cp=UN[parseInt(u.val,10)];break;case"<outline":if(!u.val)break;case"<outline>":case"<outline/>":s.outline=1;break;case"</outline>":break;case"<rFont":s.name=u.val;break;case"<sz":s.sz=u.val;break;case"<strike":if(!u.val)break;case"<strike>":case"<strike/>":s.strike=1;break;case"</strike>":break;case"<u":if(!u.val)break;switch(u.val){case"double":s.uval="double";break;case"singleAccounting":s.uval="single-accounting";break;case"doubleAccounting":s.uval="double-accounting";break}case"<u>":case"<u/>":s.u=1;break;case"</u>":break;case"<b":if(u.val=="0")break;case"<b>":case"<b/>":s.b=1;break;case"</b>":break;case"<i":if(u.val=="0")break;case"<i>":case"<i/>":s.i=1;break;case"</i>":break;case"<color":u.rgb&&(s.color=u.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":s.family=u.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":s.valign=u.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(u[0].charCodeAt(1)!==47&&!o)throw new Error("Unrecognized rich format "+u[0])}}return s}var jL=(function(){var e=lf("t"),s=lf("rPr");function t(u){var c=u.match(e);if(!c)return{t:"s",v:""};var m={t:"s",v:Fr(c[1])},h=u.match(s);return h&&(m.s=VL(h[1])),m}var i=/<(?:\w+:)?r>/g,o=/<\/(?:\w+:)?r>/;return function(c){return c.replace(i,"").split(o).map(t).filter(function(m){return m.v})}})(),AL=(function(){var s=/(\r\n|\n)/g;function t(o,u,c){var m=[];o.u&&m.push("text-decoration: underline;"),o.uval&&m.push("text-underline-style:"+o.uval+";"),o.sz&&m.push("font-size:"+o.sz+"pt;"),o.outline&&m.push("text-effect: outline;"),o.shadow&&m.push("text-shadow: auto;"),u.push('<span style="'+m.join("")+'">'),o.b&&(u.push("<b>"),c.push("</b>")),o.i&&(u.push("<i>"),c.push("</i>")),o.strike&&(u.push("<s>"),c.push("</s>"));var h=o.valign||"";return h=="superscript"||h=="super"?h="sup":h=="subscript"&&(h="sub"),h!=""&&(u.push("<"+h+">"),c.push("</"+h+">")),c.push("</span>"),o}function i(o){var u=[[],o.v,[]];return o.v?(o.s&&t(o.s,u[0],u[2]),u[0].join("")+u[1].replace(s,"<br/>")+u[2].join("")):""}return function(u){return u.map(i).join("")}})(),LL=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ML=/<(?:\w+:)?r>/,IL=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function qN(e,s){var t=s?s.cellHTML:!0,i={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(i.t=Fr(ns(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),i.r=ns(e),t&&(i.h=FN(i.t))):e.match(ML)&&(i.r=ns(e),i.t=Fr(ns((e.replace(IL,"").match(LL)||[]).join("").replace(In,""))),t&&(i.h=AL(jL(i.r)))),i):{t:""}}var FL=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,$L=/<(?:\w+:)?(?:si|sstItem)>/g,BL=/<\/(?:\w+:)?(?:si|sstItem)>/;function XL(e,s){var t=[],i="";if(!e)return t;var o=e.match(FL);if(o){i=o[2].replace($L,"").split(BL);for(var u=0;u!=i.length;++u){var c=qN(i[u].trim(),s);c!=null&&(t[t.length]=c)}o=sr(o[1]),t.Count=o.count,t.Unique=o.uniqueCount}return t}function HL(e){return[e.read_shift(4),e.read_shift(4)]}function zL(e,s){var t=[],i=!1;return Mo(e,function(u,c,m){switch(m){case 159:t.Count=u[0],t.Unique=u[1];break;case 19:t.push(u);break;case 160:return!0;case 35:i=!0;break;case 36:i=!1;break;default:if(c.T,!i||s.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}),t}function Hw(e){for(var s=[],t=e.split(""),i=0;i<t.length;++i)s[i]=t[i].charCodeAt(0);return s}function Po(e,s){var t={};return t.Major=e.read_shift(2),t.Minor=e.read_shift(2),s>=4&&(e.l+=s-4),t}function GL(e){var s={};return s.id=e.read_shift(0,"lpp4"),s.R=Po(e,4),s.U=Po(e,4),s.W=Po(e,4),s}function WL(e){for(var s=e.read_shift(4),t=e.l+s-4,i={},o=e.read_shift(4),u=[];o-- >0;)u.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(i.name=e.read_shift(0,"lpp4"),i.comps=u,e.l!=t)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+t);return i}function YL(e){var s=[];e.l+=4;for(var t=e.read_shift(4);t-- >0;)s.push(WL(e));return s}function KL(e){var s=[];e.l+=4;for(var t=e.read_shift(4);t-- >0;)s.push(e.read_shift(0,"lpp4"));return s}function qL(e){var s={};return e.read_shift(4),e.l+=4,s.id=e.read_shift(0,"lpp4"),s.name=e.read_shift(0,"lpp4"),s.R=Po(e,4),s.U=Po(e,4),s.W=Po(e,4),s}function JL(e){var s=qL(e);if(s.ename=e.read_shift(0,"8lpp4"),s.blksz=e.read_shift(4),s.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return s}function zw(e,s){var t=e.l+s,i={};i.Flags=e.read_shift(4)&63,e.l+=4,i.AlgID=e.read_shift(4);var o=!1;switch(i.AlgID){case 26126:case 26127:case 26128:o=i.Flags==36;break;case 26625:o=i.Flags==4;break;case 0:o=i.Flags==16||i.Flags==4||i.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+i.AlgID}if(!o)throw new Error("Encryption Flags/AlgID mismatch");return i.AlgIDHash=e.read_shift(4),i.KeySize=e.read_shift(4),i.ProviderType=e.read_shift(4),e.l+=8,i.CSPName=e.read_shift(t-e.l>>1,"utf16le"),e.l=t,i}function Gw(e,s){var t={},i=e.l+s;return e.l+=4,t.Salt=e.slice(e.l,e.l+16),e.l+=16,t.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),t.VerifierHash=e.slice(e.l,i),e.l=i,t}function QL(e){var s=Po(e);switch(s.Minor){case 2:return[s.Minor,ZL(e)];case 3:return[s.Minor,eM()];case 4:return[s.Minor,tM(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+s.Minor)}function ZL(e){var s=e.read_shift(4);if((s&63)!=36)throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4),i=zw(e,t),o=Gw(e,e.length-e.l);return{t:"Std",h:i,v:o}}function eM(){throw new Error("File is password-protected: ECMA-376 Extensible")}function tM(e){var s=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var t=e.read_shift(e.length-e.l,"utf8"),i={};return t.replace(In,function(u){var c=sr(u);switch(qi(c[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":s.forEach(function(m){i[m]=c[m]});break;case"<dataIntegrity":i.encryptedHmacKey=c.encryptedHmacKey,i.encryptedHmacValue=c.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":i.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":i.uri=c.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":i.encs.push(c);break;default:throw c[0]}}),i}function rM(e,s){var t={},i=t.EncryptionVersionInfo=Po(e,4);if(s-=4,i.Minor!=2)throw new Error("unrecognized minor version code: "+i.Minor);if(i.Major>4||i.Major<2)throw new Error("unrecognized major version code: "+i.Major);t.Flags=e.read_shift(4),s-=4;var o=e.read_shift(4);return s-=4,t.EncryptionHeader=zw(e,o),s-=o,t.EncryptionVerifier=Gw(e,s),t}function sM(e){var s={},t=s.EncryptionVersionInfo=Po(e,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return s.Salt=e.read_shift(16),s.EncryptedVerifier=e.read_shift(16),s.EncryptedVerifierHash=e.read_shift(16),s}function nM(e){var s=0,t,i=Hw(e),o=i.length+1,u,c,m,h,g;for(t=Cl(o),t[0]=i.length,u=1;u!=o;++u)t[u]=i[u-1];for(u=o-1;u>=0;--u)c=t[u],m=(s&16384)===0?0:1,h=s<<1&32767,g=m|h,s=g^c;return s^52811}var Ww=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],s=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],i=function(c){return(c/2|c*128)&255},o=function(c,m){return i(c^m)},u=function(c){for(var m=s[c.length-1],h=104,g=c.length-1;g>=0;--g)for(var v=c[g],b=0;b!=7;++b)v&64&&(m^=t[h]),v*=2,--h;return m};return function(c){for(var m=Hw(c),h=u(m),g=m.length,v=Cl(16),b=0;b!=16;++b)v[b]=0;var E,k,w;for((g&1)===1&&(E=h>>8,v[g]=o(e[0],E),--g,E=h&255,k=m[m.length-1],v[g]=o(k,E));g>0;)--g,E=h>>8,v[g]=o(m[g],E),--g,E=h&255,v[g]=o(m[g],E);for(g=15,w=15-m.length;w>0;)E=h>>8,v[g]=o(e[w],E),--g,--w,E=h&255,v[g]=o(m[g],E),--g,--w;return v}})(),aM=function(e,s,t,i,o){o||(o=s),i||(i=Ww(e));var u,c;for(u=0;u!=s.length;++u)c=s[u],c^=i[t],c=(c>>5|c<<3)&255,o[u]=c,++t;return[o,t,i]},iM=function(e){var s=0,t=Ww(e);return function(i){var o=aM("",i,s,t);return s=o[1],o[0]}};function oM(e,s,t,i){var o={key:Ps(e),verificationBytes:Ps(e)};return t.password&&(o.verifier=nM(t.password)),i.valid=o.verificationBytes===o.verifier,i.valid&&(i.insitu=iM(t.password)),o}function lM(e,s,t){var i=t||{};return i.Info=e.read_shift(2),e.l-=2,i.Info===1?i.Data=sM(e):i.Data=rM(e,s),i}function cM(e,s,t){var i={Type:t.biff>=8?e.read_shift(2):0};return i.Type?lM(e,s-2,i):oM(e,t.biff>=8?s:s-2,t,i),i}var uM=(function(){function e(o,u){switch(u.type){case"base64":return s(Ta(o),u);case"binary":return s(o,u);case"buffer":return s(Pr&&Buffer.isBuffer(o)?o.toString("binary"):Rc(o),u);case"array":return s(Cc(o),u)}throw new Error("Unrecognized type "+u.type)}function s(o,u){var c=u||{},m=c.dense?[]:{},h=o.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var g={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(v,b){Array.isArray(m)&&(m[b]=[]);for(var E=/\\\w+\b/g,k=0,w,y=-1;w=E.exec(v);){switch(w[0]){case"\\cell":var T=v.slice(k,E.lastIndex-w[0].length);if(T[0]==" "&&(T=T.slice(1)),++y,T.length){var J={v:T,t:"s"};Array.isArray(m)?m[b][y]=J:m[dr({r:b,c:y})]=J}break}k=E.lastIndex}y>g.e.c&&(g.e.c=y)}),m["!ref"]=Mr(g),m}function t(o,u){return kl(e(o,u),u)}function i(o){for(var u=["{\\rtf1\\ansi"],c=Ns(o["!ref"]),m,h=Array.isArray(o),g=c.s.r;g<=c.e.r;++g){u.push("\\trowd\\trautofit1");for(var v=c.s.c;v<=c.e.c;++v)u.push("\\cellx"+(v+1));for(u.push("\\pard\\intbl"),v=c.s.c;v<=c.e.c;++v){var b=dr({r:g,c:v});m=h?(o[g]||[])[v]:o[b],!(!m||m.v==null&&(!m.f||m.F))&&(u.push(" "+(m.w||(Vo(m),m.w))),u.push("\\cell"))}u.push("\\pard\\intbl\\row")}return u.join("")+"}"}return{to_workbook:t,to_sheet:e,from_sheet:i}})();function dM(e){var s=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(s.slice(0,2),16),parseInt(s.slice(2,4),16),parseInt(s.slice(4,6),16)]}function df(e){for(var s=0,t=1;s!=3;++s)t=t*256+(e[s]>255?255:e[s]<0?0:e[s]);return t.toString(16).toUpperCase().slice(1)}function mM(e){var s=e[0]/255,t=e[1]/255,i=e[2]/255,o=Math.max(s,t,i),u=Math.min(s,t,i),c=o-u;if(c===0)return[0,0,s];var m=0,h=0,g=o+u;switch(h=c/(g>1?2-g:g),o){case s:m=((t-i)/c+6)%6;break;case t:m=(i-s)/c+2;break;case i:m=(s-t)/c+4;break}return[m/6,h,g/2]}function fM(e){var s=e[0],t=e[1],i=e[2],o=t*2*(i<.5?i:1-i),u=i-o/2,c=[u,u,u],m=6*s,h;if(t!==0)switch(m|0){case 0:case 6:h=o*m,c[0]+=o,c[1]+=h;break;case 1:h=o*(2-m),c[0]+=h,c[1]+=o;break;case 2:h=o*(m-2),c[1]+=o,c[2]+=h;break;case 3:h=o*(4-m),c[1]+=h,c[2]+=o;break;case 4:h=o*(m-4),c[2]+=o,c[0]+=h;break;case 5:h=o*(6-m),c[2]+=h,c[0]+=o;break}for(var g=0;g!=3;++g)c[g]=Math.round(c[g]*255);return c}function Nh(e,s){if(s===0)return e;var t=mM(dM(e));return s<0?t[2]=t[2]*(1+s):t[2]=1-(1-t[2])*(1-s),df(fM(t))}var Yw=6,pM=15,hM=1,Kn=Yw;function Dh(e){return Math.floor((e+Math.round(128/Kn)/256)*Kn)}function Sh(e){return Math.floor((e-5)/Kn*100+.5)/100}function hN(e){return Math.round((e*Kn+5)/Kn*256)/256}function Kb(e){return hN(Sh(Dh(e)))}function JN(e){var s=Math.abs(e-Kb(e)),t=Kn;if(s>.005)for(Kn=hM;Kn<pM;++Kn)Math.abs(e-Kb(e))<=s&&(s=Math.abs(e-Kb(e)),t=Kn);Kn=t}function Hu(e){e.width?(e.wpx=Dh(e.width),e.wch=Sh(e.wpx),e.MDW=Kn):e.wpx?(e.wch=Sh(e.wpx),e.width=hN(e.wch),e.MDW=Kn):typeof e.wch=="number"&&(e.width=hN(e.wch),e.wpx=Dh(e.width),e.MDW=Kn),e.customWidth&&delete e.customWidth}var vM=96,Kw=vM;function qw(e){return e*96/Kw}function mf(e){return e*Kw/96}var gM={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function xM(e,s,t,i){s.Borders=[];var o={},u=!1;(e[0].match(In)||[]).forEach(function(c){var m=sr(c);switch(qi(m[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":o={},m.diagonalUp&&(o.diagonalUp=us(m.diagonalUp)),m.diagonalDown&&(o.diagonalDown=us(m.diagonalDown)),s.Borders.push(o);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":u=!0;break;case"</ext>":u=!1;break;default:if(i&&i.WTF&&!u)throw new Error("unrecognized "+m[0]+" in borders")}})}function bM(e,s,t,i){s.Fills=[];var o={},u=!1;(e[0].match(In)||[]).forEach(function(c){var m=sr(c);switch(qi(m[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":o={},s.Fills.push(o);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":s.Fills.push(o),o={};break;case"<patternFill":case"<patternFill>":m.patternType&&(o.patternType=m.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":o.bgColor||(o.bgColor={}),m.indexed&&(o.bgColor.indexed=parseInt(m.indexed,10)),m.theme&&(o.bgColor.theme=parseInt(m.theme,10)),m.tint&&(o.bgColor.tint=parseFloat(m.tint)),m.rgb&&(o.bgColor.rgb=m.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":o.fgColor||(o.fgColor={}),m.theme&&(o.fgColor.theme=parseInt(m.theme,10)),m.tint&&(o.fgColor.tint=parseFloat(m.tint)),m.rgb!=null&&(o.fgColor.rgb=m.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":u=!0;break;case"</ext>":u=!1;break;default:if(i&&i.WTF&&!u)throw new Error("unrecognized "+m[0]+" in fills")}})}function NM(e,s,t,i){s.Fonts=[];var o={},u=!1;(e[0].match(In)||[]).forEach(function(c){var m=sr(c);switch(qi(m[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":s.Fonts.push(o),o={};break;case"<name":m.val&&(o.name=ns(m.val));break;case"<name/>":case"</name>":break;case"<b":o.bold=m.val?us(m.val):1;break;case"<b/>":o.bold=1;break;case"<i":o.italic=m.val?us(m.val):1;break;case"<i/>":o.italic=1;break;case"<u":switch(m.val){case"none":o.underline=0;break;case"single":o.underline=1;break;case"double":o.underline=2;break;case"singleAccounting":o.underline=33;break;case"doubleAccounting":o.underline=34;break}break;case"<u/>":o.underline=1;break;case"<strike":o.strike=m.val?us(m.val):1;break;case"<strike/>":o.strike=1;break;case"<outline":o.outline=m.val?us(m.val):1;break;case"<outline/>":o.outline=1;break;case"<shadow":o.shadow=m.val?us(m.val):1;break;case"<shadow/>":o.shadow=1;break;case"<condense":o.condense=m.val?us(m.val):1;break;case"<condense/>":o.condense=1;break;case"<extend":o.extend=m.val?us(m.val):1;break;case"<extend/>":o.extend=1;break;case"<sz":m.val&&(o.sz=+m.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":m.val&&(o.vertAlign=m.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":m.val&&(o.family=parseInt(m.val,10));break;case"<family/>":case"</family>":break;case"<scheme":m.val&&(o.scheme=m.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(m.val=="1")break;m.codepage=UN[parseInt(m.val,10)];break;case"<color":if(o.color||(o.color={}),m.auto&&(o.color.auto=us(m.auto)),m.rgb)o.color.rgb=m.rgb.slice(-6);else if(m.indexed){o.color.index=parseInt(m.indexed,10);var h=yc[o.color.index];o.color.index==81&&(h=yc[1]),h||(h=yc[1]),o.color.rgb=h[0].toString(16)+h[1].toString(16)+h[2].toString(16)}else m.theme&&(o.color.theme=parseInt(m.theme,10),m.tint&&(o.color.tint=parseFloat(m.tint)),m.theme&&t.themeElements&&t.themeElements.clrScheme&&(o.color.rgb=Nh(t.themeElements.clrScheme[o.color.theme].rgb,o.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":u=!0;break;case"</AlternateContent>":u=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":u=!0;break;case"</ext>":u=!1;break;default:if(i&&i.WTF&&!u)throw new Error("unrecognized "+m[0]+" in fonts")}})}function DM(e,s,t){s.NumberFmt=[];for(var i=Wi(gr),o=0;o<i.length;++o)s.NumberFmt[i[o]]=gr[i[o]];var u=e[0].match(In);if(u)for(o=0;o<u.length;++o){var c=sr(u[o]);switch(qi(c[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var m=Fr(ns(c.formatCode)),h=parseInt(c.numFmtId,10);if(s.NumberFmt[h]=m,h>0){if(h>392){for(h=392;h>60&&s.NumberFmt[h]!=null;--h);s.NumberFmt[h]=m}Oc(m,h)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+c[0]+" in numFmts")}}}var eh=["numFmtId","fillId","fontId","borderId","xfId"],th=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function SM(e,s,t){s.CellXf=[];var i,o=!1;(e[0].match(In)||[]).forEach(function(u){var c=sr(u),m=0;switch(qi(c[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(i=c,delete i[0],m=0;m<eh.length;++m)i[eh[m]]&&(i[eh[m]]=parseInt(i[eh[m]],10));for(m=0;m<th.length;++m)i[th[m]]&&(i[th[m]]=us(i[th[m]]));if(s.NumberFmt&&i.numFmtId>392){for(m=392;m>60;--m)if(s.NumberFmt[i.numFmtId]==s.NumberFmt[m]){i.numFmtId=m;break}}s.CellXf.push(i);break;case"</xf>":break;case"<alignment":case"<alignment/>":var h={};c.vertical&&(h.vertical=c.vertical),c.horizontal&&(h.horizontal=c.horizontal),c.textRotation!=null&&(h.textRotation=c.textRotation),c.indent&&(h.indent=c.indent),c.wrapText&&(h.wrapText=us(c.wrapText)),i.alignment=h;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":o=!0;break;case"</AlternateContent>":o=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(t&&t.WTF&&!o)throw new Error("unrecognized "+c[0]+" in cellXfs")}})}var OM=(function(){var s=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,i=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,o=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,u=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(m,h,g){var v={};if(!m)return v;m=m.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var b;return(b=m.match(s))&&DM(b,v,g),(b=m.match(o))&&NM(b,v,h,g),(b=m.match(i))&&bM(b,v,h,g),(b=m.match(u))&&xM(b,v,h,g),(b=m.match(t))&&SM(b,v,g),v}})();function yM(e,s){var t=e.read_shift(2),i=Ln(e);return[t,i]}function EM(e,s,t){var i={};i.sz=e.read_shift(2)/20;var o=j6(e);o.fItalic&&(i.italic=1),o.fCondense&&(i.condense=1),o.fExtend&&(i.extend=1),o.fShadow&&(i.shadow=1),o.fOutline&&(i.outline=1),o.fStrikeout&&(i.strike=1);var u=e.read_shift(2);switch(u===700&&(i.bold=1),e.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var c=e.read_shift(1);c!=0&&(i.underline=c);var m=e.read_shift(1);m>0&&(i.family=m);var h=e.read_shift(1);switch(h>0&&(i.charset=h),e.l++,i.color=V6(e),e.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Ln(e),i}var CM=Mn;function wM(e,s){var t=e.l+s,i=e.read_shift(2),o=e.read_shift(2);return e.l=t,{ixfe:i,numFmtId:o}}var kM=Mn;function RM(e,s,t){var i={};i.NumberFmt=[];for(var o in gr)i.NumberFmt[o]=gr[o];i.CellXf=[],i.Fonts=[];var u=[],c=!1;return Mo(e,function(h,g,v){switch(v){case 44:i.NumberFmt[h[0]]=h[1],Oc(h[1],h[0]);break;case 43:i.Fonts.push(h),h.color.theme!=null&&s&&s.themeElements&&s.themeElements.clrScheme&&(h.color.rgb=Nh(s.themeElements.clrScheme[h.color.theme].rgb,h.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:u[u.length-1]==617&&i.CellXf.push(h);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:c=!0;break;case 36:c=!1;break;case 37:u.push(v),c=!0;break;case 38:u.pop(),c=!1;break;default:if(g.T>0)u.push(v);else if(g.T<0)u.pop();else if(!c||t.WTF&&u[u.length-1]!=37)throw new Error("Unexpected record 0x"+v.toString(16))}}),i}var TM=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function _M(e,s,t){s.themeElements.clrScheme=[];var i={};(e[0].match(In)||[]).forEach(function(o){var u=sr(o);switch(u[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":i.rgb=u.val;break;case"<a:sysClr":i.rgb=u.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":u[0].charAt(1)==="/"?(s.themeElements.clrScheme[TM.indexOf(u[0])]=i,i={}):i.name=u[0].slice(3,u[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+u[0]+" in clrScheme")}})}function PM(){}function UM(){}var VM=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,jM=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,AM=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function LM(e,s,t){s.themeElements={};var i;[["clrScheme",VM,_M],["fontScheme",jM,PM],["fmtScheme",AM,UM]].forEach(function(o){if(!(i=e.match(o[1])))throw new Error(o[0]+" not found in themeElements");o[2](i,s,t)})}var MM=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Jw(e,s){(!e||e.length===0)&&(e=IM());var t,i={};if(!(t=e.match(MM)))throw new Error("themeElements not found in theme");return LM(t[0],i,s),i.raw=e,i}function IM(e,s){var t=[lw];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function FM(e,s,t){var i=e.l+s,o=e.read_shift(4);if(o!==124226){if(!t.cellStyles){e.l=i;return}var u=e.slice(e.l);e.l=i;var c;try{c=ow(u,{type:"array"})}catch{return}var m=Ra(c,"theme/theme/theme1.xml",!0);if(m)return Jw(m,t)}}function $M(e){return e.read_shift(4)}function BM(e){var s={};switch(s.xclrType=e.read_shift(2),s.nTintShade=e.read_shift(2),s.xclrType){case 0:e.l+=4;break;case 1:s.xclrValue=XM(e,4);break;case 2:s.xclrValue=Lw(e);break;case 3:s.xclrValue=$M(e);break;case 4:e.l+=4;break}return e.l+=8,s}function XM(e,s){return Mn(e,s)}function HM(e,s){return Mn(e,s)}function zM(e){var s=e.read_shift(2),t=e.read_shift(2)-4,i=[s];switch(s){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:i[1]=BM(e);break;case 6:i[1]=HM(e,t);break;case 14:case 15:i[1]=e.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+s+" "+t)}return i}function GM(e,s){var t=e.l+s;e.l+=2;var i=e.read_shift(2);e.l+=2;for(var o=e.read_shift(2),u=[];o-- >0;)u.push(zM(e,t-e.l));return{ixfe:i,ext:u}}function WM(e,s){s.forEach(function(t){t[0]})}function YM(e,s){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ln(e)}}function KM(e){for(var s=[],t=e.read_shift(4);t-- >0;)s.push([e.read_shift(4),e.read_shift(4)]);return s}function qM(e){return e.l+=4,e.read_shift(4)!=0}function JM(e,s,t){var i={Types:[],Cell:[],Value:[]},o=t||{},u=[],c=!1,m=2;return Mo(e,function(h,g,v){switch(v){case 335:i.Types.push({name:h.name});break;case 51:h.forEach(function(b){m==1?i.Cell.push({type:i.Types[b[0]-1].name,index:b[1]}):m==0&&i.Value.push({type:i.Types[b[0]-1].name,index:b[1]})});break;case 337:m=h?1:0;break;case 338:m=2;break;case 35:u.push(v),c=!0;break;case 36:u.pop(),c=!1;break;default:if(!g.T){if(!c||o.WTF&&u[u.length-1]!=35)throw new Error("Unexpected record 0x"+v.toString(16))}}}),i}function QM(e,s,t){var i={Types:[],Cell:[],Value:[]};if(!e)return i;var o=!1,u=2,c;return e.replace(In,function(m){var h=sr(m);switch(qi(h[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":i.Types.push({name:h.name});break;case"</metadataType>":break;case"<futureMetadata":for(var g=0;g<i.Types.length;++g)i.Types[g].name==h.name&&(c=i.Types[g]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":u==1?i.Cell.push({type:i.Types[h.t-1].name,index:+h.v}):u==0&&i.Value.push({type:i.Types[h.t-1].name,index:+h.v});break;case"</rc>":break;case"<cellMetadata":u=1;break;case"</cellMetadata>":u=2;break;case"<valueMetadata":u=0;break;case"</valueMetadata>":u=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;case"<rvb":if(!c)break;c.offsets||(c.offsets=[]),c.offsets.push(+h.i);break;default:if(!o&&t.WTF)throw new Error("unrecognized "+h[0]+" in metadata")}return m}),i}function ZM(e){var s=[];if(!e)return s;var t=1;return(e.match(In)||[]).forEach(function(i){var o=sr(i);switch(o[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete o[0],o.i?t=o.i:o.i=t,s.push(o);break}}),s}function eI(e){var s={};s.i=e.read_shift(4);var t={};t.r=e.read_shift(4),t.c=e.read_shift(4),s.r=dr(t);var i=e.read_shift(1);return i&2&&(s.l="1"),i&8&&(s.a="1"),s}function tI(e,s,t){var i=[];return Mo(e,function(u,c,m){switch(m){case 63:i.push(u);break;default:if(!c.T)throw new Error("Unexpected record 0x"+m.toString(16))}}),i}function rI(e,s,t,i){if(!e)return e;var o=i||{},u=!1;Mo(e,function(m,h,g){switch(g){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:u=!0;break;case 36:u=!1;break;default:if(!h.T){if(!u||o.WTF)throw new Error("Unexpected record 0x"+g.toString(16))}}},o)}function sI(e,s){if(!e)return"??";var t=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return s["!id"][t].Target}function $E(e,s,t,i){var o=Array.isArray(e),u;s.forEach(function(c){var m=qn(c.ref);if(o?(e[m.r]||(e[m.r]=[]),u=e[m.r][m.c]):u=e[c.ref],!u){u={t:"z"},o?e[m.r][m.c]=u:e[c.ref]=u;var h=Ns(e["!ref"]||"BDWGO1000001:A1");h.s.r>m.r&&(h.s.r=m.r),h.e.r<m.r&&(h.e.r=m.r),h.s.c>m.c&&(h.s.c=m.c),h.e.c<m.c&&(h.e.c=m.c);var g=Mr(h);g!==e["!ref"]&&(e["!ref"]=g)}u.c||(u.c=[]);var v={a:c.author,t:c.t,r:c.r,T:t};c.h&&(v.h=c.h);for(var b=u.c.length-1;b>=0;--b){if(!t&&u.c[b].T)return;t&&!u.c[b].T&&u.c.splice(b,1)}if(t&&i){for(b=0;b<i.length;++b)if(v.a==i[b].id){v.a=i[b].name||v.a;break}}u.c.push(v)})}function nI(e,s){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],i=[],o=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);o&&o[1]&&o[1].split(/<\/\w*:?author>/).forEach(function(c){if(!(c===""||c.trim()==="")){var m=c.match(/<(?:\w+:)?author[^>]*>(.*)/);m&&t.push(m[1])}});var u=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return u&&u[1]&&u[1].split(/<\/\w*:?comment>/).forEach(function(c){if(!(c===""||c.trim()==="")){var m=c.match(/<(?:\w+:)?comment[^>]*>/);if(m){var h=sr(m[0]),g={author:h.authorId&&t[h.authorId]||"sheetjsghost",ref:h.ref,guid:h.guid},v=qn(h.ref);if(!(s.sheetRows&&s.sheetRows<=v.r)){var b=c.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),E=!!b&&!!b[1]&&qN(b[1])||{r:"",t:"",h:""};g.r=E.r,E.r=="<t></t>"&&(E.t=E.h=""),g.t=(E.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),s.cellHTML&&(g.h=E.h),i.push(g)}}}}),i}function aI(e,s){var t=[],i=!1,o={},u=0;return e.replace(In,function(m,h){var g=sr(m);switch(qi(g[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":o={author:g.personId,guid:g.id,ref:g.ref,T:1};break;case"</threadedComment>":o.t!=null&&t.push(o);break;case"<text>":case"<text":u=h+m.length;break;case"</text>":o.t=e.slice(u,h).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":i=!0;break;case"</mentions>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&s.WTF)throw new Error("unrecognized "+g[0]+" in threaded comments")}return m}),t}function iI(e,s){var t=[],i=!1;return e.replace(In,function(u){var c=sr(u);switch(qi(c[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:c.displayname,id:c.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&s.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return u}),t}function oI(e){var s={};s.iauthor=e.read_shift(4);var t=_c(e);return s.rfx=t.s,s.ref=dr(t.s),e.l+=16,s}var lI=Ln;function cI(e,s){var t=[],i=[],o={},u=!1;return Mo(e,function(m,h,g){switch(g){case 632:i.push(m);break;case 635:o=m;break;case 637:o.t=m.t,o.h=m.h,o.r=m.r;break;case 636:if(o.author=i[o.iauthor],delete o.iauthor,s.sheetRows&&o.rfx&&s.sheetRows<=o.rfx.r)break;o.t||(o.t=""),delete o.rfx,t.push(o);break;case 3072:break;case 35:u=!0;break;case 36:u=!1;break;case 37:break;case 38:break;default:if(!h.T){if(!u||s.WTF)throw new Error("Unexpected record 0x"+g.toString(16))}}}),t}var uI="application/vnd.ms-office.vbaProject";function dI(e){var s=Lr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(t,i){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var o=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Lr.utils.cfb_add(s,o,e.FileIndex[i].content)}}),Lr.write(s)}function mI(){return{"!type":"dialog"}}function fI(){return{"!type":"dialog"}}function pI(){return{"!type":"macro"}}function hI(){return{"!type":"macro"}}var $u=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,s={r:0,c:0};function t(i,o,u,c){var m=!1,h=!1;u.length==0?h=!0:u.charAt(0)=="["&&(h=!0,u=u.slice(1,-1)),c.length==0?m=!0:c.charAt(0)=="["&&(m=!0,c=c.slice(1,-1));var g=u.length>0?parseInt(u,10)|0:0,v=c.length>0?parseInt(c,10)|0:0;return m?v+=s.c:--v,h?g+=s.r:--g,o+(m?"":"$")+Ws(v)+(h?"":"$")+Sn(g)}return function(o,u){return s=u,o.replace(e,t)}})(),Qw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,vI=(function(){return function(s,t){return s.replace(Qw,function(i,o,u,c,m,h){var g=HN(c)-(u?0:t.c),v=XN(h)-(m?0:t.r),b=v==0?"":m?v+1:"["+v+"]",E=g==0?"":u?g+1:"["+g+"]";return o+"R"+b+"C"+E})}})();function Zw(e,s){return e.replace(Qw,function(t,i,o,u,c,m){return i+(o=="$"?o+u:Ws(HN(u)+s.c))+(c=="$"?c+m:Sn(XN(m)+s.r))})}function gI(e,s,t){var i=Ku(s),o=i.s,u=qn(t),c={r:u.r-o.r,c:u.c-o.c};return Zw(e,c)}function xI(e){return e.length!=1}function BE(e){return e.replace(/_xlfn\./g,"")}function Ts(e){e.l+=1}function wl(e,s){var t=e.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function ek(e,s,t){var i=2;if(t){if(t.biff>=2&&t.biff<=5)return tk(e);t.biff==12&&(i=4)}var o=e.read_shift(i),u=e.read_shift(i),c=wl(e),m=wl(e);return{s:{r:o,c:c[0],cRel:c[1],rRel:c[2]},e:{r:u,c:m[0],cRel:m[1],rRel:m[2]}}}function tk(e){var s=wl(e),t=wl(e),i=e.read_shift(1),o=e.read_shift(1);return{s:{r:s[0],c:i,cRel:s[1],rRel:s[2]},e:{r:t[0],c:o,cRel:t[1],rRel:t[2]}}}function bI(e,s,t){if(t.biff<8)return tk(e);var i=e.read_shift(t.biff==12?4:2),o=e.read_shift(t.biff==12?4:2),u=wl(e),c=wl(e);return{s:{r:i,c:u[0],cRel:u[1],rRel:u[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function rk(e,s,t){if(t&&t.biff>=2&&t.biff<=5)return NI(e);var i=e.read_shift(t&&t.biff==12?4:2),o=wl(e);return{r:i,c:o[0],cRel:o[1],rRel:o[2]}}function NI(e){var s=wl(e),t=e.read_shift(1);return{r:s[0],c:t,cRel:s[1],rRel:s[2]}}function DI(e){var s=e.read_shift(2),t=e.read_shift(2);return{r:s,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function SI(e,s,t){var i=t&&t.biff?t.biff:8;if(i>=2&&i<=5)return OI(e);var o=e.read_shift(i>=12?4:2),u=e.read_shift(2),c=(u&16384)>>14,m=(u&32768)>>15;if(u&=16383,m==1)for(;o>524287;)o-=1048576;if(c==1)for(;u>8191;)u=u-16384;return{r:o,c:u,cRel:c,rRel:m}}function OI(e){var s=e.read_shift(2),t=e.read_shift(1),i=(s&32768)>>15,o=(s&16384)>>14;return s&=16383,i==1&&s>=8192&&(s=s-16384),o==1&&t>=128&&(t=t-256),{r:s,c:t,cRel:o,rRel:i}}function yI(e,s,t){var i=(e[e.l++]&96)>>5,o=ek(e,t.biff>=2&&t.biff<=5?6:8,t);return[i,o]}function EI(e,s,t){var i=(e[e.l++]&96)>>5,o=e.read_shift(2,"i"),u=8;if(t)switch(t.biff){case 5:e.l+=12,u=6;break;case 12:u=12;break}var c=ek(e,u,t);return[i,o,c]}function CI(e,s,t){var i=(e[e.l++]&96)>>5;return e.l+=t&&t.biff>8?12:t.biff<8?6:8,[i]}function wI(e,s,t){var i=(e[e.l++]&96)>>5,o=e.read_shift(2),u=8;if(t)switch(t.biff){case 5:e.l+=12,u=6;break;case 12:u=12;break}return e.l+=u,[i,o]}function kI(e,s,t){var i=(e[e.l++]&96)>>5,o=bI(e,s-1,t);return[i,o]}function RI(e,s,t){var i=(e[e.l++]&96)>>5;return e.l+=t.biff==2?6:t.biff==12?14:7,[i]}function XE(e){var s=e[e.l+1]&1,t=1;return e.l+=4,[s,t]}function TI(e,s,t){e.l+=2;for(var i=e.read_shift(t&&t.biff==2?1:2),o=[],u=0;u<=i;++u)o.push(e.read_shift(t&&t.biff==2?1:2));return o}function _I(e,s,t){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(t&&t.biff==2?1:2)]}function PI(e,s,t){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(t&&t.biff==2?1:2)]}function UI(e){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(2)]}function VI(e,s,t){var i=e[e.l+1]&255?1:0;return e.l+=t&&t.biff==2?3:4,[i]}function sk(e){var s=e.read_shift(1),t=e.read_shift(1);return[s,t]}function jI(e){return e.read_shift(2),sk(e)}function AI(e){return e.read_shift(2),sk(e)}function LI(e,s,t){var i=(e[e.l]&96)>>5;e.l+=1;var o=rk(e,0,t);return[i,o]}function MI(e,s,t){var i=(e[e.l]&96)>>5;e.l+=1;var o=SI(e,0,t);return[i,o]}function II(e,s,t){var i=(e[e.l]&96)>>5;e.l+=1;var o=e.read_shift(2);t&&t.biff==5&&(e.l+=12);var u=rk(e,0,t);return[i,o,u]}function FI(e,s,t){var i=(e[e.l]&96)>>5;e.l+=1;var o=e.read_shift(t&&t.biff<=3?1:2);return[$8[o],ik[o],i]}function $I(e,s,t){var i=e[e.l++],o=e.read_shift(1),u=t&&t.biff<=3?[i==88?-1:0,e.read_shift(1)]:BI(e);return[o,(u[0]===0?ik:F8)[u[1]]]}function BI(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function XI(e,s,t){e.l+=t&&t.biff==2?3:4}function HI(e,s,t){if(e.l++,t&&t.biff==12)return[e.read_shift(4,"i"),0];var i=e.read_shift(2),o=e.read_shift(t&&t.biff==2?1:2);return[i,o]}function zI(e){return e.l++,Pc[e.read_shift(1)]}function GI(e){return e.l++,e.read_shift(2)}function WI(e){return e.l++,e.read_shift(1)!==0}function YI(e){return e.l++,jn(e)}function KI(e,s,t){return e.l++,Nf(e,s-1,t)}function qI(e,s){var t=[e.read_shift(1)];if(s==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Os(e,1)?"TRUE":"FALSE",s!=12&&(e.l+=7);break;case 37:case 16:t[1]=Pc[e[e.l]],e.l+=s==12?4:8;break;case 0:e.l+=8;break;case 1:t[1]=jn(e);break;case 2:t[1]=Uc(e,0,{biff:s>0&&s<8?2:s});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function JI(e,s,t){for(var i=e.read_shift(t.biff==12?4:2),o=[],u=0;u!=i;++u)o.push((t.biff==12?_c:Th)(e));return o}function QI(e,s,t){var i=0,o=0;t.biff==12?(i=e.read_shift(4),o=e.read_shift(4)):(o=1+e.read_shift(1),i=1+e.read_shift(2)),t.biff>=2&&t.biff<8&&(--i,--o==0&&(o=256));for(var u=0,c=[];u!=i&&(c[u]=[]);++u)for(var m=0;m!=o;++m)c[u][m]=qI(e,t.biff);return c}function ZI(e,s,t){var i=e.read_shift(1)>>>5&3,o=!t||t.biff>=8?4:2,u=e.read_shift(o);switch(t.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[i,0,u]}function e8(e,s,t){if(t.biff==5)return t8(e);var i=e.read_shift(1)>>>5&3,o=e.read_shift(2),u=e.read_shift(4);return[i,o,u]}function t8(e){var s=e.read_shift(1)>>>5&3,t=e.read_shift(2,"i");e.l+=8;var i=e.read_shift(2);return e.l+=12,[s,t,i]}function r8(e,s,t){var i=e.read_shift(1)>>>5&3;e.l+=t&&t.biff==2?3:4;var o=e.read_shift(t&&t.biff==2?1:2);return[i,o]}function s8(e,s,t){var i=e.read_shift(1)>>>5&3,o=e.read_shift(t&&t.biff==2?1:2);return[i,o]}function n8(e,s,t){var i=e.read_shift(1)>>>5&3;return e.l+=4,t.biff<8&&e.l--,t.biff==12&&(e.l+=2),[i]}function a8(e,s,t){var i=(e[e.l++]&96)>>5,o=e.read_shift(2),u=4;if(t)switch(t.biff){case 5:u=15;break;case 12:u=6;break}return e.l+=u,[i,o]}var i8=Mn,o8=Mn,l8=Mn;function Sf(e,s,t){return e.l+=2,[DI(e)]}function QN(e){return e.l+=6,[]}var c8=Sf,u8=QN,d8=QN,m8=Sf;function nk(e){return e.l+=2,[Ps(e),e.read_shift(2)&1]}var f8=Sf,p8=nk,h8=QN,v8=Sf,g8=Sf,x8=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function b8(e){e.l+=2;var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(4),o=e.read_shift(2),u=e.read_shift(2),c=x8[t>>2&31];return{ixti:s,coltype:t&3,rt:c,idx:i,c:o,C:u}}function N8(e){return e.l+=2,[e.read_shift(4)]}function D8(e,s,t){return e.l+=5,e.l+=2,e.l+=t.biff==2?1:4,["PTGSHEET"]}function S8(e,s,t){return e.l+=t.biff==2?4:5,["PTGENDSHEET"]}function O8(e){var s=e.read_shift(1)>>>5&3,t=e.read_shift(2);return[s,t]}function y8(e){var s=e.read_shift(1)>>>5&3,t=e.read_shift(2);return[s,t]}function E8(e){return e.l+=4,[0,0]}var HE={1:{n:"PtgExp",f:HI},2:{n:"PtgTbl",f:l8},3:{n:"PtgAdd",f:Ts},4:{n:"PtgSub",f:Ts},5:{n:"PtgMul",f:Ts},6:{n:"PtgDiv",f:Ts},7:{n:"PtgPower",f:Ts},8:{n:"PtgConcat",f:Ts},9:{n:"PtgLt",f:Ts},10:{n:"PtgLe",f:Ts},11:{n:"PtgEq",f:Ts},12:{n:"PtgGe",f:Ts},13:{n:"PtgGt",f:Ts},14:{n:"PtgNe",f:Ts},15:{n:"PtgIsect",f:Ts},16:{n:"PtgUnion",f:Ts},17:{n:"PtgRange",f:Ts},18:{n:"PtgUplus",f:Ts},19:{n:"PtgUminus",f:Ts},20:{n:"PtgPercent",f:Ts},21:{n:"PtgParen",f:Ts},22:{n:"PtgMissArg",f:Ts},23:{n:"PtgStr",f:KI},26:{n:"PtgSheet",f:D8},27:{n:"PtgEndSheet",f:S8},28:{n:"PtgErr",f:zI},29:{n:"PtgBool",f:WI},30:{n:"PtgInt",f:GI},31:{n:"PtgNum",f:YI},32:{n:"PtgArray",f:RI},33:{n:"PtgFunc",f:FI},34:{n:"PtgFuncVar",f:$I},35:{n:"PtgName",f:ZI},36:{n:"PtgRef",f:LI},37:{n:"PtgArea",f:yI},38:{n:"PtgMemArea",f:r8},39:{n:"PtgMemErr",f:i8},40:{n:"PtgMemNoMem",f:o8},41:{n:"PtgMemFunc",f:s8},42:{n:"PtgRefErr",f:n8},43:{n:"PtgAreaErr",f:CI},44:{n:"PtgRefN",f:MI},45:{n:"PtgAreaN",f:kI},46:{n:"PtgMemAreaN",f:O8},47:{n:"PtgMemNoMemN",f:y8},57:{n:"PtgNameX",f:e8},58:{n:"PtgRef3d",f:II},59:{n:"PtgArea3d",f:EI},60:{n:"PtgRefErr3d",f:a8},61:{n:"PtgAreaErr3d",f:wI},255:{}},C8={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},w8={1:{n:"PtgElfLel",f:nk},2:{n:"PtgElfRw",f:v8},3:{n:"PtgElfCol",f:c8},6:{n:"PtgElfRwV",f:g8},7:{n:"PtgElfColV",f:m8},10:{n:"PtgElfRadical",f:f8},11:{n:"PtgElfRadicalS",f:h8},13:{n:"PtgElfColS",f:u8},15:{n:"PtgElfColSV",f:d8},16:{n:"PtgElfRadicalLel",f:p8},25:{n:"PtgList",f:b8},29:{n:"PtgSxName",f:N8},255:{}},k8={0:{n:"PtgAttrNoop",f:E8},1:{n:"PtgAttrSemi",f:VI},2:{n:"PtgAttrIf",f:PI},4:{n:"PtgAttrChoose",f:TI},8:{n:"PtgAttrGoto",f:_I},16:{n:"PtgAttrSum",f:XI},32:{n:"PtgAttrBaxcel",f:XE},33:{n:"PtgAttrBaxcel",f:XE},64:{n:"PtgAttrSpace",f:jI},65:{n:"PtgAttrSpaceSemi",f:AI},128:{n:"PtgAttrIfError",f:UI},255:{}};function Of(e,s,t,i){if(i.biff<8)return Mn(e,s);for(var o=e.l+s,u=[],c=0;c!==t.length;++c)switch(t[c][0]){case"PtgArray":t[c][1]=QI(e,0,i),u.push(t[c][1]);break;case"PtgMemArea":t[c][2]=JI(e,t[c][1],i),u.push(t[c][2]);break;case"PtgExp":i&&i.biff==12&&(t[c][1][1]=e.read_shift(4),u.push(t[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[c][0]}return s=o-e.l,s!==0&&u.push(Mn(e,s)),u}function yf(e,s,t){for(var i=e.l+s,o,u,c=[];i!=e.l;)s=i-e.l,u=e[e.l],o=HE[u]||HE[C8[u]],(u===24||u===25)&&(o=(u===24?w8:k8)[e[e.l+1]]),!o||!o.f?Mn(e,s):c.push([o.n,o.f(e,s,t)]);return c}function R8(e){for(var s=[],t=0;t<e.length;++t){for(var i=e[t],o=[],u=0;u<i.length;++u){var c=i[u];if(c)switch(c[0]){case 2:o.push('"'+c[1].replace(/"/g,'""')+'"');break;default:o.push(c[1])}else o.push("")}s.push(o.join(","))}return s.join(";")}var T8={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function _8(e,s){if(!e&&!(s&&s.biff<=5&&s.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function ak(e,s,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[s]))return e.SheetNames[s];if(!e.XTI)return"SH33TJSERR6";var i=e.XTI[s];if(t.biff<8)return s>1e4&&(s-=65536),s<0&&(s=-s),s==0?"":e.XTI[s-1];if(!i)return"SH33TJSERR1";var o="";if(t.biff>8)switch(e[i[0]][0]){case 357:return o=i[1]==-1?"#REF":e.SheetNames[i[1]],i[1]==i[2]?o:o+":"+e.SheetNames[i[2]];case 358:return t.SID!=null?e.SheetNames[t.SID]:"SH33TJSSAME"+e[i[0]][0];case 355:default:return"SH33TJSSRC"+e[i[0]][0]}switch(e[i[0]][0][0]){case 1025:return o=i[1]==-1?"#REF":e.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?o:o+":"+e.SheetNames[i[2]];case 14849:return e[i[0]].slice(1).map(function(u){return u.Name}).join(";;");default:return e[i[0]][0][3]?(o=i[1]==-1?"#REF":e[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?o:o+":"+e[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function zE(e,s,t){var i=ak(e,s,t);return i=="#REF"?i:_8(i,t)}function Vn(e,s,t,i,o){var u=o&&o.biff||8,c={s:{c:0,r:0}},m=[],h,g,v,b=0,E=0,k,w="";if(!e[0]||!e[0][0])return"";for(var y=-1,T="",J=0,Z=e[0].length;J<Z;++J){var R=e[0][J];switch(R[0]){case"PtgUminus":m.push("-"+m.pop());break;case"PtgUplus":m.push("+"+m.pop());break;case"PtgPercent":m.push(m.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=m.pop(),g=m.pop(),y>=0){switch(e[0][y][1][0]){case 0:T=bs(" ",e[0][y][1][1]);break;case 1:T=bs("\r",e[0][y][1][1]);break;default:if(T="",o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}g=g+T,y=-1}m.push(g+T8[R[0]]+h);break;case"PtgIsect":h=m.pop(),g=m.pop(),m.push(g+" "+h);break;case"PtgUnion":h=m.pop(),g=m.pop(),m.push(g+","+h);break;case"PtgRange":h=m.pop(),g=m.pop(),m.push(g+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":v=qm(R[1][1],c,o),m.push(Jm(v,u));break;case"PtgRefN":v=t?qm(R[1][1],t,o):R[1][1],m.push(Jm(v,u));break;case"PtgRef3d":b=R[1][1],v=qm(R[1][2],c,o),w=zE(i,b,o),m.push(w+"!"+Jm(v,u));break;case"PtgFunc":case"PtgFuncVar":var le=R[1][0],W=R[1][1];le||(le=0),le&=127;var ee=le==0?[]:m.slice(-le);m.length-=le,W==="User"&&(W=ee.shift()),m.push(W+"("+ee.join(",")+")");break;case"PtgBool":m.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":m.push(R[1]);break;case"PtgNum":m.push(String(R[1]));break;case"PtgStr":m.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":m.push(R[1]);break;case"PtgAreaN":k=EE(R[1][1],t?{s:t}:c,o),m.push(Wb(k,o));break;case"PtgArea":k=EE(R[1][1],c,o),m.push(Wb(k,o));break;case"PtgArea3d":b=R[1][1],k=R[1][2],w=zE(i,b,o),m.push(w+"!"+Wb(k,o));break;case"PtgAttrSum":m.push("SUM("+m.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":E=R[1][2];var X=(i.names||[])[E-1]||(i[0]||[])[E],De=X?X.Name:"SH33TJSNAME"+String(E);De&&De.slice(0,6)=="_xlfn."&&!o.xlfn&&(De=De.slice(6)),m.push(De);break;case"PtgNameX":var _=R[1][1];E=R[1][2];var B;if(o.biff<=5)_<0&&(_=-_),i[_]&&(B=i[_][E]);else{var re="";if(((i[_]||[])[0]||[])[0]==14849||(((i[_]||[])[0]||[])[0]==1025?i[_][E]&&i[_][E].itab>0&&(re=i.SheetNames[i[_][E].itab-1]+"!"):re=i.SheetNames[E-1]+"!"),i[_]&&i[_][E])re+=i[_][E].Name;else if(i[0]&&i[0][E])re+=i[0][E].Name;else{var H=(ak(i,_,o)||"").split(";;");H[E-1]?re=H[E-1]:re+="SH33TJSERRX"}m.push(re);break}B||(B={Name:"SH33TJSERRY"}),m.push(B.Name);break;case"PtgParen":var oe="(",_e=")";if(y>=0){switch(T="",e[0][y][1][0]){case 2:oe=bs(" ",e[0][y][1][1])+oe;break;case 3:oe=bs("\r",e[0][y][1][1])+oe;break;case 4:_e=bs(" ",e[0][y][1][1])+_e;break;case 5:_e=bs("\r",e[0][y][1][1])+_e;break;default:if(o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}m.push(oe+m.pop()+_e);break;case"PtgRefErr":m.push("#REF!");break;case"PtgRefErr3d":m.push("#REF!");break;case"PtgExp":v={c:R[1][1],r:R[1][0]};var ne={c:t.c,r:t.r};if(i.sharedf[dr(v)]){var we=i.sharedf[dr(v)];m.push(Vn(we,c,ne,i,o))}else{var ve=!1;for(h=0;h!=i.arrayf.length;++h)if(g=i.arrayf[h],!(v.c<g[0].s.c||v.c>g[0].e.c)&&!(v.r<g[0].s.r||v.r>g[0].e.r)){m.push(Vn(g[1],c,ne,i,o)),ve=!0;break}ve||m.push(R[1])}break;case"PtgArray":m.push("{"+R8(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=J;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":m.push("");break;case"PtgAreaErr":m.push("#REF!");break;case"PtgAreaErr3d":m.push("#REF!");break;case"PtgList":m.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var Me=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(o.biff!=3&&y>=0&&Me.indexOf(e[0][J][0])==-1){R=e[0][y];var be=!0;switch(R[1][0]){case 4:be=!1;case 0:T=bs(" ",R[1][1]);break;case 5:be=!1;case 1:T=bs("\r",R[1][1]);break;default:if(T="",o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}m.push((be?T:"")+m.pop()+(be?"":T)),y=-1}}if(m.length>1&&o.WTF)throw new Error("bad formula stack");return m[0]}function P8(e,s,t){var i=e.l+s,o=t.biff==2?1:2,u,c=e.read_shift(o);if(c==65535)return[[],Mn(e,s-2)];var m=yf(e,c,t);return s!==c+o&&(u=Of(e,s-c-o,m,t)),e.l=i,[m,u]}function U8(e,s,t){var i=e.l+s,o=t.biff==2?1:2,u,c=e.read_shift(o);if(c==65535)return[[],Mn(e,s-2)];var m=yf(e,c,t);return s!==c+o&&(u=Of(e,s-c-o,m,t)),e.l=i,[m,u]}function V8(e,s,t,i){var o=e.l+s,u=yf(e,i,t),c;return o!==e.l&&(c=Of(e,o-e.l,u,t)),[u,c]}function j8(e,s,t){var i=e.l+s,o,u=e.read_shift(2),c=yf(e,u,t);return u==65535?[[],Mn(e,s-2)]:(s!==u+2&&(o=Of(e,i-u-2,c,t)),[c,o])}function A8(e){var s;if(Ro(e,e.l+6)!==65535)return[jn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return s=e[e.l+2]===1,e.l+=8,[s,"b"];case 2:return s=e[e.l+2],e.l+=8,[s,"e"];case 3:return e.l+=8,["","s"]}return[]}function qb(e,s,t){var i=e.l+s,o=Ji(e);t.biff==2&&++e.l;var u=A8(e),c=e.read_shift(1);t.biff!=2&&(e.read_shift(1),t.biff>=5&&e.read_shift(4));var m=U8(e,i-e.l,t);return{cell:o,val:u[0],formula:m,shared:c>>3&1,tt:u[1]}}function _h(e,s,t){var i=e.read_shift(4),o=yf(e,i,t),u=e.read_shift(4),c=u>0?Of(e,u,o,t):null;return[o,c]}var L8=_h,Ph=_h,M8=_h,I8=_h,F8={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ik={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$8={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function GE(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(s,t){return t.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Jb(e){var s=e.split(":"),t=s[0].split(".")[0];return[t,s[0].split(".")[1]+(s.length>1?":"+(s[1].split(".")[1]||s[1].split(".")[0]):"")]}var tf={},Bu={};function rf(e,s){if(e){var t=[.7,.7,.75,.75,.3,.3];s=="xlml"&&(t=[1,1,1,1,.5,.5]),e.left==null&&(e.left=t[0]),e.right==null&&(e.right=t[1]),e.top==null&&(e.top=t[2]),e.bottom==null&&(e.bottom=t[3]),e.header==null&&(e.header=t[4]),e.footer==null&&(e.footer=t[5])}}function ok(e,s,t,i,o,u){try{i.cellNF&&(e.z=gr[s])}catch(m){if(i.WTF)throw m}if(!(e.t==="z"&&!i.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=rn(e.v)),(!i||i.cellText!==!1)&&e.t!=="z")try{if(gr[s]==null&&Oc(Bj[s]||"General",s),e.t==="e")e.w=e.w||Pc[e.v];else if(s===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=of(e.v);else if(e.t==="d"){var c=Qn(e.v);(c|0)===c?e.w=c.toString(10):e.w=of(c)}else{if(e.v===void 0)return"";e.w=Ec(e.v,Bu)}else e.t==="d"?e.w=Xa(s,Qn(e.v),Bu):e.w=Xa(s,e.v,Bu)}catch(m){if(i.WTF)throw m}if(i.cellStyles&&t!=null)try{e.s=u.Fills[t],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Nh(o.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),i.WTF&&(e.s.fgColor.raw_rgb=o.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Nh(o.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),i.WTF&&(e.s.bgColor.raw_rgb=o.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(m){if(i.WTF&&u.Fills)throw m}}}function B8(e,s){var t=Ns(s);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(e["!ref"]=Mr(t))}var X8=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,H8=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,z8=/<(?:\w:)?hyperlink [^>]*>/mg,G8=/"(\w*:\w*)"/,W8=/<(?:\w:)?col\b[^>]*[\/]?>/g,Y8=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,K8=/<(?:\w:)?pageMargins[^>]*\/>/g,lk=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,q8=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,J8=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Q8(e,s,t,i,o,u,c){if(!e)return e;i||(i={"!id":{}});var m=s.dense?[]:{},h={s:{r:2e6,c:2e6},e:{r:0,c:0}},g="",v="",b=e.match(H8);b?(g=e.slice(0,b.index),v=e.slice(b.index+b[0].length)):g=v=e;var E=g.match(lk);E?ZN(E[0],m,o,t):(E=g.match(q8))&&Z8(E[0],E[1]||"",m,o,t);var k=(g.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(k>0){var w=g.slice(k,k+50).match(G8);w&&B8(m,w[1])}var y=g.match(J8);y&&y[1]&&aF(y[1],o);var T=[];if(s.cellStyles){var J=g.match(W8);J&&rF(T,J)}b&&iF(b[1],m,s,h,u,c);var Z=v.match(Y8);Z&&(m["!autofilter"]=sF(Z[0]));var R=[],le=v.match(X8);if(le)for(k=0;k!=le.length;++k)R[k]=Ns(le[k].slice(le[k].indexOf('"')+1));var W=v.match(z8);W&&eF(m,W,i);var ee=v.match(K8);if(ee&&(m["!margins"]=tF(sr(ee[0]))),!m["!ref"]&&h.e.c>=h.s.c&&h.e.r>=h.s.r&&(m["!ref"]=Mr(h)),s.sheetRows>0&&m["!ref"]){var X=Ns(m["!ref"]);s.sheetRows<=+X.e.r&&(X.e.r=s.sheetRows-1,X.e.r>h.e.r&&(X.e.r=h.e.r),X.e.r<X.s.r&&(X.s.r=X.e.r),X.e.c>h.e.c&&(X.e.c=h.e.c),X.e.c<X.s.c&&(X.s.c=X.e.c),m["!fullref"]=m["!ref"],m["!ref"]=Mr(X))}return T.length>0&&(m["!cols"]=T),R.length>0&&(m["!merges"]=R),m}function ZN(e,s,t,i){var o=sr(e);t.Sheets[i]||(t.Sheets[i]={}),o.codeName&&(t.Sheets[i].CodeName=Fr(ns(o.codeName)))}function Z8(e,s,t,i,o){ZN(e.slice(0,e.indexOf(">")),t,i,o)}function eF(e,s,t){for(var i=Array.isArray(e),o=0;o!=s.length;++o){var u=sr(ns(s[o]),!0);if(!u.ref)return;var c=((t||{})["!id"]||[])[u.id];c?(u.Target=c.Target,u.location&&(u.Target+="#"+Fr(u.location))):(u.Target="#"+Fr(u.location),c={Target:u.Target,TargetMode:"Internal"}),u.Rel=c,u.tooltip&&(u.Tooltip=u.tooltip,delete u.tooltip);for(var m=Ns(u.ref),h=m.s.r;h<=m.e.r;++h)for(var g=m.s.c;g<=m.e.c;++g){var v=dr({c:g,r:h});i?(e[h]||(e[h]=[]),e[h][g]||(e[h][g]={t:"z",v:void 0}),e[h][g].l=u):(e[v]||(e[v]={t:"z",v:void 0}),e[v].l=u)}}}function tF(e){var s={};return["left","right","top","bottom","header","footer"].forEach(function(t){e[t]&&(s[t]=parseFloat(e[t]))}),s}function rF(e,s){for(var t=!1,i=0;i!=s.length;++i){var o=sr(s[i],!0);o.hidden&&(o.hidden=us(o.hidden));var u=parseInt(o.min,10)-1,c=parseInt(o.max,10)-1;for(o.outlineLevel&&(o.level=+o.outlineLevel||0),delete o.min,delete o.max,o.width=+o.width,!t&&o.width&&(t=!0,JN(o.width)),Hu(o);u<=c;)e[u++]=Dn(o)}}function sF(e){var s={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return s}var nF=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function aF(e,s){s.Views||(s.Views=[{}]),(e.match(nF)||[]).forEach(function(t,i){var o=sr(t);s.Views[i]||(s.Views[i]={}),+o.zoomScale&&(s.Views[i].zoom=+o.zoomScale),us(o.rightToLeft)&&(s.Views[i].RTL=!0)})}var iF=(function(){var e=/<(?:\w+:)?c[ \/>]/,s=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,i=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,o=/ref=["']([^"']*)["']/,u=lf("v"),c=lf("f");return function(h,g,v,b,E,k){for(var w=0,y="",T=[],J=[],Z=0,R=0,le=0,W="",ee,X,De=0,_=0,B,re,H=0,oe=0,_e=Array.isArray(k.CellXf),ne,we=[],ve=[],Me=Array.isArray(g),be=[],Ie={},Te=!1,Q=!!v.sheetStubs,Oe=h.split(s),me=0,se=Oe.length;me!=se;++me){y=Oe[me].trim();var ie=y.length;if(ie!==0){var Y=0;e:for(w=0;w<ie;++w)switch(y[w]){case">":if(y[w-1]!="/"){++w;break e}if(v&&v.cellStyles){if(X=sr(y.slice(Y,w),!0),De=X.r!=null?parseInt(X.r,10):De+1,_=-1,v.sheetRows&&v.sheetRows<De)continue;Ie={},Te=!1,X.ht&&(Te=!0,Ie.hpt=parseFloat(X.ht),Ie.hpx=mf(Ie.hpt)),X.hidden=="1"&&(Te=!0,Ie.hidden=!0),X.outlineLevel!=null&&(Te=!0,Ie.level=+X.outlineLevel),Te&&(be[De-1]=Ie)}break;case"<":Y=w;break}if(Y>=w)break;if(X=sr(y.slice(Y,w),!0),De=X.r!=null?parseInt(X.r,10):De+1,_=-1,!(v.sheetRows&&v.sheetRows<De)){b.s.r>De-1&&(b.s.r=De-1),b.e.r<De-1&&(b.e.r=De-1),v&&v.cellStyles&&(Ie={},Te=!1,X.ht&&(Te=!0,Ie.hpt=parseFloat(X.ht),Ie.hpx=mf(Ie.hpt)),X.hidden=="1"&&(Te=!0,Ie.hidden=!0),X.outlineLevel!=null&&(Te=!0,Ie.level=+X.outlineLevel),Te&&(be[De-1]=Ie)),T=y.slice(w).split(e);for(var U=0;U!=T.length&&T[U].trim().charAt(0)=="<";++U);for(T=T.slice(U),w=0;w!=T.length;++w)if(y=T[w].trim(),y.length!==0){if(J=y.match(t),Z=w,R=0,le=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,J!=null&&J.length===2){for(Z=0,W=J[1],R=0;R!=W.length&&!((le=W.charCodeAt(R)-64)<1||le>26);++R)Z=26*Z+le;--Z,_=Z}else++_;for(R=0;R!=y.length&&y.charCodeAt(R)!==62;++R);if(++R,X=sr(y.slice(0,R),!0),X.r||(X.r=dr({r:De-1,c:_})),W=y.slice(R),ee={t:""},(J=W.match(u))!=null&&J[1]!==""&&(ee.v=Fr(J[1])),v.cellFormula){if((J=W.match(c))!=null&&J[1]!==""){if(ee.f=Fr(ns(J[1])).replace(/\r\n/g,`
`),v.xlfn||(ee.f=BE(ee.f)),J[0].indexOf('t="array"')>-1)ee.F=(W.match(o)||[])[1],ee.F.indexOf(":")>-1&&we.push([Ns(ee.F),ee.F]);else if(J[0].indexOf('t="shared"')>-1){re=sr(J[0]);var de=Fr(ns(J[1]));v.xlfn||(de=BE(de)),ve[parseInt(re.si,10)]=[re,de,X.r]}}else(J=W.match(/<f[^>]*\/>/))&&(re=sr(J[0]),ve[re.si]&&(ee.f=gI(ve[re.si][1],ve[re.si][2],X.r)));var I=qn(X.r);for(R=0;R<we.length;++R)I.r>=we[R][0].s.r&&I.r<=we[R][0].e.r&&I.c>=we[R][0].s.c&&I.c<=we[R][0].e.c&&(ee.F=we[R][1])}if(X.t==null&&ee.v===void 0)if(ee.f||ee.F)ee.v=0,ee.t="n";else if(Q)ee.t="z";else continue;else ee.t=X.t||"n";switch(b.s.c>_&&(b.s.c=_),b.e.c<_&&(b.e.c=_),ee.t){case"n":if(ee.v==""||ee.v==null){if(!Q)continue;ee.t="z"}else ee.v=parseFloat(ee.v);break;case"s":if(typeof ee.v>"u"){if(!Q)continue;ee.t="z"}else B=tf[parseInt(ee.v,10)],ee.v=B.t,ee.r=B.r,v.cellHTML&&(ee.h=B.h);break;case"str":ee.t="s",ee.v=ee.v!=null?ns(ee.v):"",v.cellHTML&&(ee.h=FN(ee.v));break;case"inlineStr":J=W.match(i),ee.t="s",J!=null&&(B=qN(J[1]))?(ee.v=B.t,v.cellHTML&&(ee.h=B.h)):ee.v="";break;case"b":ee.v=us(ee.v);break;case"d":v.cellDates?ee.v=rn(ee.v,1):(ee.v=Qn(rn(ee.v,1)),ee.t="n");break;case"e":(!v||v.cellText!==!1)&&(ee.w=ee.v),ee.v=Rw[ee.v];break}if(H=oe=0,ne=null,_e&&X.s!==void 0&&(ne=k.CellXf[X.s],ne!=null&&(ne.numFmtId!=null&&(H=ne.numFmtId),v.cellStyles&&ne.fillId!=null&&(oe=ne.fillId))),ok(ee,H,oe,v,E,k),v.cellDates&&_e&&ee.t=="n"&&Yu(gr[H])&&(ee.t="d",ee.v=Rh(ee.v)),X.cm&&v.xlmeta){var Ee=(v.xlmeta.Cell||[])[+X.cm-1];Ee&&Ee.type=="XLDAPR"&&(ee.D=!0)}if(Me){var j=qn(X.r);g[j.r]||(g[j.r]=[]),g[j.r][j.c]=ee}else g[X.r]=ee}}}}be.length>0&&(g["!rows"]=be)}})();function oF(e,s){var t={},i=e.l+s;t.r=e.read_shift(4),e.l+=4;var o=e.read_shift(2);e.l+=1;var u=e.read_shift(1);return e.l=i,u&7&&(t.level=u&7),u&16&&(t.hidden=!0),u&32&&(t.hpt=o/20),t}var lF=_c;function cF(){}function uF(e,s){var t={},i=e[e.l];return++e.l,t.above=!(i&64),t.left=!(i&128),e.l+=18,t.name=P6(e),t}function dF(e){var s=Ha(e);return[s]}function mF(e){var s=Tc(e);return[s]}function fF(e){var s=Ha(e),t=e.read_shift(1);return[s,t,"b"]}function pF(e){var s=Tc(e),t=e.read_shift(1);return[s,t,"b"]}function hF(e){var s=Ha(e),t=e.read_shift(1);return[s,t,"e"]}function vF(e){var s=Tc(e),t=e.read_shift(1);return[s,t,"e"]}function gF(e){var s=Ha(e),t=e.read_shift(4);return[s,t,"s"]}function xF(e){var s=Tc(e),t=e.read_shift(4);return[s,t,"s"]}function bF(e){var s=Ha(e),t=jn(e);return[s,t,"n"]}function ck(e){var s=Tc(e),t=jn(e);return[s,t,"n"]}function NF(e){var s=Ha(e),t=WN(e);return[s,t,"n"]}function DF(e){var s=Tc(e),t=WN(e);return[s,t,"n"]}function SF(e){var s=Ha(e),t=zN(e);return[s,t,"is"]}function OF(e){var s=Ha(e),t=Ln(e);return[s,t,"str"]}function yF(e){var s=Tc(e),t=Ln(e);return[s,t,"str"]}function EF(e,s,t){var i=e.l+s,o=Ha(e);o.r=t["!row"];var u=e.read_shift(1),c=[o,u,"b"];if(t.cellFormula){e.l+=2;var m=Ph(e,i-e.l,t);c[3]=Vn(m,null,o,t.supbooks,t)}else e.l=i;return c}function CF(e,s,t){var i=e.l+s,o=Ha(e);o.r=t["!row"];var u=e.read_shift(1),c=[o,u,"e"];if(t.cellFormula){e.l+=2;var m=Ph(e,i-e.l,t);c[3]=Vn(m,null,o,t.supbooks,t)}else e.l=i;return c}function wF(e,s,t){var i=e.l+s,o=Ha(e);o.r=t["!row"];var u=jn(e),c=[o,u,"n"];if(t.cellFormula){e.l+=2;var m=Ph(e,i-e.l,t);c[3]=Vn(m,null,o,t.supbooks,t)}else e.l=i;return c}function kF(e,s,t){var i=e.l+s,o=Ha(e);o.r=t["!row"];var u=Ln(e),c=[o,u,"str"];if(t.cellFormula){e.l+=2;var m=Ph(e,i-e.l,t);c[3]=Vn(m,null,o,t.supbooks,t)}else e.l=i;return c}var RF=_c;function TF(e,s){var t=e.l+s,i=_c(e),o=GN(e),u=Ln(e),c=Ln(e),m=Ln(e);e.l=t;var h={rfx:i,relId:o,loc:u,display:m};return c&&(h.Tooltip=c),h}function _F(){}function PF(e,s,t){var i=e.l+s,o=Cw(e),u=e.read_shift(1),c=[o];if(c[2]=u,t.cellFormula){var m=L8(e,i-e.l,t);c[1]=m}else e.l=i;return c}function UF(e,s,t){var i=e.l+s,o=_c(e),u=[o];if(t.cellFormula){var c=I8(e,i-e.l,t);u[1]=c,e.l=i}else e.l=i;return u}var VF=["left","right","top","bottom","header","footer"];function jF(e){var s={};return VF.forEach(function(t){s[t]=jn(e)}),s}function AF(e){var s=e.read_shift(2);return e.l+=28,{RTL:s&32}}function LF(){}function MF(){}function IF(e,s,t,i,o,u,c){if(!e)return e;var m=s||{};i||(i={"!id":{}});var h=m.dense?[]:{},g,v={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=!1,E=!1,k,w,y,T,J,Z,R,le,W,ee=[];m.biff=12,m["!row"]=0;var X=0,De=!1,_=[],B={},re=m.supbooks||o.supbooks||[[]];if(re.sharedf=B,re.arrayf=_,re.SheetNames=o.SheetNames||o.Sheets.map(function(Me){return Me.name}),!m.supbooks&&(m.supbooks=re,o.Names))for(var H=0;H<o.Names.length;++H)re[0][H+1]=o.Names[H];var oe=[],_e=[],ne=!1;Oh[16]={n:"BrtShortReal",f:ck};var we;if(Mo(e,function(be,Ie,Te){if(!E)switch(Te){case 148:g=be;break;case 0:k=be,m.sheetRows&&m.sheetRows<=k.r&&(E=!0),le=Sn(T=k.r),m["!row"]=k.r,(be.hidden||be.hpt||be.level!=null)&&(be.hpt&&(be.hpx=mf(be.hpt)),_e[be.r]=be);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(w={t:be[2]},be[2]){case"n":w.v=be[1];break;case"s":R=tf[be[1]],w.v=R.t,w.r=R.r;break;case"b":w.v=!!be[1];break;case"e":w.v=be[1],m.cellText!==!1&&(w.w=Pc[w.v]);break;case"str":w.t="s",w.v=be[1];break;case"is":w.t="s",w.v=be[1].t;break}if((y=c.CellXf[be[0].iStyleRef])&&ok(w,y.numFmtId,null,m,u,c),J=be[0].c==-1?J+1:be[0].c,m.dense?(h[T]||(h[T]=[]),h[T][J]=w):h[Ws(J)+le]=w,m.cellFormula){for(De=!1,X=0;X<_.length;++X){var Q=_[X];k.r>=Q[0].s.r&&k.r<=Q[0].e.r&&J>=Q[0].s.c&&J<=Q[0].e.c&&(w.F=Mr(Q[0]),De=!0)}!De&&be.length>3&&(w.f=be[3])}if(v.s.r>k.r&&(v.s.r=k.r),v.s.c>J&&(v.s.c=J),v.e.r<k.r&&(v.e.r=k.r),v.e.c<J&&(v.e.c=J),m.cellDates&&y&&w.t=="n"&&Yu(gr[y.numFmtId])){var Oe=Sc(w.v);Oe&&(w.t="d",w.v=new Date(Oe.y,Oe.m-1,Oe.d,Oe.H,Oe.M,Oe.S,Oe.u))}we&&(we.type=="XLDAPR"&&(w.D=!0),we=void 0);break;case 1:case 12:if(!m.sheetStubs||b)break;w={t:"z",v:void 0},J=be[0].c==-1?J+1:be[0].c,m.dense?(h[T]||(h[T]=[]),h[T][J]=w):h[Ws(J)+le]=w,v.s.r>k.r&&(v.s.r=k.r),v.s.c>J&&(v.s.c=J),v.e.r<k.r&&(v.e.r=k.r),v.e.c<J&&(v.e.c=J),we&&(we.type=="XLDAPR"&&(w.D=!0),we=void 0);break;case 176:ee.push(be);break;case 49:we=((m.xlmeta||{}).Cell||[])[be-1];break;case 494:var me=i["!id"][be.relId];for(me?(be.Target=me.Target,be.loc&&(be.Target+="#"+be.loc),be.Rel=me):be.relId==""&&(be.Target="#"+be.loc),T=be.rfx.s.r;T<=be.rfx.e.r;++T)for(J=be.rfx.s.c;J<=be.rfx.e.c;++J)m.dense?(h[T]||(h[T]=[]),h[T][J]||(h[T][J]={t:"z",v:void 0}),h[T][J].l=be):(Z=dr({c:J,r:T}),h[Z]||(h[Z]={t:"z",v:void 0}),h[Z].l=be);break;case 426:if(!m.cellFormula)break;_.push(be),W=m.dense?h[T][J]:h[Ws(J)+le],W.f=Vn(be[1],v,{r:k.r,c:J},re,m),W.F=Mr(be[0]);break;case 427:if(!m.cellFormula)break;B[dr(be[0].s)]=be[1],W=m.dense?h[T][J]:h[Ws(J)+le],W.f=Vn(be[1],v,{r:k.r,c:J},re,m);break;case 60:if(!m.cellStyles)break;for(;be.e>=be.s;)oe[be.e--]={width:be.w/256,hidden:!!(be.flags&1),level:be.level},ne||(ne=!0,JN(be.w/256)),Hu(oe[be.e+1]);break;case 161:h["!autofilter"]={ref:Mr(be)};break;case 476:h["!margins"]=be;break;case 147:o.Sheets[t]||(o.Sheets[t]={}),be.name&&(o.Sheets[t].CodeName=be.name),(be.above||be.left)&&(h["!outline"]={above:be.above,left:be.left});break;case 137:o.Views||(o.Views=[{}]),o.Views[0]||(o.Views[0]={}),be.RTL&&(o.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:b=!0;break;case 36:b=!1;break;case 37:b=!0;break;case 38:b=!1;break;default:if(!Ie.T){if(!b||m.WTF)throw new Error("Unexpected record 0x"+Te.toString(16))}}},m),delete m.supbooks,delete m["!row"],!h["!ref"]&&(v.s.r<2e6||g&&(g.e.r>0||g.e.c>0||g.s.r>0||g.s.c>0))&&(h["!ref"]=Mr(g||v)),m.sheetRows&&h["!ref"]){var ve=Ns(h["!ref"]);m.sheetRows<=+ve.e.r&&(ve.e.r=m.sheetRows-1,ve.e.r>v.e.r&&(ve.e.r=v.e.r),ve.e.r<ve.s.r&&(ve.s.r=ve.e.r),ve.e.c>v.e.c&&(ve.e.c=v.e.c),ve.e.c<ve.s.c&&(ve.s.c=ve.e.c),h["!fullref"]=h["!ref"],h["!ref"]=Mr(ve))}return ee.length>0&&(h["!merges"]=ee),oe.length>0&&(h["!cols"]=oe),_e.length>0&&(h["!rows"]=_e),h}function FF(e){var s=[],t=e.match(/^<c:numCache>/),i;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(u){var c=u.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);c&&(s[+c[1]]=t?+c[2]:c[2])});var o=Fr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(u){i=u.replace(/<.*?>/g,"")}),[s,o,i]}function $F(e,s,t,i,o,u){var c=u||{"!type":"chart"};if(!e)return u;var m=0,h=0,g="A",v={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(b){var E=FF(b);v.s.r=v.s.c=0,v.e.c=m,g=Ws(m),E[0].forEach(function(k,w){c[g+Sn(w)]={t:"n",v:k,z:E[1]},h=w}),v.e.r<h&&(v.e.r=h),++m}),m>0&&(c["!ref"]=Mr(v)),c}function BF(e,s,t,i,o){if(!e)return e;i||(i={"!id":{}});var u={"!type":"chart","!drawel":null,"!rel":""},c,m=e.match(lk);return m&&ZN(m[0],u,o,t),(c=e.match(/drawing r:id="(.*?)"/))&&(u["!rel"]=c[1]),i["!id"][u["!rel"]]&&(u["!drawel"]=i["!id"][u["!rel"]]),u}function XF(e,s){e.l+=10;var t=Ln(e);return{name:t}}function HF(e,s,t,i,o){if(!e)return e;i||(i={"!id":{}});var u={"!type":"chart","!drawel":null,"!rel":""},c=!1;return Mo(e,function(h,g,v){switch(v){case 550:u["!rel"]=h;break;case 651:o.Sheets[t]||(o.Sheets[t]={}),h.name&&(o.Sheets[t].CodeName=h.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:c=!0;break;case 36:c=!1;break;case 37:break;case 38:break;default:if(!(g.T>0)){if(!(g.T<0)){if(!c||s.WTF)throw new Error("Unexpected record 0x"+v.toString(16))}}}},s),i["!id"][u["!rel"]]&&(u["!drawel"]=i["!id"][u["!rel"]]),u}var uk=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],zF=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],GF=[],WF=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function WE(e,s){for(var t=0;t!=e.length;++t)for(var i=e[t],o=0;o!=s.length;++o){var u=s[o];if(i[u[0]]==null)i[u[0]]=u[1];else switch(u[2]){case"bool":typeof i[u[0]]=="string"&&(i[u[0]]=us(i[u[0]]));break;case"int":typeof i[u[0]]=="string"&&(i[u[0]]=parseInt(i[u[0]],10));break}}}function YE(e,s){for(var t=0;t!=s.length;++t){var i=s[t];if(e[i[0]]==null)e[i[0]]=i[1];else switch(i[2]){case"bool":typeof e[i[0]]=="string"&&(e[i[0]]=us(e[i[0]]));break;case"int":typeof e[i[0]]=="string"&&(e[i[0]]=parseInt(e[i[0]],10));break}}}function dk(e){YE(e.WBProps,uk),YE(e.CalcPr,WF),WE(e.WBView,zF),WE(e.Sheets,GF),Bu.date1904=us(e.WBProps.date1904)}var YF="][*?/\\".split("");function KF(e,s){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return YF.forEach(function(i){if(e.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var qF=/<\w+:workbook/;function JF(e,s){if(!e)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},i=!1,o="xmlns",u={},c=0;if(e.replace(In,function(h,g){var v=sr(h);switch(qi(v[0])){case"<?xml":break;case"<workbook":h.match(qF)&&(o="xmlns"+h.match(/<(\w+):/)[1]),t.xmlns=v[o];break;case"</workbook>":break;case"<fileVersion":delete v[0],t.AppVersion=v;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":uk.forEach(function(b){if(v[b[0]]!=null)switch(b[2]){case"bool":t.WBProps[b[0]]=us(v[b[0]]);break;case"int":t.WBProps[b[0]]=parseInt(v[b[0]],10);break;default:t.WBProps[b[0]]=v[b[0]]}}),v.codeName&&(t.WBProps.CodeName=ns(v.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete v[0],t.WBView.push(v);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(v.state){case"hidden":v.Hidden=1;break;case"veryHidden":v.Hidden=2;break;default:v.Hidden=0}delete v.state,v.name=Fr(ns(v.name)),delete v[0],t.Sheets.push(v);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":i=!0;break;case"</definedNames>":i=!1;break;case"<definedName":u={},u.Name=ns(v.name),v.comment&&(u.Comment=v.comment),v.localSheetId&&(u.Sheet=+v.localSheetId),us(v.hidden||"0")&&(u.Hidden=!0),c=g+h.length;break;case"</definedName>":u.Ref=Fr(ns(e.slice(c,g))),t.Names.push(u);break;case"<definedName/>":break;case"<calcPr":delete v[0],t.CalcPr=v;break;case"<calcPr/>":delete v[0],t.CalcPr=v;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":i=!0;break;case"</AlternateContent>":i=!1;break;case"<revisionPtr":break;default:if(!i&&s.WTF)throw new Error("unrecognized "+v[0]+" in workbook")}return h}),h6.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return dk(t),t}function QF(e,s){var t={};return t.Hidden=e.read_shift(4),t.iTabID=e.read_shift(4),t.strRelID=mN(e),t.name=Ln(e),t}function ZF(e,s){var t={},i=e.read_shift(4);t.defaultThemeVersion=e.read_shift(4);var o=s>8?Ln(e):"";return o.length>0&&(t.CodeName=o),t.autoCompressPictures=!!(i&65536),t.backupFile=!!(i&64),t.checkCompatibility=!!(i&4096),t.date1904=!!(i&1),t.filterPrivacy=!!(i&8),t.hidePivotFieldList=!!(i&1024),t.promptedSolutions=!!(i&16),t.publishItems=!!(i&2048),t.refreshAllConnections=!!(i&262144),t.saveExternalLinkValues=!!(i&128),t.showBorderUnselectedTables=!!(i&4),t.showInkAnnotation=!!(i&32),t.showObjects=["all","placeholders","none"][i>>13&3],t.showPivotChartFilter=!!(i&32768),t.updateLinks=["userSet","never","always"][i>>8&3],t}function e7(e,s){var t={};return e.read_shift(4),t.ArchID=e.read_shift(4),e.l+=s-8,t}function t7(e,s,t){var i=e.l+s;e.l+=4,e.l+=1;var o=e.read_shift(4),u=U6(e),c=M8(e,0,t),m=GN(e);e.l=i;var h={Name:u,Ptg:c};return o<268435455&&(h.Sheet=o),m&&(h.Comment=m),h}function r7(e,s){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},i=[],o=!1;s||(s={}),s.biff=12;var u=[],c=[[]];return c.SheetNames=[],c.XTI=[],Oh[16]={n:"BrtFRTArchID$",f:e7},Mo(e,function(h,g,v){switch(v){case 156:c.SheetNames.push(h.name),t.Sheets.push(h);break;case 153:t.WBProps=h;break;case 39:h.Sheet!=null&&(s.SID=h.Sheet),h.Ref=Vn(h.Ptg,null,null,c,s),delete s.SID,delete h.Ptg,u.push(h);break;case 1036:break;case 357:case 358:case 355:case 667:c[0].length?c.push([v,h]):c[0]=[v,h],c[c.length-1].XTI=[];break;case 362:c.length===0&&(c[0]=[],c[0].XTI=[]),c[c.length-1].XTI=c[c.length-1].XTI.concat(h),c.XTI=c.XTI.concat(h);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:i.push(v),o=!0;break;case 36:i.pop(),o=!1;break;case 37:i.push(v),o=!0;break;case 38:i.pop(),o=!1;break;case 16:break;default:if(!g.T){if(!o||s.WTF&&i[i.length-1]!=37&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+v.toString(16))}}},s),dk(t),t.Names=u,t.supbooks=c,t}function s7(e,s,t){return s.slice(-4)===".bin"?r7(e,t):JF(e,t)}function n7(e,s,t,i,o,u,c,m){return s.slice(-4)===".bin"?IF(e,i,t,o,u,c,m):Q8(e,i,t,o,u,c,m)}function a7(e,s,t,i,o,u,c,m){return s.slice(-4)===".bin"?HF(e,i,t,o,u):BF(e,i,t,o,u)}function i7(e,s,t,i,o,u,c,m){return s.slice(-4)===".bin"?pI():hI()}function o7(e,s,t,i,o,u,c,m){return s.slice(-4)===".bin"?mI():fI()}function l7(e,s,t,i){return s.slice(-4)===".bin"?RM(e,t,i):OM(e,t,i)}function c7(e,s,t){return Jw(e,t)}function u7(e,s,t){return s.slice(-4)===".bin"?zL(e,t):XL(e,t)}function d7(e,s,t){return s.slice(-4)===".bin"?cI(e,t):nI(e,t)}function m7(e,s,t){return s.slice(-4)===".bin"?tI(e):ZM(e)}function f7(e,s,t,i){return t.slice(-4)===".bin"?rI(e,s,t,i):void 0}function p7(e,s,t){return s.slice(-4)===".bin"?JM(e,s,t):QM(e,s,t)}var mk=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,fk=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function hi(e,s){var t=e.split(/\s+/),i=[];if(i[0]=t[0],t.length===1)return i;var o=e.match(mk),u,c,m,h;if(o)for(h=0;h!=o.length;++h)u=o[h].match(fk),(c=u[1].indexOf(":"))===-1?i[u[1]]=u[2].slice(1,u[2].length-1):(u[1].slice(0,6)==="xmlns:"?m="xmlns"+u[1].slice(6):m=u[1].slice(c+1),i[m]=u[2].slice(1,u[2].length-1));return i}function h7(e){var s=e.split(/\s+/),t={};if(s.length===1)return t;var i=e.match(mk),o,u,c,m;if(i)for(m=0;m!=i.length;++m)o=i[m].match(fk),(u=o[1].indexOf(":"))===-1?t[o[1]]=o[2].slice(1,o[2].length-1):(o[1].slice(0,6)==="xmlns:"?c="xmlns"+o[1].slice(6):c=o[1].slice(u+1),t[c]=o[2].slice(1,o[2].length-1));return t}var sf;function v7(e,s){var t=sf[e]||Fr(e);return t==="General"?Ec(s):Xa(t,s)}function g7(e,s,t,i){var o=i;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":o=us(i);break;case"i2":case"int":o=parseInt(i,10);break;case"r4":case"float":o=parseFloat(i);break;case"date":case"dateTime.tz":o=rn(i);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}e[Fr(s)]=o}function x7(e,s,t){if(e.t!=="z"){if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Pc[e.v]:s==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=of(e.v):e.w=Ec(e.v):e.w=v7(s||"General",e.v)}catch(u){if(t.WTF)throw u}try{var i=sf[s]||s||"General";if(t.cellNF&&(e.z=i),t.cellDates&&e.t=="n"&&Yu(i)){var o=Sc(e.v);o&&(e.t="d",e.v=new Date(o.y,o.m-1,o.d,o.H,o.M,o.S,o.u))}}catch(u){if(t.WTF)throw u}}}function b7(e,s,t){if(t.cellStyles&&s.Interior){var i=s.Interior;i.Pattern&&(i.patternType=gM[i.Pattern]||i.Pattern)}e[s.ID]=s}function N7(e,s,t,i,o,u,c,m,h,g){var v="General",b=i.StyleID,E={};g=g||{};var k=[],w=0;for(b===void 0&&m&&(b=m.StyleID),b===void 0&&c&&(b=c.StyleID);u[b]!==void 0&&(u[b].nf&&(v=u[b].nf),u[b].Interior&&k.push(u[b].Interior),!!u[b].Parent);)b=u[b].Parent;switch(t.Type){case"Boolean":i.t="b",i.v=us(e);break;case"String":i.t="s",i.r=vE(Fr(e)),i.v=e.indexOf("<")>-1?Fr(s||e).replace(/<.*?>/g,""):i.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),i.v=(rn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),i.v!==i.v?i.v=Fr(e):i.v<60&&(i.v=i.v-1),(!v||v=="General")&&(v="yyyy-mm-dd");case"Number":i.v===void 0&&(i.v=+e),i.t||(i.t="n");break;case"Error":i.t="e",i.v=Rw[e],g.cellText!==!1&&(i.w=e);break;default:e==""&&s==""?i.t="z":(i.t="s",i.v=vE(s||e));break}if(x7(i,v,g),g.cellFormula!==!1)if(i.Formula){var y=Fr(i.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),i.f=$u(y,o),delete i.Formula,i.ArrayRange=="RC"?i.F=$u("RC:RC",o):i.ArrayRange&&(i.F=$u(i.ArrayRange,o),h.push([Ns(i.F),i.F]))}else for(w=0;w<h.length;++w)o.r>=h[w][0].s.r&&o.r<=h[w][0].e.r&&o.c>=h[w][0].s.c&&o.c<=h[w][0].e.c&&(i.F=h[w][1]);g.cellStyles&&(k.forEach(function(T){!E.patternType&&T.patternType&&(E.patternType=T.patternType)}),i.s=E),i.StyleID!==void 0&&(i.ixfe=i.StyleID)}function D7(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Qb(e,s){var t=s||{};tw();var i=zm($N(e));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(i=ns(i));var o=i.slice(0,1024).toLowerCase(),u=!1;if(o=o.replace(/".*?"/g,""),(o.indexOf(">")&1023)>Math.min(o.indexOf(",")&1023,o.indexOf(";")&1023)){var c=Dn(t);return c.type="string",uf.to_workbook(i,c)}if(o.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ft){o.indexOf("<"+Ft)>=0&&(u=!0)}),u)return T7(i,t);sf={"General Number":"General","General Date":gr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":gr[15],"Short Date":gr[14],"Long Time":gr[19],"Medium Time":gr[18],"Short Time":gr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:gr[2],Standard:gr[4],Percent:gr[10],Scientific:gr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var m,h=[],g,v={},b=[],E=t.dense?[]:{},k="",w={},y={},T=hi('<Data ss:Type="String">'),J=0,Z=0,R=0,le={s:{r:2e6,c:2e6},e:{r:0,c:0}},W={},ee={},X="",De=0,_=[],B={},re={},H=0,oe=[],_e=[],ne={},we=[],ve,Me=!1,be=[],Ie=[],Te={},Q=0,Oe=0,me={Sheets:[],WBProps:{date1904:!1}},se={};cf.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"");for(var ie="";m=cf.exec(i);)switch(m[3]=(ie=m[3]).toLowerCase()){case"data":if(ie=="data"){if(m[1]==="/"){if((g=h.pop())[0]!==m[3])throw new Error("Bad state: "+g.join("|"))}else m[0].charAt(m[0].length-2)!=="/"&&h.push([m[3],!0]);break}if(h[h.length-1][1])break;m[1]==="/"?N7(i.slice(J,m.index),X,T,h[h.length-1][0]=="comment"?ne:w,{c:Z,r:R},W,we[Z],y,be,t):(X="",T=hi(m[0]),J=m.index+m[0].length);break;case"cell":if(m[1]==="/")if(_e.length>0&&(w.c=_e),(!t.sheetRows||t.sheetRows>R)&&w.v!==void 0&&(t.dense?(E[R]||(E[R]=[]),E[R][Z]=w):E[Ws(Z)+Sn(R)]=w),w.HRef&&(w.l={Target:Fr(w.HRef)},w.HRefScreenTip&&(w.l.Tooltip=w.HRefScreenTip),delete w.HRef,delete w.HRefScreenTip),(w.MergeAcross||w.MergeDown)&&(Q=Z+(parseInt(w.MergeAcross,10)|0),Oe=R+(parseInt(w.MergeDown,10)|0),_.push({s:{c:Z,r:R},e:{c:Q,r:Oe}})),!t.sheetStubs)w.MergeAcross?Z=Q+1:++Z;else if(w.MergeAcross||w.MergeDown){for(var Y=Z;Y<=Q;++Y)for(var U=R;U<=Oe;++U)(Y>Z||U>R)&&(t.dense?(E[U]||(E[U]=[]),E[U][Y]={t:"z"}):E[Ws(Y)+Sn(U)]={t:"z"});Z=Q+1}else++Z;else w=h7(m[0]),w.Index&&(Z=+w.Index-1),Z<le.s.c&&(le.s.c=Z),Z>le.e.c&&(le.e.c=Z),m[0].slice(-2)==="/>"&&++Z,_e=[];break;case"row":m[1]==="/"||m[0].slice(-2)==="/>"?(R<le.s.r&&(le.s.r=R),R>le.e.r&&(le.e.r=R),m[0].slice(-2)==="/>"&&(y=hi(m[0]),y.Index&&(R=+y.Index-1)),Z=0,++R):(y=hi(m[0]),y.Index&&(R=+y.Index-1),Te={},(y.AutoFitHeight=="0"||y.Height)&&(Te.hpx=parseInt(y.Height,10),Te.hpt=qw(Te.hpx),Ie[R]=Te),y.Hidden=="1"&&(Te.hidden=!0,Ie[R]=Te));break;case"worksheet":if(m[1]==="/"){if((g=h.pop())[0]!==m[3])throw new Error("Bad state: "+g.join("|"));b.push(k),le.s.r<=le.e.r&&le.s.c<=le.e.c&&(E["!ref"]=Mr(le),t.sheetRows&&t.sheetRows<=le.e.r&&(E["!fullref"]=E["!ref"],le.e.r=t.sheetRows-1,E["!ref"]=Mr(le))),_.length&&(E["!merges"]=_),we.length>0&&(E["!cols"]=we),Ie.length>0&&(E["!rows"]=Ie),v[k]=E}else le={s:{r:2e6,c:2e6},e:{r:0,c:0}},R=Z=0,h.push([m[3],!1]),g=hi(m[0]),k=Fr(g.Name),E=t.dense?[]:{},_=[],be=[],Ie=[],se={name:k,Hidden:0},me.Sheets.push(se);break;case"table":if(m[1]==="/"){if((g=h.pop())[0]!==m[3])throw new Error("Bad state: "+g.join("|"))}else{if(m[0].slice(-2)=="/>")break;h.push([m[3],!1]),we=[],Me=!1}break;case"style":m[1]==="/"?b7(W,ee,t):ee=hi(m[0]);break;case"numberformat":ee.nf=Fr(hi(m[0]).Format||"General"),sf[ee.nf]&&(ee.nf=sf[ee.nf]);for(var de=0;de!=392&&gr[de]!=ee.nf;++de);if(de==392){for(de=57;de!=392;++de)if(gr[de]==null){Oc(ee.nf,de);break}}break;case"column":if(h[h.length-1][0]!=="table")break;if(ve=hi(m[0]),ve.Hidden&&(ve.hidden=!0,delete ve.Hidden),ve.Width&&(ve.wpx=parseInt(ve.Width,10)),!Me&&ve.wpx>10){Me=!0,Kn=Yw;for(var I=0;I<we.length;++I)we[I]&&Hu(we[I])}Me&&Hu(ve),we[ve.Index-1||we.length]=ve;for(var Ee=0;Ee<+ve.Span;++Ee)we[we.length]=Dn(ve);break;case"namedrange":if(m[1]==="/")break;me.Names||(me.Names=[]);var j=sr(m[0]),he={Name:j.Name,Ref:$u(j.RefersTo.slice(1),{r:0,c:0})};me.Sheets.length>0&&(he.Sheet=me.Sheets.length-1),me.Names.push(he);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(m[0].slice(-2)==="/>")break;m[1]==="/"?X+=i.slice(De,m.index):De=m.index+m[0].length;break;case"interior":if(!t.cellStyles)break;ee.Interior=hi(m[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(m[0].slice(-2)==="/>")break;m[1]==="/"?nA(B,ie,i.slice(H,m.index)):H=m.index+m[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(m[1]==="/"){if((g=h.pop())[0]!==m[3])throw new Error("Bad state: "+g.join("|"))}else h.push([m[3],!1]);break;case"comment":if(m[1]==="/"){if((g=h.pop())[0]!==m[3])throw new Error("Bad state: "+g.join("|"));D7(ne),_e.push(ne)}else h.push([m[3],!1]),g=hi(m[0]),ne={a:g.Author};break;case"autofilter":if(m[1]==="/"){if((g=h.pop())[0]!==m[3])throw new Error("Bad state: "+g.join("|"))}else if(m[0].charAt(m[0].length-2)!=="/"){var Ce=hi(m[0]);E["!autofilter"]={ref:$u(Ce.Range).replace(/\$/g,"")},h.push([m[3],!0])}break;case"name":break;case"datavalidation":if(m[1]==="/"){if((g=h.pop())[0]!==m[3])throw new Error("Bad state: "+g.join("|"))}else m[0].charAt(m[0].length-2)!=="/"&&h.push([m[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(m[1]==="/"){if((g=h.pop())[0]!==m[3])throw new Error("Bad state: "+g.join("|"))}else m[0].charAt(m[0].length-2)!=="/"&&h.push([m[3],!0]);break;case"null":break;default:if(h.length==0&&m[3]=="document"||h.length==0&&m[3]=="uof")return eC(i,t);var Fe=!0;switch(h[h.length-1][0]){case"officedocumentsettings":switch(m[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Fe=!1}break;case"componentoptions":switch(m[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Fe=!1}break;case"excelworkbook":switch(m[3]){case"date1904":me.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Fe=!1}break;case"workbookoptions":switch(m[3]){case"owcversion":break;case"height":break;case"width":break;default:Fe=!1}break;case"worksheetoptions":switch(m[3]){case"visible":if(m[0].slice(-2)!=="/>")if(m[1]==="/")switch(i.slice(H,m.index)){case"SheetHidden":se.Hidden=1;break;case"SheetVeryHidden":se.Hidden=2;break}else H=m.index+m[0].length;break;case"header":E["!margins"]||rf(E["!margins"]={},"xlml"),isNaN(+sr(m[0]).Margin)||(E["!margins"].header=+sr(m[0]).Margin);break;case"footer":E["!margins"]||rf(E["!margins"]={},"xlml"),isNaN(+sr(m[0]).Margin)||(E["!margins"].footer=+sr(m[0]).Margin);break;case"pagemargins":var He=sr(m[0]);E["!margins"]||rf(E["!margins"]={},"xlml"),isNaN(+He.Top)||(E["!margins"].top=+He.Top),isNaN(+He.Left)||(E["!margins"].left=+He.Left),isNaN(+He.Right)||(E["!margins"].right=+He.Right),isNaN(+He.Bottom)||(E["!margins"].bottom=+He.Bottom);break;case"displayrighttoleft":me.Views||(me.Views=[]),me.Views[0]||(me.Views[0]={}),me.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":E["!outline"]||(E["!outline"]={}),E["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":E["!outline"]||(E["!outline"]={}),E["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Fe=!1}break;case"pivottable":case"pivotcache":switch(m[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Fe=!1}break;case"pagebreaks":switch(m[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Fe=!1}break;case"autofilter":switch(m[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Fe=!1}break;case"querytable":switch(m[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Fe=!1}break;case"datavalidation":switch(m[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Fe=!1}break;case"sorting":case"conditionalformatting":switch(m[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Fe=!1}break;case"mapinfo":case"schema":case"data":switch(m[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Fe=!1}break;case"smarttags":break;default:Fe=!1;break}if(Fe||m[3].match(/!\[CDATA/))break;if(!h[h.length-1][1])throw"Unrecognized tag: "+m[3]+"|"+h.join("|");if(h[h.length-1][0]==="customdocumentproperties"){if(m[0].slice(-2)==="/>")break;m[1]==="/"?g7(re,ie,oe,i.slice(H,m.index)):(oe=m,H=m.index+m[0].length);break}if(t.WTF)throw"Unrecognized tag: "+m[3]+"|"+h.join("|")}var ze={};return!t.bookSheets&&!t.bookProps&&(ze.Sheets=v),ze.SheetNames=b,ze.Workbook=me,ze.SSF=Dn(gr),ze.Props=B,ze.Custprops=re,ze}function vN(e,s){switch(rD(s=s||{}),s.type||"base64"){case"base64":return Qb(Ta(e),s);case"binary":case"buffer":case"file":return Qb(e,s);case"array":return Qb(Rc(e),s)}}function S7(e){var s={},t=e.content;if(t.l=28,s.AnsiUserType=t.read_shift(0,"lpstr-ansi"),s.AnsiClipboardFormat=A6(t),t.length-t.l<=4)return s;var i=t.read_shift(4);if(i==0||i>40||(t.l-=4,s.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(i=t.read_shift(4),i!==1907505652)||(s.UnicodeClipboardFormat=L6(t),i=t.read_shift(4),i==0||i>40))return s;t.l-=4,s.Reserved2=t.read_shift(0,"lpwstr")}var O7=[60,1084,2066,2165,2175];function y7(e,s,t,i,o){var u=i,c=[],m=t.slice(t.l,t.l+u);if(o&&o.enc&&o.enc.insitu&&m.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:o.enc.insitu(m)}c.push(m),t.l+=u;for(var h=Ro(t,t.l),g=gN[h],v=0;g!=null&&O7.indexOf(h)>-1;)u=Ro(t,t.l+2),v=t.l+4,h==2066?v+=4:(h==2165||h==2175)&&(v+=12),m=t.slice(v,t.l+4+u),c.push(m),t.l+=4+u,g=gN[h=Ro(t,t.l)];var b=Dl(c);Nn(b,0);var E=0;b.lens=[];for(var k=0;k<c.length;++k)b.lens.push(E),E+=c[k].length;if(b.length<i)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+b.length+" < "+i;return s.f(b,b.length,o)}function Xi(e,s,t){if(e.t!=="z"&&e.XF){var i=0;try{i=e.z||e.XF.numFmtId||0,s.cellNF&&(e.z=gr[i])}catch(u){if(s.WTF)throw u}if(!s||s.cellText!==!1)try{e.t==="e"?e.w=e.w||Pc[e.v]:i===0||i=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=of(e.v):e.w=Ec(e.v):e.w=Xa(i,e.v,{date1904:!!t,dateNF:s&&s.dateNF})}catch(u){if(s.WTF)throw u}if(s.cellDates&&i&&e.t=="n"&&Yu(gr[i]||String(i))){var o=Sc(e.v);o&&(e.t="d",e.v=new Date(o.y,o.m-1,o.d,o.H,o.M,o.S,o.u))}}}function rh(e,s,t){return{v:e,ixfe:s,t}}function E7(e,s){var t={opts:{}},i={},o=s.dense?[]:{},u={},c={},m=null,h=[],g="",v={},b,E="",k,w,y,T,J={},Z=[],R,le,W=[],ee=[],X={Sheets:[],WBProps:{date1904:!1},Views:[{}]},De={},_=function(Ze){return Ze<8?yc[Ze]:Ze<64&&ee[Ze-8]||yc[Ze]},B=function(Ze,it,vt){var Rt=it.XF.data;if(!(!Rt||!Rt.patternType||!vt||!vt.cellStyles)){it.s={},it.s.patternType=Rt.patternType;var Ut;(Ut=df(_(Rt.icvFore)))&&(it.s.fgColor={rgb:Ut}),(Ut=df(_(Rt.icvBack)))&&(it.s.bgColor={rgb:Ut})}},re=function(Ze,it,vt){if(!(Te>1)&&!(vt.sheetRows&&Ze.r>=vt.sheetRows)){if(vt.cellStyles&&it.XF&&it.XF.data&&B(Ze,it,vt),delete it.ixfe,delete it.XF,b=Ze,E=dr(Ze),(!c||!c.s||!c.e)&&(c={s:{r:0,c:0},e:{r:0,c:0}}),Ze.r<c.s.r&&(c.s.r=Ze.r),Ze.c<c.s.c&&(c.s.c=Ze.c),Ze.r+1>c.e.r&&(c.e.r=Ze.r+1),Ze.c+1>c.e.c&&(c.e.c=Ze.c+1),vt.cellFormula&&it.f){for(var Rt=0;Rt<Z.length;++Rt)if(!(Z[Rt][0].s.c>Ze.c||Z[Rt][0].s.r>Ze.r)&&!(Z[Rt][0].e.c<Ze.c||Z[Rt][0].e.r<Ze.r)){it.F=Mr(Z[Rt][0]),(Z[Rt][0].s.c!=Ze.c||Z[Rt][0].s.r!=Ze.r)&&delete it.f,it.f&&(it.f=""+Vn(Z[Rt][1],c,Ze,be,H));break}}vt.dense?(o[Ze.r]||(o[Ze.r]=[]),o[Ze.r][Ze.c]=it):o[E]=it}},H={enc:!1,sbcch:0,snames:[],sharedf:J,arrayf:Z,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!s&&!!s.cellStyles,WTF:!!s&&!!s.wtf};s.password&&(H.password=s.password);var oe,_e=[],ne=[],we=[],ve=[],Me=!1,be=[];be.SheetNames=H.snames,be.sharedf=H.sharedf,be.arrayf=H.arrayf,be.names=[],be.XTI=[];var Ie=0,Te=0,Q=0,Oe=[],me=[],se;H.codepage=1200,Ni(1200);for(var ie=!1;e.l<e.length-1;){var Y=e.l,U=e.read_shift(2);if(U===0&&Ie===10)break;var de=e.l===e.length?0:e.read_shift(2),I=gN[U];if(I&&I.f){if(s.bookSheets&&Ie===133&&U!==133)break;if(Ie=U,I.r===2||I.r==12){var Ee=e.read_shift(2);if(de-=2,!H.enc&&Ee!==U&&((Ee&255)<<8|Ee>>8)!==U)throw new Error("rt mismatch: "+Ee+"!="+U);I.r==12&&(e.l+=10,de-=10)}var j={};if(U===10?j=I.f(e,de,H):j=y7(U,I,e,de,H),Te==0&&[9,521,1033,2057].indexOf(Ie)===-1)continue;switch(U){case 34:t.opts.Date1904=X.WBProps.date1904=j;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(H.enc||(e.l=0),H.enc=j,!s.password)throw new Error("File is password-protected");if(j.valid==null)throw new Error("Encryption scheme unsupported");if(!j.valid)throw new Error("Password is incorrect");break;case 92:H.lastuser=j;break;case 66:var he=Number(j);switch(he){case 21010:he=1200;break;case 32768:he=1e4;break;case 32769:he=1252;break}Ni(H.codepage=he),ie=!0;break;case 317:H.rrtabid=j;break;case 25:H.winlocked=j;break;case 439:t.opts.RefreshAll=j;break;case 12:t.opts.CalcCount=j;break;case 16:t.opts.CalcDelta=j;break;case 17:t.opts.CalcIter=j;break;case 13:t.opts.CalcMode=j;break;case 14:t.opts.CalcPrecision=j;break;case 95:t.opts.CalcSaveRecalc=j;break;case 15:H.CalcRefMode=j;break;case 2211:t.opts.FullCalc=j;break;case 129:j.fDialog&&(o["!type"]="dialog"),j.fBelow||((o["!outline"]||(o["!outline"]={})).above=!0),j.fRight||((o["!outline"]||(o["!outline"]={})).left=!0);break;case 224:W.push(j);break;case 430:be.push([j]),be[be.length-1].XTI=[];break;case 35:case 547:be[be.length-1].push(j);break;case 24:case 536:se={Name:j.Name,Ref:Vn(j.rgce,c,null,be,H)},j.itab>0&&(se.Sheet=j.itab-1),be.names.push(se),be[0]||(be[0]=[],be[0].XTI=[]),be[be.length-1].push(j),j.Name=="_xlnm._FilterDatabase"&&j.itab>0&&j.rgce&&j.rgce[0]&&j.rgce[0][0]&&j.rgce[0][0][0]=="PtgArea3d"&&(me[j.itab-1]={ref:Mr(j.rgce[0][0][1][2])});break;case 22:H.ExternCount=j;break;case 23:be.length==0&&(be[0]=[],be[0].XTI=[]),be[be.length-1].XTI=be[be.length-1].XTI.concat(j),be.XTI=be.XTI.concat(j);break;case 2196:if(H.biff<8)break;se!=null&&(se.Comment=j[1]);break;case 18:o["!protect"]=j;break;case 19:j!==0&&H.WTF&&console.error("Password verifier: "+j);break;case 133:u[j.pos]=j,H.snames.push(j.name);break;case 10:{if(--Te)break;if(c.e){if(c.e.r>0&&c.e.c>0){if(c.e.r--,c.e.c--,o["!ref"]=Mr(c),s.sheetRows&&s.sheetRows<=c.e.r){var Ce=c.e.r;c.e.r=s.sheetRows-1,o["!fullref"]=o["!ref"],o["!ref"]=Mr(c),c.e.r=Ce}c.e.r++,c.e.c++}_e.length>0&&(o["!merges"]=_e),ne.length>0&&(o["!objects"]=ne),we.length>0&&(o["!cols"]=we),ve.length>0&&(o["!rows"]=ve),X.Sheets.push(De)}g===""?v=o:i[g]=o,o=s.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(H.biff===8&&(H.biff={9:2,521:3,1033:4}[U]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[j.BIFFVer]||8),H.biffguess=j.BIFFVer==0,j.BIFFVer==0&&j.dt==4096&&(H.biff=5,ie=!0,Ni(H.codepage=28591)),H.biff==8&&j.BIFFVer==0&&j.dt==16&&(H.biff=2),Te++)break;if(o=s.dense?[]:{},H.biff<8&&!ie&&(ie=!0,Ni(H.codepage=s.codepage||1252)),H.biff<5||j.BIFFVer==0&&j.dt==4096){g===""&&(g="Sheet1"),c={s:{r:0,c:0},e:{r:0,c:0}};var Fe={pos:e.l-de,name:g};u[Fe.pos]=Fe,H.snames.push(g)}else g=(u[Y]||{name:""}).name;j.dt==32&&(o["!type"]="chart"),j.dt==64&&(o["!type"]="macro"),_e=[],ne=[],H.arrayf=Z=[],we=[],ve=[],Me=!1,De={Hidden:(u[Y]||{hs:0}).hs,name:g}}break;case 515:case 3:case 2:o["!type"]=="chart"&&(s.dense?(o[j.r]||[])[j.c]:o[dr({c:j.c,r:j.r})])&&++j.c,R={ixfe:j.ixfe,XF:W[j.ixfe]||{},v:j.val,t:"n"},Q>0&&(R.z=Oe[R.ixfe>>8&63]),Xi(R,s,t.opts.Date1904),re({c:j.c,r:j.r},R,s);break;case 5:case 517:R={ixfe:j.ixfe,XF:W[j.ixfe],v:j.val,t:j.t},Q>0&&(R.z=Oe[R.ixfe>>8&63]),Xi(R,s,t.opts.Date1904),re({c:j.c,r:j.r},R,s);break;case 638:R={ixfe:j.ixfe,XF:W[j.ixfe],v:j.rknum,t:"n"},Q>0&&(R.z=Oe[R.ixfe>>8&63]),Xi(R,s,t.opts.Date1904),re({c:j.c,r:j.r},R,s);break;case 189:for(var He=j.c;He<=j.C;++He){var ze=j.rkrec[He-j.c][0];R={ixfe:ze,XF:W[ze],v:j.rkrec[He-j.c][1],t:"n"},Q>0&&(R.z=Oe[R.ixfe>>8&63]),Xi(R,s,t.opts.Date1904),re({c:He,r:j.r},R,s)}break;case 6:case 518:case 1030:{if(j.val=="String"){m=j;break}if(R=rh(j.val,j.cell.ixfe,j.tt),R.XF=W[R.ixfe],s.cellFormula){var Ft=j.formula;if(Ft&&Ft[0]&&Ft[0][0]&&Ft[0][0][0]=="PtgExp"){var Qt=Ft[0][0][1][0],cr=Ft[0][0][1][1],nr=dr({r:Qt,c:cr});J[nr]?R.f=""+Vn(j.formula,c,j.cell,be,H):R.F=((s.dense?(o[Qt]||[])[cr]:o[nr])||{}).F}else R.f=""+Vn(j.formula,c,j.cell,be,H)}Q>0&&(R.z=Oe[R.ixfe>>8&63]),Xi(R,s,t.opts.Date1904),re(j.cell,R,s),m=j}break;case 7:case 519:if(m)m.val=j,R=rh(j,m.cell.ixfe,"s"),R.XF=W[R.ixfe],s.cellFormula&&(R.f=""+Vn(m.formula,c,m.cell,be,H)),Q>0&&(R.z=Oe[R.ixfe>>8&63]),Xi(R,s,t.opts.Date1904),re(m.cell,R,s),m=null;else throw new Error("String record expects Formula");break;case 33:case 545:{Z.push(j);var Or=dr(j[0].s);if(k=s.dense?(o[j[0].s.r]||[])[j[0].s.c]:o[Or],s.cellFormula&&k){if(!m||!Or||!k)break;k.f=""+Vn(j[1],c,j[0],be,H),k.F=Mr(j[0])}}break;case 1212:{if(!s.cellFormula)break;if(E){if(!m)break;J[dr(m.cell)]=j[0],k=s.dense?(o[m.cell.r]||[])[m.cell.c]:o[dr(m.cell)],(k||{}).f=""+Vn(j[0],c,b,be,H)}}break;case 253:R=rh(h[j.isst].t,j.ixfe,"s"),h[j.isst].h&&(R.h=h[j.isst].h),R.XF=W[R.ixfe],Q>0&&(R.z=Oe[R.ixfe>>8&63]),Xi(R,s,t.opts.Date1904),re({c:j.c,r:j.r},R,s);break;case 513:s.sheetStubs&&(R={ixfe:j.ixfe,XF:W[j.ixfe],t:"z"},Q>0&&(R.z=Oe[R.ixfe>>8&63]),Xi(R,s,t.opts.Date1904),re({c:j.c,r:j.r},R,s));break;case 190:if(s.sheetStubs)for(var Zt=j.c;Zt<=j.C;++Zt){var xr=j.ixfe[Zt-j.c];R={ixfe:xr,XF:W[xr],t:"z"},Q>0&&(R.z=Oe[R.ixfe>>8&63]),Xi(R,s,t.opts.Date1904),re({c:Zt,r:j.r},R,s)}break;case 214:case 516:case 4:R=rh(j.val,j.ixfe,"s"),R.XF=W[R.ixfe],Q>0&&(R.z=Oe[R.ixfe>>8&63]),Xi(R,s,t.opts.Date1904),re({c:j.c,r:j.r},R,s);break;case 0:case 512:Te===1&&(c=j);break;case 252:h=j;break;case 1054:if(H.biff==4){Oe[Q++]=j[1];for(var Yt=0;Yt<Q+163&&gr[Yt]!=j[1];++Yt);Yt>=163&&Oc(j[1],Q+163)}else Oc(j[1],j[0]);break;case 30:{Oe[Q++]=j;for(var Sr=0;Sr<Q+163&&gr[Sr]!=j;++Sr);Sr>=163&&Oc(j,Q+163)}break;case 229:_e=_e.concat(j);break;case 93:ne[j.cmo[0]]=H.lastobj=j;break;case 438:H.lastobj.TxO=j;break;case 127:H.lastobj.ImData=j;break;case 440:for(T=j[0].s.r;T<=j[0].e.r;++T)for(y=j[0].s.c;y<=j[0].e.c;++y)k=s.dense?(o[T]||[])[y]:o[dr({c:y,r:T})],k&&(k.l=j[1]);break;case 2048:for(T=j[0].s.r;T<=j[0].e.r;++T)for(y=j[0].s.c;y<=j[0].e.c;++y)k=s.dense?(o[T]||[])[y]:o[dr({c:y,r:T})],k&&k.l&&(k.l.Tooltip=j[1]);break;case 28:{if(H.biff<=5&&H.biff>=2)break;k=s.dense?(o[j[0].r]||[])[j[0].c]:o[dr(j[0])];var at=ne[j[2]];k||(s.dense?(o[j[0].r]||(o[j[0].r]=[]),k=o[j[0].r][j[0].c]={t:"z"}):k=o[dr(j[0])]={t:"z"},c.e.r=Math.max(c.e.r,j[0].r),c.s.r=Math.min(c.s.r,j[0].r),c.e.c=Math.max(c.e.c,j[0].c),c.s.c=Math.min(c.s.c,j[0].c)),k.c||(k.c=[]),w={a:j[1],t:at.TxO.t},k.c.push(w)}break;case 2173:WM(W[j.ixfe],j.ext);break;case 125:{if(!H.cellStyles)break;for(;j.e>=j.s;)we[j.e--]={width:j.w/256,level:j.level||0,hidden:!!(j.flags&1)},Me||(Me=!0,JN(j.w/256)),Hu(we[j.e+1])}break;case 520:{var ar={};j.level!=null&&(ve[j.r]=ar,ar.level=j.level),j.hidden&&(ve[j.r]=ar,ar.hidden=!0),j.hpt&&(ve[j.r]=ar,ar.hpt=j.hpt,ar.hpx=mf(j.hpt))}break;case 38:case 39:case 40:case 41:o["!margins"]||rf(o["!margins"]={}),o["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[U]]=j;break;case 161:o["!margins"]||rf(o["!margins"]={}),o["!margins"].header=j.header,o["!margins"].footer=j.footer;break;case 574:j.RTL&&(X.Views[0].RTL=!0);break;case 146:ee=j;break;case 2198:oe=j;break;case 140:le=j;break;case 442:g?De.CodeName=j||De.name:X.WBProps.CodeName=j||"ThisWorkbook";break}}else I||console.error("Missing Info for XLS Record 0x"+U.toString(16)),e.l+=de}return t.SheetNames=Wi(u).sort(function(Vt,Ze){return Number(Vt)-Number(Ze)}).map(function(Vt){return u[Vt].name}),s.bookSheets||(t.Sheets=i),!t.SheetNames.length&&v["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=v)):t.Preamble=v,t.Sheets&&me.forEach(function(Vt,Ze){t.Sheets[t.SheetNames[Ze]]["!autofilter"]=Vt}),t.Strings=h,t.SSF=Dn(gr),H.enc&&(t.Encryption=H.enc),oe&&(t.Themes=oe),t.Metadata={},le!==void 0&&(t.Metadata.Country=le),be.names.length>0&&(X.Names=be.names),t.Workbook=X,t}var KE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function C7(e,s,t){var i=Lr.find(e,"/!DocumentSummaryInformation");if(i&&i.size>0)try{var o=PE(i,X6,KE.DSI);for(var u in o)s[u]=o[u]}catch(g){if(t.WTF)throw g}var c=Lr.find(e,"/!SummaryInformation");if(c&&c.size>0)try{var m=PE(c,H6,KE.SI);for(var h in m)s[h]==null&&(s[h]=m[h])}catch(g){if(t.WTF)throw g}s.HeadingPairs&&s.TitlesOfParts&&(_w(s.HeadingPairs,s.TitlesOfParts,s,t),delete s.HeadingPairs,delete s.TitlesOfParts)}function pk(e,s){s||(s={}),rD(s),XC(),s.codepage&&VN(s.codepage);var t,i;if(e.FullPaths){if(Lr.find(e,"/encryption"))throw new Error("File is password-protected");t=Lr.find(e,"!CompObj"),i=Lr.find(e,"/Workbook")||Lr.find(e,"/Book")}else{switch(s.type){case"base64":e=bi(Ta(e));break;case"binary":e=bi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Nn(e,0),i={content:e}}var o,u;if(t&&S7(t),s.bookProps&&!s.bookSheets)o={};else{var c=Pr?"buffer":"array";if(i&&i.content)o=E7(i.content,s);else if((u=Lr.find(e,"PerfectOffice_MAIN"))&&u.content)o=ef.to_workbook(u.content,(s.type=c,s));else if((u=Lr.find(e,"NativeContent_MAIN"))&&u.content)o=ef.to_workbook(u.content,(s.type=c,s));else throw(u=Lr.find(e,"MN0"))&&u.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");s.bookVBA&&e.FullPaths&&Lr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(o.vbaraw=dI(e))}var m={};return e.FullPaths&&C7(e,m,s),o.Props=o.Custprops=m,s.bookFiles&&(o.cfb=e),o}var Oh={0:{f:oF},1:{f:dF},2:{f:NF},3:{f:hF},4:{f:fF},5:{f:bF},6:{f:OF},7:{f:gF},8:{f:kF},9:{f:wF},10:{f:EF},11:{f:CF},12:{f:mF},13:{f:DF},14:{f:vF},15:{f:pF},16:{f:ck},17:{f:yF},18:{f:xF},19:{f:zN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:t7},40:{},42:{},43:{f:EM},44:{f:yM},45:{f:CM},46:{f:kM},47:{f:wM},48:{},49:{f:R6},50:{},51:{f:KM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Xw},62:{f:SF},63:{f:eI},64:{f:LF},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Mn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:AF},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:uF},148:{f:lF,p:16},151:{f:_F},152:{},153:{f:ZF},154:{},155:{},156:{f:QF},157:{},158:{},159:{T:1,f:HL},160:{T:-1},161:{T:1,f:_c},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:RF},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:YM},336:{T:-1},337:{f:qM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:mN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Bw},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:PF},427:{f:UF},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:jF},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:cF},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:TF},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:mN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lI},633:{T:1},634:{T:-1},635:{T:1,f:oI},636:{T:-1},637:{f:_6},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:XF},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:MF},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},gN={6:{f:qb},10:{f:bl},12:{f:Ps},13:{f:Ps},14:{f:Os},15:{f:Os},16:{f:jn},17:{f:Os},18:{f:Os},19:{f:Ps},20:{f:AE},21:{f:AE},23:{f:Bw},24:{f:ME},25:{f:Os},26:{},27:{},28:{f:aL},29:{},34:{f:Os},35:{f:LE},38:{f:jn},39:{f:jn},40:{f:jn},41:{f:jn},42:{f:Os},43:{f:Os},47:{f:cM},49:{f:FA},51:{f:Ps},60:{},61:{f:LA},64:{f:Os},65:{f:IA},66:{f:Ps},77:{},80:{},81:{},82:{},85:{f:Ps},89:{},90:{},91:{},92:{f:RA},93:{f:oL},94:{},95:{f:Os},96:{},97:{},99:{f:Os},125:{f:Xw},128:{f:qA},129:{f:TA},130:{f:Ps},131:{f:Os},132:{f:Os},133:{f:_A},134:{},140:{f:fL},141:{f:Ps},144:{},146:{f:hL},151:{},152:{},153:{},154:{},155:{},156:{f:Ps},157:{},158:{},160:{f:NL},161:{f:gL},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:GA},190:{f:WA},193:{f:bl},197:{},198:{},199:{},200:{},201:{},202:{f:Os},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ps},220:{},221:{f:Os},222:{},224:{f:KA},225:{f:kA},226:{f:bl},227:{},229:{f:iL},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:PA},253:{f:$A},255:{f:UA},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Aw},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Os},353:{f:bl},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:QA},431:{f:Os},432:{},433:{},434:{},437:{},438:{f:uL},439:{f:Os},440:{f:dL},441:{},442:{f:Df},443:{},444:{f:Ps},445:{},446:{},448:{f:bl},449:{f:AA,r:2},450:{f:bl},512:{f:VE},513:{f:bL},515:{f:JA},516:{f:BA},517:{f:jE},519:{f:DL},520:{f:VA},523:{},545:{f:IE},549:{f:UE},566:{},574:{f:MA},638:{f:zA},659:{},1048:{},1054:{f:XA},1084:{},1212:{f:rL},2048:{f:mL},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Zp},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:bl},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:vL,r:12},2173:{f:GM,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Os,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:tL,r:12},2197:{},2198:{f:FM,r:12},2199:{},2200:{},2201:{},2202:{f:sL,r:12},2203:{f:bl},2204:{},2205:{},2206:{},2207:{},2211:{f:jA},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ps},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:xL},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:pL},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:VE},1:{},2:{f:EL},3:{f:yL},4:{f:OL},5:{f:jE},7:{f:CL},8:{},9:{f:Zp},11:{},22:{f:Ps},30:{f:HA},31:{},32:{},33:{f:IE},36:{},37:{f:UE},50:{f:wL},62:{},52:{},67:{},68:{f:Ps},69:{},86:{},126:{},127:{f:SL},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:kL},223:{},234:{},354:{},421:{},518:{f:qb},521:{f:Zp},536:{f:ME},547:{f:LE},561:{},579:{},1030:{f:qb},1033:{f:Zp},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function vi(e,s,t,i){var o=s;if(!isNaN(o)){var u=(t||[]).length||0,c=e.next(4);c.write_shift(2,o),c.write_shift(2,u),u>0&&Ow(t)&&e.push(t)}}function qE(e,s){var t=s||{},i=t.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var o=e.match(/<table/i);if(!o)throw new Error("Invalid HTML: could not find <table>");var u=e.match(/<\/table/i),c=o.index,m=u&&u.index||e.length,h=Jj(e.slice(c,m),/(:?<tr[^>]*>)/i,"<tr>"),g=-1,v=0,b=0,E=0,k={s:{r:1e7,c:1e7},e:{r:0,c:0}},w=[];for(c=0;c<h.length;++c){var y=h[c].trim(),T=y.slice(0,3).toLowerCase();if(T=="<tr"){if(++g,t.sheetRows&&t.sheetRows<=g){--g;break}v=0;continue}if(!(T!="<td"&&T!="<th")){var J=y.split(/<\/t[dh]>/i);for(m=0;m<J.length;++m){var Z=J[m].trim();if(Z.match(/<t[dh]/i)){for(var R=Z,le=0;R.charAt(0)=="<"&&(le=R.indexOf(">"))>-1;)R=R.slice(le+1);for(var W=0;W<w.length;++W){var ee=w[W];ee.s.c==v&&ee.s.r<g&&g<=ee.e.r&&(v=ee.e.c+1,W=-1)}var X=sr(Z.slice(0,Z.indexOf(">")));E=X.colspan?+X.colspan:1,((b=+X.rowspan)>1||E>1)&&w.push({s:{r:g,c:v},e:{r:g+(b||1)-1,c:v+E-1}});var De=X.t||X["data-t"]||"";if(!R.length){v+=E;continue}if(R=uw(R),k.s.r>g&&(k.s.r=g),k.e.r<g&&(k.e.r=g),k.s.c>v&&(k.s.c=v),k.e.c<v&&(k.e.c=v),!R.length){v+=E;continue}var _={t:"s",v:R};t.raw||!R.trim().length||De=="s"||(R==="TRUE"?_={t:"b",v:!0}:R==="FALSE"?_={t:"b",v:!1}:isNaN(Si(R))?isNaN(Xu(R).getDate())||(_={t:"d",v:rn(R)},t.cellDates||(_={t:"n",v:Qn(_.v)}),_.z=t.dateNF||gr[14]):_={t:"n",v:Si(R)}),t.dense?(i[g]||(i[g]=[]),i[g][v]=_):i[dr({r:g,c:v})]=_,v+=E}}}}return i["!ref"]=Mr(k),w.length&&(i["!merges"]=w),i}function w7(e,s,t,i){for(var o=e["!merges"]||[],u=[],c=s.s.c;c<=s.e.c;++c){for(var m=0,h=0,g=0;g<o.length;++g)if(!(o[g].s.r>t||o[g].s.c>c)&&!(o[g].e.r<t||o[g].e.c<c)){if(o[g].s.r<t||o[g].s.c<c){m=-1;break}m=o[g].e.r-o[g].s.r+1,h=o[g].e.c-o[g].s.c+1;break}if(!(m<0)){var v=dr({r:t,c}),b=i.dense?(e[t]||[])[c]:e[v],E=b&&b.v!=null&&(b.h||FN(b.w||(Vo(b),b.w)||""))||"",k={};m>1&&(k.rowspan=m),h>1&&(k.colspan=h),i.editable?E='<span contenteditable="true">'+E+"</span>":b&&(k["data-t"]=b&&b.t||"z",b.v!=null&&(k["data-v"]=b.v),b.z!=null&&(k["data-z"]=b.z),b.l&&(b.l.Target||"#").charAt(0)!="#"&&(E='<a href="'+b.l.Target+'">'+E+"</a>")),k.id=(i.id||"sjs")+"-"+v,u.push(f6("td",E,k))}}var w="<tr>";return w+u.join("")+"</tr>"}var k7='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',R7="</body></html>";function T7(e,s){var t=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return kl(qE(t[0],s),s);var i=nD();return t.forEach(function(o,u){aD(i,qE(o,s),"Sheet"+(u+1))}),i}function _7(e,s,t){var i=[];return i.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function P7(e,s){var t=s||{},i=t.header!=null?t.header:k7,o=t.footer!=null?t.footer:R7,u=[i],c=Ku(e["!ref"]);t.dense=Array.isArray(e),u.push(_7(e,c,t));for(var m=c.s.r;m<=c.e.r;++m)u.push(w7(e,c,m,t));return u.push("</table>"+o),u.join("")}function hk(e,s,t){var i=t||{},o=0,u=0;if(i.origin!=null)if(typeof i.origin=="number")o=i.origin;else{var c=typeof i.origin=="string"?qn(i.origin):i.origin;o=c.r,u=c.c}var m=s.getElementsByTagName("tr"),h=Math.min(i.sheetRows||1e7,m.length),g={s:{r:0,c:0},e:{r:o,c:u}};if(e["!ref"]){var v=Ku(e["!ref"]);g.s.r=Math.min(g.s.r,v.s.r),g.s.c=Math.min(g.s.c,v.s.c),g.e.r=Math.max(g.e.r,v.e.r),g.e.c=Math.max(g.e.c,v.e.c),o==-1&&(g.e.r=o=v.e.r+1)}var b=[],E=0,k=e["!rows"]||(e["!rows"]=[]),w=0,y=0,T=0,J=0,Z=0,R=0;for(e["!cols"]||(e["!cols"]=[]);w<m.length&&y<h;++w){var le=m[w];if(JE(le)){if(i.display)continue;k[y]={hidden:!0}}var W=le.children;for(T=J=0;T<W.length;++T){var ee=W[T];if(!(i.display&&JE(ee))){var X=ee.hasAttribute("data-v")?ee.getAttribute("data-v"):ee.hasAttribute("v")?ee.getAttribute("v"):uw(ee.innerHTML),De=ee.getAttribute("data-z")||ee.getAttribute("z");for(E=0;E<b.length;++E){var _=b[E];_.s.c==J+u&&_.s.r<y+o&&y+o<=_.e.r&&(J=_.e.c+1-u,E=-1)}R=+ee.getAttribute("colspan")||1,((Z=+ee.getAttribute("rowspan")||1)>1||R>1)&&b.push({s:{r:y+o,c:J+u},e:{r:y+o+(Z||1)-1,c:J+u+(R||1)-1}});var B={t:"s",v:X},re=ee.getAttribute("data-t")||ee.getAttribute("t")||"";X!=null&&(X.length==0?B.t=re||"z":i.raw||X.trim().length==0||re=="s"||(X==="TRUE"?B={t:"b",v:!0}:X==="FALSE"?B={t:"b",v:!1}:isNaN(Si(X))?isNaN(Xu(X).getDate())||(B={t:"d",v:rn(X)},i.cellDates||(B={t:"n",v:Qn(B.v)}),B.z=i.dateNF||gr[14]):B={t:"n",v:Si(X)})),B.z===void 0&&De!=null&&(B.z=De);var H="",oe=ee.getElementsByTagName("A");if(oe&&oe.length)for(var _e=0;_e<oe.length&&!(oe[_e].hasAttribute("href")&&(H=oe[_e].getAttribute("href"),H.charAt(0)!="#"));++_e);H&&H.charAt(0)!="#"&&(B.l={Target:H}),i.dense?(e[y+o]||(e[y+o]=[]),e[y+o][J+u]=B):e[dr({c:J+u,r:y+o})]=B,g.e.c<J+u&&(g.e.c=J+u),J+=R}}++y}return b.length&&(e["!merges"]=(e["!merges"]||[]).concat(b)),g.e.r=Math.max(g.e.r,y-1+o),e["!ref"]=Mr(g),y>=h&&(e["!fullref"]=Mr((g.e.r=m.length-w+y-1+o,g))),e}function vk(e,s){var t=s||{},i=t.dense?[]:{};return hk(i,e,s)}function U7(e,s){return kl(vk(e,s),s)}function JE(e){var s="",t=V7(e);return t&&(s=t(e).getPropertyValue("display")),s||(s=e.style&&e.style.display),s==="none"}function V7(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function j7(e){var s=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(i,o){return Array(parseInt(o,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Fr(s.replace(/<[^>]*>/g,""));return[t]}var QE={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function gk(e,s){var t=s||{},i=$N(e),o=[],u,c,m={name:""},h="",g=0,v,b,E={},k=[],w=t.dense?[]:{},y,T,J={value:""},Z="",R=0,le=[],W=-1,ee=-1,X={s:{r:1e6,c:1e7},e:{r:0,c:0}},De=0,_={},B=[],re={},H=0,oe=0,_e=[],ne=1,we=1,ve=[],Me={Names:[]},be={},Ie=["",""],Te=[],Q={},Oe="",me=0,se=!1,ie=!1,Y=0;for(cf.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=cf.exec(i);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(X.e.c>=X.s.c&&X.e.r>=X.s.r?w["!ref"]=Mr(X):w["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=X.e.r&&(w["!fullref"]=w["!ref"],X.e.r=t.sheetRows-1,w["!ref"]=Mr(X)),B.length&&(w["!merges"]=B),_e.length&&(w["!rows"]=_e),v.name=v.||v.name,typeof JSON<"u"&&JSON.stringify(v),k.push(v.name),E[v.name]=w,ie=!1):y[0].charAt(y[0].length-2)!=="/"&&(v=sr(y[0],!1),W=ee=-1,X.s.r=X.s.c=1e7,X.e.r=X.e.c=0,w=t.dense?[]:{},B=[],_e=[],ie=!0);break;case"table-row-group":y[1]==="/"?--De:++De;break;case"table-row":case"":if(y[1]==="/"){W+=ne,ne=1;break}if(b=sr(y[0],!1),b.?W=b.-1:W==-1&&(W=0),ne=+b["number-rows-repeated"]||1,ne<10)for(Y=0;Y<ne;++Y)De>0&&(_e[W+Y]={level:De});ee=-1;break;case"covered-table-cell":y[1]!=="/"&&++ee,t.sheetStubs&&(t.dense?(w[W]||(w[W]=[]),w[W][ee]={t:"z"}):w[dr({r:W,c:ee})]={t:"z"}),Z="",le=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++ee,J=sr(y[0],!1),we=parseInt(J["number-columns-repeated"]||"1",10),T={t:"z",v:null},J.formula&&t.cellFormula!=!1&&(T.f=GE(Fr(J.formula))),(J.||J["value-type"])=="string"&&(T.t="s",T.v=Fr(J["string-value"]||""),t.dense?(w[W]||(w[W]=[]),w[W][ee]=T):w[dr({r:W,c:ee})]=T),ee+=we-1;else if(y[1]!=="/"){++ee,Z="",R=0,le=[],we=1;var U=ne?W+ne-1:W;if(ee>X.e.c&&(X.e.c=ee),ee<X.s.c&&(X.s.c=ee),W<X.s.r&&(X.s.r=W),U>X.e.r&&(X.e.r=U),J=sr(y[0],!1),Te=[],Q={},T={t:J.||J["value-type"],v:null},t.cellFormula)if(J.formula&&(J.formula=Fr(J.formula)),J["number-matrix-columns-spanned"]&&J["number-matrix-rows-spanned"]&&(H=parseInt(J["number-matrix-rows-spanned"],10)||0,oe=parseInt(J["number-matrix-columns-spanned"],10)||0,re={s:{r:W,c:ee},e:{r:W+H-1,c:ee+oe-1}},T.F=Mr(re),ve.push([re,T.F])),J.formula)T.f=GE(J.formula);else for(Y=0;Y<ve.length;++Y)W>=ve[Y][0].s.r&&W<=ve[Y][0].e.r&&ee>=ve[Y][0].s.c&&ee<=ve[Y][0].e.c&&(T.F=ve[Y][1]);switch((J["number-columns-spanned"]||J["number-rows-spanned"])&&(H=parseInt(J["number-rows-spanned"],10)||0,oe=parseInt(J["number-columns-spanned"],10)||0,re={s:{r:W,c:ee},e:{r:W+H-1,c:ee+oe-1}},B.push(re)),J["number-columns-repeated"]&&(we=parseInt(J["number-columns-repeated"],10)),T.t){case"boolean":T.t="b",T.v=us(J["boolean-value"]);break;case"float":T.t="n",T.v=parseFloat(J.value);break;case"percentage":T.t="n",T.v=parseFloat(J.value);break;case"currency":T.t="n",T.v=parseFloat(J.value);break;case"date":T.t="d",T.v=rn(J["date-value"]),t.cellDates||(T.t="n",T.v=Qn(T.v)),T.z="m/d/yy";break;case"time":T.t="n",T.v=Yj(J["time-value"])/86400,t.cellDates&&(T.t="d",T.v=Rh(T.v)),T.z="HH:MM:SS";break;case"number":T.t="n",T.v=parseFloat(J.);break;default:if(T.t==="string"||T.t==="text"||!T.t)T.t="s",J["string-value"]!=null&&(Z=Fr(J["string-value"]),le=[]);else throw new Error("Unsupported value type "+T.t)}}else{if(se=!1,T.t==="s"&&(T.v=Z||"",le.length&&(T.R=le),se=R==0),be.Target&&(T.l=be),Te.length>0&&(T.c=Te,Te=[]),Z&&t.cellText!==!1&&(T.w=Z),se&&(T.t="z",delete T.v),(!se||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=W))for(var de=0;de<ne;++de){if(we=parseInt(J["number-columns-repeated"]||"1",10),t.dense)for(w[W+de]||(w[W+de]=[]),w[W+de][ee]=de==0?T:Dn(T);--we>0;)w[W+de][ee+we]=Dn(T);else for(w[dr({r:W+de,c:ee})]=T;--we>0;)w[dr({r:W+de,c:ee+we})]=Dn(T);X.e.c<=ee&&(X.e.c=ee)}we=parseInt(J["number-columns-repeated"]||"1",10),ee+=we-1,we=0,T={},Z="",le=[]}be={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((u=o.pop())[0]!==y[3])throw"Bad state: "+u}else y[0].charAt(y[0].length-2)!=="/"&&o.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((u=o.pop())[0]!==y[3])throw"Bad state: "+u;Q.t=Z,le.length&&(Q.R=le),Q.a=Oe,Te.push(Q)}else y[0].charAt(y[0].length-2)!=="/"&&o.push([y[3],!1]);Oe="",me=0,Z="",R=0,le=[];break;case"creator":y[1]==="/"?Oe=i.slice(me,y.index):me=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((u=o.pop())[0]!==y[3])throw"Bad state: "+u}else y[0].charAt(y[0].length-2)!=="/"&&o.push([y[3],!1]);Z="",R=0,le=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(_[m.name]=h,(u=o.pop())[0]!==y[3])throw"Bad state: "+u}else y[0].charAt(y[0].length-2)!=="/"&&(h="",m=sr(y[0],!1),o.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(o[o.length-1][0]){case"time-style":case"date-style":c=sr(y[0],!1),h+=QE[y[3]][c.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(o[o.length-1][0]){case"time-style":case"date-style":c=sr(y[0],!1),h+=QE[y[3]][c.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(o[o.length-1][0]){case"number-style":case"date-style":case"time-style":h+=i.slice(g,y.index);break}else g=y.index+y[0].length;break;case"named-range":c=sr(y[0],!1),Ie=Jb(c["cell-range-address"]);var I={Name:c.name,Ref:Ie[0]+"!"+Ie[1]};ie&&(I.Sheet=k.length),Me.Names.push(I);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(o[o.length-1][0])>-1)break;if(y[1]==="/"&&(!J||!J["string-value"])){var Ee=j7(i.slice(R,y.index));Z=(Z.length>0?Z+`
`:"")+Ee[0]}else sr(y[0],!1),R=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{Ie=Jb(sr(y[0])["target-range-address"]),E[Ie[0]]["!autofilter"]={ref:Ie[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(be=sr(y[0],!1),!be.href)break;be.Target=Fr(be.href),delete be.href,be.Target.charAt(0)=="#"&&be.Target.indexOf(".")>-1?(Ie=Jb(be.Target.slice(1)),be.Target="#"+Ie[0]+"!"+Ie[1]):be.Target.match(/^\.\.[\\\/]/)&&(be.Target=be.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(y)}}var j={Sheets:E,SheetNames:k,Workbook:Me};return t.bookSheets&&delete j.Sheets,j}function ZE(e,s){s=s||{},$a(e,"META-INF/manifest.xml")&&J6(_s(e,"META-INF/manifest.xml"),s);var t=Ra(e,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var i=gk(ns(t),s);return $a(e,"meta.xml")&&(i.Props=Tw(_s(e,"meta.xml"))),i}function eC(e,s){return gk(e,s)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function eD(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function xN(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ns(Rc(e))}function bN(e){var s=e.reduce(function(o,u){return o+u.length},0),t=new Uint8Array(s),i=0;return e.forEach(function(o){t.set(o,i),i+=o.length}),t}function tC(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function A7(e,s){for(var t=(e[s+15]&127)<<7|e[s+14]>>1,i=e[s+14]&1,o=s+13;o>=s;--o)i=i*256+e[o];return(e[s+15]&128?-i:i)*Math.pow(10,t-6176)}function ff(e,s){var t=s?s[0]:0,i=e[t]&127;e:if(e[t++]>=128&&(i|=(e[t]&127)<<7,e[t++]<128||(i|=(e[t]&127)<<14,e[t++]<128)||(i|=(e[t]&127)<<21,e[t++]<128)||(i+=(e[t]&127)*Math.pow(2,28),++t,e[t++]<128)||(i+=(e[t]&127)*Math.pow(2,35),++t,e[t++]<128)||(i+=(e[t]&127)*Math.pow(2,42),++t,e[t++]<128)))break e;return s&&(s[0]=t),i}function Ys(e){var s=0,t=e[s]&127;e:if(e[s++]>=128){if(t|=(e[s]&127)<<7,e[s++]<128||(t|=(e[s]&127)<<14,e[s++]<128)||(t|=(e[s]&127)<<21,e[s++]<128))break e;t|=(e[s]&127)<<28}return t}function An(e){for(var s=[],t=[0];t[0]<e.length;){var i=t[0],o=ff(e,t),u=o&7;o=Math.floor(o/8);var c=0,m;if(o==0)break;switch(u){case 0:{for(var h=t[0];e[t[0]++]>=128;);m=e.slice(h,t[0])}break;case 5:c=4,m=e.slice(t[0],t[0]+c),t[0]+=c;break;case 1:c=8,m=e.slice(t[0],t[0]+c),t[0]+=c;break;case 2:c=ff(e,t),m=e.slice(t[0],t[0]+c),t[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(u," for Field ").concat(o," at offset ").concat(i))}var g={data:m,type:u};s[o]==null?s[o]=[g]:s[o].push(g)}return s}function tD(e,s){return e?.map(function(t){return s(t.data)})||[]}function L7(e){for(var s,t=[],i=[0];i[0]<e.length;){var o=ff(e,i),u=An(e.slice(i[0],i[0]+o));i[0]+=o;var c={id:Ys(u[1][0].data),messages:[]};u[2].forEach(function(m){var h=An(m.data),g=Ys(h[3][0].data);c.messages.push({meta:h,data:e.slice(i[0],i[0]+g)}),i[0]+=g}),(s=u[3])!=null&&s[0]&&(c.merge=Ys(u[3][0].data)>>>0>0),t.push(c)}return t}function M7(e,s){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var t=[0],i=ff(s,t),o=[];t[0]<s.length;){var u=s[t[0]]&3;if(u==0){var c=s[t[0]++]>>2;if(c<60)++c;else{var m=c-59;c=s[t[0]],m>1&&(c|=s[t[0]+1]<<8),m>2&&(c|=s[t[0]+2]<<16),m>3&&(c|=s[t[0]+3]<<24),c>>>=0,c++,t[0]+=m}o.push(s.slice(t[0],t[0]+c)),t[0]+=c;continue}else{var h=0,g=0;if(u==1?(g=(s[t[0]]>>2&7)+4,h=(s[t[0]++]&224)<<3,h|=s[t[0]++]):(g=(s[t[0]++]>>2)+1,u==2?(h=s[t[0]]|s[t[0]+1]<<8,t[0]+=2):(h=(s[t[0]]|s[t[0]+1]<<8|s[t[0]+2]<<16|s[t[0]+3]<<24)>>>0,t[0]+=4)),o=[bN(o)],h==0)throw new Error("Invalid offset 0");if(h>o[0].length)throw new Error("Invalid offset beyond length");if(g>=h)for(o.push(o[0].slice(-h)),g-=h;g>=o[o.length-1].length;)o.push(o[o.length-1]),g-=o[o.length-1].length;o.push(o[0].slice(-h,-h+g))}}var v=bN(o);if(v.length!=i)throw new Error("Unexpected length: ".concat(v.length," != ").concat(i));return v}function I7(e){for(var s=[],t=0;t<e.length;){var i=e[t++],o=e[t]|e[t+1]<<8|e[t+2]<<16;t+=3,s.push(M7(i,e.slice(t,t+o))),t+=o}if(t!==e.length)throw new Error("data is not a valid framed stream!");return bN(s)}function F7(e,s,t,i){var o=eD(e),u=o.getUint32(4,!0),c=(i>1?12:8)+tC(u&(i>1?3470:398))*4,m=-1,h=-1,g=NaN,v=new Date(2001,0,1);u&512&&(m=o.getUint32(c,!0),c+=4),c+=tC(u&(i>1?12288:4096))*4,u&16&&(h=o.getUint32(c,!0),c+=4),u&32&&(g=o.getFloat64(c,!0),c+=8),u&64&&(v.setTime(v.getTime()+o.getFloat64(c,!0)*1e3),c+=8);var b;switch(e[2]){case 0:break;case 2:b={t:"n",v:g};break;case 3:b={t:"s",v:s[h]};break;case 5:b={t:"d",v};break;case 6:b={t:"b",v:g>0};break;case 7:b={t:"n",v:g/86400};break;case 8:b={t:"e",v:0};break;case 9:if(m>-1)b={t:"s",v:t[m]};else if(h>-1)b={t:"s",v:s[h]};else if(!isNaN(g))b={t:"n",v:g};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return b}function $7(e,s,t){var i=eD(e),o=i.getUint32(8,!0),u=12,c=-1,m=-1,h=NaN,g=NaN,v=new Date(2001,0,1);o&1&&(h=A7(e,u),u+=16),o&2&&(g=i.getFloat64(u,!0),u+=8),o&4&&(v.setTime(v.getTime()+i.getFloat64(u,!0)*1e3),u+=8),o&8&&(m=i.getUint32(u,!0),u+=4),o&16&&(c=i.getUint32(u,!0),u+=4);var b;switch(e[1]){case 0:break;case 2:b={t:"n",v:h};break;case 3:b={t:"s",v:s[m]};break;case 5:b={t:"d",v};break;case 6:b={t:"b",v:g>0};break;case 7:b={t:"n",v:g/86400};break;case 8:b={t:"e",v:0};break;case 9:if(c>-1)b={t:"s",v:t[c]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(o&31," : ").concat(e.slice(0,4)));break;case 10:b={t:"n",v:h};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(o&31," : ").concat(e.slice(0,4)))}return b}function B7(e,s,t){switch(e[0]){case 0:case 1:case 2:case 3:return F7(e,s,t,e[0]);case 5:return $7(e,s,t);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function El(e){var s=An(e);return ff(s[1][0].data)}function rC(e,s){var t=An(s.data),i=Ys(t[1][0].data),o=t[3],u=[];return(o||[]).forEach(function(c){var m=An(c.data),h=Ys(m[1][0].data)>>>0;switch(i){case 1:u[h]=xN(m[3][0].data);break;case 8:{var g=e[El(m[9][0].data)][0],v=An(g.data),b=e[El(v[1][0].data)][0],E=Ys(b.meta[1][0].data);if(E!=2001)throw new Error("2000 unexpected reference to ".concat(E));var k=An(b.data);u[h]=k[3].map(function(w){return xN(w.data)}).join("")}break}}),u}function X7(e,s){var t,i,o,u,c,m,h,g,v,b,E,k,w,y,T=An(e),J=Ys(T[1][0].data)>>>0,Z=Ys(T[2][0].data)>>>0,R=((i=(t=T[8])==null?void 0:t[0])==null?void 0:i.data)&&Ys(T[8][0].data)>0||!1,le,W;if((u=(o=T[7])==null?void 0:o[0])!=null&&u.data&&s!=0)le=(m=(c=T[7])==null?void 0:c[0])==null?void 0:m.data,W=(g=(h=T[6])==null?void 0:h[0])==null?void 0:g.data;else if((b=(v=T[4])==null?void 0:v[0])!=null&&b.data&&s!=1)le=(k=(E=T[4])==null?void 0:E[0])==null?void 0:k.data,W=(y=(w=T[3])==null?void 0:w[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(s," cell storage");for(var ee=R?4:1,X=eD(le),De=[],_=0;_<le.length/2;++_){var B=X.getUint16(_*2,!0);B<65535&&De.push([_,B])}if(De.length!=Z)throw"Expected ".concat(Z," cells, found ").concat(De.length);var re=[];for(_=0;_<De.length-1;++_)re[De[_][0]]=W.subarray(De[_][1]*ee,De[_+1][1]*ee);return De.length>=1&&(re[De[De.length-1][0]]=W.subarray(De[De.length-1][1]*ee)),{R:J,cells:re}}function H7(e,s){var t,i=An(s.data),o=(t=i?.[7])!=null&&t[0]?Ys(i[7][0].data)>>>0>0?1:0:-1,u=tD(i[5],function(c){return X7(c,o)});return{nrows:Ys(i[4][0].data)>>>0,data:u.reduce(function(c,m){return c[m.R]||(c[m.R]=[]),m.cells.forEach(function(h,g){if(c[m.R][g])throw new Error("Duplicate cell r=".concat(m.R," c=").concat(g));c[m.R][g]=h}),c},[])}}function z7(e,s,t){var i,o=An(s.data),u={s:{r:0,c:0},e:{r:0,c:0}};if(u.e.r=(Ys(o[6][0].data)>>>0)-1,u.e.r<0)throw new Error("Invalid row varint ".concat(o[6][0].data));if(u.e.c=(Ys(o[7][0].data)>>>0)-1,u.e.c<0)throw new Error("Invalid col varint ".concat(o[7][0].data));t["!ref"]=Mr(u);var c=An(o[4][0].data),m=rC(e,e[El(c[4][0].data)][0]),h=(i=c[17])!=null&&i[0]?rC(e,e[El(c[17][0].data)][0]):[],g=An(c[3][0].data),v=0;g[1].forEach(function(b){var E=An(b.data),k=e[El(E[2][0].data)][0],w=Ys(k.meta[1][0].data);if(w!=6002)throw new Error("6001 unexpected reference to ".concat(w));var y=H7(e,k);y.data.forEach(function(T,J){T.forEach(function(Z,R){var le=dr({r:v+J,c:R}),W=B7(Z,m,h);W&&(t[le]=W)})}),v+=y.nrows})}function G7(e,s){var t=An(s.data),i={"!ref":"A1"},o=e[El(t[2][0].data)],u=Ys(o[0].meta[1][0].data);if(u!=6001)throw new Error("6000 unexpected reference to ".concat(u));return z7(e,o[0],i),i}function W7(e,s){var t,i=An(s.data),o={name:(t=i[1])!=null&&t[0]?xN(i[1][0].data):"",sheets:[]},u=tD(i[2],El);return u.forEach(function(c){e[c].forEach(function(m){var h=Ys(m.meta[1][0].data);h==6e3&&o.sheets.push(G7(e,m))})}),o}function Y7(e,s){var t=nD(),i=An(s.data),o=tD(i[1],El);if(o.forEach(function(u){e[u].forEach(function(c){var m=Ys(c.meta[1][0].data);if(m==2){var h=W7(e,c);h.sheets.forEach(function(g,v){aD(t,g,v==0?h.name:h.name+"_"+v,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function Zb(e){var s,t,i,o,u={},c=[];if(e.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)){var g;try{g=I7(h.content)}catch(b){return console.log("?? "+h.content.length+" "+(b.message||b))}var v;try{v=L7(g)}catch(b){return console.log("## "+(b.message||b))}v.forEach(function(b){u[b.id]=b.messages,c.push(b.id)})}}),!c.length)throw new Error("File has no messages");var m=((o=(i=(t=(s=u?.[1])==null?void 0:s[0])==null?void 0:t.meta)==null?void 0:i[1])==null?void 0:o[0].data)&&Ys(u[1][0].meta[1][0].data)==1&&u[1][0];if(m||c.forEach(function(h){u[h].forEach(function(g){var v=Ys(g.meta[1][0].data)>>>0;if(v==1)if(!m)m=g;else throw new Error("Document has multiple roots")})}),!m)throw new Error("Cannot find Document root");return Y7(u,m)}function K7(e){return function(t){for(var i=0;i!=e.length;++i){var o=e[i];t[o[0]]===void 0&&(t[o[0]]=o[1]),o[2]==="n"&&(t[o[0]]=Number(t[o[0]]))}}}function rD(e){K7([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function q7(e){return Iu.WS.indexOf(e)>-1?"sheet":e==Iu.CS?"chart":e==Iu.DS?"dialog":e==Iu.MS?"macro":e&&e.length?e:"sheet"}function J7(e,s){if(!e)return 0;try{e=s.map(function(i){return i.id||(i.id=i.strRelID),[i.name,e["!id"][i.id].Target,q7(e["!id"][i.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Q7(e,s,t,i,o,u,c,m,h,g,v,b){try{u[i]=Qm(Ra(e,t,!0),s);var E=_s(e,s),k;switch(m){case"sheet":k=n7(E,s,o,h,u[i],g,v,b);break;case"chart":if(k=a7(E,s,o,h,u[i],g,v,b),!k||!k["!drawel"])break;var w=Wm(k["!drawel"].Target,s),y=fN(w),T=sI(Ra(e,w,!0),Qm(Ra(e,y,!0),w)),J=Wm(T,w),Z=fN(J);k=$F(Ra(e,J,!0),J,h,Qm(Ra(e,Z,!0),J),g,k);break;case"macro":k=i7(E,s,o,h,u[i],g,v,b);break;case"dialog":k=o7(E,s,o,h,u[i],g,v,b);break;default:throw new Error("Unrecognized sheet type "+m)}c[i]=k;var R=[];u&&u[i]&&Wi(u[i]).forEach(function(le){var W="";if(u[i][le].Type==Iu.CMNT){W=Wm(u[i][le].Target,s);var ee=d7(_s(e,W,!0),W,h);if(!ee||!ee.length)return;$E(k,ee,!1)}u[i][le].Type==Iu.TCMNT&&(W=Wm(u[i][le].Target,s),R=R.concat(aI(_s(e,W,!0),h)))}),R&&R.length&&$E(k,R,!0,h.people||[])}catch(le){if(h.WTF)throw le}}function Ia(e){return e.charAt(0)=="/"?e.slice(1):e}function Z7(e,s){if(tw(),s=s||{},rD(s),$a(e,"META-INF/manifest.xml")||$a(e,"objectdata.xml"))return ZE(e,s);if($a(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Zb<"u"){if(e.FileIndex)return Zb(e);var t=Lr.utils.cfb_new();return pE(e).forEach(function(_e){e6(t,_e,Zj(e,_e))}),Zb(t)}throw new Error("Unsupported NUMBERS file")}if(!$a(e,"[Content_Types].xml"))throw $a(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):$a(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var i=pE(e),o=K6(Ra(e,"[Content_Types].xml")),u=!1,c,m;if(o.workbooks.length===0&&(m="xl/workbook.xml",_s(e,m,!0)&&o.workbooks.push(m)),o.workbooks.length===0){if(m="xl/workbook.bin",!_s(e,m,!0))throw new Error("Could not find workbook");o.workbooks.push(m),u=!0}o.workbooks[0].slice(-3)=="bin"&&(u=!0);var h={},g={};if(!s.bookSheets&&!s.bookProps){if(tf=[],o.sst)try{tf=u7(_s(e,Ia(o.sst)),o.sst,s)}catch(_e){if(s.WTF)throw _e}s.cellStyles&&o.themes.length&&(h=c7(Ra(e,o.themes[0].replace(/^\//,""),!0)||"",o.themes[0],s)),o.style&&(g=l7(_s(e,Ia(o.style)),o.style,h,s))}o.links.map(function(_e){try{var ne=Qm(Ra(e,fN(Ia(_e))),_e);return f7(_s(e,Ia(_e)),ne,_e,s)}catch{}});var v=s7(_s(e,Ia(o.workbooks[0])),o.workbooks[0],s),b={},E="";o.coreprops.length&&(E=_s(e,Ia(o.coreprops[0]),!0),E&&(b=Tw(E)),o.extprops.length!==0&&(E=_s(e,Ia(o.extprops[0]),!0),E&&eA(E,b,s)));var k={};(!s.bookSheets||s.bookProps)&&o.custprops.length!==0&&(E=Ra(e,Ia(o.custprops[0]),!0),E&&(k=rA(E,s)));var w={};if((s.bookSheets||s.bookProps)&&(v.Sheets?c=v.Sheets.map(function(ne){return ne.name}):b.Worksheets&&b.SheetNames.length>0&&(c=b.SheetNames),s.bookProps&&(w.Props=b,w.Custprops=k),s.bookSheets&&typeof c<"u"&&(w.SheetNames=c),s.bookSheets?w.SheetNames:s.bookProps))return w;c={};var y={};s.bookDeps&&o.calcchain&&(y=m7(_s(e,Ia(o.calcchain)),o.calcchain));var T=0,J={},Z,R;{var le=v.Sheets;b.Worksheets=le.length,b.SheetNames=[];for(var W=0;W!=le.length;++W)b.SheetNames[W]=le[W].name}var ee=u?"bin":"xml",X=o.workbooks[0].lastIndexOf("/"),De=(o.workbooks[0].slice(0,X+1)+"_rels/"+o.workbooks[0].slice(X+1)+".rels").replace(/^\//,"");$a(e,De)||(De="xl/_rels/workbook."+ee+".rels");var _=Qm(Ra(e,De,!0),De.replace(/_rels.*/,"s5s"));(o.metadata||[]).length>=1&&(s.xlmeta=p7(_s(e,Ia(o.metadata[0])),o.metadata[0],s)),(o.people||[]).length>=1&&(s.people=iI(_s(e,Ia(o.people[0])),s)),_&&(_=J7(_,v.Sheets));var B=_s(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(T=0;T!=b.Worksheets;++T){var re="sheet";if(_&&_[T]?(Z="xl/"+_[T][1].replace(/[\/]?xl\//,""),$a(e,Z)||(Z=_[T][1]),$a(e,Z)||(Z=De.replace(/_rels\/.*$/,"")+_[T][1]),re=_[T][2]):(Z="xl/worksheets/sheet"+(T+1-B)+"."+ee,Z=Z.replace(/sheet0\./,"sheet.")),R=Z.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),s&&s.sheets!=null)switch(typeof s.sheets){case"number":if(T!=s.sheets)continue e;break;case"string":if(b.SheetNames[T].toLowerCase()!=s.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(s.sheets)){for(var H=!1,oe=0;oe!=s.sheets.length;++oe)typeof s.sheets[oe]=="number"&&s.sheets[oe]==T&&(H=1),typeof s.sheets[oe]=="string"&&s.sheets[oe].toLowerCase()==b.SheetNames[T].toLowerCase()&&(H=1);if(!H)continue e}}Q7(e,Z,R,b.SheetNames[T],T,J,c,re,s,v,h,g)}return w={Directory:o,Workbook:v,Props:b,Custprops:k,Deps:y,Sheets:c,SheetNames:b.SheetNames,Strings:tf,Styles:g,Themes:h,SSF:Dn(gr)},s&&s.bookFiles&&(e.files?(w.keys=i,w.files=e.files):(w.keys=[],w.files={},e.FullPaths.forEach(function(_e,ne){_e=_e.replace(/^Root Entry[\/]/,""),w.keys.push(_e),w.files[_e]=e.FileIndex[ne]}))),s&&s.bookVBA&&(o.vba.length>0?w.vbaraw=_s(e,Ia(o.vba[0]),!0):o.defaults&&o.defaults.bin===uI&&(w.vbaraw=_s(e,"xl/vbaProject.bin",!0))),w}function e9(e,s){var t=s||{},i="Workbook",o=Lr.find(e,i);try{if(i="/!DataSpaces/Version",o=Lr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(GL(o.content),i="/!DataSpaces/DataSpaceMap",o=Lr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);var u=YL(o.content);if(u.length!==1||u[0].comps.length!==1||u[0].comps[0].t!==0||u[0].name!=="StrongEncryptionDataSpace"||u[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",o=Lr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);var c=KL(o.content);if(c.length!=1||c[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",o=Lr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);JL(o.content)}catch{}if(i="/EncryptionInfo",o=Lr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);var m=QL(o.content);if(i="/EncryptedPackage",o=Lr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(m[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(m[1],o.content,t.password||"",t);if(m[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(m[1],o.content,t.password||"",t);throw new Error("File is password-protected")}function sD(e,s){var t="";switch((s||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=Ta(e.slice(0,12));break;case"binary":t=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(s&&s.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function t9(e,s){return Lr.find(e,"EncryptedPackage")?e9(e,s):pk(e,s)}function r9(e,s){var t,i=e,o=s||{};return o.type||(o.type=Pr&&Buffer.isBuffer(e)?"buffer":"base64"),t=ow(i,o),Z7(t,o)}function xk(e,s){var t=0;e:for(;t<e.length;)switch(e.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return vN(e.slice(t),s);default:break e}return uf.to_workbook(e,s)}function s9(e,s){var t="",i=sD(e,s);switch(s.type){case"base64":t=Ta(e);break;case"binary":t=e;break;case"buffer":t=e.toString("binary");break;case"array":t=Cc(e);break;default:throw new Error("Unrecognized type "+s.type)}return i[0]==239&&i[1]==187&&i[2]==191&&(t=ns(t)),s.type="binary",xk(t,s)}function n9(e,s){var t=e;return s.type=="base64"&&(t=Ta(t)),t=af.utils.decode(1200,t.slice(2),"str"),s.type="binary",xk(t,s)}function a9(e){return e.match(/[^\x00-\x7F]/)?Ym(e):e}function eN(e,s,t,i){return i?(t.type="string",uf.to_workbook(e,t)):uf.to_workbook(s,t)}function yh(e,s){XC();var t=s||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return yh(new Uint8Array(e),(t=Dn(t),t.type="array",t));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var i=e,o=[0,0,0,0],u=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Bu={},t.dateNF&&(Bu.dateNF=t.dateNF),t.type||(t.type=Pr&&Buffer.isBuffer(e)?"buffer":"base64"),t.type=="file"&&(t.type=Pr?"buffer":"binary",i=Gj(e),typeof Uint8Array<"u"&&!Pr&&(t.type="array")),t.type=="string"&&(u=!0,t.type="binary",t.codepage=65001,i=a9(e)),t.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var c=new ArrayBuffer(3),m=new Uint8Array(c);if(m.foo="bar",!m.foo)return t=Dn(t),t.type="array",yh(jN(i),t)}switch((o=sD(i,t))[0]){case 208:if(o[1]===207&&o[2]===17&&o[3]===224&&o[4]===161&&o[5]===177&&o[6]===26&&o[7]===225)return t9(Lr.read(i,t),t);break;case 9:if(o[1]<=8)return pk(i,t);break;case 60:return vN(i,t);case 73:if(o[1]===73&&o[2]===42&&o[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(o[1]===68)return UL(i,t);break;case 84:if(o[1]===65&&o[2]===66&&o[3]===76)return _L.to_workbook(i,t);break;case 80:return o[1]===75&&o[2]<9&&o[3]<9?r9(i,t):eN(e,i,t,u);case 239:return o[3]===60?vN(i,t):eN(e,i,t,u);case 255:if(o[1]===254)return n9(i,t);if(o[1]===0&&o[2]===2&&o[3]===0)return ef.to_workbook(i,t);break;case 0:if(o[1]===0&&(o[2]>=2&&o[3]===0||o[2]===0&&(o[3]===8||o[3]===9)))return ef.to_workbook(i,t);break;case 3:case 131:case 139:case 140:return FE.to_workbook(i,t);case 123:if(o[1]===92&&o[2]===114&&o[3]===116)return uM.to_workbook(i,t);break;case 10:case 13:case 32:return s9(i,t);case 137:if(o[1]===80&&o[2]===78&&o[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return RL.indexOf(o[0])>-1&&o[2]<=12&&o[3]<=31?FE.to_workbook(i,t):eN(e,i,t,u)}function i9(e,s,t,i,o,u,c,m){var h=Sn(t),g=m.defval,v=m.raw||!Object.prototype.hasOwnProperty.call(m,"raw"),b=!0,E=o===1?[]:{};if(o!==1)if(Object.defineProperty)try{Object.defineProperty(E,"__rowNum__",{value:t,enumerable:!1})}catch{E.__rowNum__=t}else E.__rowNum__=t;if(!c||e[t])for(var k=s.s.c;k<=s.e.c;++k){var w=c?e[t][k]:e[i[k]+h];if(w===void 0||w.t===void 0){if(g===void 0)continue;u[k]!=null&&(E[u[k]]=g);continue}var y=w.v;switch(w.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(u[k]!=null){if(y==null)if(w.t=="e"&&y===null)E[u[k]]=null;else if(g!==void 0)E[u[k]]=g;else if(v&&y===null)E[u[k]]=null;else continue;else E[u[k]]=v&&(w.t!=="n"||w.t==="n"&&m.rawNumbers!==!1)?y:Vo(w,y,m);y!=null&&(b=!1)}}return{row:E,isempty:b}}function NN(e,s){if(e==null||e["!ref"]==null)return[];var t={t:"n",v:0},i=0,o=1,u=[],c=0,m="",h={s:{r:0,c:0},e:{r:0,c:0}},g=s||{},v=g.range!=null?g.range:e["!ref"];switch(g.header===1?i=1:g.header==="A"?i=2:Array.isArray(g.header)?i=3:g.header==null&&(i=0),typeof v){case"string":h=Ns(v);break;case"number":h=Ns(e["!ref"]),h.s.r=v;break;default:h=v}i>0&&(o=0);var b=Sn(h.s.r),E=[],k=[],w=0,y=0,T=Array.isArray(e),J=h.s.r,Z=0,R={};T&&!e[J]&&(e[J]=[]);var le=g.skipHidden&&e["!cols"]||[],W=g.skipHidden&&e["!rows"]||[];for(Z=h.s.c;Z<=h.e.c;++Z)if(!(le[Z]||{}).hidden)switch(E[Z]=Ws(Z),t=T?e[J][Z]:e[E[Z]+b],i){case 1:u[Z]=Z-h.s.c;break;case 2:u[Z]=E[Z];break;case 3:u[Z]=g.header[Z-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),m=c=Vo(t,null,g),y=R[c]||0,!y)R[c]=1;else{do m=c+"_"+y++;while(R[m]);R[c]=y,R[m]=1}u[Z]=m}for(J=h.s.r+o;J<=h.e.r;++J)if(!(W[J]||{}).hidden){var ee=i9(e,h,J,E,i,u,T,g);(ee.isempty===!1||(i===1?g.blankrows!==!1:g.blankrows))&&(k[w++]=ee.row)}return k.length=w,k}var sC=/"/g;function o9(e,s,t,i,o,u,c,m){for(var h=!0,g=[],v="",b=Sn(t),E=s.s.c;E<=s.e.c;++E)if(i[E]){var k=m.dense?(e[t]||[])[E]:e[i[E]+b];if(k==null)v="";else if(k.v!=null){h=!1,v=""+(m.rawNumbers&&k.t=="n"?k.v:Vo(k,null,m));for(var w=0,y=0;w!==v.length;++w)if((y=v.charCodeAt(w))===o||y===u||y===34||m.forceQuotes){v='"'+v.replace(sC,'""')+'"';break}v=="ID"&&(v='"ID"')}else k.f!=null&&!k.F?(h=!1,v="="+k.f,v.indexOf(",")>=0&&(v='"'+v.replace(sC,'""')+'"')):v="";g.push(v)}return m.blankrows===!1&&h?null:g.join(c)}function bk(e,s){var t=[],i=s??{};if(e==null||e["!ref"]==null)return"";var o=Ns(e["!ref"]),u=i.FS!==void 0?i.FS:",",c=u.charCodeAt(0),m=i.RS!==void 0?i.RS:`
`,h=m.charCodeAt(0),g=new RegExp((u=="|"?"\\|":u)+"+$"),v="",b=[];i.dense=Array.isArray(e);for(var E=i.skipHidden&&e["!cols"]||[],k=i.skipHidden&&e["!rows"]||[],w=o.s.c;w<=o.e.c;++w)(E[w]||{}).hidden||(b[w]=Ws(w));for(var y=0,T=o.s.r;T<=o.e.r;++T)(k[T]||{}).hidden||(v=o9(e,o,T,b,c,h,u,i),v!=null&&(i.strip&&(v=v.replace(g,"")),(v||i.blankrows!==!1)&&t.push((y++?m:"")+v)));return delete i.dense,t.join("")}function l9(e,s){s||(s={}),s.FS="	",s.RS=`
`;var t=bk(e,s);return t}function c9(e){var s="",t,i="";if(e==null||e["!ref"]==null)return[];var o=Ns(e["!ref"]),u="",c=[],m,h=[],g=Array.isArray(e);for(m=o.s.c;m<=o.e.c;++m)c[m]=Ws(m);for(var v=o.s.r;v<=o.e.r;++v)for(u=Sn(v),m=o.s.c;m<=o.e.c;++m)if(s=c[m]+u,t=g?(e[v]||[])[m]:e[s],i="",t!==void 0){if(t.F!=null){if(s=t.F,!t.f)continue;i=t.f,s.indexOf(":")==-1&&(s=s+":"+s)}if(t.f!=null)i=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)i=""+t.v;else if(t.t=="b")i=t.v?"TRUE":"FALSE";else if(t.w!==void 0)i="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?i="'"+t.v:i=""+t.v}}h[h.length]=s+"="+i}return h}function Nk(e,s,t){var i=t||{},o=+!i.skipHeader,u=e||{},c=0,m=0;if(u&&i.origin!=null)if(typeof i.origin=="number")c=i.origin;else{var h=typeof i.origin=="string"?qn(i.origin):i.origin;c=h.r,m=h.c}var g,v={s:{c:0,r:0},e:{c:m,r:c+s.length-1+o}};if(u["!ref"]){var b=Ns(u["!ref"]);v.e.c=Math.max(v.e.c,b.e.c),v.e.r=Math.max(v.e.r,b.e.r),c==-1&&(c=b.e.r+1,v.e.r=c+s.length-1+o)}else c==-1&&(c=0,v.e.r=s.length-1+o);var E=i.header||[],k=0;s.forEach(function(y,T){Wi(y).forEach(function(J){(k=E.indexOf(J))==-1&&(E[k=E.length]=J);var Z=y[J],R="z",le="",W=dr({c:m+k,r:c+T+o});g=pf(u,W),Z&&typeof Z=="object"&&!(Z instanceof Date)?u[W]=Z:(typeof Z=="number"?R="n":typeof Z=="boolean"?R="b":typeof Z=="string"?R="s":Z instanceof Date?(R="d",i.cellDates||(R="n",Z=Qn(Z)),le=i.dateNF||gr[14]):Z===null&&i.nullError&&(R="e",Z=0),g?(g.t=R,g.v=Z,delete g.w,delete g.R,le&&(g.z=le)):u[W]=g={t:R,v:Z},le&&(g.z=le))})}),v.e.c=Math.max(v.e.c,m+E.length-1);var w=Sn(c);if(o)for(k=0;k<E.length;++k)u[Ws(k+m)+w]={t:"s",v:E[k]};return u["!ref"]=Mr(v),u}function u9(e,s){return Nk(null,e,s)}function pf(e,s,t){if(typeof s=="string"){if(Array.isArray(e)){var i=qn(s);return e[i.r]||(e[i.r]=[]),e[i.r][i.c]||(e[i.r][i.c]={t:"z"})}return e[s]||(e[s]={t:"z"})}return typeof s!="number"?pf(e,dr(s)):pf(e,dr({r:s,c:t||0}))}function d9(e,s){if(typeof s=="number"){if(s>=0&&e.SheetNames.length>s)return s;throw new Error("Cannot find sheet # "+s)}else if(typeof s=="string"){var t=e.SheetNames.indexOf(s);if(t>-1)return t;throw new Error("Cannot find sheet name |"+s+"|")}else throw new Error("Cannot find sheet |"+s+"|")}function nD(){return{SheetNames:[],Sheets:{}}}function aD(e,s,t,i){var o=1;if(!t)for(;o<=65535&&e.SheetNames.indexOf(t="Sheet"+o)!=-1;++o,t=void 0);if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&e.SheetNames.indexOf(t)>=0){var u=t.match(/(^.*?)(\d+)$/);o=u&&+u[2]||0;var c=u&&u[1]||t;for(++o;o<=65535&&e.SheetNames.indexOf(t=c+o)!=-1;++o);}if(KF(t),e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return e.SheetNames.push(t),e.Sheets[t]=s,t}function m9(e,s,t){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var i=d9(e,s);switch(e.Workbook.Sheets[i]||(e.Workbook.Sheets[i]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}e.Workbook.Sheets[i].Hidden=t}function f9(e,s){return e.z=s,e}function Dk(e,s,t){return s?(e.l={Target:s},t&&(e.l.Tooltip=t)):delete e.l,e}function p9(e,s,t){return Dk(e,"#"+s,t)}function h9(e,s,t){e.c||(e.c=[]),e.c.push({t:s,a:t||"SheetJS"})}function v9(e,s,t,i){for(var o=typeof s!="string"?s:Ns(s),u=typeof s=="string"?s:Mr(s),c=o.s.r;c<=o.e.r;++c)for(var m=o.s.c;m<=o.e.c;++m){var h=pf(e,c,m);h.t="n",h.F=u,delete h.v,c==o.s.r&&m==o.s.c&&(h.f=t,i&&(h.D=!0))}return e}var sh={encode_col:Ws,encode_row:Sn,encode_cell:dr,encode_range:Mr,decode_col:HN,decode_row:XN,split_cell:k6,decode_cell:qn,decode_range:Ku,format_cell:Vo,sheet_add_aoa:Ew,sheet_add_json:Nk,sheet_add_dom:hk,aoa_to_sheet:qu,json_to_sheet:u9,table_to_sheet:vk,table_to_book:U7,sheet_to_csv:bk,sheet_to_txt:l9,sheet_to_json:NN,sheet_to_html:P7,sheet_to_formulae:c9,sheet_to_row_object_array:NN,sheet_get_cell:pf,book_new:nD,book_append_sheet:aD,book_set_sheet_visibility:m9,cell_set_number_format:f9,cell_set_hyperlink:Dk,cell_set_internal_link:p9,cell_add_comment:h9,sheet_set_array_formula:v9,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const g9=({isOpen:e,onClose:s,onImport:t,onDeleteAll:i})=>{const[o,u]=O.useState(null),[c,m]=O.useState([]),[h,g]=O.useState(!1),[v,b]=O.useState(null),[E,k]=O.useState([]),[w,y]=O.useState(""),T=O.useRef(null),J=B=>{const re=B.target.files?.[0];re&&(u(re),b(null),m([]),k([]),y(""))},Z=B=>{const re=Math.round(B*24*60*60),H=Math.floor(re/3600),oe=Math.floor(re%3600/60),_e=re%60;return`${H.toString().padStart(2,"0")}:${oe.toString().padStart(2,"0")}:${_e.toString().padStart(2,"0")}`},R=B=>{const re=B.toString().toLowerCase();let H=B,oe=!1,_e=!1;return(re.includes("ppt")||re.includes("powerpoint"))&&(oe=!0,H=H.replace(/\+?\s*ppt\s*\+?/gi,"").replace(/\+?\s*powerpoint\s*\+?/gi,"")),(re.includes("q&a")||re.includes("qa"))&&(_e=!0,H=H.replace(/\+?\s*q&a\s*\+?/gi,"").replace(/\s*\+\s*qa\s*\+?/gi,"")),H=H.replace(/^\++|\++$/g,"").replace(/\s*\+\s*/g," ").trim(),{shotType:H,hasPPT:oe,hasQA:_e}},le=(B,re)=>{if(!B.trim())return null;const H=B.split(/\r?\n/).map(oe=>oe.trim()).filter(oe=>oe.length>0);if(H.length>=2){let oe=H[0],_e="Seat";oe.startsWith("*P*")?(_e="Podium",oe=oe.replace("*P*","").trim()):oe.startsWith("*M*")?(_e="Moderator",oe=oe.replace("*M*","").trim()):oe.startsWith("*V*")&&(_e="Virtual",oe=oe.replace("*V*","").trim());const ne=H[1];let we="",ve="";for(let be=H.length-1;be>=2;be--){const Ie=H[be];if(Ie&&[/^https?:\/\/.+/i,/^www\..+/i,/^[a-zA-Z0-9-]+\.[a-zA-Z]{2,}/i,/^\/.+\.(jpg|jpeg|png|gif|webp)$/i,/^.+\/(.+)\.(jpg|jpeg|png|gif|webp)$/i].some(Oe=>Oe.test(Ie))){let Oe=Ie.trim();!Oe.startsWith("http://")&&!Oe.startsWith("https://")&&(Oe.startsWith("www.")||Oe.includes(".")&&!Oe.startsWith("/"))&&(Oe="https://"+Oe),we=Oe,be>2&&H[be-1]&&(ve=H[be-1]);break}}if(!we&&H.length>2){for(let be=2;be<H.length;be++){const Ie=H[be];if(Ie&&(Ie.includes(".jpg")||Ie.includes(".jpeg")||Ie.includes(".png")||Ie.includes(".gif")||Ie.includes(".webp")||Ie.includes("http")||Ie.includes("www.")||Ie.includes(".")&&Ie.length>10)){let Te=Ie.trim();!Te.startsWith("http://")&&!Te.startsWith("https://")&&(Te.startsWith("www.")||Te.includes(".")&&!Te.startsWith("/"))&&(Te="https://"+Te),we=Te;break}}we||(H.length===3||H.length>3)&&(ve=H[2])}return{id:`speaker-${re}`,slot:re,location:_e,fullName:oe,title:ne,org:ve,photoUrl:we}}return null},W=async()=>{if(o){g(!0),b(null);try{const B=await o.arrayBuffer(),re=yh(B),H=re.SheetNames;if(k(H),H.length>1){y(H[0]),m([]);return}const oe=H[0],_e=re.Sheets[oe],ne=sh.sheet_to_json(_e,{header:1});if(ne.length<12)throw new Error("Excel file must have at least 12 rows. Headers should be in row 11, data should start from row 12.");const we=ne[10];if(!we||we.length===0)throw new Error("No headers found in row 11. Please ensure headers are in row 11.");const ve=[],Me=(be,Ie)=>{const Te=sh.encode_cell({r:be,c:Ie}),Q=_e[Te];if(!Q)return"";let Oe="";return Q.w!==void 0?Oe=Q.w:Q.v!==void 0&&(Oe=String(Q.v)),Oe?(Oe=Oe.replace(/\r\n/g,`
`).replace(/\r/g,`
`),Oe):""};for(let be=11;be<ne.length;be++){const Ie=ne[be];if(!Ie||Ie.length===0)continue;const Te={row:be-10,cue:"",segmentName:"",duration:"",shotType:"",hasPPT:!1,hasQA:!1,programType:"",notes:"",assets:"",speakers:""};if(Ie[0]&&(Te.cue=Ie[0].toString()),Ie[2]){let me=Ie[2].toString();me.toLowerCase()==="pod transition"&&(me="Podium Transition"),Te.programType=me}if(Ie[3]){const me=Ie[3];typeof me=="number"&&me<1?Te.duration=Z(me):Te.duration=me.toString()}if(Ie[9]&&(Te.segmentName=Ie[9].toString()),Ie[10]){const me=Ie[10].toString(),{shotType:se,hasPPT:ie,hasQA:Y}=R(me);Te.shotType=se,Te.hasPPT=ie,Te.hasQA=Y}const Q=Me(be,11);Q&&(Te.notes=Q),Ie[13]&&(Te.assets=Ie[13].toString());const Oe=[];for(let me=21;me<=27;me++)if(Ie[me]){const se=Ie[me].toString().trim();if(se&&se.length>0&&se!==""){const ie=me-20,Y=le(se,ie);Y&&Y.fullName&&Y.fullName.trim()!==""&&Oe.push(Y)}}Oe.length>0&&(Te.speakers=JSON.stringify(Oe)),ve.push(Te)}m(ve),console.log(" Excel parsing completed:",ve.length,"rows")}catch(B){console.error(" Error parsing Excel:",B),b(B instanceof Error?B.message:"Failed to parse Excel file")}finally{g(!1)}}},ee=async()=>{if(!(!o||!w)){g(!0),b(null);try{const B=await o.arrayBuffer(),H=yh(B).Sheets[w],oe=sh.sheet_to_json(H,{header:1});if(oe.length<12)throw new Error("Excel file must have at least 12 rows. Headers should be in row 11, data should start from row 12.");const _e=oe[10];if(!_e||_e.length===0)throw new Error("No headers found in row 11. Please ensure headers are in row 11.");const ne=[],we=(ve,Me)=>{const be=sh.encode_cell({r:ve,c:Me}),Ie=H[be];if(!Ie)return"";let Te="";return Ie.w!==void 0?Te=Ie.w:Ie.v!==void 0&&(Te=String(Ie.v)),Te?(Te=Te.replace(/\r\n/g,`
`).replace(/\r/g,`
`),Te):""};for(let ve=11;ve<oe.length;ve++){const Me=oe[ve];if(!Me||Me.length===0)continue;const be={row:ve-10,cue:"",segmentName:"",duration:"",shotType:"",hasPPT:!1,hasQA:!1,programType:"",notes:"",assets:"",speakers:""};if(Me[0]&&(be.cue=Me[0].toString()),Me[2]){let Q=Me[2].toString();Q.toLowerCase()==="pod transition"&&(Q="Podium Transition"),be.programType=Q}if(Me[3]){const Q=Me[3];typeof Q=="number"&&Q<1?be.duration=Z(Q):be.duration=Q.toString()}if(Me[9]&&(be.segmentName=Me[9].toString()),Me[10]){const Q=Me[10].toString(),{shotType:Oe,hasPPT:me,hasQA:se}=R(Q);be.shotType=Oe,be.hasPPT=me,be.hasQA=se}const Ie=we(ve,11);Ie&&(be.notes=Ie),Me[13]&&(be.assets=Me[13].toString());const Te=[];for(let Q=21;Q<=27;Q++)if(Me[Q]){const Oe=Me[Q].toString().trim();if(Oe&&Oe.length>0&&Oe!==""){const me=Q-20,se=le(Oe,me);se&&se.fullName&&se.fullName.trim()!==""&&Te.push(se)}}Te.length>0&&(be.speakers=JSON.stringify(Te)),ne.push(be)}m(ne),console.log(" Excel parsing completed:",ne.length,"rows")}catch(B){console.error(" Error parsing Excel:",B),b(B instanceof Error?B.message:"Failed to parse Excel file")}finally{g(!1)}}},X=()=>{c.length!==0&&(t(c),s())},De=()=>{window.confirm("Are you sure you want to delete ALL existing schedule items? This action cannot be undone.")&&i()},_=()=>{u(null),m([]),b(null),k([]),y(""),s()};return e?a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Import Excel File"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:529,columnNumber:11},void 0),a.jsxDEV("button",{onClick:_,className:"text-gray-400 hover:text-white text-2xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:530,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:528,columnNumber:9},void 0),a.jsxDEV("div",{className:"space-y-4",children:[c.length===0&&a.jsxDEV("div",{className:"bg-red-900/20 border border-red-600 rounded-md p-4",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-red-400 font-semibold mb-1",children:"Clear Existing Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:544,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-gray-300 text-sm",children:"Delete all existing schedule items before importing new data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:545,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:543,columnNumber:17},void 0),a.jsxDEV("button",{onClick:De,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition-colors",children:"Delete All Rows"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:547,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:542,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:541,columnNumber:13},void 0),c.length===0&&a.jsxDEV("div",{className:"bg-slate-700 p-4 rounded-md",children:[a.jsxDEV("h3",{className:"text-white font-semibold mb-2",children:"Excel File Format Requirements:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:560,columnNumber:15},void 0),a.jsxDEV("ul",{className:"text-gray-300 text-sm space-y-1",children:[a.jsxDEV("li",{children:" Headers should be in row 11, data should start from row 12"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:562,columnNumber:17},void 0),a.jsxDEV("li",{children:" Expected columns: A=CUE, C=Program Type, D=Duration, J=Segment Name, K=Shot Type+PPT+QA, L=Notes, N=Assets, V-AB=Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:563,columnNumber:17},void 0),a.jsxDEV("li",{children:' "Pod Transition" will be converted to "Podium Transition"'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:564,columnNumber:17},void 0),a.jsxDEV("li",{children:" Excel decimal time format (0.002083...) will be converted to HH:MM:SS"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:565,columnNumber:17},void 0),a.jsxDEV("li",{children:" Speaker format: Name, Title, [Org], Photo URL (with line breaks). Use *P* (Podium), *M* (Moderator), *V* (Virtual) prefixes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:566,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:561,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:559,columnNumber:13},void 0),c.length===0&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Select Excel File (.xlsx, .xls)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:574,columnNumber:15},void 0),a.jsxDEV("input",{ref:T,type:"file",accept:".xlsx,.xls",onChange:J,className:"block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:577,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:573,columnNumber:13},void 0),o&&c.length===0&&a.jsxDEV("div",{className:"bg-slate-700 p-3 rounded-md",children:[a.jsxDEV("p",{className:"text-white text-sm",children:[a.jsxDEV("strong",{children:"Selected file:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:591,columnNumber:17},void 0)," ",o.name]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:590,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-gray-300 text-sm",children:[a.jsxDEV("strong",{children:"Size:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:594,columnNumber:17},void 0)," ",(o.size/1024).toFixed(2)," KB"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:593,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:589,columnNumber:13},void 0),E.length>1&&c.length===0&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:["Select Sheet (",E.length," sheets found)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:602,columnNumber:15},void 0),a.jsxDEV("select",{value:w,onChange:B=>y(B.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:E.map(B=>a.jsxDEV("option",{value:B,children:B},B,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:611,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:605,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:601,columnNumber:13},void 0),c.length===0&&a.jsxDEV("div",{className:"flex justify-center gap-4",children:[a.jsxDEV("button",{onClick:E.length>1?ee:W,disabled:!o||h||E.length>1&&!w,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-md transition-colors",children:h?"Parsing...":"Parse Excel File"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:622,columnNumber:15},void 0),a.jsxDEV("button",{onClick:_,className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-md transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:629,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:621,columnNumber:13},void 0),v&&a.jsxDEV("div",{className:"bg-red-600 text-white p-3 rounded-md",children:[a.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:641,columnNumber:15},void 0)," ",v]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:640,columnNumber:13},void 0),c.length>0&&a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-3",children:["Preview (",c.length," rows found)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:648,columnNumber:15},void 0),a.jsxDEV("div",{className:"border border-slate-600 rounded-md bg-slate-700 max-h-96 overflow-auto",children:a.jsxDEV("table",{className:"w-full",children:[a.jsxDEV("thead",{className:"sticky top-0 bg-slate-600",children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:657,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:658,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Segment Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:659,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:660,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Shot Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:661,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"PPT/QA"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:662,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Program Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:663,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Notes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:664,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Assets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:665,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm",children:"Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:666,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:656,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:655,columnNumber:19},void 0),a.jsxDEV("tbody",{children:c.map((B,re)=>a.jsxDEV("tr",{className:"border-t border-slate-600 hover:bg-slate-600",children:[a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:B.row},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:672,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:B.cue},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:673,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:B.segmentName},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:674,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:B.duration},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:675,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:B.shotType},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:676,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:[B.hasPPT&&"PPT ",B.hasQA&&"QA",!B.hasPPT&&!B.hasQA&&"-"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:677,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:B.programType},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:682,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:B.notes?B.notes.length>30?`${B.notes.substring(0,30)}...`:B.notes:"None"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:683,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:B.assets?B.assets.length>30?`${B.assets.substring(0,30)}...`:B.assets:"None"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:686,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm",children:B.speakers?(()=>{try{const H=JSON.parse(B.speakers);return H.length>0?a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("div",{className:"font-medium",children:[H.length," speaker(s)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:696,columnNumber:37},void 0),H.map((oe,_e)=>a.jsxDEV("div",{className:"text-xs text-gray-300",children:[a.jsxDEV("div",{children:[" ",oe.fullName," (",oe.location,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:699,columnNumber:41},void 0),a.jsxDEV("div",{className:"text-gray-400",children:["  ",oe.title]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:700,columnNumber:41},void 0),oe.org&&a.jsxDEV("div",{className:"text-gray-400",children:["  ",oe.org]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:701,columnNumber:57},void 0),oe.photoUrl&&a.jsxDEV("div",{className:"text-blue-300 text-xs truncate max-w-xs",children:[" ",oe.photoUrl.length>40?`${oe.photoUrl.substring(0,40)}...`:oe.photoUrl]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:703,columnNumber:43},void 0)]},_e,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:698,columnNumber:39},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:695,columnNumber:35},void 0):"None"}catch{return"None"}})():"None"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:689,columnNumber:25},void 0)]},re,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:671,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:669,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:654,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:653,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex justify-center gap-4 mt-4",children:[a.jsxDEV("button",{onClick:X,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition-colors",children:["Import ",c.length," Items"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:726,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{u(null),m([]),b(null),T.current&&(T.current.value="")},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:"Import Another File"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:732,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:725,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:647,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:538,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:527,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:526,columnNumber:5},void 0):null},Sk="00:05:00",x9=/^(agenda|date|schedule|title|event|meeting|location|venue|time|january|february|march|april|may|june|july|august|september|october|november|december|monday|tuesday|wednesday|thursday|friday|saturday|sunday|\d{1,2}\/\d{1,2}|\d{4})/i,b9=/^\s*[\-]\s*(\d{1,2}\s*:\s*\d{2}(?:\s*:\s*\d{2})?)\s*(AM|PM|am|pm)?(?:\s*[-]\s*(\d{1,2}\s*:\s*\d{2}(?:\s*:\s*\d{2})?)\s*(AM|PM|am|pm)?)?\s*$/i,N9=/^\s*(\d{1,2}\s*:\s*\d{2}(?:\s*:\s*\d{2})?)\s*(AM|PM|am|pm)?(?:\s*[-]\s*(\d{1,2}\s*:\s*\d{2}(?:\s*:\s*\d{2})?)\s*(AM|PM|am|pm)?)?\s*$/i,Ok=/^\s*[\-]?\s*(\d{1,2})\s*:\s*(\d{2})(?:\s*:\s*(\d{2}))?\s*(AM|PM|am|pm)?\s*[-]?\s*(.*)/i;function Uh(e){return typeof e!="string"?"":e.replace(/\s+/g," ").trim()}function D9(e){const s=Uh(e).toLowerCase();return!!(!s||x9.test(s)||/^\d{1,4}[\-\/\.]\d{1,2}[\-\/\.]\d{1,4}$/.test(s))}function yk(e){const s=Uh(e);return s?b9.test(s)||N9.test(s):!1}function Ek(e){const s=Uh(e);return!s||D9(e)?!1:yk(e)||Ok.test(s)}function hf(e){if(!e||typeof e!="string")return null;const s=e.trim().replace(/\s+/g," ").toUpperCase(),t=s.match(/\s*(AM|PM)\s*$/i),i=!!t,u=(i?s.replace(/\s*(AM|PM)\s*$/i,"").trim():s).split(/[:\s]+/).map(g=>parseInt(g,10)).filter(g=>!isNaN(g));if(u.length<2)return null;let c=u[0];const m=u[1],h=u.length>=3?u[2]:0;if(i&&t){const g=t[1].toUpperCase();g==="PM"&&c<12&&(c+=12),g==="AM"&&c===12&&(c=0)}return c*60+m+h/60}function DN(e){if(e==null||isNaN(e)||e<0)return Sk;const s=Math.round(e*60),t=Math.floor(s/3600),i=Math.floor(s%3600/60),o=s%60;return[String(t).padStart(2,"0"),String(i).padStart(2,"0"),String(o).padStart(2,"0")].join(":")}function S9(e,s){if(!e||!String(e).trim())return null;const t=String(e).trim();let i=t,o="",u="";if(/[,]/.test(t)){const m=t.split(/[,]/).map(h=>h.trim()).filter(Boolean);m.length>=1&&(i=m[0]),m.length>=2&&(o=m[1]),m.length>=3&&(u=m[2])}if(!i)return null;let c="Seat";return i.startsWith("*P*")?(c="Podium",i=i.replace(/^\*P\*\s*/,"").trim()):i.startsWith("*M*")?(c="Moderator",i=i.replace(/^\*M\*\s*/,"").trim()):i.startsWith("*V*")&&(c="Virtual",i=i.replace(/^\*V\*\s*/,"").trim()),{id:`speaker-${s}`,slot:s,location:c,fullName:i,title:o,org:u,photoUrl:""}}function O9(e){for(let s=0;s<e.length;s++)if(Ek(e[s]))return s;return-1}const nC=50;function y9(e){const s=[];for(let t=0;t<e.length;t++){if(!Ek(e[t]))continue;const i=(e[t]||"").trim(),o=i.length>nC?i.slice(0,nC)+"":i;s.push({lineNumber:t+1,preview:o||`Line ${t+1}`})}return s}function aC(e){const s=e[1],t=e[2],i=e[3]!=null&&e[3]!==""?`:${e[3]}`:"",o=(e[4]||"").trim();return`${s}:${t}${i}${o?" "+o:""}`}function E9(e,s){const t=e.map(m=>Uh(m)),i=s>=0?Math.min(s,t.length):O9(t);if(i<0)return{blocks:[],firstTimeLineIndex:-1};const o=t.slice(i),u=[];let c={time:null,timeRaw:null,timeEndRaw:null,lines:[]};for(let m=0;m<o.length;m++){const h=o[m],g=h;if(!g)continue;const v=yk(h),b=g.match(Ok);if(v){(c.lines.length>0||c.time!==null)&&u.push({...c});const k=g.replace(/^\s*[\-]\s*/,"").match(/(\d{1,2})\s*:\s*(\d{2})(?:\s*:\s*(\d{2}))?\s*(AM|PM|am|pm)?/i),w=k?aC(k):g,y=g.match(/[-]\s*(\d{1,2}\s*:\s*\d{2}(?:\s*:\s*\d{2})?)\s*(AM|PM|am|pm)?/i),T=y?(y[1].replace(/\s+/g," ").trim()+(y[2]?" "+y[2].trim():"")).trim():null;c={time:hf(w),timeRaw:w,timeEndRaw:T,lines:[]};continue}if(b){const E=aC(b),k=(b[5]||"").trim();(c.lines.length>0||c.time!==null)&&u.push({...c}),c={time:hf(E),timeRaw:E,timeEndRaw:null,lines:k?[k]:[]};continue}c.lines.push(g)}return(c.lines.length>0||c.time!==null)&&u.push(c),{blocks:u,firstTimeLineIndex:i}}function C9(e,s){if(!e||typeof e!="string")return{items:[],rawText:"",firstTimeLineIndex:-1,rawLines:[]};const t=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),i=t.split(`
`),{blocks:o,firstTimeLineIndex:u}=E9(i,s),c=o.filter(h=>h.time!=null),m=[];for(let h=0;h<c.length;h++){const g=c[h];let v="";const b=[];if(g.lines.length>0){v=g.lines[0];for(let T=1;T<g.lines.length;T++)b.push(g.lines[T])}v||(v=`Agenda Item ${h+1}`);let E=Sk;if(g.timeEndRaw){const T=hf(g.timeEndRaw);T!=null&&g.time!=null&&T>g.time&&(E=DN(T-g.time))}else if(h+1<c.length&&c[h+1].time!=null&&g.time!=null){const T=c[h+1].time;T>g.time&&(E=DN(T-g.time))}const k=[];b.forEach((T,J)=>{const Z=S9(T,J+1);Z&&Z.fullName&&k.push(Z)});const w=h+1,y=`CUE ${w}`;m.push({row:w,cue:y,segmentName:v,startTime:g.timeRaw||"",duration:E,shotType:"",hasPPT:!1,hasQA:!1,programType:"",notes:"",assets:"",speakers:k.length?JSON.stringify(k):""})}return{items:m,rawText:t,firstTimeLineIndex:u,rawLines:i}}const w9=["PreShow/End","Podium Transition","Panel Transition","Full-Stage/Ted-Talk","Sub Cue","No Transition","Video","Panel+Remote","Remote Only","Break","TBD","KILLED"],iC={"PreShow/End":"#8B5CF6","Podium Transition":"#8B4513","Panel Transition":"#404040","Sub Cue":"#F3F4F6","No Transition":"#059669",Video:"#F59E0B","Panel+Remote":"#1E40AF","Remote Only":"#60A5FA",Break:"#EC4899",TBD:"#6B7280",KILLED:"#DC2626","Full-Stage/Ted-Talk":"#EA580C"},k9=({isOpen:e,onClose:s,onImport:t,onDeleteAll:i})=>{const[o,u]=O.useState(null),[c,m]=O.useState([]),[h,g]=O.useState(1),[v,b]=O.useState("1"),[E,k]=O.useState([]),[w,y]=O.useState("select"),[T,J]=O.useState(!1),[Z,R]=O.useState(null),[le,W]=O.useState(!1),[ee,X]=O.useState([]),[De,_]=O.useState(!1),[B,re]=O.useState(null),H=O.useRef(null),oe=O.useRef(null),_e=wC(),ne=c.length>0?y9(c):[],we=O.useCallback(j=>{b(String(j)),queueMicrotask(()=>{oe.current?.querySelector(`[data-line="${j}"]`)?.scrollIntoView({block:"nearest",behavior:"smooth"})})},[]),ve=O.useCallback(()=>{u(null),m([]),g(1),b("1"),k([]),y("select"),J(!1),R(null),W(!1),X([]),re(null),H.current&&(H.current.value="")},[]),Me=j=>{const he=j.target.files?.[0];he&&(u(he),re(null),m([]),k([]),y("select"))},be=async()=>{if(o){_(!0),re(null);try{const j=new FormData;j.append("file",o);const he=await fetch(`${_e}/api/parse-agenda?extractOnly=1`,{method:"POST",body:j});if(!he.ok){const Qt=await he.json().catch(()=>({}));throw new Error(Qt?.error||`HTTP ${he.status}`)}const Ce=await he.json();let Fe=Array.isArray(Ce.rawLines)?Ce.rawLines:[];const He=typeof Ce.rawText=="string"?Ce.rawText:"";Fe.length===0&&He&&(Fe=He.replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`));const ze=typeof Ce.suggestedStartLineIndex=="number"?Ce.suggestedStartLineIndex+1:typeof Ce.firstTimeLineIndex=="number"?Ce.firstTimeLineIndex+1:1,Ft=Math.max(1,Math.min(ze,Fe.length||1));m(Fe),g(Ft),b(String(Ft)),y("extract")}catch(j){re(j instanceof Error?j.message:"Failed to extract text."),m([])}finally{_(!1)}}},Ie=O.useCallback(()=>{if(c.length===0)return;const j=parseInt(v.trim(),10),he=!isNaN(j)&&j>=1?j:h,Ce=Math.max(0,Math.min(he-1,c.length-1)),Fe=c.slice(Ce).join(`
`);if(!Fe.trim()){re("No content from the selected start line. Try a lower line number.");return}re(null);const{items:He}=C9(Fe,0);k(He),y("parse")},[c,v,h]),Te=()=>{k(j=>{const he=[...j];for(let Ce=0;Ce<he.length;Ce++){const Fe=hf(he[Ce].startTime??""),He=Ce+1<he.length?hf(he[Ce+1].startTime??""):null;Fe!=null&&He!=null&&He>Fe&&(he[Ce]={...he[Ce],duration:DN(He-Fe)})}return he}),re(null)},Q=(j,he,Ce)=>{k(Fe=>{const He=[...Fe];return He[j]&&(He[j]={...He[j],[he]:Ce}),He})},Oe=j=>{const he=E[j];let Ce=[];if(he?.speakers)try{const Fe=JSON.parse(he.speakers);Ce=(Array.isArray(Fe)?Fe:[Fe]).map((ze,Ft)=>({id:ze.id??`speaker-${Date.now()}-${Ft}`,slot:typeof ze.slot=="number"?ze.slot:Ft+1,location:["Podium","Seat","Virtual","Moderator"].includes(ze.location)?ze.location:"Seat",fullName:String(ze.fullName??"").trim(),title:String(ze.title??"").trim(),org:String(ze.org??"").trim(),photoLink:String(ze.photoLink??ze.photoUrl??"").trim()}))}catch{Ce=[]}X(Ce),R(j),W(!0)},me=()=>{W(!1),R(null),X([])},se=()=>{if(ee.length>=7)return;const j=ee.map(Ce=>Ce.slot),he=[1,2,3,4,5,6,7].find(Ce=>!j.includes(Ce))??1;X(Ce=>[...Ce,{id:`speaker-${Date.now()}`,slot:he,location:"Seat",fullName:"",title:"",org:"",photoLink:""}])},ie=j=>{X(he=>he.filter(Ce=>Ce.id!==j))},Y=(j,he,Ce)=>{X(Fe=>Fe.map(He=>He.id===j?{...He,[he]:Ce}:He))},U=(j,he)=>{X(Ce=>{const Fe=Ce.find(ze=>ze.id===j);if(!Fe)return Ce;const He=Ce.find(ze=>ze.id!==j&&ze.slot===he);return Ce.map(ze=>ze.id===j?{...ze,slot:he}:He&&ze.id===He.id?{...ze,slot:Fe.slot}:ze)})},de=()=>{if(Z==null)return;const j=ee.map(({id:he,slot:Ce,location:Fe,fullName:He,title:ze,org:Ft,photoLink:Qt})=>({id:he,slot:Ce,location:Fe,fullName:He,title:ze,org:Ft,photoLink:Qt}));Q(Z,"speakers",JSON.stringify(j)),me()},I=()=>{E.length!==0&&(t(E),s())},Ee=()=>{ve(),s()};return e?a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 w-full max-w-4xl max-h-[85vh] overflow-y-auto",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[a.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Import Agenda (PDF / Word)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:315,columnNumber:13},void 0),a.jsxDEV("span",{className:"px-2 py-0.5 rounded text-xs font-semibold bg-amber-500/20 text-amber-400 border border-amber-500/50",children:"Beta"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:316,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:314,columnNumber:11},void 0),a.jsxDEV("button",{onClick:Ee,className:"text-gray-400 hover:text-white text-2xl",type:"button",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:320,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:313,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-amber-200/90 text-sm mb-4 -mt-2",children:"Please check the import and refine items after importing (times, durations, speakers)."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:328,columnNumber:9},void 0),a.jsxDEV("div",{className:"space-y-4",children:[E.length===0&&a.jsxDEV("div",{className:"bg-red-900/20 border border-red-600 rounded-md p-4 flex items-center justify-between flex-wrap gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-red-400 font-semibold mb-1",children:"Clear Existing Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:336,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-gray-300 text-sm",children:"Delete all schedule items before importing"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:337,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:335,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>window.confirm("Delete ALL schedule items? This cannot be undone.")&&i(),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md",type:"button",children:"Delete All Rows"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:339,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:334,columnNumber:13},void 0),E.length===0&&w!=="extract"&&a.jsxDEV("div",{className:"bg-slate-700 p-4 rounded-md",children:a.jsxDEV("p",{className:"text-gray-300 text-sm",children:[a.jsxDEV("strong",{children:"1."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:354,columnNumber:17},void 0)," Upload a PDF or Word (.docx)  ",a.jsxDEV("strong",{children:"Extract & view lines"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:354,columnNumber:68},void 0),".",a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:355,columnNumber:17},void 0),a.jsxDEV("strong",{children:"2."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:356,columnNumber:17},void 0)," Set ",a.jsxDEV("strong",{children:"Start from line"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:356,columnNumber:41},void 0),", then ",a.jsxDEV("strong",{children:"Parse"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:356,columnNumber:80},void 0)," to build event rows and times. Parsing starts at the line you set. First cue and durations are calculated from here. You can change the start line and re-parse anytime."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:353,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:352,columnNumber:13},void 0),w==="select"&&a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Select file (.pdf, .docx)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:366,columnNumber:17},void 0),a.jsxDEV("input",{ref:H,type:"file",accept:".pdf,.docx,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:Me,className:"block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:369,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:365,columnNumber:15},void 0),o&&a.jsxDEV("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxDEV("span",{className:"text-gray-300 text-sm",children:[a.jsxDEV("strong",{children:o.name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:380,columnNumber:21},void 0)," (",(o.size/1024).toFixed(1)," KB)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:379,columnNumber:19},void 0),a.jsxDEV("button",{onClick:be,disabled:De,className:"px-5 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium rounded-md",type:"button",children:De?"Extracting":"Extract & view lines"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:382,columnNumber:19},void 0),a.jsxDEV("button",{onClick:Ee,className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md",type:"button",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:390,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:378,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:364,columnNumber:13},void 0),w==="extract"&&c.length>0&&a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:"Choose start line  parse from here"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:404,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-gray-400 text-sm",children:["Parsing starts at line ",a.jsxDEV("strong",{children:v||"1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:408,columnNumber:40},void 0),". First cue and durations are calculated from here. Suggested: ",a.jsxDEV("strong",{children:["line ",h]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:409,columnNumber:64},void 0),". Change it below, click a line, or jump to a line with a time  then ",a.jsxDEV("strong",{children:"Parse"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:410,columnNumber:85},void 0),"."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:407,columnNumber:15},void 0),ne.length>0&&a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("span",{className:"text-gray-400 text-sm font-medium",children:"Jump to lines with times:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:414,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex flex-wrap gap-2",children:ne.map(({lineNumber:j,preview:he})=>a.jsxDEV("button",{type:"button",onClick:()=>we(j),className:`px-3 py-1.5 rounded-md text-sm font-mono transition-colors ${parseInt(v,10)===j?"bg-amber-600 text-white ring-1 ring-amber-400":"bg-slate-700 text-gray-300 hover:bg-slate-600 hover:text-white border border-slate-600"}`,title:`Line ${j}: ${he}`,children:[a.jsxDEV("span",{className:"text-amber-400/90",children:j},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:428,columnNumber:25},void 0),a.jsxDEV("span",{className:"mx-1.5 text-slate-500",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:429,columnNumber:25},void 0),a.jsxDEV("span",{className:"truncate max-w-[180px] inline-block align-bottom",children:he},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:430,columnNumber:25},void 0)]},j,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:417,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:415,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:413,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxDEV("label",{className:"text-gray-400 text-sm",children:["Start from line (1",c.length,"):"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:439,columnNumber:17},void 0),a.jsxDEV("input",{type:"number",min:1,max:c.length,value:v,onChange:j=>b(j.target.value),className:"w-24 px-2 py-1.5 bg-slate-800 text-white text-sm border border-slate-600 rounded focus:ring-1 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:442,columnNumber:17},void 0),a.jsxDEV("button",{onClick:Ie,className:"px-5 py-2 bg-amber-600 hover:bg-amber-700 text-white font-medium rounded-md",type:"button",children:"Parse from this line"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:450,columnNumber:17},void 0),a.jsxDEV("button",{onClick:ve,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-md",type:"button",children:"Choose another file"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:457,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:438,columnNumber:15},void 0),a.jsxDEV("div",{ref:oe,className:"border border-slate-600 rounded-md bg-slate-900 overflow-auto max-h-96 min-h-32",children:a.jsxDEV("div",{className:"p-3 text-gray-300 text-xs font-mono space-y-0.5",children:c.map((j,he)=>{const Ce=he+1,Fe=parseInt(v,10)===Ce||v===String(Ce),He=ne.some(ze=>ze.lineNumber===Ce);return a.jsxDEV("div",{"data-line":Ce,role:"button",tabIndex:0,onClick:()=>b(String(Ce)),onKeyDown:ze=>{ze.key==="Enter"&&b(String(Ce))},className:`leading-relaxed cursor-pointer py-0.5 px-1 rounded hover:bg-slate-700/70 ${Fe?"bg-amber-600/30 text-amber-100":""} ${He?"border-l-2 border-l-amber-500/50 pl-1":""}`,children:[a.jsxDEV("span",{className:"text-gray-500 select-none inline-block w-10 tabular-nums",children:Ce},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:489,columnNumber:25},void 0)," ",j||" "]},he,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:476,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:469,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:465,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:403,columnNumber:13},void 0),w==="extract"&&c.length===0&&a.jsxDEV("div",{className:"bg-amber-900/30 border border-amber-600 rounded-md p-4",children:[a.jsxDEV("p",{className:"text-amber-200 mb-3",children:"No lines extracted. Try another file or check the format."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:503,columnNumber:15},void 0),a.jsxDEV("button",{onClick:ve,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-md",type:"button",children:"Choose another file"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:506,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:502,columnNumber:13},void 0),B&&a.jsxDEV("div",{className:"bg-red-600 text-white p-3 rounded-md",children:[a.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:518,columnNumber:15},void 0)," ",B]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:517,columnNumber:13},void 0),w==="parse"&&E.length>0&&a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:["Preview  ",E.length," items"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:524,columnNumber:15},void 0),a.jsxDEV("div",{className:"border border-slate-600 rounded-md bg-slate-700 max-h-96 overflow-auto",children:a.jsxDEV("table",{className:"w-full",children:[a.jsxDEV("thead",{className:"sticky top-0 bg-slate-600",children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{className:"px-2 py-2 text-left text-white text-sm border-r border-slate-500 w-12",children:"Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:531,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-2 py-2 text-left text-white text-sm border-r border-slate-500 w-16",children:"CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:534,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-2 py-2 text-left text-white text-sm border-r border-slate-500 w-20",children:"Start"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:537,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-2 py-2 text-left text-white text-sm border-r border-slate-500",children:"Segment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:540,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-2 py-2 text-left text-white text-sm border-r border-slate-500 w-24",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:543,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-2 py-2 text-left text-white text-sm border-r border-slate-500 w-36",children:"Program type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:546,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-2 py-2 text-left text-white text-sm w-32",children:"Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:549,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:530,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:529,columnNumber:19},void 0),a.jsxDEV("tbody",{children:E.map((j,he)=>a.jsxDEV("tr",{className:"border-t border-slate-600 hover:bg-slate-600",children:[a.jsxDEV("td",{className:"px-2 py-1 text-white text-sm border-r border-slate-500",children:j.row},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:555,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-2 py-1 text-white text-sm border-r border-slate-500",children:j.cue},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:558,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-2 py-1 border-r border-slate-500",children:a.jsxDEV("input",{value:j.startTime??"",onChange:Ce=>Q(he,"startTime",Ce.target.value),placeholder:"9:00 AM",className:"w-full px-2 py-1 bg-slate-800 text-white text-sm border border-slate-600 rounded focus:ring-1 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:562,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:561,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-2 py-1 border-r border-slate-500",children:a.jsxDEV("input",{value:j.segmentName,onChange:Ce=>Q(he,"segmentName",Ce.target.value),className:"w-full px-2 py-1 bg-slate-800 text-white text-sm border border-slate-600 rounded focus:ring-1 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:570,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:569,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-2 py-1 border-r border-slate-500",children:a.jsxDEV("input",{value:j.duration,onChange:Ce=>Q(he,"duration",Ce.target.value),placeholder:"HH:MM:SS",className:"w-full px-2 py-1 bg-slate-800 text-white text-sm border border-slate-600 rounded focus:ring-1 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:577,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:576,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-2 py-1 border-r border-slate-500",children:a.jsxDEV("select",{value:j.programType||"",onChange:Ce=>Q(he,"programType",Ce.target.value),className:"w-full px-2 py-1 bg-slate-800 text-white text-sm border border-slate-600 rounded focus:ring-1 focus:ring-blue-500",style:j.programType&&iC[j.programType]?{backgroundColor:iC[j.programType],color:j.programType==="Sub Cue"?"#000":"#fff"}:void 0,children:[a.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:598,columnNumber:29},void 0),w9.map(Ce=>a.jsxDEV("option",{value:Ce,children:Ce},Ce,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:600,columnNumber:31},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:585,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:584,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-2 py-1",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[j.speakers?(()=>{try{const Ce=JSON.parse(j.speakers),Fe=Array.isArray(Ce)?Ce.length:0;return a.jsxDEV("span",{className:"text-gray-300 text-sm",children:[Fe," speaker",Fe!==1?"s":""]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:614,columnNumber:37},void 0)}catch{return a.jsxDEV("span",{className:"text-gray-400 text-sm",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:619,columnNumber:42},void 0)}})():a.jsxDEV("span",{className:"text-gray-500 text-sm",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:623,columnNumber:31},void 0),a.jsxDEV("button",{type:"button",onClick:()=>Oe(he),className:"text-blue-400 hover:text-blue-300 text-xs font-medium",children:"Edit"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:625,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:607,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:606,columnNumber:25},void 0)]},he,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:554,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:552,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:528,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:527,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxDEV("button",{type:"button",onClick:()=>J(j=>!j),className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:[T?"Hide":"Show"," raw lines"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:641,columnNumber:17},void 0),T&&c.length>0&&a.jsxDEV(a.Fragment,{children:[a.jsxDEV("label",{className:"text-gray-400 text-sm",children:["Start from line (1",c.length,"):"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:650,columnNumber:21},void 0),a.jsxDEV("input",{type:"number",min:1,max:c.length,value:v,onChange:j=>b(j.target.value),className:"w-20 px-2 py-1 bg-slate-800 text-white text-sm border border-slate-600 rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:653,columnNumber:21},void 0),a.jsxDEV("button",{type:"button",onClick:Ie,className:"px-3 py-1 bg-amber-600 hover:bg-amber-700 text-white text-sm rounded",children:"Re-parse from this line"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:661,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:649,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:640,columnNumber:15},void 0),T&&c.length>0&&ne.length>0&&a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("span",{className:"text-gray-400 text-sm font-medium",children:"Jump to lines with times:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:673,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex flex-wrap gap-2",children:ne.map(({lineNumber:j,preview:he})=>a.jsxDEV("button",{type:"button",onClick:()=>we(j),className:`px-3 py-1.5 rounded-md text-sm font-mono transition-colors ${parseInt(v,10)===j?"bg-amber-600 text-white ring-1 ring-amber-400":"bg-slate-700 text-gray-300 hover:bg-slate-600 hover:text-white border border-slate-600"}`,title:`Line ${j}: ${he}`,children:[a.jsxDEV("span",{className:"text-amber-400/90",children:j},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:687,columnNumber:25},void 0),a.jsxDEV("span",{className:"mx-1.5 text-slate-500",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:688,columnNumber:25},void 0),a.jsxDEV("span",{className:"truncate max-w-[180px] inline-block align-bottom",children:he},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:689,columnNumber:25},void 0)]},j,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:676,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:674,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:672,columnNumber:17},void 0),T&&c.length>0&&a.jsxDEV("div",{ref:oe,className:"border border-slate-600 rounded-md bg-slate-900 overflow-auto max-h-48",children:a.jsxDEV("div",{className:"p-3 text-gray-300 text-xs font-mono space-y-0.5",children:c.map((j,he)=>{const Ce=he+1,Fe=ne.some(ze=>ze.lineNumber===Ce),He=parseInt(v,10)===Ce||v===String(Ce);return a.jsxDEV("div",{"data-line":Ce,role:"button",tabIndex:0,onClick:()=>b(String(Ce)),onKeyDown:ze=>{ze.key==="Enter"&&b(String(Ce))},className:`cursor-pointer hover:bg-slate-700/70 py-0.5 px-1 rounded ${He?"bg-amber-600/30 text-amber-100":""} ${Fe?"border-l-2 border-l-amber-500/50 pl-1":""}`,children:[a.jsxDEV("span",{className:"text-gray-500 select-none inline-block w-8",children:Ce},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:722,columnNumber:27},void 0)," ",j||" "]},he,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:709,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:702,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:698,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex flex-wrap justify-center gap-3 pt-2",children:[a.jsxDEV("button",{onClick:Te,className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white text-sm font-medium rounded-md",type:"button",children:"Recalculate durations from start times"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:734,columnNumber:17},void 0),a.jsxDEV("button",{onClick:I,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md",type:"button",children:["Import ",E.length," items"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:741,columnNumber:17},void 0),a.jsxDEV("button",{onClick:ve,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md",type:"button",children:"Import another file"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:748,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:733,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:523,columnNumber:13},void 0),w==="parse"&&E.length===0&&c.length>0&&a.jsxDEV("div",{className:"bg-amber-900/30 border border-amber-600 rounded-md p-4",children:[a.jsxDEV("p",{className:"text-amber-200 mb-3",children:"No items parsed. Try a different start line or check the format."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:761,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[a.jsxDEV("button",{onClick:()=>y("extract"),className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-md",type:"button",children:"Back to start-line view"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:765,columnNumber:17},void 0),a.jsxDEV("button",{onClick:ve,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md",type:"button",children:"Choose another file"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:772,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:764,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:760,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:332,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:312,columnNumber:7},void 0),le&&Z!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[60] p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl max-w-3xl w-full max-h-[85vh] flex flex-col shadow-xl",children:[a.jsxDEV("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white",children:["Edit speakers  ",E[Z]?.segmentName||"Item"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:789,columnNumber:15},void 0),a.jsxDEV("button",{type:"button",onClick:me,className:"text-slate-400 hover:text-white text-xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:792,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:788,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[a.jsxDEV("button",{type:"button",onClick:se,disabled:ee.length>=7,className:"px-4 py-2 bg-green-600 hover:bg-green-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg",children:["+ Add speaker ",ee.length<7&&`(${7-ee.length} left)`]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:801,columnNumber:15},void 0),ee.length===0&&a.jsxDEV("p",{className:"text-slate-400 text-sm",children:'No speakers. Click "Add speaker" to add one.'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:810,columnNumber:17},void 0),[...ee].sort((j,he)=>j.slot-he.slot).map(j=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600 space-y-3",children:[a.jsxDEV("div",{className:"flex justify-between items-center",children:[a.jsxDEV("span",{className:"text-white font-medium",children:["Speaker ",j.slot]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:815,columnNumber:21},void 0),a.jsxDEV("button",{type:"button",onClick:()=>ie(j.id),className:"w-8 h-8 bg-red-600 hover:bg-red-500 text-white rounded flex items-center justify-center text-sm",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:816,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:814,columnNumber:19},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-400 text-xs mb-1",children:"Slot"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:826,columnNumber:23},void 0),a.jsxDEV("select",{value:j.slot,onChange:he=>U(j.id,parseInt(he.target.value,10)),className:"w-full px-2 py-1.5 bg-slate-600 border border-slate-500 rounded text-white text-sm",children:[1,2,3,4,5,6,7].map(he=>{const Ce=ee.some(Fe=>Fe.id!==j.id&&Fe.slot===he);return a.jsxDEV("option",{value:he,className:Ce?"bg-amber-900":"",children:[he,Ce?" (used)":""]},he,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:835,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:827,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:825,columnNumber:21},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-400 text-xs mb-1",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:843,columnNumber:23},void 0),a.jsxDEV("select",{value:j.location,onChange:he=>Y(j.id,"location",he.target.value),className:"w-full px-2 py-1.5 bg-slate-600 border border-slate-500 rounded text-white text-sm",children:[a.jsxDEV("option",{value:"Podium",children:"Podium"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:849,columnNumber:25},void 0),a.jsxDEV("option",{value:"Seat",children:"Seat"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:850,columnNumber:25},void 0),a.jsxDEV("option",{value:"Moderator",children:"Moderator"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:851,columnNumber:25},void 0),a.jsxDEV("option",{value:"Virtual",children:"Virtual"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:852,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:844,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:842,columnNumber:21},void 0),a.jsxDEV("div",{className:"sm:col-span-2 lg:col-span-1",children:[a.jsxDEV("label",{className:"block text-slate-400 text-xs mb-1",children:"Full name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:856,columnNumber:23},void 0),a.jsxDEV("input",{value:j.fullName,onChange:he=>Y(j.id,"fullName",he.target.value),placeholder:"Full name",className:"w-full px-2 py-1.5 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:857,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:855,columnNumber:21},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-400 text-xs mb-1",children:"Title"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:865,columnNumber:23},void 0),a.jsxDEV("input",{value:j.title,onChange:he=>Y(j.id,"title",he.target.value),placeholder:"Title",className:"w-full px-2 py-1.5 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:866,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:864,columnNumber:21},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-400 text-xs mb-1",children:"Organization"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:874,columnNumber:23},void 0),a.jsxDEV("input",{value:j.org,onChange:he=>Y(j.id,"org",he.target.value),placeholder:"Org",className:"w-full px-2 py-1.5 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:875,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:873,columnNumber:21},void 0),a.jsxDEV("div",{className:"sm:col-span-2",children:[a.jsxDEV("label",{className:"block text-slate-400 text-xs mb-1",children:"Photo URL"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:883,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex gap-2 items-center",children:[a.jsxDEV("input",{type:"url",value:j.photoLink,onChange:he=>Y(j.id,"photoLink",he.target.value),placeholder:"https://",className:"flex-1 px-2 py-1.5 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:885,columnNumber:25},void 0),j.photoLink&&a.jsxDEV("img",{src:j.photoLink,alt:"",className:"w-10 h-10 rounded object-cover border border-slate-500",onError:he=>{he.target.style.display="none"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:893,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:884,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:882,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:824,columnNumber:19},void 0)]},j.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:813,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:800,columnNumber:13},void 0),a.jsxDEV("div",{className:"border-t border-slate-700 p-4 flex gap-3",children:[a.jsxDEV("button",{type:"button",onClick:de,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg",children:"Save & close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:907,columnNumber:15},void 0),a.jsxDEV("button",{type:"button",onClick:me,className:"flex-1 px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white font-medium rounded-lg",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:914,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:906,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:787,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:786,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AgendaImportModal.tsx",lineNumber:311,columnNumber:5},void 0):null},R9=qr.memo(({item:e,index:s,className:t,style:i,rowHeight:o,columnWidths:u,visibleColumns:c,indentedCues:m,overtimeMinutes:h,startCueId:g,showStartOvertime:v,cumulativeOvertime:b,programTypes:E,programTypeColors:k,shotTypes:w,currentUserRole:y,setSchedule:T,handleUserEditing:J,handleModalEditing:Z,handleModalClosed:R,logChangeDebounced:le,logChange:W,saveToAPI:ee,calculateStartTimeWithOvertime:X,calculateStartTime:De,setEditingNotesItem:_,setShowNotesModal:B,setViewingAssetsItem:re,setShowViewAssetsModal:H,setViewingSpeakersItem:oe,setShowViewSpeakersModal:_e,setEditingAssetsItem:ne,setShowAssetsModal:we,setEditingParticipantsItem:ve,setShowParticipantsModal:Me,displaySpeakers:be,setEditingSpeakersItem:Ie,setShowSpeakersModal:Te,getSpeakersHeight:Q,displaySpeakersText:Oe,customColumns:me,visibleCustomColumns:se,customColumnWidths:ie,getRowHeight:Y,asFragment:U})=>{const de=()=>{Z()},I=()=>{setTimeout(()=>{R()},200)},Ee=a.jsxDEV(a.Fragment,{children:[c.start&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:u.start},children:a.jsxDEV("div",{className:"flex flex-col items-center gap-1",children:[a.jsxDEV("span",{className:"text-white font-mono text-base font-bold",children:m[e.id]?"":String(X?X(s):s+1)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:119,columnNumber:13},void 0),!m[e.id]&&(h[e.id]||e.id===g&&v!==0||De&&X&&String(De(s))!==String(X(s)))&&a.jsxDEV("span",{className:`text-sm font-bold px-2 py-1 rounded text-center leading-tight ${e.id===g?v>0?"text-red-400 bg-red-900/30":"text-green-400 bg-green-900/30":b>0?"text-red-400 bg-red-900/30":"text-green-400 bg-green-900/30"}`,title:"Time adjusted due to overtime",children:(()=>{if(e.id===g){const Ce=v||0;if(Ce>0){const Fe=Math.floor(Ce/60),He=Ce%60;return`+${Fe>0?`${Fe}h ${He}m`:`${He}m`} late`}else if(Ce<0){const Fe=Math.floor(Math.abs(Ce)/60),He=Math.abs(Ce)%60;return`-${Fe>0?`${Fe}h ${He}m`:`${He}m`} early`}return"On time"}const he=b;if(he>0){const Ce=Math.floor(he/60),Fe=he%60;return`+${Ce>0?`${Ce}h ${Fe}m`:`${Fe}m`}`}else if(he<0){const Ce=Math.floor(Math.abs(he)/60),Fe=Math.abs(he)%60;return`-${Ce>0?`${Ce}h ${Fe}m`:`${Fe}m`}`}return"0m"})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:131,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:118,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:114,columnNumber:9},void 0),c.programType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:u.programType},children:a.jsxDEV("select",{value:e.programType,onFocus:de,onBlur:I,onChange:he=>{if(y==="VIEWER"||y==="OPERATOR"){alert("Only EDITORs can edit program type. Please change your role to EDITOR.");return}const Ce=e.programType;T(Fe=>Fe.map(He=>He.id===e.id?{...He,programType:he.target.value}:He)),le(`programType_${e.id}`,"FIELD_UPDATE",`Updated program type for "${e.segmentName}" from "${Ce}" to "${he.target.value}"`,{changeType:"FIELD_CHANGE",itemId:e.id,itemName:e.segmentName,fieldName:"programType",oldValue:Ce,newValue:he.target.value,details:{fieldType:"select",optionChange:!0}}),R()},disabled:y==="VIEWER"||y==="OPERATOR",className:"w-full px-3 py-2 border-2 rounded text-base transition-colors bg-slate-700 border-slate-500 text-white focus:border-blue-500",style:{backgroundColor:k[e.programType]||"#374151",color:e.programType==="Sub Cue"||e.programType==="KILLED"?"#000000":"#ffffff",textDecoration:e.programType==="KILLED"?"line-through":"none",opacity:1},title:y==="VIEWER"||y==="OPERATOR"?"Only EDITORs can edit program type":"Select program type",children:E.map(he=>a.jsxDEV("option",{value:he,style:{backgroundColor:k[he]||"#374151",color:he==="Sub Cue"||he==="KILLED"?"#000000":"#ffffff",textDecoration:he==="KILLED"?"line-through":"none"},children:he},he,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:225,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:183,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:179,columnNumber:9},void 0),c.duration&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:u.duration},children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"number",min:"0",max:"23",value:e.durationHours,onChange:he=>{if(J(),y==="VIEWER"){alert("Only EDITORs and OPERATORs can edit duration. Please change your role to EDITOR or OPERATOR.");return}const Ce=e.durationHours,Fe=parseInt(he.target.value)||0;T(He=>He.map(ze=>ze.id===e.id?{...ze,durationHours:Fe}:ze)),le(`durationHours_${e.id}`,"FIELD_UPDATE",`Updated duration hours for "${e.segmentName}" from ${Ce} to ${Fe}`,{changeType:"FIELD_CHANGE",itemId:e.id,itemName:e.segmentName,fieldName:"durationHours",oldValue:Ce,newValue:Fe,details:{fieldType:"number",timeChange:Fe-Ce}})},disabled:y==="VIEWER",className:"w-14 px-2 py-2 border border-slate-600 rounded text-center text-lg font-mono font-bold transition-colors bg-slate-700 text-white",style:{opacity:1},title:y==="VIEWER"?"Only EDITORs and OPERATORs can edit duration":"Edit hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:243,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-slate-400 text-xl font-bold",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:281,columnNumber:13},void 0),a.jsxDEV("input",{type:"number",min:"0",max:"59",value:e.durationMinutes,onChange:he=>{if(J(),y==="VIEWER"){alert("Only EDITORs and OPERATORs can edit duration. Please change your role to EDITOR or OPERATOR.");return}const Ce=e.durationMinutes,Fe=parseInt(he.target.value)||0;T(He=>He.map(ze=>ze.id===e.id?{...ze,durationMinutes:Fe}:ze)),le(`durationMinutes_${e.id}`,"FIELD_UPDATE",`Updated duration minutes for "${e.segmentName}" from ${Ce} to ${Fe}`,{changeType:"FIELD_CHANGE",itemId:e.id,itemName:e.segmentName,fieldName:"durationMinutes",oldValue:Ce,newValue:Fe,details:{fieldType:"number",timeChange:Fe-Ce}})},disabled:y==="VIEWER",className:"w-14 px-2 py-2 border border-slate-600 rounded text-center text-lg font-mono font-bold transition-colors bg-slate-700 text-white",style:{opacity:1},title:y==="VIEWER"?"Only EDITORs and OPERATORs can edit duration":"Edit minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:282,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-slate-400 text-xl font-bold",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:320,columnNumber:13},void 0),a.jsxDEV("input",{type:"number",min:"0",max:"59",value:e.durationSeconds,onChange:he=>{if(J(),y==="VIEWER"){alert("Only EDITORs and OPERATORs can edit duration. Please change your role to EDITOR or OPERATOR.");return}const Ce=e.durationSeconds,Fe=parseInt(he.target.value)||0;T(He=>He.map(ze=>ze.id===e.id?{...ze,durationSeconds:Fe}:ze)),le(`durationSeconds_${e.id}`,"FIELD_UPDATE",`Updated duration seconds for "${e.segmentName}" from ${Ce} to ${Fe}`,{changeType:"FIELD_CHANGE",itemId:e.id,itemName:e.segmentName,fieldName:"durationSeconds",oldValue:Ce,newValue:Fe,details:{fieldType:"number",timeChange:Fe-Ce}})},disabled:y==="VIEWER",className:"w-14 px-2 py-2 border border-slate-600 rounded text-center text-lg font-mono font-bold transition-colors bg-slate-700 text-white",style:{opacity:1},title:y==="VIEWER"?"Only EDITORs and OPERATORs can edit duration":"Edit seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:321,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:242,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:238,columnNumber:9},void 0),c.segmentName&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:u.segmentName},children:a.jsxDEV("input",{type:"text",value:e.segmentName,onChange:he=>{if(J(),y==="VIEWER"||y==="OPERATOR"){alert("Only EDITORs can edit segment names. Please change your role to EDITOR.");return}const Ce=e.segmentName;T(Fe=>Fe.map(He=>He.id===e.id?{...He,segmentName:he.target.value}:He)),le(`segmentName_${e.id}`,"FIELD_UPDATE",`Updated segment name for "${Ce}" to "${he.target.value}"`,{changeType:"FIELD_CHANGE",itemId:e.id,itemName:he.target.value,fieldName:"segmentName",oldValue:Ce,newValue:he.target.value,details:{fieldType:"text",characterChange:he.target.value.length-Ce.length}})},disabled:y==="VIEWER"||y==="OPERATOR",className:"w-full px-3 py-2 border border-slate-600 rounded text-base transition-colors bg-slate-700 text-white",placeholder:y==="VIEWER"||y==="OPERATOR"?"Only EDITORs can edit":"Enter segment name",title:y==="VIEWER"||y==="OPERATOR"?"Only EDITORs can edit segment names":"Edit segment name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:368,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:364,columnNumber:9},void 0),c.shotType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:u.shotType,overflow:"visible",zIndex:1},children:a.jsxDEV("select",{value:e.shotType,onFocus:de,onBlur:I,onChange:he=>{if(y==="VIEWER"||y==="OPERATOR"){alert("Only EDITORs can edit shot type. Please change your role to EDITOR.");return}const Ce=e.shotType;T(Fe=>Fe.map(He=>He.id===e.id?{...He,shotType:he.target.value}:He)),le(`shotType_${e.id}`,"FIELD_UPDATE",`Updated shot type for "${e.segmentName}" from "${Ce}" to "${he.target.value}"`,{changeType:"FIELD_CHANGE",itemId:e.id,itemName:e.segmentName,fieldName:"shotType",oldValue:Ce,newValue:he.target.value,details:{fieldType:"select",optionChange:!0}}),R()},disabled:y==="VIEWER"||y==="OPERATOR",className:"w-full px-3 py-2 border-2 rounded text-base transition-colors bg-slate-700 border-slate-500 text-white focus:border-blue-500",style:{opacity:1,zIndex:10,position:"relative"},title:y==="VIEWER"||y==="OPERATOR"?"Only EDITORs can edit shot type":"Select shot type",children:[a.jsxDEV("option",{value:"",children:"Select Shot Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:451,columnNumber:13},void 0),w?.map?.(he=>a.jsxDEV("option",{value:he,children:he},he,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:453,columnNumber:15},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:415,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:411,columnNumber:9},void 0),c.pptQA&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:u.pptQA},children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("label",{className:"flex items-center gap-1",children:[a.jsxDEV("input",{type:"checkbox",checked:!!e.hasPPT,onChange:he=>{if(J(),y==="VIEWER"||y==="OPERATOR"){alert("Only EDITORs can edit PPT settings. Please change your role to EDITOR.");return}const Ce=!!e.hasPPT;T(Fe=>Fe.map(He=>He.id===e.id?{...He,hasPPT:he.target.checked}:He)),le(`hasPPT_${e.id}`,"FIELD_UPDATE",`Updated PPT status for "${e.segmentName}" from ${Ce?"TRUE":"FALSE"} to ${he.target.checked?"TRUE":"FALSE"}`,{changeType:"FIELD_CHANGE",itemId:e.id,itemName:e.segmentName,fieldName:"hasPPT",oldValue:Ce?"TRUE":"FALSE",newValue:he.target.checked?"TRUE":"FALSE",details:{fieldType:"checkbox",booleanChange:!0}})},className:"w-6 h-6 rounded border-2 border-slate-400 bg-slate-700",style:{opacity:1},title:y==="VIEWER"||y==="OPERATOR"?"Only EDITORs can edit PPT settings":"Toggle PPT"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:466,columnNumber:15},void 0),a.jsxDEV("span",{className:"text-base font-medium text-white",children:"PPT"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:500,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:465,columnNumber:13},void 0),a.jsxDEV("label",{className:"flex items-center gap-1",children:[a.jsxDEV("input",{type:"checkbox",checked:!!e.hasQA,onChange:he=>{if(J(),y==="VIEWER"||y==="OPERATOR"){alert("Only EDITORs can edit Q&A settings. Please change your role to EDITOR.");return}const Ce=!!e.hasQA;T(Fe=>Fe.map(He=>He.id===e.id?{...He,hasQA:he.target.checked}:He)),le(`hasQA_${e.id}`,"FIELD_UPDATE",`Updated Q&A status for "${e.segmentName}" from ${Ce?"TRUE":"FALSE"} to ${he.target.checked?"TRUE":"FALSE"}`,{changeType:"FIELD_CHANGE",itemId:e.id,itemName:e.segmentName,fieldName:"hasQA",oldValue:Ce?"TRUE":"FALSE",newValue:he.target.checked?"TRUE":"FALSE",details:{fieldType:"checkbox",booleanChange:!0}})},className:"w-6 h-6 rounded border-2 border-slate-400 bg-slate-700",style:{opacity:1},title:y==="VIEWER"||y==="OPERATOR"?"Only EDITORs can edit Q&A settings":"Toggle Q&A"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:503,columnNumber:15},void 0),a.jsxDEV("span",{className:"text-base font-medium text-white",children:"Q&A"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:537,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:502,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:464,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:460,columnNumber:9},void 0),c.notes&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 transition-all duration-300 ease-in-out",style:{width:u.notes},children:a.jsxDEV("div",{onClick:()=>{if(y==="VIEWER"||y==="OPERATOR"){if(y==="OPERATOR"&&e.notes){alert(`Notes (View Only):

${String(e.notes).replace(/<[^>]*>/g,"")}`);return}alert("Only EDITORs can edit notes. Please change your role to EDITOR.");return}Z(),_&&_(e.id),B&&B(!0)},className:"w-full px-3 py-2 border border-slate-600 rounded text-white text-base transition-colors bg-slate-700 cursor-pointer hover:bg-slate-600",title:y==="VIEWER"?"Viewers cannot edit notes":y==="OPERATOR"?"Click to view notes (read-only)":"Click to edit notes",children:e.notes?a.jsxDEV("div",{className:"text-left w-full notes-display",style:{lineHeight:"1.4",overflow:"visible",whiteSpace:"pre-line"},dangerouslySetInnerHTML:{__html:String(e.notes).replace(/\r\n/g,"<br>").replace(/\r/g,"<br>").replace(/\n/g,"<br>")}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:566,columnNumber:15},void 0):a.jsxDEV("span",{className:"text-slate-400",children:"Click to edit notes..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:577,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:548,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:544,columnNumber:9},void 0),c.assets&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:u.assets},children:a.jsxDEV("div",{onClick:()=>{if(y==="VIEWER"||y==="OPERATOR"){if(y==="OPERATOR"&&e.assets){re&&re(e.id),H&&H(!0);return}alert("Only EDITORs can edit assets. Please change your role to EDITOR.");return}Z(),ne&&ne(e.id),we&&we(!0)},className:"w-full px-3 py-2 border border-slate-600 rounded text-white text-base transition-colors flex items-center justify-center bg-slate-700 cursor-pointer hover:bg-slate-600",title:y==="VIEWER"?"Viewers cannot edit assets":y==="OPERATOR"?"Click to view assets (read-only)":"Click to edit assets",children:e.assets?a.jsxDEV("div",{className:"text-center",children:a.jsxDEV("div",{className:"text-sm font-medium",children:[String(e.assets).split("||").length," Asset",String(e.assets).split("||").length!==1?"s":""]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:608,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:607,columnNumber:15},void 0):a.jsxDEV("span",{className:"text-slate-400",children:"Click to add assets..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:613,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:588,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:584,columnNumber:9},void 0),c.speakers&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 transition-all duration-300 ease-in-out",style:{width:u.speakers},children:a.jsxDEV("div",{onClick:()=>{if(y==="VIEWER"||y==="OPERATOR"){if(y==="OPERATOR"&&e.speakersText){if(oe&&_e){oe(e.id),_e(!0);return}alert(`Speakers (View Only):

${Oe?Oe(e.speakersText):String(e.speakersText)}`);return}alert("Only EDITORs can edit speakers. Please change your role to EDITOR.");return}Z(),Ie&&Ie(e.id),Te&&Te(!0)},className:"w-full px-3 py-2 border border-slate-600 rounded text-white text-base transition-colors flex items-start justify-start bg-slate-700 cursor-pointer hover:bg-slate-600",style:{height:Q?Q(e.speakersText):void 0,minHeight:Q?Q(e.speakersText):void 0,wordWrap:"break-word",overflowWrap:"break-word",overflow:"hidden",paddingBottom:"1rem",lineHeight:"1.6",whiteSpace:"pre-wrap"},title:y==="VIEWER"||y==="OPERATOR"?"Click to view speakers (read-only)":"Click to edit speakers",children:a.jsxDEV("div",{className:"text-left w-full",children:(Oe?Oe(e.speakersText||""):String(e.speakersText||""))||"Click to add speakers..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:658,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:624,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:620,columnNumber:9},void 0),c.public&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:u.public},children:a.jsxDEV("input",{type:"checkbox",checked:!!e.isPublic,onChange:he=>{if(y==="VIEWER"||y==="OPERATOR"){alert("Only EDITORs can change public status. Please change your role to EDITOR.");return}const Ce=!!e.isPublic;T(Fe=>Fe.map(He=>He.id===e.id?{...He,isPublic:he.target.checked}:He)),W&&W("FIELD_UPDATE",`Updated Public status for "${e.segmentName}" from ${Ce} to ${he.target.checked}`,{changeType:"FIELD_CHANGE",itemId:e.id,itemName:e.segmentName,fieldName:"isPublic",oldValue:Ce,newValue:he.target.checked,details:{fieldType:"checkbox",booleanChange:!0}}),J(),ee&&ee()},className:"w-5 h-5 rounded border-2 border-slate-500 bg-slate-700 text-blue-600",style:{opacity:1},title:y==="VIEWER"||y==="OPERATOR"?"Only EDITORs can change public status":"Toggle public visibility"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:670,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:666,columnNumber:9},void 0),c.participants&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-start justify-center flex-shrink-0 transition-all duration-300 ease-in-out",style:{width:u.participants},children:a.jsxDEV("div",{onClick:()=>{if(y==="VIEWER"||y==="OPERATOR"){if(y==="OPERATOR"&&e.speakers){alert(`Participants (View Only):

${be?be(e.speakers):String(e.speakers)}`);return}alert("Only EDITORs can edit participants. Please change your role to EDITOR.");return}ve&&ve(e.id),Me&&Me(!0)},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white text-base cursor-pointer hover:bg-slate-600",title:y==="VIEWER"?"Viewers cannot edit participants":y==="OPERATOR"?"Click to view participants (read-only)":"Click to edit participants",children:(be?be(e.speakers||""):String(e.speakers||""))||"Click to add participants..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:712,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:708,columnNumber:9},void 0),Array.isArray(me)&&me.map(he=>se?.[he.id]!==!1&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 transition-all duration-300 ease-in-out",style:{width:ie&&ie[he.id]||256,height:Y?Y(e.notes,e.speakersText,e.speakers,e.customFields,me):void 0},children:a.jsxDEV("textarea",{value:e.customFields&&e.customFields[he.name]||"",onFocus:()=>{J()},onChange:Ce=>{J();const Fe=e.customFields&&e.customFields[he.name]||"";T(He=>He.map(ze=>ze.id===e.id?{...ze,customFields:{...ze.customFields,[he.name]:Ce.target.value}}:ze)),le(`custom_${he.name}_${e.id}`,"FIELD_UPDATE",`Updated custom field "${he.name}" for "${e.segmentName}" from "${Fe}" to "${Ce.target.value}"`,{changeType:"FIELD_CHANGE",itemId:e.id,itemName:e.segmentName,fieldName:`custom_${he.name}`,oldValue:Fe,newValue:Ce.target.value,details:{fieldType:"custom_field",columnName:he.name,characterChange:Ce.target.value.length-Fe.length}})},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white text-base resize-none",style:{height:Y?`calc(${Y(e.notes,e.speakersText,e.speakers,e.customFields,me)} - 2rem)`:void 0,maxHeight:Y?`calc(${Y(e.notes,e.speakersText,e.speakers,e.customFields,me)} - 2rem)`:void 0,overflow:"hidden",lineHeight:"1.6",wordWrap:"break-word",overflowWrap:"break-word"},rows:Math.max(2,String(e.customFields&&e.customFields[he.name]||"").split(`
`).length),placeholder:`${he.name}...`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:743,columnNumber:13},void 0)},he.id,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:735,columnNumber:11},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:111,columnNumber:5},void 0);if(U)return a.jsxDEV(a.Fragment,{children:Ee},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:794,columnNumber:12},void 0);const j=o!==void 0?{...i||{},height:o}:i;return a.jsxDEV("div",{"data-item-id":e.id,className:t,style:j,children:Ee},e.id,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleRow.tsx",lineNumber:800,columnNumber:5},void 0)},(e,s)=>{const t=e.item,i=s.item;if(t?.id!==i?.id)return!1;const o=i?.id;if((e.indentedCues?.[o]??!1)!==(s.indentedCues?.[o]??!1)||(e.overtimeMinutes?.[o]??0)!==(s.overtimeMinutes?.[o]??0)||e.startCueId!==s.startCueId||e.showStartOvertime!==s.showStartOvertime)return!1;const u=["programType","shotType","segmentName","durationHours","durationMinutes","durationSeconds","notes","assets","speakers","speakersText","hasPPT","hasQA","isPublic"];for(const c of u)if(t?.[c]!==i?.[c])return!1;return!(e.visibleColumns!==s.visibleColumns||e.columnWidths!==s.columnWidths||e.programTypes!==s.programTypes||e.programTypeColors!==s.programTypeColors||e.shotTypes!==s.shotTypes||e.currentUserRole!==s.currentUserRole||e.setSchedule!==s.setSchedule||e.handleUserEditing!==s.handleUserEditing||e.handleModalEditing!==s.handleModalEditing||e.handleModalClosed!==s.handleModalClosed||e.logChangeDebounced!==s.logChangeDebounced||e.logChange!==s.logChange||e.saveToAPI!==s.saveToAPI||e.setEditingNotesItem!==s.setEditingNotesItem||e.setShowNotesModal!==s.setShowNotesModal||e.setViewingAssetsItem!==s.setViewingAssetsItem||e.setShowViewAssetsModal!==s.setShowViewAssetsModal||e.setEditingAssetsItem!==s.setEditingAssetsItem||e.setShowAssetsModal!==s.setShowAssetsModal||e.setEditingParticipantsItem!==s.setEditingParticipantsItem||e.setShowParticipantsModal!==s.setShowParticipantsModal||e.displaySpeakers!==s.displaySpeakers||e.setEditingSpeakersItem!==s.setEditingSpeakersItem||e.setShowSpeakersModal!==s.setShowSpeakersModal||e.getSpeakersHeight!==s.getSpeakersHeight||e.displaySpeakersText!==s.displaySpeakersText||e.customColumns!==s.customColumns||e.visibleCustomColumns!==s.visibleCustomColumns||e.customColumnWidths!==s.customColumnWidths||e.getRowHeight!==s.getRowHeight||e.cumulativeOvertime!==s.cumulativeOvertime)}),T9={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_API_BASE_URL:"https://ros-50-production.up.railway.app",VITE_STACK_PROJECT_ID:"d3a5668a-2fa9-4880-b72f-fff9f003d465",VITE_STACK_PUBLISHABLE_CLIENT_KEY:"pck_scmsr0fg066qpx8h20ject6r39cfpy3ygg65md9cvjvc8",VITE_USER_NODE_ENV:"development"},_9=()=>{const e=sn(),s=Ki();let t=e.state?.event,i=e.state?.userRole;const{user:o,loading:u}=Lo(),[c,m]=O.useState("VIEWER"),[h,g]=O.useState(!1),[v,b]=O.useState(!1),[E,k]=O.useState([]),[w,y]=O.useState([]),[T,J]=O.useState(!1),[Z,R]=O.useState(new Map),le=O.useRef(new Map),W=O.useRef(new Set),ee=(p,N,D)=>{if(c!=="EDITOR"&&c!=="OPERATOR"||!o||!t?.id){console.log(" Not logging change - missing requirements:",{role:c,user:!!o,event:!!t?.id});return}let V=N,q,fe;if(D?.itemId){q=_.findIndex(Ke=>Ke.id===D.itemId)+1;const Ue=(_.find(Ke=>Ke.id===D.itemId)?.customFields?.cue??"").toString(),We=parseInt(Ue.replace(/[^0-9-]/g,""),10);fe=Number.isFinite(We)?We:void 0,V=`ROW ${q} - ${Vs(Ue||"CUE")}: ${N}`}xs.addChange({eventId:t.id,userId:o.id,userName:o.full_name||o.email||"Unknown",userRole:c,changeType:p,action:p,description:V,details:D,rowNumber:q,cueNumber:fe,segmentName:D?.itemName||D?.segmentName});const xe=xs.getLocalChanges();k(xe.slice(0,100)),console.log(" Change logged to buffer:",V)},X=(p,N,D,V)=>{if(c!=="EDITOR"&&c!=="OPERATOR"){console.log(" Not logging change - user role is not EDITOR or OPERATOR:",c);return}const q=N==="FIELD_UPDATE"&&(V?.fieldName?.includes("Name")||V?.fieldName?.includes("segmentName")||V?.fieldName?.includes("cue")||V?.fieldName?.includes("custom")),fe=q?`text_${V?.itemId}_${V?.fieldName}`:p,xe=le.current.get(fe);xe&&(clearTimeout(xe),le.current.delete(fe)),R(Ke=>{const ft=new Map(Ke);for(const[gt,Et]of ft.entries())Et.originalKey===fe&&ft.delete(gt);return ft});let Re=D,Ue={...V};if(V?.itemId){const Ke=_.findIndex(Er=>Er.id===V.itemId)+1,gt=(_.find(Er=>Er.id===V.itemId)?.customFields?.cue??"").toString(),Et=parseInt(gt.replace(/[^0-9-]/g,""),10),Vr=Number.isFinite(Et)?Et:void 0;Re=`ROW ${Ke} - ${Vs(gt||"CUE")}: ${D}`,Ue={...V,rowNumber:Ke,cueNumber:Vr}}if(q)R(Ke=>{const ft=new Map(Ke);for(const[Et,Vr]of ft.entries())Vr.originalKey===fe&&ft.delete(Et);const gt=`${fe}_${Date.now()}`;return ft.set(gt,{action:N,description:Re,details:Ue,timestamp:new Date,user:o?.full_name||o?.email||"Unknown User",originalKey:fe}),console.log(" Updated text field pending change:",gt,"for baseKey:",fe),console.log(" Total pending changes:",ft.size),console.log(" Pending change details:",{action:N,description:Re,baseKey:fe,uniqueKey:gt}),ft});else{const Ke=`${fe}_${Date.now()}`;R(ft=>{const gt=new Map(ft.set(Ke,{action:N,description:Re,details:Ue,timestamp:new Date,user:o?.full_name||o?.email||"Unknown User",originalKey:fe}));return console.log(" Added pending change:",Ke,"for baseKey:",fe),console.log(" Total pending changes:",gt.size),console.log(" Pending change details:",{action:N,description:Re,baseKey:fe,uniqueKey:Ke}),gt})}const We=setTimeout(async()=>{console.log(" TIMEOUT FIRED for baseKey:",fe),R(Ke=>{let ft=null,gt=null;console.log(" TIMEOUT: Looking for baseKey:",fe),console.log(" TIMEOUT: Available pending changes:",Array.from(Ke.entries()).map(([Vr,Er])=>({key:Vr,originalKey:Er.originalKey})));for(const[Vr,Er]of Ke.entries())if(Er.originalKey===fe){ft=Er,gt=Vr,console.log(" TIMEOUT: Found match - key:",Vr,"originalKey:",Er.originalKey);break}console.log(" TIMEOUT: Found pending change:",ft?"YES":"NO"),console.log(" TIMEOUT: Change key:",gt),console.log(" TIMEOUT: Has change key in prev:",Ke.has(gt||""));const Et=`${fe}-${ft?.timestamp?.getTime()||Date.now()}`;if(console.log(" TIMEOUT: Change ID:",Et),console.log(" TIMEOUT: Already processed:",W.current.has(Et)),ft&&gt&&Ke.has(gt)&&o&&t?.id&&!W.current.has(Et)){console.log(" TIMEOUT: Processing change..."),W.current.add(Et);const Vr={eventId:t.id,userId:o.id,userName:o.full_name||o.email||"Unknown",userRole:c||"VIEWER",changeType:ft?.action||"unknown",action:ft?.action||"unknown",description:ft?.description||"unknown",details:ft?.details||{},rowNumber:ft?.details?.rowNumber,cueNumber:ft?.details?.cueNumber,segmentName:ft?.details?.itemName||ft?.details?.segmentName};console.log(" Adding change to service:",Vr),xs.addChange(Vr);const Er=xs.getLocalChanges();console.log(" Local changes after adding to service:",Er.length),console.log(" Latest change:",Er[Er.length-1]),console.log(" Current changeLog state length:",E.length),k(Er.slice(0,100)),console.log(" Set changeLog to:",Er.slice(0,100).length,"changes"),console.log(" Debounced change logged to change log service:",ft?.description||"unknown"),console.log(" Removed pending change from queue:",gt),console.log(" Auto-syncing changes after timeout... (with 3s additional delay)"),setTimeout(()=>{As().then(()=>{console.log(" Auto-sync completed after timeout + 3s delay"),sd(!0),console.log(" Set skipNextSync flag to prevent false reset")}).catch($n=>{console.error(" Auto-sync failed after timeout + 3s delay:",$n)})},3e3),le.current.delete(fe);const rs=new Map(Ke);return rs.delete(gt),console.log(" Pending changes after removal:",rs.size),console.log(" Remaining pending keys:",Array.from(rs.keys())),rs}else{le.current.delete(fe),W.current.has(Et)?console.log(" Prevented duplicate processing of change:",Et):console.log(" Pending change already processed or removed:",fe);const Vr=Date.now(),Er=new Map(Ke);let rs=0;for(const[$n,Bn]of Er.entries()){const ei=Vr-Bn.timestamp.getTime();ei>15e3&&(console.log(" Removing stale pending change:",$n,"age:",ei+"ms"),Er.delete($n),rs++)}return rs>0?(console.log(" Removed",rs,"stale pending changes"),Er):Ke}})},5e3);le.current.set(fe,We),console.log(" Set timeout for baseKey:",fe,"in",5e3,"ms"),console.log(" Total active timeouts:",le.current.size)},De=async()=>{console.log(" Finalizing all pending changes...");const p=Array.from(Z.entries());if(p.length===0){console.log(" No pending changes to finalize");return}le.current.forEach(V=>{clearTimeout(V)}),le.current.clear(),console.log(` Processing ${p.length} pending changes immediately...`);const N=new Set;for(const[V,q]of p)if(q&&o&&t?.id){const fe=`${q.originalKey||V}-${q.timestamp.getTime()}`;if(W.current.has(fe)){console.log(" Skipping already processed change:",fe);continue}W.current.add(fe),N.add(fe);let xe=q.description,Re,Ue;if(q.details?.itemId){Re=_.findIndex(gt=>gt.id===q.details.itemId)+1;const Ke=(_.find(gt=>gt.id===q.details.itemId)?.customFields?.cue??"").toString(),ft=parseInt(Ke.replace(/[^0-9-]/g,""),10);Ue=Number.isFinite(ft)?ft:void 0,xe=`ROW ${Re} - ${Vs(Ke||"CUE")}: ${q.description}`}xs.addChange({eventId:t.id,userId:o.id,userName:o.full_name||o.email||"Unknown",userRole:c||"VIEWER",changeType:q.action,action:q.action,description:xe,details:q.details,rowNumber:Re,cueNumber:Ue,segmentName:q.details?.itemName||q.details?.segmentName}),console.log(" Processed pending change immediately:",xe)}R(new Map);const D=xs.getLocalChanges();k(D.slice(0,100)),console.log(` All ${N.size} pending changes processed immediately`),console.log(" Auto-syncing changes after manual finalization...");try{await As(),console.log(" Auto-sync completed after manual finalization")}catch(V){console.error(" Auto-sync failed after manual finalization:",V)}setTimeout(()=>{N.forEach(V=>{W.current.delete(V)}),console.log(" Cleaned up processed change tracking for",N.size,"changes")},6e4)};if(O.useEffect(()=>()=>{le.current.forEach(p=>clearTimeout(p))},[]),O.useEffect(()=>{const p=setInterval(()=>{R(N=>{const D=Date.now(),V=new Map(N);let q=0;for(const[fe,xe]of V.entries()){const Re=D-xe.timestamp.getTime();Re>2e4&&(console.log(" Periodic cleanup: Removing stale pending change:",fe,"age:",Re+"ms"),V.delete(fe),q++)}return q>0&&console.log(" Periodic cleanup: Removed",q,"stale pending changes"),V})},5e3);return()=>clearInterval(p)},[]),O.useEffect(()=>{const p=xs.getChangesCount().unsynced;En(p)},[E,Z]),!t){const p=localStorage.getItem("events");if(p){const N=JSON.parse(p);t=N[N.length-1]}}Math.random()<.01&&(console.log("Event from location.state:",e.state?.event),console.log("Final event data:",t));const[_,B]=O.useState([]),[re,H]=O.useState([]),[oe,_e]=O.useState({}),[ne,we]=O.useState(t?.name||""),[ve,Me]=O.useState(""),[be,Ie]=O.useState({}),[Te,Q]=O.useState(1),[Oe,me]=O.useState("America/New_York"),[se,ie]=O.useState(null),[Y,U]=O.useState(!1),[de,I]=O.useState({show:!1}),[Ee,j]=O.useState(!1),[he,Ce]=O.useState(!1),[Fe,He]=O.useState(null),[ze,Ft]=O.useState(!1),[Qt,cr]=O.useState(!1),[nr,Or]=O.useState(null),[Zt,xr]=O.useState(!1),[Yt,Sr]=O.useState(null),[at,ar]=O.useState([]),[Vt,Ze]=O.useState(!1),[it,vt]=O.useState(null),[Rt,Ut]=O.useState(!1),[br,Jt]=O.useState(null),[Nr,rt]=O.useState(!1),[Ge,qe]=O.useState(null),[bt,Dt]=O.useState(!1),[Tt,Ht]=O.useState(null),[ur,Kt]=O.useState(null),[Gt,mr]=O.useState(new Set),[ir,pr]=O.useState([]),[or,ae]=O.useState([]),[Ve,ue]=O.useState(!1),[K,C]=O.useState(null),[L,F]=O.useState([]),[z,A]=O.useState({}),[te,Ne]=O.useState({}),[Pe,ye]=O.useState({}),[pe,Se]=O.useState({}),[je,Qe]=O.useState({}),[et,ct]=O.useState(null),[dt,mt]=O.useState(0),[Nt,hr]=O.useState(null),[zr,nn]=O.useState(null),[Zn,ha]=O.useState(!1),[ea,ta]=O.useState(null),[On,Vc]=O.useState(null),[Rl,za]=O.useState(null),[Mt,Qr]=O.useState(null),[yr,as]=O.useState({}),[va,an]=O.useState({}),[Tl,_l]=O.useState(new Set),[$t,ra]=O.useState({activeTimer:null}),[Io,Ga]=O.useState({elapsed:0,total:0}),[yi,Pl]=O.useState(0),[Ur,Ef]=O.useState(null),[Ei,Bt]=O.useState({}),[Fo,$r]=O.useState(!1),[Ds,Ci]=O.useState(null),[Ul,ys]=O.useState(null),[es,Qi]=O.useState(!1),[Es,Cs]=O.useState(""),[sa,jc]=O.useState(!1),[Vl,$o]=O.useState(!1),[jl,Zi]=O.useState(!1),[Ju,Wa]=O.useState(!1),[na,eo]=O.useState(!1),[aa,to]=O.useState(!1),[Ya,ro]=O.useState(!1),[Al,Ll]=O.useState([]),[Ac,Bo]=O.useState({totalBackups:0,lastBackup:null,autoBackups:0,manualBackups:0}),[G,ke]=O.useState(!1),[Xe,tt]=O.useState(null),[ht,zt]=O.useState(!0),[jt,er]=O.useState(null),[_t,fr]=O.useState({start:!0,programType:!0,duration:!0,segmentName:!0,shotType:!0,pptQA:!0,notes:!0,assets:!0,participants:!1,speakers:!0,public:!0,custom:!0}),[Xr,Gr]=O.useState({}),[Lt,ts]=O.useState({start:128,programType:224,duration:224,segmentName:320,shotType:192,pptQA:192,notes:384,assets:192,participants:256,speakers:384,public:128}),[is,so]=O.useState({}),[on,_a]=O.useState(!1);O.useEffect(()=>{const p=localStorage.getItem(`followEnabled_${t?.id}`);p!==null&&_a(p==="true")},[t?.id]),O.useEffect(()=>{localStorage.setItem(`followEnabled_${t?.id}`,on.toString())},[on,t?.id]),O.useEffect(()=>{on&&Mt&&setTimeout(()=>{const p=document.querySelector(`[data-item-id="${Mt}"]`);if(p){const N=p.getBoundingClientRect(),D=window.pageYOffset||document.documentElement.scrollTop,V=N.top+D,q=document.querySelector("#main-scroll-container .h-24");let fe=100;q&&(fe=q.getBoundingClientRect().height+20);const Re=V-fe-230;window.scrollTo({top:Math.max(0,Re),behavior:"smooth"}),console.log(" Follow: Scrolled to active item:",Mt,"position:",Re)}},150)},[Mt,on]);const[no,yn]=O.useState(new Set),Vs=p=>{if(!p&&p!==0)return"CUE";const N=String(p);return N.includes("CUE ")?N:N.match(/^CUE\d+$/)?N.replace(/^CUE(\d+)$/,"CUE $1"):`CUE ${N}`},Lc=p=>{if(!p)return"";let N=p;return N=N.replace(/<b>(.*?)<\/b>/gi,"**$1**"),N=N.replace(/<strong>(.*?)<\/strong>/gi,"**$1**"),N=N.replace(/<i>(.*?)<\/i>/gi,"*$1*"),N=N.replace(/<em>(.*?)<\/em>/gi,"*$1*"),N=N.replace(/<u>(.*?)<\/u>/gi,"_$1_"),N=N.replace(/<br\s*\/?>/gi,`
`),N=N.replace(/<\/p>/gi,`
`),N=N.replace(/<p>/gi,""),N=N.replace(/<li>(.*?)<\/li>/gi,` $1
`),N=N.replace(/<\/?ul>/gi,""),N=N.replace(/<\/?ol>/gi,""),N=N.replace(/<[^>]*>/g,""),N=N.replace(/&nbsp;/g," "),N=N.replace(/&amp;/g,"&"),N=N.replace(/&lt;/g,"<"),N=N.replace(/&gt;/g,">"),N=N.replace(/&quot;/g,'"'),N=N.replace(/\n\s*\n\s*\n/g,`

`),N=N.trim(),N},Qu=p=>{if(!p||p.trim()==="")return null;const N=new Date,D=p.trim(),V=D.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i);if(V){let fe=parseInt(V[1]);const xe=parseInt(V[2]),Re=V[3].toUpperCase();return Re==="PM"&&fe!==12&&(fe+=12),Re==="AM"&&fe===12&&(fe=0),new Date(N.getFullYear(),N.getMonth(),N.getDate(),fe,xe,0)}const q=D.match(/^(\d{1,2}):(\d{2})$/);if(q){const fe=parseInt(q[1]),xe=parseInt(q[2]);return new Date(N.getFullYear(),N.getMonth(),N.getDate(),fe,xe,0)}return null},wi=()=>new Date,Zu=(p,N)=>{try{if(N&&N!=="America/New_York"){const D=p.getFullYear(),V=p.getMonth(),q=p.getDate(),fe=p.getHours(),xe=p.getMinutes(),Re=p.getSeconds(),Ue=`${D}-${String(V+1).padStart(2,"0")}-${String(q).padStart(2,"0")}T${String(fe).padStart(2,"0")}:${String(xe).padStart(2,"0")}:${String(Re).padStart(2,"0")}`,We=new Date(Ue),Ke=We.getTimezoneOffset()*6e4,ft=new Date(We.toLocaleString("en-US",{timeZone:N})),gt=new Date(We.toLocaleString("en-US",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})),Et=ft.getTime()-gt.getTime();return new Date(We.getTime()-Et)}return p}catch(D){return console.warn("Error converting local time to UTC:",D),p}},Cf=()=>{if(!Oe)return new Date;try{const N=new Date().toLocaleString("en-US",{timeZone:Oe,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return new Date(N)}catch(p){return console.warn("Error getting current time in event timezone:",p),new Date}},[Mc,Ka]=O.useState(new Set),[ed,ln]=O.useState(null),[Vh,wf]=O.useState(!1),[td,qa]=O.useState(!1),[ao,Ic]=O.useState(!0),[Ml,En]=O.useState(0),[ws,cs]=O.useState(null),[ia,rd]=O.useState(0),[Fc,kf]=O.useState(""),[Il,Fl]=O.useState(20),$c=O.useRef(null),Fn=O.useRef(null),Ks=O.useRef(null),[jh,sd]=O.useState(!1),[ds,Xo]=O.useState(!1),[io,Bc]=O.useState(null),[Rf,Ja]=O.useState(20),[nd,$l]=O.useState(!1),ga=O.useRef(null),Ah=O.useRef(null),ad=O.useRef(null),js=O.useRef({isDragging:!1,startX:0,scrollLeft:0,container:null}),os=()=>{console.log(" User started editing - pausing sync"),Xo(!0),io&&clearTimeout(io);const p=setTimeout(()=>{console.log(" User stopped editing - resuming sync"),Xo(!1),oo()},5e3);Bc(p)},oa=O.useCallback(()=>{console.log(" Modal opened - pausing sync until closed"),Xo(!0),io&&(clearTimeout(io),Bc(null))},[io]),oo=O.useCallback(()=>{ga.current&&clearInterval(ga.current),Ja(20),$l(!1);const p=setInterval(()=>{Ja(N=>N<=1?(console.log(" Countdown sync: Triggering WebSocket sync request"),$l(!0),xt&&t?.id&&(xt.emitSyncRequest(),console.log(" Countdown sync: Emitted sync request via WebSocket")),setTimeout(()=>{$l(!1),Ja(20)},3e3),0):N-1)},1e3);ga.current=p},[xt,t?.id]),Tf=O.useCallback(()=>{ga.current&&(clearInterval(ga.current),ga.current=null),Ja(20),$l(!1)},[]),qs=O.useCallback(()=>{console.log(" Modal closed - resuming sync in 5 seconds");const p=setTimeout(()=>{console.log(" User stopped editing - resuming sync"),Xo(!1),oo()},5e3);Bc(p)},[oo]);O.useEffect(()=>{ds||(Zt||Qt||Vt||Ve||na||aa||Ya||bt)?ga.current&&(clearInterval(ga.current),ga.current=null,console.log(" Countdown paused - modal open or user editing")):!ga.current&&t?.id&&(console.log(" Countdown resumed - modal closed and user not editing (restarting at 20s)"),oo())},[ds,Zt,Qt,Vt,Ve,na,aa,Ya,bt,t?.id,oo]),O.useEffect(()=>{if(u){console.log(" Authentication still loading, waiting...");return}o&&t?.id?(async()=>{try{console.log(" Loading role from API for user:",o.id,"event:",t.id);const N=await lt.getCurrentUserSession(o.id,t.id);if(console.log(" User session from API:",N),N&&N.event_id===t.id&&N.role)return m(N.role),console.log(" Loaded role from localStorage:",N.role),localStorage.setItem(`userRole_${t.id}`,N.role),console.log(" Updated localStorage with role:",N.role),!0;console.log(" No valid role found in localStorage:",{hasSession:!!N,eventIdMatch:N?.event_id===t.id,hasRole:!!N?.role,userSessionEventId:N?.event_id,currentEventId:t.id,userRole:N?.role})}catch(N){console.log(" Failed to load role from API:",N)}return!1})().then(N=>{if(N){console.log(" Using role from API");return}if(i&&["VIEWER","EDITOR","OPERATOR"].includes(i)){m(i),lt.saveUserSession(t.id,o.id,o.full_name||o.email||"Unknown",i).then(fe=>{fe?console.log(" Role saved to API from navigation state:",i):console.log(" Failed to save role to API, using localStorage only")}),localStorage.setItem(`userRole_${t.id}`,i),console.log(" Saved role to localStorage:",i),console.log(" Using role from navigation state (no API role found):",i);return}const D=localStorage.getItem(`userRole_${t.id}`);if(console.log(" Checking localStorage for role:",{eventId:t.id,savedRole:D}),D&&["VIEWER","EDITOR","OPERATOR"].includes(D)){m(D),console.log(" Using role from localStorage fallback:",D),lt.saveUserSession(t.id,o.id,o.full_name||o.email||"Unknown",D).then(fe=>{fe?console.log(" Role synced to API from localStorage:",D):console.log(" Failed to sync role to API, keeping localStorage only")});return}const V=Object.keys(localStorage),q=V.filter(fe=>fe.startsWith("userRole_"));if(console.log(" Checking all localStorage role keys:",q),console.log(" Current event ID:",t.id),console.log(" All localStorage keys:",V),q.length>0){const fe=q[q.length-1],xe=localStorage.getItem(fe);if(console.log(" Found latest role in localStorage:",{key:fe,role:xe}),xe&&["VIEWER","EDITOR","OPERATOR"].includes(xe)){m(xe),console.log(" Using latest role from localStorage:",xe),localStorage.setItem(`userRole_${t.id}`,xe),lt.saveUserSession(t.id,o.id,o.full_name||o.email||"Unknown",xe).then(Re=>{Re?console.log(" Role synced to API from latest localStorage:",xe):console.log(" Failed to sync role to API, keeping localStorage only")});return}}console.log(" No role found, showing role selection modal"),g(!0)}):!o&&t?.id&&(console.log(" No user authenticated, defaulting to VIEWER role"),m("VIEWER"))},[o,t?.id,u,i,s]),O.useEffect(()=>{if(t?.id){console.log(" Loading change log data for event:",t.id),xs.reloadLocalChanges();const p=xs.getLocalChanges();k(p.slice(0,100)),console.log(" Loaded local changes:",p.length),Gc(),lo(),Hc(),$h(),zc(),Bh();const N=setInterval(()=>{const D=xs.getLocalChanges();k(D.slice(0,100))},2e3);return xs.startSyncTimer(),()=>{clearInterval(N),xs.stopSyncTimer()}}},[t?.id]);const[_f,id]=O.useState(!1),[Xc,Lh]=O.useState(null),[Pf,Mh]=O.useState(!1);O.useEffect(()=>{t?.id&&_.length>0&&!Pf&&(console.log(" Schedule loaded, checking for running timers for event:",t.id),Xh(),Mh(!0))},[t?.id,_.length,Pf]);const Ih=async()=>{if(t?.id)try{const p=await Jr.getCompletedCues(t.id);if(Array.isArray(p)){const N={};p.forEach(D=>{D.item_id&&(N[D.item_id]=!0)}),Se(N),console.log(" Synced completed cues:",N)}}catch(p){console.warn(" Error syncing completed cues:",p)}},od=async()=>{if(t?.id)try{await zc()}catch(p){console.warn(" Error syncing sub-cue timers:",p)}};O.useEffect(()=>{t?.id&&Ih()},[t?.id]),O.useEffect(()=>{t?.id&&od()},[t?.id]),O.useEffect(()=>{if(!t?.id||!o?.id)return;(async()=>{try{const N=await Jr.getActiveTimers(t.id);if(!N){console.warn(" No timer data found");return}const D=N?.[0];if(D&&D.user_id===o.id)return;if(D){const V=D.timer_state||"unknown",q=parseInt(D.item_id),fe=D.is_active,xe=D.started_at;let Re=V;if((V==="unknown"||!V)&&(fe&&xe?Re="running":fe?Re="loaded":Re="stopped"),Re==="running"){Qr(q),Bt(Ke=>({...Ke,[q]:!0})),A(Ke=>({...Ke,[q]:!0}));const Ue=_.findIndex(Ke=>Ke.id===q),We=new Set;if(Ue!==-1)for(let Ke=Ue+1;Ke<_.length&&_[Ke].isIndented;Ke++)We.add(_[Ke].id);Ka(We),ln(q)}else if(Re==="loaded"){Qr(q),Bt(Ke=>({...Ke,[q]:!0})),A({});const Ue=_.findIndex(Ke=>Ke.id===q),We=new Set;if(Ue!==-1)for(let Ke=Ue+1;Ke<_.length&&_[Ke].isIndented;Ke++)We.add(_[Ke].id);Ka(We),ln(q)}else Re==="stopped"&&(Qr(null),Bt({}),A({}),Ka(new Set),ln(null))}else Qr(null),Bt({}),A({}),Ka(new Set),ln(null)}catch(N){console.warn(" Top text sync error:",N)}})()},[t?.id,o?.id,_]),O.useEffect(()=>{if(!t?.id||!o)return;console.log(" Setting up real-time WebSocket sync with 5-second reliability check");const p=setInterval(()=>{console.log(" 5s reliability: Ensuring WebSocket updates are processed"),ie(N=>N)},5e3);return()=>{console.log(" Cleaning up 5-second reliability check timer"),clearInterval(p)}},[t?.id,o?.id]),O.useEffect(()=>()=>{console.log(" Cleaning up on component unmount")},[]),O.useEffect(()=>{if(t?.id&&o?.id&&c&&c!=="VIEWER"){console.log(" Saving current role to API:",c);try{const p=o.full_name||o.email||"Unknown";lt.saveUserSession(t.id,o.id,p,c),console.log(" Role saved to API:",c)}catch(p){console.error(" Failed to save role to API:",p)}}},[t?.id,o?.id,c]),O.useEffect(()=>()=>{if(t?.id&&o?.id&&c&&c!=="VIEWER"){console.log(" Saving current role to API before navigating away:",c);try{const p=o.full_name||o.email||"Unknown";lt.saveUserSession(t.id,o.id,p,c),console.log(" Role saved to API on navigation away:",c)}catch(p){console.error(" Failed to save role to API on navigation away:",p)}}},[t?.id,o?.id,c]);const lo=async()=>{if(t?.id)try{console.log(" Loading completed cues from API for event:",t.id);const p=await lt.getCompletedCues(t.id),N=Array.isArray(p)?p:[];if(N.length>0){console.log(" Found completed cues:",N);const D={};N.forEach(V=>{if(V.item_id){if(Mt&&V.item_id===Mt){console.log(" Skipping currently loaded cue from completed cues:",V.item_id);return}D[V.item_id]=!0}}),Se(D),console.log(" Set completedCues state:",D)}else console.log(" No completed cues found")}catch(p){console.error(" Error loading completed cues from API:",p),console.log(" This means the completed_cues table or functions need to be created first"),console.log(" Please check your Neon database setup")}},Hc=async()=>{if(t?.id)try{console.log(" Loading indented cues from API for event:",t.id);const p=await lt.getIndentedCues(t.id);if(p&&p.length>0){console.log(" Found indented cues:",p);const N={};p.forEach(D=>{D.item_id&&D.parent_item_id&&(N[D.item_id]={parentId:D.parent_item_id,userId:D.user_id||"",userName:D.user_name||""})}),Qe(N),console.log(" Set indentedCues state:",N)}else console.log(" No indented cues found"),Qe({})}catch(p){console.error(" Error loading indented cues from API:",p),console.log(" This means the indented_cues table or functions need to be created first"),console.log(" Please check your Neon database setup")}},Uf=p=>{const N=_.findIndex(D=>D.id===p);if(N===-1)return null;for(let D=N-1;D>=0;D--){const V=_[D];if(!je[V.id])return V.id}return null},Ho=async p=>{if(!(!t?.id||!o?.id))try{if(je[p])console.log(" Removing indented status for item:",p),await lt.unmarkCueIndented(t.id,p)&&(Qe(D=>{const V={...D};return delete V[p],V}),console.log(" Successfully removed indented status"));else{const N=Uf(p);if(!N){console.log(" No parent cue found for item:",p);return}console.log(" Adding indented status for item:",p,"with parent:",N),await lt.markCueIndented(t.id,p,N,o.id,o.full_name||o.email||"Unknown User",c||"VIEWER")&&(Qe(V=>({...V,[p]:{parentId:N,userId:o.id,userName:o.full_name||o.email||"Unknown User"}})),console.log(" Successfully added indented status"))}}catch(N){console.error(" Error toggling indented status:",N)}};O.useCallback(()=>t?.id?(console.log(" Starting countdown sync for Browser B"),setInterval(async()=>{try{const N=await lt.getActiveTimer(t.id);N&&N.timer_state==="running"&&N.started_at&&N.elapsed_seconds!==void 0&&N.duration_seconds!==void 0&&as(D=>({...D,[N.item_id]:{elapsed:N.elapsed_seconds,total:N.duration_seconds,startedAt:new Date(N.started_at)}}))}catch(N){console.warn(" Failed to sync countdown from server:",N)}},1e3)):void 0,[t?.id]),O.useEffect(()=>{!t?.id||o?.id},[t?.id,o?.id]);const Fh=async()=>{if(t?.id)try{console.log(" Checking for active timer in API for event:",t.id);const p=await lt.getActiveTimer(t.id);if(console.log(" API response:",p),p){if(console.log(" Loading timer from API:",p),Qr(p.item_id),Bt(D=>({...D,[p.item_id]:!0})),p.timer_state==="running"){console.log(" Timer is running, setting up with server timing"),as(V=>({...V,[p.item_id]:{elapsed:p.elapsed_seconds,total:p.duration_seconds,startedAt:new Date(p.started_at)}}));const D=setInterval(async()=>{try{const V=await lt.getActiveTimer(t.id);V&&V.item_id===p.item_id&&as(q=>({...q,[p.item_id]:{elapsed:V.elapsed_seconds,total:V.duration_seconds,startedAt:new Date(V.started_at)}}))}catch(V){console.warn(" Failed to sync timer from server:",V)}},1e3);Ne(V=>({...V,[p.item_id]:D}))}else p.timer_state==="loaded"&&(console.log(" Timer is loaded but not started"),as(D=>({...D,[p.item_id]:{elapsed:0,total:p.duration_seconds,startedAt:null}})),Object.keys(z).forEach(D=>{z[parseInt(D)]&&clearInterval(te[parseInt(D)])}),A({}));if(_.find(D=>D.id===p.item_id)){const D=_.findIndex(q=>q.id===p.item_id),V=new Set;if(D!==-1)for(let q=D+1;q<_.length&&_[q].isIndented;q++)V.add(_[q].id);Ka(V)}console.log(" Active timer loaded from API with accurate timing")}else{console.log(" No active timer found in API - checking for recently completed cues");let N=!0;try{const D=[];if(D&&D.length>0){console.log(" Found recent timer actions:",D);const V=D.filter(fe=>fe.action_type==="LOAD_CUE"&&new Date(fe.action_timestamp).getTime()>Date.now()-5e3);console.log(" Recent LOAD_CUE actions found:",V.length,V),V.length>0&&(console.log(" Recent LOAD_CUE action found, keeping local state"),N=!1);const q=D.filter(fe=>fe.action_type==="STOP_TIMER"&&new Date(fe.action_timestamp).getTime()>Date.now()-3e4);q.length>0&&(console.log(" Found recent stop actions, updating completed cues:",q),q.forEach(fe=>{if(fe.item_id){Se(Re=>({...Re,[fe.item_id]:!0})),yn(Re=>new Set([...Re,fe.item_id]));const xe=_.findIndex(Re=>Re.id===fe.item_id);if(xe!==-1)for(let Re=xe+1;Re<_.length&&_[Re].isIndented;Re++)Se(Ue=>({...Ue,[_[Re].id]:!0})),yn(Ue=>new Set([...Ue,_[Re].id]))}}))}}catch(D){console.warn(" Failed to check for recent timer actions:",D)}N&&!Mt?(console.log(" No recent LOAD_CUE actions and no active item, clearing local timer state"),Qr(null),Bt({}),as({}),Object.keys(z).forEach(D=>{z[parseInt(D)]&&clearInterval(te[parseInt(D)])}),A({})):console.log(N&&Mt?" No recent LOAD_CUE actions but active item exists, keeping loaded state - activeItemId:":" Recent LOAD_CUE action found, keeping local state - activeItemId:",Mt)}}catch(p){console.error(" Error loading active timer from API:",p)}},zc=async()=>{t?.id},$h=async()=>{if(t?.id)try{const{data:p,error:N}=await lt.getActiveSubCueTimers(t.id);if(N){console.error(" Error loading sub-cue timers:",N);return}p&&p.length>0&&(console.log(" Loaded sub-cue timers from API:",p),console.log(" Setting up sub-cue timer states..."),p.forEach(D=>{const V=D.item_id,q=D.duration_seconds||0;if(console.log(` Setting up sub-cue timer for item ${V}:`,{elapsed:D.elapsed_seconds||0,total:q,startedAt:D.started_at?new Date(D.started_at):null,timer_state:D.timer_state}),an(fe=>({...fe,[V]:{elapsed:D.elapsed_seconds||0,total:q,startedAt:D.started_at?new Date(D.started_at):null}})),D.timer_state==="running"){console.log(` Starting local timer interval for sub-cue item ${V}`);const fe=setInterval(()=>{an(xe=>{if(xe[V]&&xe[V].startedAt){const Re=xe[V].startedAt,Ue=Re instanceof Date?Re.getTime():new Date(Re).getTime(),We=Math.floor((Date.now()-Ue)/1e3);return{...xe,[V]:{...xe[V],elapsed:We}}}return xe})},100);ye(xe=>(console.log(` Setting sub-cue timer state for item ${V}`),{...xe,[V]:fe}))}else console.log(` Sub-cue timer for item ${V} is not running, state: ${D.timer_state}`)}))}catch(p){console.error(" Error loading sub-cue timers:",p)}},Bh=async()=>{if(t?.id){console.log(" Testing database connection...");try{const{data:p,error:N}=await lt.getLastLoadedCue(t.id);N?(console.error(" Database test failed:",N),console.log(" This means the SQL migration needs to be run first"),console.log(" Please check your Neon database setup")):(console.log(" Database connection test passed"),console.log(" Test data received:",p))}catch(p){console.error(" Database connection test error:",p)}}},Xh=async()=>{if(!t?.id){console.log(" No event ID for checking running timers");return}console.log(" Checking for running timers for event:",t.id);try{console.log(" Using fallback timer detection..."),Lh({cueName:"Timer Detected",remainingTime:"Check Console"}),id(!0),console.log(" Fallback timer popup shown")}catch(p){console.error(" Error checking running timers:",p)}},Vf=async()=>{if(console.log(" Master sync: Getting active timer from database..."),!t?.id){console.warn(" No event selected for sync");return}try{const p=await lt.getActiveTimer(t.id);if(!p){console.log(" No active timer found in database");return}console.log(" Found active timer in database:",p);const N=wi(),D=Math.floor(N.getTime()/1e3),V=new Date(p.started_at),q=Math.floor(V.getTime()/1e3),fe=p.duration_seconds||0,xe=p.is_running;if(console.log(" Timer calculation:",{currentTime:D,startTimeSeconds:q,durationSeconds:fe,isRunning:xe,currentTimeFormatted:N.toISOString(),startTimeFormatted:V.toISOString()}),Qr(p.item_id),xe){const Re=D-q,Ue=fe-Re;if(console.log(" Time calculation for running timer:",{elapsedSeconds:Re,remainingSeconds:Ue,isOverdue:Ue<0}),as(We=>({...We,[p.item_id]:{elapsed:Re,total:fe,startedAt:V}})),Ue!==0){Ue>0?console.log(` Timer synced: ${Ue} seconds remaining - starting countdown`):console.log(` Timer synced: ${Math.abs(Ue)} seconds overdue - starting count up`),z[p.item_id]&&clearInterval(te[p.item_id]);const We=setInterval(()=>{as(Ke=>{const ft=Ke[p.item_id];if(!ft)return Ke;const gt=ft.elapsed+1,Et=ft.total-gt;return Et>0?console.log(` Timer countdown: ${Et} seconds remaining`):console.log(Et===0?" Timer just expired":` Timer count up: ${Math.abs(Et)} seconds overdue`),{...Ke,[p.item_id]:{...ft,elapsed:gt}}})},1e3);Ne(Ke=>({...Ke,[p.item_id]:We}))}else console.log(" Timer just expired")}else console.log(" Timer is loaded but not running - setting duration only"),as(Re=>({...Re,[p.item_id]:{elapsed:0,total:fe,startedAt:null}})),console.log(` Timer synced: Set loaded duration to ${fe} seconds`)}catch(p){console.error(" Error during master sync:",p)}},ld=async()=>{if(!(!t?.id||!o?.id))try{console.log(" Backing up schedule data..."),await lt.saveRunOfShowData({event_id:t.id,event_name:t.name,event_date:t.date,schedule_items:_,custom_columns:re,settings:{eventName:ne,masterStartTime:ve,dayStartTimes:be}}),console.log(" Schedule data backed up with settings")}catch(p){console.error(" Error backing up schedule data:",p)}},Gc=async()=>{if(!t?.id){console.log(" No event ID for loading master change log");return}try{console.log(" Loading master change log for event:",t.id);const p=await xs.getMasterChangeLog(t.id,100);y(p),console.log(" Loaded master change log:",p.length,"changes"),p.length===0&&console.log(" No master changes found - this might be normal for new events")}catch(p){console.error(" Error loading master change log:",p),y([])}},As=async()=>{if(!t?.id||!o){console.log(" Cannot sync - missing event ID or user");return}if(!ht){console.log(" Skipping sync - page not visible");return}if(Zt||Qt||Vt||Ve||na||aa||Ya||bt){console.log(" Skipping sync - modal is open");return}if(ds){console.log(" Skipping sync - user is actively editing");return}try{console.log(" Syncing schedule data to database...");const p={event_id:t.id,event_name:t.name,event_date:t.date,schedule_items:_,custom_columns:re,settings:{eventName:ne,masterStartTime:ve,dayStartTimes:be}};if(await lt.saveRunOfShowData(p,{userId:o.id,userName:o.full_name||o.email||"Unknown User",userRole:c||"VIEWER"})){console.log(" Schedule data synced to database successfully"),console.log(" Syncing local changes to master change log...");const D=await xs.syncChanges();console.log(D?" Local changes synced to master change log":" Failed to sync some local changes to master change log"),await Gc(),console.log(" Master change log refreshed after sync")}else console.log(" Failed to sync schedule data to database")}catch(p){console.error(" Error syncing schedule data to database:",p)}},jf=async()=>{if(prompt("Enter password to clear all change logs:")!=="1615"){alert("Incorrect password. Change logs not cleared.");return}if(confirm(` WARNING: This will permanently delete ALL change logs (local and master) for this event. This action cannot be undone.

Are you sure you want to continue?`))try{if(xs.clearLocalChanges(),k([]),console.log(" Local changes cleared"),t?.id){if(console.log(" Attempting to clear master change log for event:",t.id),console.log(" Current user:",o?.id,o?.email),!o){console.error(" No user found"),alert(" Authentication error. Please refresh and try again.");return}const D=await xs.clearMasterChangeLog(t.id);if(console.log(" Clear master result:",D),D.success){y([]),console.log(" Master change log cleared successfully"),alert(` Successfully cleared ${D.deletedCount} master change log entries`),console.log(" Verifying master change log is cleared...");const V=await xs.getMasterChangeLog(t.id);console.log(" Master change log after clearing:",V.length,"records"),y(V),V.length===0?alert(` All change logs cleared successfully!

- Local changes:  Cleared
- Master changes:  Cleared (${D.deletedCount} records deleted)`):alert(` Partial success:

- Local changes:  Cleared
- Master changes:  ${D.deletedCount} deleted, but ${V.length} remain

Some records may be protected by RLS policies.`)}else console.log(" Failed to clear master change log:",D.error),alert(` Partial success:

- Local changes:  Cleared
- Master changes:  Failed

Error: ${D.error}

This might be due to database permissions. Check the console for details.`)}else alert(" Error: No event ID found. Cannot clear master change log.")}catch(D){console.error("Error clearing change logs:",D),alert(" Error clearing change logs. Check the console for details.")}};O.useEffect(()=>{if(console.log(" Toast useEffect triggered:",{activeTimersCount:Object.keys(z).length,activeTimers:z,timeToastEnabled:ao,scheduleLength:_.length,toastShownForTimer:$c.current}),Object.keys(z).length===0){console.log(" Toast: No active timers, hiding toast and resetting tracking"),Fn.current&&(clearTimeout(Fn.current),Fn.current=null),Ks.current&&(clearInterval(Ks.current),Ks.current=null),qa(!1),kf(""),Fl(20),$c.current=null;return}if(!ao){console.log(" Toast: Toast disabled by user");return}const p=parseInt(Object.keys(z)[0]);if(console.log(" Toast: Active timer ID:",p),$c.current===p){console.log(" Toast: Already shown for timer",p,"- skipping (countdown should be running)");return}Fn.current&&(clearTimeout(Fn.current),Fn.current=null),Ks.current&&(clearInterval(Ks.current),Ks.current=null);const N=_.find(D=>D.id===p);if(console.log(" Toast: Found active item:",N?N.segmentName:"NOT FOUND"),N)try{const D=wi(),V=_.findIndex(fe=>fe.id===N.id),q=cn(V);if(q){kf(q);const[fe,xe]=q.split(" "),[Re,Ue]=fe.split(":").map(Number);let We=Re;xe==="PM"&&Re!==12&&(We+=12),xe==="AM"&&Re===12&&(We=0);const Ke=wi(),ft=new Date(Ke.getFullYear(),Ke.getMonth(),Ke.getDate(),We,Ue),gt=D.getTime()-ft.getTime(),Et=Math.round(gt/(1e3*60));rd(Math.abs(Et)),$c.current=p,Et<-1?(console.log(" Toast: Setting status to EARLY, difference:",Et),cs("early"),qa(!0)):Et>1?(console.log(" Toast: Setting status to LATE, difference:",Et),cs("late"),qa(!0)):(console.log(" Toast: Setting status to ON-TIME, difference:",Et),cs("on-time"),qa(!0)),console.log(" Toast: Should be visible now - showTimeToast set to true"),Fl(20),Ks.current=setInterval(()=>{Fl(Vr=>Vr<=1?(Ks.current&&(clearInterval(Ks.current),Ks.current=null),0):Vr-1)},1e3),Fn.current=setTimeout(()=>{console.log(" Toast: Auto-closing after 20 seconds"),qa(!1),Fl(20),Ks.current&&(clearInterval(Ks.current),Ks.current=null),Fn.current=null},2e4)}}catch(D){console.error(" Toast: Error calculating time status:",D),qa(!1)}},[z,_,ao]);const Hh=()=>{if(!on)return;const p=document.querySelector(`[data-item-id="${Mt}"]`);if(p){const N=p.getBoundingClientRect(),D=window.pageYOffset||document.documentElement.scrollTop,V=N.top+D,q=document.querySelector("#main-scroll-container .h-24");let fe=100;q&&(fe=q.getBoundingClientRect().height+20);const Re=V-fe-230;window.scrollTo({top:Math.max(0,Re),behavior:"smooth"})}},[Hr,Ls]=O.useState({cue:"",day:1,programType:"PreShow/End",shotType:"",segmentName:"",durationHours:0,durationMinutes:0,durationSeconds:0,notes:"",assets:"",speakers:"",speakersText:"",hasPPT:!1,hasQA:!1,timerId:"",isPublic:!1,isIndented:!1,customFields:{}});O.useEffect(()=>{Ls(p=>({...p,day:Te}))},[Te]);const Af=["PreShow/End","Podium Transition","Panel Transition","Full-Stage/Ted-Talk","Sub Cue","No Transition","Video","Panel+Remote","Remote Only","Break","TBD","KILLED"],cd={"PreShow/End":"#8B5CF6","Podium Transition":"#8B4513","Panel Transition":"#404040","Sub Cue":"#F3F4F6","No Transition":"#059669",Video:"#F59E0B","Panel+Remote":"#1E40AF","Remote Only":"#60A5FA",Break:"#EC4899",TBD:"#6B7280",KILLED:"#DC2626","Full-Stage/Ted-Talk":"#EA580C"},zo=(p,N,D,V,q)=>{let fe=6.5;if(p&&p.trim()!==""){const xe=document.createElement("div");xe.style.position="absolute",xe.style.visibility="hidden";const ft=(Lt.notes-32-1)/16;xe.style.width=`${ft}rem`,xe.style.padding="0.75rem",xe.style.fontSize="1rem",xe.style.lineHeight="1.5",xe.style.fontFamily="system-ui, -apple-system, sans-serif",xe.style.whiteSpace="pre-wrap",xe.style.wordWrap="break-word",xe.innerHTML=p,document.body.appendChild(xe);const gt=xe.scrollHeight;document.body.removeChild(xe);const Er=gt/16+3;fe=Math.max(fe,Er)}if(D&&D.trim()!=="")try{const xe=JSON.parse(D);if(Array.isArray(xe)&&xe.length>0){const Re=xe.filter(Ue=>Ue.fullName&&Ue.fullName.trim()!=="");if(Re.length>0){const Ke=4+Re.length*1.5;fe=Math.max(fe,Ke)}}}catch{if(D.includes(`
`)){const Ue=4+D.split(`
`).filter(We=>We.trim()!=="").length*1.5;fe=Math.max(fe,Ue)}}if(N&&N.trim()!=="")try{const xe=JSON.parse(N);if(Array.isArray(xe)&&xe.length>0){const Re=xe.filter(Ue=>Ue.fullName&&Ue.fullName.trim()!=="");if(Re.length>0){const Ke=4+Re.length*1.5;fe=Math.max(fe,Ke)}}}catch{if(N.includes(`
`)){const Ue=4+N.split(`
`).filter(We=>We.trim()!=="").length*1.5;fe=Math.max(fe,Ue)}}return V&&q&&q.length>0&&q.forEach(xe=>{const Re=V[xe.name];if(Re&&Re.trim()!==""){const Ue=Re.split(`
`),Et=3+Math.max(2,Ue.length)*1.6+1;fe=Math.max(fe,Et)}}),`${fe}rem`},ud=p=>{if(!p||p.trim()==="")return"3.5rem";let N=1;try{const fe=JSON.parse(p);if(Array.isArray(fe)){const xe=fe.filter(Re=>Re.fullName&&Re.fullName.trim()!=="");N=Math.max(1,xe.length)}}catch{N=Math.max(1,p.split(`
`).filter(xe=>xe.trim()!=="").length)}const q=3+(N-1)*1.5;return`${Math.max(3.5,q)}rem`},Bl=()=>{let p=0;_.forEach(q=>{!je[q.id]&&(q.day||1)===Te&&(p+=(q.durationHours||0)*3600+(q.durationMinutes||0)*60+(q.durationSeconds||0))});const N=Math.floor(p/3600),D=Math.floor(p%3600/60),V=p%60;return{hours:N,minutes:D,seconds:V,totalSeconds:p}},Lf=p=>{const N=document.getElementById("notes-editor");if(!N)return;N.focus();const D=window.getSelection();if(!D||D.rangeCount===0)return;const V=D.getRangeAt(0),q=V.toString(),fe=document.createElement(p),xe=document.createElement("li");xe.textContent=q||"List item",fe.appendChild(xe),V.deleteContents(),V.insertNode(fe);const Re=document.createRange();Re.setStartAfter(xe),Re.collapse(!0),D.removeAllRanges(),D.addRange(Re)},Ir=(p,N)=>{const D=document.getElementById("notes-editor");if(D){D.focus();try{switch(p){case"bold":document.execCommand("bold",!1);break;case"italic":document.execCommand("italic",!1);break;case"underline":document.execCommand("underline",!1);break;case"color":N&&document.execCommand("foreColor",!1,N);break;case"highlight":N&&N!=="none"?document.execCommand("backColor",!1,N):document.execCommand("removeFormat",!1);break;case"fontSize":N&&document.execCommand("fontSize",!1,N);break;case"bullet":Lf("ul");break;case"list":Lf("ol");break;case"left":document.execCommand("justifyLeft",!1);break;case"center":document.execCommand("justifyCenter",!1);break;case"right":document.execCommand("justifyRight",!1);break;case"undo":document.execCommand("undo",!1);break;case"redo":document.execCommand("redo",!1);break}}catch{console.warn("Formatting command not supported:",p)}}},zh=()=>{const p=document.getElementById("notes-editor");if(p&&nr!==null){const N=p.innerHTML;if(nr===-1)Ls(D=>({...D,notes:N}));else{const D=_.find(q=>q.id===nr)?.notes||"",V=_.find(q=>q.id===nr);B(q=>q.map(fe=>fe.id===nr?{...fe,notes:N}:fe)),V&&ee("FIELD_UPDATE",`Updated notes for "${V.segmentName}"`,{changeType:"FIELD_CHANGE",itemId:V.id,itemName:V.segmentName,fieldName:"notes",oldValue:D,newValue:N,details:{fieldType:"text",characterChange:N.length-D.length}})}cr(!1),Or(null),qs()}},Gh=()=>{if(Yt!==null){const p=JSON.stringify(at);if(Yt===-1)Ls(N=>({...N,speakersText:p}));else{const N=_.find(V=>V.id===Yt)?.speakersText||"",D=_.find(V=>V.id===Yt);B(V=>V.map(q=>q.id===Yt?{...q,speakersText:p}:q)),D&&ee("FIELD_UPDATE",`Updated speakers for "${D.segmentName}"`,{changeType:"FIELD_CHANGE",itemId:D.id,itemName:D.segmentName,fieldName:"speakers",oldValue:N,newValue:p,details:{fieldType:"speakers",speakerCount:at.length,characterChange:p.length-N.length}})}xr(!1),Sr(null),qs()}},Wh=()=>{if(it!==null){const p=document.getElementById("assets-list");if(p){const N=p.querySelectorAll(".asset-item"),D=[];N.forEach(q=>{const fe=q.querySelector(".asset-name"),xe=q.querySelector(".asset-link");if(fe&&xe){const Re=fe.value.trim(),Ue=xe.value.trim();Re&&D.push(Ue?`${Re}|${Ue}`:Re)}});const V=D.join("||");if(it===-1)Ls(q=>({...q,assets:V}));else{const q=_.find(xe=>xe.id===it)?.assets||"",fe=_.find(xe=>xe.id===it);B(xe=>xe.map(Re=>Re.id===it?{...Re,assets:V}:Re)),fe&&ee("FIELD_UPDATE",`Updated assets for "${fe.segmentName}"`,{changeType:"FIELD_CHANGE",itemId:fe.id,itemName:fe.segmentName,fieldName:"assets",oldValue:q,newValue:V,details:{fieldType:"assets",assetCount:D.length,characterChange:V.length-q.length}})}Ze(!1),vt(null),qs()}}},Wc=()=>{const p=document.getElementById("assets-list");if(p){const N=document.createElement("div");N.className="asset-item p-3 bg-slate-700 rounded-lg space-y-3",N.innerHTML=`
        <div class="flex gap-3 items-center">
          <input type="text" class="asset-name flex-1 px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500" placeholder="Asset name..." />
          <button type="button" class="toggle-link px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors text-sm">
            + Link
          </button>
          <button type="button" class="remove-asset px-3 py-2 bg-red-600 hover:bg-red-500 text-white rounded transition-colors">Remove</button>
        </div>
        <div class="asset-link-container hidden">
          <input type="url" class="asset-link w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500" placeholder="Enter asset URL..." />
        </div>
      `;const D=N.querySelector(".toggle-link"),V=N.querySelector(".asset-link-container"),q=N.querySelector(".asset-link");D?.addEventListener("click",()=>{V?.classList.contains("hidden")?(V.classList.remove("hidden"),D.textContent=" Link",D.classList.remove("bg-blue-600","hover:bg-blue-500"),D.classList.add("bg-slate-600","hover:bg-slate-500"),q?.focus()):(V?.classList.add("hidden"),D.textContent="+ Link",D.classList.remove("bg-slate-600","hover:bg-slate-500"),D.classList.add("bg-blue-600","hover:bg-blue-500"),q&&(q.value=""))}),N.querySelector(".remove-asset")?.addEventListener("click",()=>{N.remove()}),p.appendChild(N)}},Yc=()=>{if(L.length>=7)return;const p=L.map(V=>V.slot),N=[1,2,3,4,5,6,7].find(V=>!p.includes(V))||1,D={id:`speaker_${Date.now()}`,slot:N,location:"Podium",fullName:"",title:"",org:"",photoLink:""};F(V=>[...V,D].sort((q,fe)=>q.slot-fe.slot))},Go=p=>{F(N=>N.filter(D=>D.id!==p))},xa=(p,N,D)=>{F(V=>V.map(q=>q.id===p?{...q,[N]:D}:q).sort((q,fe)=>q.slot-fe.slot))},Mf=()=>{if(K!==null){const p=JSON.stringify(L);K===-1?Ls(N=>({...N,speakers:p})):B(N=>N.map(D=>D.id===K?{...D,speakers:p}:D)),ue(!1),C(null)}},Yh=()=>{if(at.length>=7)return;const p=at.map(V=>V.slot),N=[1,2,3,4,5,6,7].find(V=>!p.includes(V))||1,D={id:Date.now().toString(),fullName:"",location:"Podium",slot:N,title:"",org:"",photoLink:""};ar(V=>[...V,D])},If=p=>{ar(N=>N.filter(D=>D.id!==p))},co=(p,N,D)=>{ar(V=>V.map(q=>q.id===p?{...q,[N]:D}:q))},Ff=(p,N)=>{if(at.some(V=>V.id!==p&&V.slot===N)){const V=at.find(q=>q.id!==p&&q.slot===N);if(V){const q=at.find(fe=>fe.id===p);q&&co(V.id,"slot",q.slot)}}co(p,"slot",N)},$f=(p,N)=>{const D=L.find(q=>q.id===p);if(!D)return;const V=L.find(q=>q.id!==p&&q.slot===N);if(V){const q=L.map(fe=>fe.id===p?{...fe,slot:N}:fe.id===V.id?{...fe,slot:D.slot}:fe);F(q)}else xa(p,"slot",N)},Bf=p=>{if(!p)return"Click to add participants...";try{const N=JSON.parse(p);return!Array.isArray(N)||N.length===0?"Click to add participants...":N.sort((D,V)=>D.slot-V.slot).map(D=>`${D.location==="Podium"?"P":D.location==="Seat"?"S":D.location==="Virtual"?"V":"M"}${D.slot} - ${D.fullName||"Unnamed"}`).join(`
`)}catch{return"Click to add participants..."}},Kc=p=>{if(!p)return"Click to add speakers...";try{const N=JSON.parse(p);return!Array.isArray(N)||N.length===0?"Click to add speakers...":N.sort((D,V)=>D.slot-V.slot).filter(D=>D.fullName&&D.fullName.trim()!=="").map(D=>`${D.location==="Podium"?"P":D.location==="Seat"?"S":D.location==="Virtual"?"V":"M"}${D.slot} - ${D.fullName||"Unnamed"}`).join(`
`)}catch{return"Click to add speakers..."}},Xf=["Podium","2-Shot","3-Shot","4-Shot","5-Shot","6-Shot","7-Shot","Ted-Talk"],Hf=p=>{if(isNaN(p)||p===void 0||p===null)return console.warn(" formatTime received invalid value:",p),"00:00:00";const N=p<0,D=Math.abs(p),V=Math.floor(D/3600),q=Math.floor(D%3600/60),fe=Math.floor(D%60);return`${N?"-":""}${V.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}:${fe.toString().padStart(2,"0")}`},dd=p=>{if(isNaN(p)||p===void 0||p===null)return console.warn(" formatSubCueTime received invalid value:",p),"00:00";const N=p<0,D=Math.abs(p),V=Math.floor(D/3600),q=Math.floor(D%3600/60),fe=Math.floor(D%60),xe=N?"-":"";return V===0?`${xe}${q.toString().padStart(2,"0")}:${fe.toString().padStart(2,"0")}`:`${xe}${V.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}:${fe.toString().padStart(2,"0")}`},Xl=p=>{if(!je[p])return!1;const N=je[p].parentId;return N?z[N]!==void 0:!1},Kh=()=>{if($t?.activeTimer){const D=Io;return D.total-D.elapsed}const p=Object.keys(z);if(p.length>0){const D=parseInt(p[0]);if(yr[D]){const V=yr[D];return V.total-V.elapsed}}const N=Object.keys(Pe);if(N.length>0){const D=parseInt(N[0]);if(va[D]){const V=va[D];return V.total-V.elapsed}}if(Mt&&yr[Mt]){const D=yr[Mt];return D.total-D.elapsed}return 0},Hl=()=>{if($t?.activeTimer){const D=Io,V=D.total-D.elapsed;return V<0?0:D.total>0?V/D.total*100:0}const p=Object.keys(z);if(p.length>0){const D=parseInt(p[0]);if(yr[D]){const V=yr[D],q=V.total-V.elapsed;return q<0?0:V.total>0?q/V.total*100:0}}const N=Object.keys(Pe);if(N.length>0){const D=parseInt(N[0]);if(va[D]){const V=va[D],q=V.total-V.elapsed;return V.total>0?q/V.total*100:0}}if(Mt&&yr[Mt]){const D=yr[Mt],V=D.total-D.elapsed;return D.total>0?V/D.total*100:0}return 0},md=()=>{if($t?.activeTimer){const D=Io,V=D.total-D.elapsed;return V<0?"bg-red-500":V>120?"#10b981":V>30?"#f59e0b":"#ef4444"}const p=Object.keys(z);if(p.length>0){const D=parseInt(p[0]);if(yr[D]){const V=yr[D],q=V.total-V.elapsed;return q<0?"bg-red-500":q>120?"#10b981":q>30?"#f59e0b":"#ef4444"}}const N=Object.keys(Pe);if(N.length>0){const D=parseInt(N[0]);if(va[D]){const V=va[D],q=V.total-V.elapsed;return q>120?"#10b981":q>30?"#f59e0b":"#ef4444"}}if(Mt&&yr[Mt]){const D=yr[Mt],V=D.total-D.elapsed;return V>120?"#10b981":V>30?"#f59e0b":"#ef4444"}return"transparent"},zl=()=>{if($t?.activeTimer){const N=Io,D=N.total-N.elapsed;return D>120?"#10b981":D>30?"#f59e0b":"#ef4444"}const p=Object.keys(z);if(p.length>0){const N=parseInt(p[0]);if(yr[N]){const D=yr[N],V=D.total-D.elapsed;return V>120?"#10b981":V>30?"#f59e0b":"#ef4444"}}if(Mt&&yr[Mt]){const N=yr[Mt],D=N.total-N.elapsed;return D>120?"#10b981":D>30?"#f59e0b":"#ef4444"}return"#ffffff"},Gl=async p=>{if(console.log(" ADJUST TIMER CLICKED:",p,"seconds"),console.log(" activeItemId:",Mt),console.log(" user:",o),console.log(" event:",t),!Mt||!o||!t?.id){console.log(" Cannot adjust timer - missing data:",{activeItemId:Mt,user:!!o,eventId:t?.id});return}if(_.length===0){console.log(" Schedule is empty - waiting for data to load"),alert("Schedule is still loading. Please wait a moment and try again.");return}const N=typeof Mt=="string"?parseInt(Mt):Mt,D=_.find(Ue=>Ue.id===N);if(!D){console.log(" Cannot find active item in schedule"),console.log(" Active item ID type:",typeof Mt,Mt),console.log(" Schedule item IDs:",_.map(Ue=>({id:Ue.id,type:typeof Ue.id})));return}console.log(" Found item:",D.segmentName);const V=Math.max(0,D.durationHours*3600+D.durationMinutes*60+D.durationSeconds+p),q=Math.floor(V/3600),fe=Math.floor(V%3600/60),xe=V%60,Re=_.map(Ue=>Ue.id===N?{...Ue,durationHours:q,durationMinutes:fe,durationSeconds:xe}:Ue);B(Re),yr[N]&&(console.log(" Updating timer duration for item:",N,"new duration:",V),as(Ue=>({...Ue,[N]:{...Ue[N],total:V}})),z[N]&&(console.log(" Updating running timer duration in database for real-time sync"),await lt.updateTimerDuration(t.id,N,V))),console.log(" Marking user as editing (timer duration change)"),os(),console.log(" Timer duration updated - running timer synced immediately, schedule will sync after pause")},zf=async p=>{if(console.log(" loadCue function STARTED with itemId:",p),console.log(" user:",o),console.log(" event:",t),console.log(" currentUserRole:",c),!o||!t?.id){console.log(" Missing user or event ID:",{user:!!o,eventId:t?.id});return}const N=[];Object.keys(z).forEach(xe=>{const Re=parseInt(xe);if(z[Re]){const Ue=yr[Re];if(Ue&&Ue.startedAt){const We=Ue.startedAt instanceof Date?Ue.startedAt.getTime():new Date(Ue.startedAt).getTime(),Ke=Math.floor((Date.now()-We)/1e3),ft=Ue.total||0;N.push({timerId:Re,elapsedSeconds:Ke,totalSeconds:ft})}}}),Object.keys(z).forEach(async xe=>{if(z[parseInt(xe)]){clearInterval(te[parseInt(xe)]),Se(Ue=>({...Ue,[parseInt(xe)]:!0}));const Re=_.find(Ue=>Ue.id===parseInt(xe));console.log(" About to mark cue as completed:",{eventId:t.id,itemId:parseInt(xe),userId:o.id,cueId:Re?.customFields?.cue||"CUE"});try{const Ue=await lt.markCueCompleted(t.id,parseInt(xe),Re?.customFields?.cue||"CUE",o.id,o.full_name||o.email||"Unknown User",c||"VIEWER");console.log(" Mark completed result:",Ue)}catch(Ue){console.error(" Error marking cue as completed:",Ue)}}}),A({}),console.log(" Stopping all timers in API for event:",t.id,"user:",o.id);const D=await lt.stopAllTimersForEvent(t.id,o.id,o.full_name||o.email||"Unknown User",c||"VIEWER");if(console.log(" Stop all timers result:",D),Nt&&(console.log(" Stopping sub-cue timer because new cue is being loaded"),await Qa()),Mt&&Mt!==p){yn(Ue=>new Set([...Ue,Mt])),Se(Ue=>({...Ue,[Mt]:!0}));const xe=_.find(Ue=>Ue.id===Mt);console.log(" About to mark active cue as completed:",{eventId:t.id,itemId:Mt,userId:o.id,cueId:xe?.customFields?.cue||"CUE"});try{const Ue=await lt.markCueCompleted(t.id,Mt,xe?.customFields?.cue||"CUE",o.id,o.full_name||o.email||"Unknown User",c||"VIEWER");console.log(" Mark active completed result:",Ue)}catch(Ue){console.error(" Error marking active cue as completed:",Ue)}const Re=_.findIndex(Ue=>Ue.id===Mt);if(Re!==-1)for(let Ue=Re+1;Ue<_.length&&_[Ue].isIndented;Ue++)Se(We=>({...We,[_[Ue].id]:!0})),yn(We=>new Set([...We,_[Ue].id])),await lt.markCueCompleted(t.id,_[Ue].id,_[Ue].customFields?.cue||"CUE",o.id,o.full_name||o.email||"Unknown User",c||"VIEWER")}Se(xe=>{const Re={...xe};delete Re[p];const Ue=_.findIndex(We=>We.id===p);if(Ue!==-1)for(let We=Ue+1;We<_.length&&_[We].isIndented;We++)delete Re[_[We].id];return Re}),yn(xe=>{const Re=new Set(xe);Re.delete(p);const Ue=_.findIndex(We=>We.id===p);if(Ue!==-1)for(let We=Ue+1;We<_.length&&_[We].isIndented;We++)Re.delete(_[We].id);return Re});const V=_.find(xe=>xe.id===p);if(V){console.log(" Item found:",V),console.log(" Item ID type:",typeof V.id,"Value:",V.id),console.log(" Item duration values:",{durationHours:V.durationHours,durationMinutes:V.durationMinutes,durationSeconds:V.durationSeconds});const xe=V.durationHours*3600+V.durationMinutes*60+V.durationSeconds;console.log(" Calculated total seconds:",xe),console.log(" Item duration breakdown:",{durationHours:V.durationHours,durationMinutes:V.durationMinutes,durationSeconds:V.durationSeconds,totalSeconds:xe});const Re=typeof p=="string"?parseInt(p):p;console.log(" Numeric item ID:",Re),console.log(" Optimistic UI update - showing loaded state immediately"),as(gt=>({...gt,[p]:{elapsed:0,total:xe,startedAt:null}})),Qr(p),Bt(gt=>({...gt,[p]:!0}));const We=_.findIndex(gt=>gt.id===p)+1,Ke=Vs(V.customFields.cue),ft=V.timerId;console.log(" Loading CUE in API:",{eventId:t.id,itemId:Re,userId:o.id,totalSeconds:xe,rowNumber:We,cueDisplay:Ke,timerId:ft}),console.log(" About to call DatabaseService.loadCue..."),console.log(" DatabaseService object:",typeof lt),console.log(" DatabaseService.loadCue function:",typeof lt.loadCue),console.log(" Testing API configuration...");try{await Jr.healthCheck(),console.log(" API server is running")}catch(gt){console.error(" Error connecting to API server:",gt)}try{console.log(" Calling DatabaseService.loadCue now...");const gt=await lt.loadCue(t.id,Re,o.id,xe,We,Ke,ft);console.log(" Load CUE result:",gt),gt?console.log(" Load CUE succeeded!"):console.error(" Load CUE failed - check database connection and functions")}catch(gt){console.error(" Load CUE error:",gt),console.error(" Error stack:",gt.stack)}console.log(" Finished loadCue database call"),ln(Re);try{await lt.updateLastLoadedCue(t.id,Re,"loaded"),console.log(" Last loaded CUE saved")}catch(gt){console.log(" Could not save last loaded CUE (migration may not be run):",gt)}await ld(),console.log(" Load CUE action completed locally")}const q=_.findIndex(xe=>xe.id===p),fe=new Set;if(q!==-1)for(let xe=q+1;xe<_.length&&_[xe].isIndented;xe++)fe.add(_[xe].id);Ka(fe),N.length>0&&(console.log(" Calculating overtime for",N.length,"previously running timer(s) (async)"),setTimeout(async()=>{for(const{timerId:xe,elapsedSeconds:Re,totalSeconds:Ue}of N)try{const We=Re-Ue,Ke=Math.round(We/60);console.log(` Calculating overtime for timer ${xe}: elapsed=${Re}s, total=${Ue}s, overtime=${Ke}m`),await lt.saveOvertimeMinutes(t.id,xe,Ke),console.log(` Overtime saved for timer ${xe}: ${Ke} minutes`),_e(gt=>({...gt,[xe]:Ke}));const ft=xt.getSocket();ft&&(ft.emit("overtimeUpdate",{event_id:t.id,item_id:xe,overtime_minutes:Ke}),console.log(` Overtime broadcasted for timer ${xe}: ${Ke} minutes`))}catch(We){console.error(` Failed to save overtime for timer ${xe}:`,We)}},0))},fd=async()=>{if(Object.keys(z).forEach(p=>{z[parseInt(p)]&&clearInterval(te[parseInt(p)])}),Object.keys(Pe).forEach(p=>{Pe[parseInt(p)]&&clearInterval(Pe[parseInt(p)])}),t?.id)try{await lt.clearCompletedCues(t.id),console.log(" Cleared completed cues from database"),await lt.clearAllActiveTimersForEvent(t.id),console.log(" Cleared all active timers from API"),await lt.clearOvertimeMinutes(t.id),console.log(" Cleared overtime minutes from database")}catch(p){console.warn(" Failed to clear database:",p)}if(A({}),ye({}),as({}),an({}),Se({}),Qr(null),yn(new Set),Ka(new Set),ln(null),_e({}),mt(0),t?.id)try{await lt.clearShowStartOvertime(t.id),console.log(" Show start overtime cleared from database")}catch(p){console.error(" Failed to clear show start overtime from database:",p)}console.log(" RunOfShow: Emitting reset all states event to other pages"),xt.emitResetAllStates(),console.log(" RunOfShow: Reset all states event emitted")},qh=()=>{$r(!1),Ds&&!Ds.closed&&Ds.close();const p=Object.keys(z),N=p.length>0?_.find(q=>z[q.id]):_.find(q=>q.id===Mt),D={isRunning:p.length>0,elapsedTime:N&&yr[N.id]?yr[N.id].elapsed:0,totalDuration:N?N.durationHours*3600+N.durationMinutes*60+N.durationSeconds:0,eventId:t?.id,mainTimer:N?{cue:N.customFields.cue||"CUE",segmentName:N.segmentName||""}:null,secondaryTimer:Nt?{itemId:Nt.itemId,remaining:Nt.remaining,duration:Nt.duration,cue:_.find(q=>q.id===Nt.itemId)?.customFields.cue||"CUE",segmentName:_.find(q=>q.id===Nt.itemId)?.segmentName||""}:null},V=window.open("/fullscreen-timer","fullScreenTimer","width=1920,height=1080,fullscreen=yes,menubar=no,toolbar=no,location=no,status=no,scrollbars=no,resizable=yes");V&&(Ci(V),V.addEventListener("load",()=>{V.postMessage({type:"TIMER_UPDATE",...D},"*")}))},Wo=()=>{$r(!1),Ul&&!Ul.closed&&Ul.close();const p=Object.keys(z),N=p.length>0?_.find(fe=>z[fe.id]):_.find(fe=>fe.id===Mt),D={isRunning:p.length>0,elapsedTime:N&&yr[N.id]?yr[N.id].elapsed:0,totalDuration:N?N.durationHours*3600+N.durationMinutes*60+N.durationSeconds:0,eventId:t?.id,mainTimer:N?{cue:N.customFields.cue||"CUE",segmentName:N.segmentName||""}:null,secondaryTimer:Nt?{itemId:Nt.itemId,remaining:Nt.remaining,duration:Nt.duration,cue:_.find(fe=>fe.id===Nt.itemId)?.customFields.cue||"CUE",segmentName:_.find(fe=>fe.id===Nt.itemId)?.segmentName||""}:null},V=t?.id?`/clock?eventId=${t.id}`:"/clock",q=window.open(V,"clock","width=1920,height=1080,fullscreen=yes,menubar=no,toolbar=no,location=no,status=no,scrollbars=no,resizable=yes");q&&(ys(q),q.addEventListener("load",()=>{q.postMessage({type:"TIMER_UPDATE",...D},"*")}))};O.useEffect(()=>{const p=()=>{Vc(null),ta(null),za(null),$r(!1)};return document.addEventListener("click",p),()=>document.removeEventListener("click",p)},[]),O.useEffect(()=>{if(Qt&&nr!==null){const p=document.getElementById("notes-editor");if(p)if(nr===-1)p.innerHTML=Hr.notes||"";else{const N=_.find(D=>D.id===nr);p.innerHTML=N?.notes||""}}},[Qt,nr,_,Hr.notes]),O.useEffect(()=>{if(Zt&&Yt!==null)if(Yt===-1)if(Hr.speakersText)try{const p=JSON.parse(Hr.speakersText);ar(Array.isArray(p)?p:[])}catch{ar([])}else ar([]);else{const p=_.find(N=>N.id===Yt);if(p?.speakersText)try{const N=JSON.parse(p.speakersText);ar(Array.isArray(N)?N:[])}catch{ar([])}else ar([])}},[Zt,Yt,_,Hr.speakersText]),O.useEffect(()=>{if(Vt&&it!==null){const p=document.getElementById("assets-list");if(p){p.innerHTML="";let N="";it===-1?N=Hr.assets||"":N=_.find(V=>V.id===it)?.assets||"",N&&N.split("||").forEach(V=>{if(V.trim()){const[q,fe]=V.split("|"),xe=fe&&fe.trim()!=="",Re=document.createElement("div");Re.className="asset-item p-3 bg-slate-700 rounded-lg space-y-3",Re.innerHTML=`
                <div class="flex gap-3 items-center">
                  <input type="text" class="asset-name flex-1 px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500" placeholder="Asset name..." value="${q||""}" />
                  <button type="button" class="toggle-link px-3 py-2 text-white rounded transition-colors text-sm ${xe?"bg-slate-600 hover:bg-slate-500":"bg-blue-600 hover:bg-blue-500"}">
                    ${xe?" Link":"+ Link"}
                  </button>
                  <button type="button" class="remove-asset px-3 py-2 bg-red-600 hover:bg-red-500 text-white rounded transition-colors">Remove</button>
                </div>
                <div class="asset-link-container ${xe?"":"hidden"}">
                  <input type="url" class="asset-link w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500" placeholder="Enter asset URL..." value="${fe||""}" />
                </div>
              `;const Ue=Re.querySelector(".toggle-link"),We=Re.querySelector(".asset-link-container"),Ke=Re.querySelector(".asset-link");Ue?.addEventListener("click",()=>{We?.classList.contains("hidden")?(We.classList.remove("hidden"),Ue.textContent=" Link",Ue.classList.remove("bg-blue-600","hover:bg-blue-500"),Ue.classList.add("bg-slate-600","hover:bg-slate-500"),Ke?.focus()):(We?.classList.add("hidden"),Ue.textContent="+ Link",Ue.classList.remove("bg-slate-600","hover:bg-slate-500"),Ue.classList.add("bg-blue-600","hover:bg-blue-500"),Ke&&(Ke.value=""))}),Re.querySelector(".remove-asset")?.addEventListener("click",()=>{Re.remove()}),p.appendChild(Re)}}),p.children.length===0&&Wc()}}},[Vt,it,_,Hr.assets]),O.useEffect(()=>{if(Ve&&K!==null)if(K===-1)if(Hr.speakers)try{const p=JSON.parse(Hr.speakers);F(Array.isArray(p)?p:[])}catch{F([])}else F([]);else{const p=_.find(N=>N.id===K);if(p?.speakers)try{const N=JSON.parse(p.speakers);F(Array.isArray(N)?N:[])}catch{F([])}else F([])}},[Ve,K,_,Hr.speakers]);const Cn=qr.useCallback(qc(async()=>{if(t?.id)try{const p=_.map(V=>({...V,duration_seconds:(V.durationHours||0)*3600+(V.durationMinutes||0)*60+(V.durationSeconds||0),isIndented:!!je[V.id]}));_.length>0&&console.log(" RunOfShow: Converting duration fields to duration_seconds:",{firstItem:{durationHours:_[0].durationHours,durationMinutes:_[0].durationMinutes,durationSeconds:_[0].durationSeconds,calculatedDurationSeconds:p[0].duration_seconds}});const N={event_id:t.id,event_name:t.name,event_date:t.date,schedule_items:p,custom_columns:re,settings:{eventName:ne,masterStartTime:ve,dayStartTimes:be,timezone:Oe,lastSaved:new Date().toISOString()}};Math.random()<.05&&console.log(" Auto-saving to API:",{eventId:t.id,scheduleItemsCount:_.length,customColumnsCount:re.length,eventName:ne,masterStartTime:ve,sampleScheduleItem:_[0]?{id:_[0].id,segmentName:_[0].segmentName,speakersText:_[0].speakersText?"Has speakers data":"No speakers data",speakers:_[0].speakers?"Has speakers data":"No speakers data"}:"No schedule items"});const D=await lt.saveRunOfShowData(N,{userId:o?.id||"unknown",userName:o?.full_name||o?.email||"Unknown User",userRole:c||"VIEWER"});Math.random()<.1&&console.log(" Auto-saved to API successfully")}catch(p){console.error(" Error auto-saving to API:",p)}},2e3),[t?.id,t?.name,t?.date,_,re,ne,ve,be,je]);function qc(p,N){let D;return((...V)=>{clearTimeout(D),D=setTimeout(()=>p(...V),N)})}const pd=O.useCallback(async()=>{if(t?.id)try{console.log(" Loading from API for event:",t.id);const p=lt.getRunOfShowData(t.id),N=new Promise((V,q)=>setTimeout(()=>q(new Error("Database query timeout after 10 seconds")),1e4)),D=await Promise.race([p,N]);if(console.log(" Debug - Raw data from API:",D),console.log(" Debug - schedule_items:",D?.schedule_items),console.log(" Debug - custom_columns:",D?.custom_columns),console.log(" Debug - settings:",D?.settings),D){console.log(" Data loaded from API:",{scheduleItemsCount:D.schedule_items?.length||0,customColumnsCount:D.custom_columns?.length||0,eventName:D.settings?.eventName,masterStartTime:D.settings?.masterStartTime,sampleScheduleItem:D.schedule_items?.[0]?{id:D.schedule_items[0].id,segmentName:D.schedule_items[0].segmentName,speakersText:D.schedule_items[0].speakersText?"Has speakers data":"No speakers data",speakers:D.schedule_items[0].speakers?"Has speakers data":"No speakers data"}:"No schedule items"});const V=D.schedule_items?[...D.schedule_items]:[];B(V),H(D.custom_columns||[]),D.settings?.eventName&&we(D.settings.eventName),D.settings?.masterStartTime&&Me(D.settings.masterStartTime),D.settings?.dayStartTimes&&Ie(D.settings.dayStartTimes),D.settings?.timezone&&me(D.settings.timezone),console.log(" Full settings object:",D.settings);const q=V.find(Ue=>Ue.isStartCue===!0);q?(ct(q.id),console.log(" START cue marker restored from schedule:",q.id)):(ct(null),console.log(" No START cue marker found in schedule"));const fe=await lt.getOvertimeMinutes(t.id);_e(fe),console.log(" Loaded overtime minutes from dedicated table:",fe);const xe=await lt.getShowStartOvertime(t.id);if(xe){const Ue=xe.show_start_overtime??xe.overtimeMinutes??0,We=xe.item_id??xe.itemId??null;mt(Ue),console.log(" Loaded show start overtime:",xe),console.log(" Show start overtime restored:",{itemId:We,showStartOvertime:Ue})}else console.log(" No show start overtime found in database"),mt(0);console.log(" Combining overtime calculations:"),console.log("  - Show start overtime:",dt),console.log("  - Duration overtime:",oe),console.log("  - START cue ID:",et);const Re=_.filter(Ue=>oe[Ue.id]);console.log(" Items with duration overtime:",Re.map(Ue=>({id:Ue.id,segmentName:Ue.segmentName,overtime:oe[Ue.id]}))),et&&dt!==0&&console.log(" START cue overtime will apply to all rows after:",et,"with offset:",dt),ie(D.updated_at||null),U(!1),I({show:!1}),console.log(" Run of Show data loaded from API successfully"),setTimeout(()=>{Fh()},100)}else{console.log(" No data found in API, falling back to localStorage for event:",t.id);const V=localStorage.getItem(`runOfShowSchedule_${t.id}`),q=localStorage.getItem(`customColumns_${t.id}`),fe=localStorage.getItem(`eventName_${t.id}`),xe=localStorage.getItem(`masterStartTime_${t.id}`),Re=localStorage.getItem(`dayStartTimes_${t.id}`);if(V)try{const Ue=JSON.parse(V);console.log(" Parsed schedule from localStorage:",Ue);const We=Ue.map(Ke=>({...Ke,day:Ke.day||1}));B(We),console.log(" Loaded schedule from localStorage:",We.length,"items"),console.log(" First few items:",We.slice(0,3))}catch(Ue){console.error(" Error parsing schedule from localStorage:",Ue),console.log(" Raw localStorage data:",V)}else console.log(" No schedule found in localStorage for event:",t.id);q&&(H(JSON.parse(q)),console.log(" Loaded custom columns from localStorage")),fe&&(we(fe),console.log(" Loaded event name from localStorage")),xe&&(Me(xe),console.log(" Loaded master start time from localStorage")),Re&&(Ie(JSON.parse(Re)),console.log(" Loaded day start times from localStorage"))}}catch(p){console.error(" Error loading run of show data from API:",p),console.error(" Error details:",{message:p.message,stack:p.stack,eventId:t?.id}),console.log(" Falling back to localStorage due to error");const N=localStorage.getItem(`runOfShowSchedule_${t.id}`);if(N)try{const V=JSON.parse(N).map(q=>({...q,day:q.day||1}));B(V),console.log(" Loaded schedule from localStorage after error:",V.length,"items"),console.log(" First few items after error:",V.slice(0,3))}catch(D){console.error(" Error parsing schedule from localStorage after error:",D),console.log(" Raw localStorage data after error:",N)}else console.log(" No schedule found in localStorage after error for event:",t.id)}},[t?.id]),Gf=O.useCallback(async()=>{if(t?.id)try{console.log(" Loading changes dynamically for event:",t.id);const p=await lt.loadChangesDynamically(t.id);if(p){console.log(" Dynamic changes loaded:",{scheduleItemsCount:p.schedule_items?.length||0,customColumnsCount:p.custom_columns?.length||0,lastModifiedBy:p.last_modified_by_name});const N=p.schedule_items?[...p.schedule_items]:[];B(N),H(p.custom_columns||[]),p.settings?.eventName&&we(p.settings.eventName),p.settings?.masterStartTime&&Me(p.settings.masterStartTime),p.settings?.dayStartTimes&&Ie(p.settings.dayStartTimes),ie(p.updated_at||null),U(!1),I({show:!1}),console.log(" Changes loaded dynamically - timers preserved")}}catch(p){console.error(" Error loading changes dynamically:",p)}},[t?.id]);O.useEffect(()=>{console.log(" useEffect triggered for event ID:",t?.id),t?.id?(console.log(" Calling loadFromAPI for event:",t.id),pd()):console.log(" No event ID available for loading data")},[t?.id]),O.useEffect(()=>{t?.timezone&&(console.log(" Setting event timezone from location.state:",t.timezone),me(t.timezone))},[t?.timezone]),O.useEffect(()=>{if(!t?.id)return;console.log(" Setting up WebSocket-only real-time connections for event:",t.id);const p={onRunOfShowDataUpdated:D=>{if(D&&D.last_modified_by===o?.id){console.log(" Skipping WebSocket update - change made by current user");return}if(ds){console.log(" Skipping WebSocket update - user is actively editing");return}console.log(" Real-time: Updating local data with remote changes"),setTimeout(()=>{D.schedule_items&&Array.isArray(D.schedule_items)&&(console.log(" Raw schedule data from API:",D.schedule_items.map(V=>({id:V.id,cue:V.customFields?.cue,isIndented:V.isIndented}))),B(D.schedule_items),console.log(" Real-time: Schedule items updated")),D.custom_columns&&Array.isArray(D.custom_columns)&&(H(D.custom_columns),console.log(" Real-time: Custom columns updated")),D.settings&&(D.settings.eventName!==void 0&&(we(D.settings.eventName),console.log(" Real-time: Event name updated")),D.settings.masterStartTime!==void 0&&(Me(D.settings.masterStartTime),console.log(" Real-time: Master start time updated")),D.settings.dayStartTimes!==void 0&&(Ie(D.settings.dayStartTimes),console.log(" Real-time: Day start times updated"))),sd(!0),console.log(" Real-time: Skipping change detection to prevent delays"),D.updated_at&&ie(D.updated_at),console.log(" Real-time: All schedule data updated via WebSocket")},100)},onCompletedCuesUpdated:D=>{if(D&&D.cleared)Se({});else if(D&&D.removed&&D.item_id)Se(V=>{const q={...V};return delete q[D.item_id],q});else if(D&&Array.isArray(D)){const V=D.reduce((q,fe)=>(q[fe.item_id]=!0,q),{});Se(V)}else D&&D.item_id&&Se(V=>({...V,[D.item_id]:!0}))},onResetAllStates:D=>{A({}),ye({}),as({}),an({}),Se({}),_e({}),mt(0),Qr(null),yn(new Set),Ka(new Set),ln(null),ra({activeTimer:null}),console.log(" RunOfShow: All states reset via WebSocket (including show start overtime)")},onOvertimeReset:D=>{D&&D.event_id===t?.id&&(_e({}),console.log(" Overtime data cleared from WebSocket reset"))},onTimerUpdated:D=>{if(console.log(" RunOfShow: Event ID check:",{received:D?.event_id,expected:t?.id,match:D?.event_id===t?.id}),D&&D.event_id===t?.id){if(ra(V=>({...V,activeTimer:D})),D.item_id){as(q=>({...q,[D.item_id]:{elapsed:D.elapsed_seconds||0,total:D.duration_seconds||300,startedAt:D.started_at?new Date(D.started_at):null}}));const V=typeof D.item_id=="string"?parseInt(D.item_id):D.item_id;D.timer_state==="running"?(A(q=>({...q,[V]:!0})),Qr(V),Bt(q=>({...q,[V]:!0})),console.log(" RunOfShow: Timer RUNNING - button states updated:",V)):D.timer_state==="loaded"?(A(q=>{const fe={...q};return delete fe[V],fe}),Qr(V),Bt(q=>({...q,[V]:!0})),console.log(" RunOfShow: Timer LOADED - button states updated:",V)):D.timer_state==="stopped"&&(A(q=>{const fe={...q};return delete fe[V],fe}),Bt(q=>{const fe={...q};return delete fe[V],fe}),Mt===V&&Qr(null),console.log(" RunOfShow: Timer STOPPED - button states updated:",V))}console.log(" RunOfShow: Timer updated via WebSocket:",D)}else console.log(" RunOfShow: Timer update ignored - event ID mismatch or no data")},onTimerStopped:D=>{D&&D.event_id===t?.id&&(ra(V=>({...V,activeTimer:null})),console.log(" RunOfShow: Timer cleared via WebSocket"))},onTimersStopped:D=>{D&&D.event_id===t?.id&&(ra(V=>({...V,activeTimer:null})),Qr(null),A({}),console.log(" RunOfShow: All timers cleared via WebSocket"))},onTimerStarted:D=>{D&&D.item_id&&A(V=>({...V,[D.item_id]:!0}))},onSubCueTimerStarted:D=>{D&&D.event_id===t?.id&&(ra(V=>({...V,secondaryTimer:D})),console.log(" RunOfShow: Sub-cue timer started via WebSocket:",D))},onSubCueTimerStopped:D=>{D&&D.event_id===t?.id&&(ra(V=>({...V,secondaryTimer:null})),console.log(" RunOfShow: Sub-cue timer stopped via WebSocket"))},onServerTime:D=>{const V=new Date(D.serverTime).getTime(),q=new Date().getTime(),fe=V-q;Pl(fe),console.log(" Clock sync:",{serverTime:D.serverTime,clientTime:new Date().toISOString(),offsetMs:fe,offsetSeconds:Math.floor(fe/1e3)})},onActiveTimersUpdated:D=>{let V=D;if(Array.isArray(D)&&D.length>0&&(V=D[0],console.log(" RunOfShow: Processing first timer from array:",V)),console.log(" RunOfShow: Event ID check:",{received:V?.event_id,expected:t?.id,match:V?.event_id===t?.id}),V&&V.event_id===t?.id){const q=$t?.activeTimer;if(q&&q.id===V.id&&q.timer_state===V.timer_state&&q.is_active===V.is_active&&q.is_running===V.is_running){console.log(" RunOfShow: Ignoring duplicate timer update:",V.id);return}if(V.timer_state==="stopped"||!V.is_active||V.is_running===!1&&V.is_active===!1)ra(fe=>({...fe,activeTimer:null})),Qr(null),A({}),console.log(" RunOfShow: Timer stopped via WebSocket - cleared timer data and old state");else{const fe=$t?.activeTimer;if(fe&&fe.id===V.id&&(fe.timer_state==="stopped"||!fe.is_active)){console.log(" RunOfShow: Ignoring stale timer data for stopped timer:",V.id);return}ra(xe=>({...xe,activeTimer:V})),console.log(" RunOfShow: Active timer updated via WebSocket:",V)}}else console.log(" RunOfShow: Active timers update ignored - event ID mismatch or no data")},onConnectionChange:D=>{console.log(` WebSocket connection ${D?"established":"lost"} for event: ${t.id}`)},onInitialSync:async()=>{console.log(" WebSocket initial sync triggered - loading current state");try{const D=T9||{},V=D.VITE_API_BASE_URL||(D.PROD?"https://ros-50-production.up.railway.app":"http://localhost:3001"),q=await fetch(`${V}/api/completed-cues/${t?.id}`);if(q.ok){const fe=await q.json();console.log(" Initial sync: Loaded completed cues:",fe);const xe=fe.reduce((Re,Ue)=>(Re[Ue.item_id]=!0,Re),{});Se(xe),console.log(" Initial sync: Converted completed cues to object format:",xe)}}catch(D){console.error(" Initial sync failed to load completed cues:",D)}if(t?.id)try{console.log(" Initial sync: Reloading overtime data on page return...");const D=await lt.getOvertimeMinutes(t.id);_e(D),console.log(" Initial sync: Overtime minutes reloaded on page return:",D);const V=await lt.getShowStartOvertime(t.id);if(V){const q=V.show_start_overtime??V.overtimeMinutes??0;mt(q),console.log(" Initial sync: Show start overtime reloaded on page return:",q)}else mt(0),console.log(" Initial sync: No show start overtime found on page return")}catch(D){console.error(" Initial sync: Error reloading overtime data on page return:",D)}},onOvertimeUpdate:D=>{D&&D.event_id===t?.id&&D.item_id&&typeof D.overtimeMinutes=="number"?(console.log(` Overtime update validation passed - updating item ${D.item_id} to ${D.overtimeMinutes} minutes`),_e(V=>{const q={...V,[D.item_id]:D.overtimeMinutes};return console.log(" Overtime state after update:",q),q}),D.item_id===et&&(mt(D.overtimeMinutes),console.log(` Show start overtime also updated: ${D.overtimeMinutes} minutes`)),console.log(` Overtime state updated from WebSocket: item ${D.item_id} = ${D.overtimeMinutes} minutes`)):console.log(" Overtime update ignored - validation failed:",{has_data:!!D,event_match:D?.event_id===t?.id,has_item:!!D?.item_id,valid_overtime:typeof D?.overtimeMinutes=="number",received:D})},onShowStartOvertimeUpdate:D=>{console.log(" Received show start overtime update:",D),D.event_id===t?.id&&(mt(D.showStartOvertime),ct(D.item_id),console.log(` Show start overtime updated: ${D.showStartOvertime} minutes`))},onShowStartOvertimeReset:D=>{console.log(" Received show start overtime reset:",D),D.event_id===t?.id&&(mt(0),console.log(" Show start overtime reset to 0"))},onStartCueSelectionUpdate:D=>{console.log(" Received start cue selection update:",D),D.event_id===t?.id&&(ct(D.item_id),console.log(` Start cue selection updated: item ${D.item_id}`))}};xt.connect(t.id,p);const N=()=>{document.hidden?(console.log(" Tab hidden - disconnecting WebSocket to save costs"),xt.disconnect(t.id)):xt.isConnected()||(console.log(" Tab visible - reconnecting WebSocket"),xt.connect(t.id,p),p.onInitialSync?.())};return document.addEventListener("visibilitychange",N),()=>{console.log(" Disconnecting WebSocket connections for event:",t.id),xt.disconnect(t.id),document.removeEventListener("visibilitychange",N)}},[t?.id]),O.useEffect(()=>{if($t?.activeTimer?.is_running&&$t?.activeTimer?.is_active){const p=$t.activeTimer,N=new Date(p.started_at),D=p.duration_seconds||0;console.log(" Hybrid timer - Setup with clock offset:",{started_at:p.started_at,total:D,clockOffsetMs:yi,clockOffsetSeconds:Math.floor(yi/1e3)});const V=()=>{const fe=new Date(Date.now()+yi),xe=Math.floor((fe.getTime()-N.getTime())/1e3);Ga({elapsed:xe,total:D})};V();const q=setInterval(V,1e3);return()=>clearInterval(q)}else if($t?.activeTimer&&!$t?.activeTimer?.is_running){const p=$t.activeTimer;Ga({elapsed:0,total:p.duration_seconds||0})}else $t?.activeTimer||Ga({elapsed:0,total:0})},[$t?.activeTimer?.is_running,$t?.activeTimer?.is_active,$t?.activeTimer?.started_at,$t?.activeTimer?.duration_seconds,$t?.activeTimer,yi]),O.useEffect(()=>{console.log(" Schedule state changed:",{scheduleLength:_.length,firstItem:_[0]?{id:_[0].id,segmentName:_[0].segmentName,programType:_[0].programType}:"No items",eventId:t?.id})},[_,t?.id]);const Wl=async()=>{if(!t?.id){console.log(" No event ID available for loading backups");return}try{console.log(" Loading backups for event:",t.id),console.log(" Event details:",{id:t.id,name:t.name});const p=await Nc.testBackupTable(),N=await Nc.getBackupsForEvent(t.id);console.log(" Raw backup data received:",N),Ll(N),console.log(" Loading backup stats...");const D=await Nc.getBackupStats(t.id);console.log(" Backup stats:",D),Bo(D),console.log(` Loaded ${N.length} backups successfully`)}catch(p){console.error(" Error loading backups:",p),console.error(" Error details:",{message:p.message,stack:p.stack,eventId:t?.id}),Ll([]),Bo({totalBackups:0,lastBackup:null,autoBackups:0,manualBackups:0})}},Jh=async()=>{if(t?.id)try{console.log(" Creating manual backup for event:",t.id);const p=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),N=`${t.name}  ${p}`;await Nc.createBackup(t.id,_,re,t,"manual",N,o?.id,o?.full_name||o?.email,o?.role),console.log(" Manual backup created:",N);const D=await Nc.getBackupStats(t.id);Bo(D),alert(` Manual backup created successfully!

Backup: ${N}
Schedule Items: ${_.length}
Custom Columns: ${re.length}`)}catch(p){console.error(" Error creating manual backup:",p),alert(` Error creating manual backup: ${p.message}`)}},Qh=p=>{tt(p),ke(!0)},Zh=async()=>{if(!(!t?.id||!Xe))try{console.log(" Restoring from backup:",Xe.id);const p=await Nc.restoreFromBackup(String(Xe.id));B(p.scheduleData),H(p.customColumnsData),localStorage.setItem(`runOfShowSchedule_${t.id}`,JSON.stringify(p.scheduleData)),localStorage.setItem(`customColumns_${t.id}`,JSON.stringify(p.customColumnsData)),ee("RESTORE_BACKUP",`Restored from backup: ${p.backupName}`,{changeType:"RESTORE",backupName:p.backupName,backupId:Xe.id,itemCount:p.scheduleData.length,customColumnsCount:p.customColumnsData.length}),await lt.saveRunOfShowData({event_id:t.id,event_name:p.eventData?.event_name||t?.name||"Event",settings:p.settings||{},schedule_items:p.scheduleData,custom_columns:p.customColumnsData,event_date:p.eventData?.event_date||null},{userId:o?.id||"unknown",userName:o?.full_name||o?.email||"Unknown User",userRole:o?.role||"VIEWER"}),console.log(" Triggering auto-save after backup restore..."),os(),console.log(" Restored from backup:",p.backupName),ke(!1),eo(!1),tt(null),alert(` Data restored from backup!

Backup: ${p.backupName}
Date: ${new Date(p.backupTimestamp).toLocaleString()}

Schedule Items: ${p.scheduleData.length}
Custom Columns: ${p.customColumnsData.length}`)}catch(p){console.error(" Error restoring from backup:",p),alert(` Error restoring from backup: ${p.message}`)}},hd=async p=>{if(confirm("Are you sure you want to delete this backup?"))try{console.log(" Deleting backup:",p),await Nc.deleteBackup(p),console.log(" Backup deleted successfully"),alert("Backup deleted successfully"),await Wl()}catch(N){console.error(" Error deleting backup:",N),alert(`Error deleting backup: ${N.message}`)}};O.useEffect(()=>{if(!t?.id){console.log(" No event ID, skipping change detection");return}console.log(" Starting change detection for event:",t.id),oo();const p=async()=>{try{if(jh){console.log(" Skipping sync check - user just made a change"),sd(!1),oo();return}if(ds){console.log(" Skipping sync check - user is actively editing");return}console.log(" Running change check...");const D=await lt.checkForChanges(t.id,se??void 0);D.hasChanges?(console.log(" Changes detected:",D),U(!0),I({show:!0,lastModifiedBy:D.lastModifiedBy,lastModifiedByName:D.lastModifiedByName}),ht?(console.log(" Loading changes automatically..."),await Gf()):console.log(" Changes detected but page not visible - will load when page becomes visible")):console.log(" No changes detected")}catch(D){console.error(" Error checking for changes:",D)}};p();const N=setInterval(p,300*1e3);return()=>{clearInterval(N),Tf()}},[t?.id,se,ht,Tf]),O.useEffect(()=>{ht&&Y&&(console.log(" Page became visible with pending changes - loading changes..."),Gf())},[ht,Y]),O.useEffect(()=>{na&&t?.id&&Wl()},[na,t?.id]),O.useEffect(()=>{const p=()=>{const N=!document.hidden;console.log(` Page visibility changed: ${N?"visible":"hidden"}`),zt(N)};return document.addEventListener("visibilitychange",p),()=>document.removeEventListener("visibilitychange",p)},[]),O.useEffect(()=>{t?.id&&(localStorage.setItem(`runOfShowSchedule_${t.id}`,JSON.stringify(_)),window.dispatchEvent(new CustomEvent("scheduleUpdated",{detail:{eventId:t.id,schedule:_}})),console.log(" Schedule saved and event dispatched for event:",t.id),ds?(console.log(" User-initiated schedule change detected - auto-saving"),Cn()):console.log(" Schedule change from API/sync - skipping auto-save"))},[_,t?.id,Cn,ds]),O.useEffect(()=>{if(!t?.id)return;const p=()=>{console.log(" Updating graphics data for live JSON files..."),localStorage.setItem(`runOfShowSchedule_${t.id}`,JSON.stringify(_)),localStorage.setItem(`customColumns_${t.id}`,JSON.stringify(re)),localStorage.setItem(`eventName_${t.id}`,ne),localStorage.setItem(`masterStartTime_${t.id}`,ve),localStorage.setItem(`dayStartTimes_${t.id}`,JSON.stringify(be)),window.dispatchEvent(new CustomEvent("scheduleUpdated",{detail:{eventId:t.id,schedule:_}}))};p();const N=setInterval(p,30*1e3);return()=>clearInterval(N)},[t?.id,_,re,ne,ve,be]),O.useEffect(()=>{t?.id&&(localStorage.setItem(`customColumns_${t.id}`,JSON.stringify(re)),ds?(console.log(" User-initiated custom columns change detected - auto-saving"),Cn()):console.log(" Custom columns change from API/sync - skipping auto-save"))},[re,t?.id,Cn,ds]),O.useEffect(()=>{t?.id&&(localStorage.setItem(`eventName_${t.id}`,ne),ds?(console.log(" User-initiated event name change detected - auto-saving"),Cn()):console.log(" Event name change from API/sync - skipping auto-save"))},[ne,t?.id,Cn,ds]),O.useEffect(()=>{t?.id&&(console.log(" Master start time useEffect triggered:",{masterStartTime:ve,isUserEditing:ds,eventId:t.id,willSave:ds}),localStorage.setItem(`masterStartTime_${t.id}`,ve),ds?(console.log(" User-initiated master start time change detected - auto-saving to API with value:",ve),Cn()):console.log(" Master start time change from API/sync - skipping auto-save (value:",ve,")"))},[ve,t?.id,Cn,ds]),O.useEffect(()=>{t?.id&&(console.log(" Day start times useEffect triggered:",{dayStartTimes:be,isUserEditing:ds,eventId:t.id}),localStorage.setItem(`dayStartTimes_${t.id}`,JSON.stringify(be)),ds?(console.log(" User-initiated day start times change detected - auto-saving to API"),Cn()):console.log(" Day start times change from API/sync - skipping auto-save"))},[be,t?.id,Cn,ds]),O.useEffect(()=>{if(Ds&&!Ds.closed){const p=Object.keys(z),N=p.length>0?_.find(V=>z[V.id]):_.find(V=>V.id===Mt),D={type:"TIMER_UPDATE",isRunning:p.length>0,elapsedTime:N&&yr[N.id]?yr[N.id].elapsed:0,totalDuration:N&&yr[N.id]?yr[N.id].total:N?N.durationHours*3600+N.durationMinutes*60+N.durationSeconds:0,eventId:t?.id,itemId:N?.id,mainTimer:N?{cue:N.customFields.cue||"CUE",segmentName:N.segmentName||""}:null,secondaryTimer:Nt?{itemId:Nt.itemId,remaining:Nt.remaining,duration:Nt.duration,cue:_.find(V=>V.id===Nt.itemId)?.customFields.cue||"CUE",segmentName:_.find(V=>V.id===Nt.itemId)?.segmentName||""}:null};Ds.postMessage(D,"*")}},[z,yr,Mt,_,ve,ne,Ds,Nt]);const Yo=p=>{const N=()=>{const q="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let fe="";for(let xe=0;xe<5;xe++)fe+=q.charAt(Math.floor(Math.random()*q.length));return fe},D={...p,id:Date.now(),timerId:N(),isIndented:p.isIndented||!1,customFields:{cue:p.cue||""}};Fe!==null?(B(q=>{const fe=[...q];return fe.splice(Fe+1,0,D),fe}),He(null)):B(q=>[...q,D]);const V=Fe!==null?Fe+2:_.length+1;ee("ADD_ITEM",`Added new schedule item: "${D.segmentName}"`,{changeType:"ADD",itemId:D.id,itemName:D.segmentName,rowNumber:V,cueNumber:D.customFields.cue?parseInt(D.customFields.cue,10):null,details:{day:D.day,programType:D.programType,shotType:D.shotType,position:`Row ${V}`,durationHours:D.durationHours,durationMinutes:D.durationMinutes,totalDurationMinutes:D.durationHours*60+D.durationMinutes,speakers:D.speakers||"None",speakersText:D.speakersText||"None",notes:D.notes||"",assets:D.assets||"None",hasPPT:D.hasPPT,hasQA:D.hasQA,timerId:D.timerId,isPublic:D.isPublic,isIndented:D.isIndented}}),j(!1),qs(),Ls({cue:"",day:Te,programType:"PreShow/End",shotType:"",segmentName:"",durationHours:0,durationMinutes:0,durationSeconds:0,notes:"",assets:"",speakers:"",speakersText:"",hasPPT:!1,hasQA:!1,timerId:"",isPublic:!1,isIndented:!1,customFields:{}})},Wf=p=>{const N={name:p,id:Date.now().toString()};H(D=>[...D,N]),B(D=>D.map(V=>({...V,customFields:{...V.customFields,[p]:""}}))),ee("COLUMN_ADD",`Added custom column "${p}"`,{changeType:"COLUMN_ADD",columnName:p,details:{columnType:"text",affectedItems:_.length,defaultValue:""}}),Ft(!1),qs()},ev=p=>{const N=re.find(D=>D.id===p);N&&(H(D=>D.filter(V=>V.id!==p)),B(D=>D.map(V=>{const{[N.name]:q,...fe}=V.customFields;return{...V,customFields:fe}})),ee("COLUMN_REMOVE",`Removed custom column "${N.name}"`,{changeType:"COLUMN_REMOVE",columnName:N.name,details:{affectedItems:_.length,columnId:N.id}}))},yt=(p,N)=>{p.preventDefault(),p.stopPropagation();const D=p.clientX,V=Lt[N]||256;document.body.style.cursor="col-resize",document.body.style.userSelect="none";const q=xe=>{const Re=xe.clientX-D,Ue=Math.max(100,V+Re);ts(We=>({...We,[N]:Ue}))},fe=()=>{document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",fe)};document.addEventListener("mousemove",q),document.addEventListener("mouseup",fe)},uo=(p,N)=>{p.preventDefault(),p.stopPropagation();const D=p.clientX,V=is[N]||256;document.body.style.cursor="col-resize",document.body.style.userSelect="none";const q=xe=>{const Re=xe.clientX-D,Ue=Math.max(100,V+Re);so(We=>({...We,[N]:Ue}))},fe=()=>{document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",fe)};document.addEventListener("mousemove",q),document.addEventListener("mouseup",fe)},ps=async p=>{if(!(!o||!t?.id))if(z[p]){clearInterval(te[p]);const N=`${p}_drift`;z[N]&&clearInterval(te[N]),A(q=>{const fe={...q};return delete fe[p],delete fe[N],fe}),Ne(q=>{const fe={...q};return delete fe[p],delete fe[N],fe}),_l(q=>{const fe=new Set(q);return fe.delete(p),fe}),Se(q=>{const fe={...q,[p]:!0};return console.log(" ToggleTimer: Updated completedCues for main item:",p,"new state:",fe),fe}),yn(q=>new Set([...q,p]));const D=yr[p];if(D&&D.elapsed>0){const q=(D.total||0)/60,fe=(D.elapsed||0)/60,xe=Math.floor(fe-q);if(Math.abs(xe)>=1){const Re=xe>0?"over":"under";if(console.log(` Automatic overtime detected: ${Math.abs(xe)} minutes ${Re} for cue ${p}`),_e(Ue=>({...Ue,[p]:xe})),t?.id)try{await lt.saveOvertimeMinutes(t.id,p,xe),console.log(` Overtime minutes saved to database: ${xe} minutes for item ${p}`)}catch(Ue){console.error(" Failed to save overtime minutes to database:",Ue)}if(t?.id){const Ue=xt.getSocket();if(Ue){const We={event_id:t.id,item_id:p,overtimeMinutes:xe};console.log(" Broadcasting overtime update via WebSocket:",We),Ue.emit("overtimeUpdate",We),console.log(` Overtime update broadcasted: ${xe} minutes for item ${p}`)}else console.warn(" Cannot broadcast overtime - socket not available")}else console.warn(" Cannot broadcast overtime - no event ID");ee("OVERTIME_DETECTED",`${Math.abs(xe)} minutes ${Re} for cue ${p}`,{cueId:p,scheduledDuration:Math.floor(q),actualDuration:Math.floor(fe),overtimeMinutes:xe,overtimeType:Re})}}try{const q=_.find(fe=>fe.id===p);await lt.markCueCompleted(t.id,p,q?.customFields?.cue||"CUE",o.id,o.full_name||o.email||"Unknown User",c||"VIEWER")}catch(q){console.warn(" Failed to mark cue as completed in database:",q),console.log(" This means the completed_cues table needs to be created first")}const V=_.findIndex(q=>q.id===p);if(console.log(" ToggleTimer: Current index for item",p,":",V),V!==-1){console.log(" ToggleTimer: Looking for indented items after index",V);for(let q=V+1;q<_.length;q++)if(console.log(" ToggleTimer: Checking item at index",q,":",_[q].segmentName,"isIndented:",_[q].isIndented),_[q].isIndented){console.log(" ToggleTimer: Marking indented item as completed:",_[q].id,_[q].segmentName),Se(fe=>{const xe={...fe,[_[q].id]:!0};return console.log(" ToggleTimer: Updated completedCues for indented item:",_[q].id,"new state:",xe),xe}),yn(fe=>new Set([...fe,_[q].id]));try{await lt.markCueCompleted(t.id,_[q].id,_[q].customFields?.cue||"CUE",o.id,o.full_name||o.email||"Unknown User",c||"VIEWER"),console.log(" ToggleTimer: Successfully marked indented item as completed in database:",_[q].id)}catch(fe){console.error(" ToggleTimer: Failed to mark indented item as completed in database:",_[q].id,fe)}}else{console.log(" ToggleTimer: Hit non-indented item, stopping search at index",q);break}}else console.log(" ToggleTimer: Could not find current item in schedule:",p);Bt(q=>{const fe={...q};return delete fe[p],fe}),Mt===p&&Qr(null),as(q=>{const fe={...q};return delete fe[p],fe}),Nt&&(console.log(" Stopping sub-cue timer because main timer was stopped"),await Qa()),console.log(" Stopping timer in API for item:",p),await lt.stopTimer(t.id,p,o.id,o.full_name||o.email||"Unknown User",c||"VIEWER"),console.log(" Timer stopped in API");try{await lt.updateLastLoadedCue(t.id,p,"stopped"),console.log(" Last loaded CUE saved as stopped")}catch(q){console.log(" Could not save last loaded CUE as stopped (migration may not be run):",q)}await ld()}else{if(Object.keys(z).length>0)return;const N=_.find(D=>D.id===p);if(N){const D=N.durationHours*3600+N.durationMinutes*60+N.durationSeconds;if(et===p){console.log(" This is the START cue - calculating show start overtime");const Ke=_.findIndex(gt=>gt.id===p),ft=cn(Ke);if(console.log(" START cue index:",Ke,"Calculated start time:",ft),ft&&ft!==""){const gt=Qu(ft),Et=Cf();if(gt){const Vr=Zu(gt,Oe),Er=Et.getTime()-Vr.getTime(),rs=Math.round(Er/(60*1e3));if(console.log(` Show Start Overtime: Scheduled=${gt.toLocaleTimeString()} (${Oe}), ScheduledUTC=${Vr.toISOString()}, Actual=${Et.toISOString()}, Diff=${rs}m`),mt(rs),t?.id)try{await lt.saveShowStartOvertime(t.id,p,rs,ft,Et.toISOString()),console.log(` Show start overtime saved to database: ${rs} minutes for item ${p}`)}catch($n){console.error(" Failed to save show start overtime:",$n)}if(t?.id){const $n=xt.getSocket();$n&&($n.emit("showStartOvertimeUpdate",{event_id:t.id,item_id:p,showStartOvertime:rs,scheduledTime:ft,actualTime:Et.toISOString()}),console.log(` Show start overtime broadcasted: ${rs} minutes`))}ee("SHOW_START_OVERTIME",`Show started ${rs>0?"late":"early"} by ${Math.abs(rs)} minutes`,{itemId:p,scheduledTime:ft,actualTime:Et.toISOString(),overtimeMinutes:rs})}else console.warn(" Could not parse scheduled start time:",ft)}else console.warn(" No scheduled start time found for START cue. Make sure Master Start Time or Day Start Time is set.")}console.log(" Optimistic UI update - showing running state immediately");const V=wi();as(Ke=>({...Ke,[p]:{elapsed:0,total:D,startedAt:V}}));const q=setInterval(()=>{as(Ke=>{if(Ke[p]){const ft=Date.now(),gt=Ke[p].startedAt;let Et;gt instanceof Date?Et=gt.getTime():typeof gt=="string"?Et=new Date(gt).getTime():(console.warn(" startedAt is not a Date or string:",gt),Et=ft);const Vr=Math.floor((ft-Et)/1e3),Er=D-Vr;return Vr<=10&&console.log(` Timer ${p}: Elapsed=${Vr}s, Remaining=${Er}s, Start=${new Date(Et).toISOString()}, Now=${new Date(ft).toISOString()}`),{...Ke,[p]:{...Ke[p],elapsed:Vr}}}return Ke})},1e3);Ne(Ke=>({...Ke,[p]:q})),A(Ke=>({...Ke,[p]:!0})),console.log(` Timer ${p} started - WebSocket will handle all synchronization`),console.log(` Timer ${p} will receive updates via WebSocket`);const xe=_.findIndex(Ke=>Ke.id===p)+1,Re=Vs(N.customFields.cue),Ue=N.timerId,We=new Date(Date.now()+yi);console.log(" Starting timer in API for item:",p,"at:",We.toISOString(),"row:",xe,"cue:",Re,"timerId:",Ue);try{const Ke=await lt.startTimer(t.id,p,o.id,D,We,xe,Re,Ue);console.log(" Timer started in API:",Ke),Ke||console.error(" Start timer failed - check database connection and functions")}catch(Ke){console.error(" Start timer error:",Ke)}try{await lt.updateLastLoadedCue(t.id,p,"running"),console.log(" Last loaded CUE saved as running")}catch(Ke){console.log(" Could not save last loaded CUE as running (migration may not be run):",Ke)}console.log(" Timer started locally with drift detection enabled"),await ld(),yn(Ke=>{const ft=new Set(Ke);ft.delete(p);const gt=_.findIndex(Et=>Et.id===p);if(gt!==-1)for(let Et=gt+1;Et<_.length&&_[Et].isIndented;Et++)ft.delete(_[Et].id);return ft})}}},Tr=async p=>{if(!o||!t?.id)return;const N=_.find(D=>D.id===p);if(N&&je[p]){const D=N.durationHours*3600+N.durationMinutes*60+N.durationSeconds;console.log(" Starting secondary timer for item:",p,"Duration:",D,"s"),an(q=>({...q,[p]:{elapsed:0,total:D,startedAt:wi()}}));const V=setInterval(()=>{an(q=>{const fe=q[p];if(!fe)return q;const xe=Math.floor((Date.now()-(fe.startedAt?.getTime()||Date.now()))/1e3);return Math.max(0,fe.total-xe),{...q,[p]:{...fe,elapsed:xe}}}),hr(q=>{if(!q)return null;if(Vh)return q;const fe=q.startedAt?.getTime()||Date.now(),xe=Math.floor((Date.now()-fe)/1e3),Re=Math.max(0,q.duration-xe);if(Re===0){console.log(" Sub-cue timer reached 0 - holding for a beat");const Ue=t?.id;console.log(" Current event ID for database call:",Ue),setTimeout(()=>{console.log(" Sub-cue timer auto-stopping after hold - clearing local state"),zr&&(clearInterval(zr),nn(null)),Object.keys(Pe).forEach(We=>{Pe[parseInt(We)]&&clearInterval(Pe[parseInt(We)])}),ye({}),an({}),hr(null),setTimeout(async()=>{try{if(Ue){console.log(" Clearing sub-cue timer from database after 3s delay with event ID:",Ue);const We=await lt.stopSubCueTimer(Ue);console.log(" Database stop result:",We),console.log(" Sub-cue timer stopped in database (is_active = false)")}else console.error(" No event ID available for database call")}catch(We){console.error(" Error stopping sub-cue timer in database:",We),console.error(" Error details:",We)}},3e3)},1e3)}return{...q,remaining:Re}})},1e3);ye(q=>({...q,[p]:V})),hr({itemId:p,remaining:D,duration:D,isActive:!0,startedAt:wi(),timerState:"running"});try{console.log(" User ID:",o.id,"Event ID:",t.id);const q=_.find(Ue=>Ue.id===p),fe=_.findIndex(Ue=>Ue.id===p)+1,xe=q?Vs(q.customFields.cue):`CUE ${p}`,Re=q?.timerId||`SUB${p}`;try{console.log(" Starting sub-cue timer for item:",p,"(will auto-stop any existing timers)");const Ue=await lt.startSubCueTimer(t.id,p,o.id,D,fe,xe,Re,o.full_name||o.email||"Unknown User",c||"VIEWER");console.log(" Secondary timer started in Supabase for item:",p,"Result:",Ue),Ue?.error&&console.error(" Secondary timer database error:",Ue.error)}catch(Ue){console.error(" Secondary timer call failed:",Ue)}try{console.log(" Sub-cue timer started locally"),console.log(" Secondary timer action broadcasted")}catch(Ue){console.error(" Error broadcasting secondary timer action:",Ue)}await zc()}catch(q){console.error(" Error starting secondary timer:",q),clearInterval(V),ye(fe=>{const xe={...fe};return delete xe[p],xe}),an(fe=>{const xe={...fe};return delete xe[p],xe})}}},Qa=async()=>{if(t?.id){console.log(" Stopping secondary timer..."),hr(null),zr&&(clearInterval(zr),nn(null)),Object.keys(Pe).forEach(p=>{Pe[parseInt(p)]&&clearInterval(Pe[parseInt(p)])}),ye({}),an({}),console.log(" Local secondary timer state cleared");try{console.log(" Stopping sub-cue timer in database with event ID:",t.id);const p=await lt.stopSubCueTimer(t.id);console.log(" Database stop result:",p),console.log(" Secondary timer stopped in database (is_active = false)");try{console.log(" Broadcasting STOP_SECONDARY_TIMER action..."),console.log(" Sub-cue timer stopped locally"),console.log(" Secondary timer stop action broadcasted successfully")}catch(N){console.error(" Error broadcasting secondary timer stop action:",N)}}catch(p){console.error(" Error stopping sub-cue timer in database:",p),console.error(" Error details:",p)}try{await zc()}catch(p){console.error(" Error loading updated timer from Supabase:",p)}}},Yl=p=>{if(!p)return"";let N=p.toString().trim();return N=N.replace(/^CUE\s*/i,""),N=N.trim(),N},vd=async p=>{try{console.log(" Processing Excel import:",p);const N=`This will add ${p.length} new items to your schedule. Continue?`;if(!window.confirm(N)){console.log(" Excel import cancelled by user");return}const D=p.map((V,q)=>{const fe=V.duration?V.duration.split(":"):["0","0","0"],xe=parseInt(fe[0])||0,Re=parseInt(fe[1])||0,Ue=parseInt(fe[2])||0,We=Math.max(..._.map(ft=>ft.id),0)+q+1;let Ke=V.speakers||"";if(V.speakers)try{const ft=JSON.parse(V.speakers);if(Array.isArray(ft)){const gt=ft.map(Et=>({...Et,photoLink:Et.photoUrl||Et.photoLink||"",photoUrl:void 0}));Ke=JSON.stringify(gt)}}catch(ft){console.warn("Failed to transform speaker data:",ft)}return{id:We,segmentName:V.segmentName||`Imported Item ${q+1}`,programType:V.programType||"",shotType:V.shotType||"",durationHours:xe,durationMinutes:Re,durationSeconds:Ue,notes:V.notes||"",assets:V.assets||"",speakers:Ke,speakersText:Ke,hasPPT:V.hasPPT||!1,hasQA:V.hasQA||!1,timerId:V.timerId||"",isPublic:V.isPublic||!1,isIndented:V.isIndented||!1,day:V.day||Te,customFields:{cue:Yl(V.cue)||`CUE ${q+1}`,...V.customFields}}});B(V=>[...V,...D]),console.log(" Imported items with assets:",D.filter(V=>V.assets).map(V=>({id:V.id,segmentName:V.segmentName,assets:V.assets}))),ee("IMPORT_EXCEL",`Imported ${D.length} items from Excel`,{changeType:"IMPORT",itemCount:D.length,source:"Excel"}),console.log(" Triggering auto-save after Excel import..."),os(),console.log(" Excel import completed successfully")}catch(N){console.error(" Error importing Excel data:",N),alert("Error importing Excel data. Please check the file format and try again.")}},Rr=()=>{try{const p=_.length;B([]),ee("DELETE_ALL",`Deleted all ${p} schedule items`,{changeType:"DELETE_ALL",itemCount:p,source:"Excel Import Modal"}),console.log(` Deleted all ${p} schedule items`)}catch(p){console.error(" Error deleting all schedule items:",p),alert("Error deleting schedule items. Please try again.")}},Za=p=>{if(window.confirm("Delete this schedule item?")){const N=_.find(D=>D.id===p);if(B(D=>D.filter(V=>V.id!==p)),ta(null),N){const D=_.findIndex(V=>V.id===p)+1;ee("REMOVE_ITEM",`Deleted schedule item: "${N.segmentName}"`,{changeType:"DELETE",itemId:N.id,itemName:N.segmentName,rowNumber:D,cueNumber:N.customFields.cue?parseInt(N.customFields.cue,10):null,details:{day:N.day,programType:N.programType,shotType:N.shotType,position:`Row ${D}`,durationHours:N.durationHours,durationMinutes:N.durationMinutes,totalDurationMinutes:N.durationHours*60+N.durationMinutes,speakers:N.speakers||"None",speakersText:N.speakersText||"None",notes:N.notes||"",assets:N.assets||"None",hasPPT:N.hasPPT,hasQA:N.hasQA,timerId:N.timerId,isPublic:N.isPublic,isIndented:N.isIndented}})}}},ki=(p,N)=>{const D=_.findIndex(Re=>Re.id===p);if(D===-1)return;const V=N==="up"?D-1:D+1;if(V<0||V>=_.length)return;const q=_[D],fe=D+1,xe=V+1;B(Re=>{const Ue=[...Re];return[Ue[D],Ue[V]]=[Ue[V],Ue[D]],Ue}),q&&ee("MOVE_ITEM",`Moved "${q.segmentName}" from row ${fe} to row ${xe}`,{changeType:"MOVE",itemId:q.id,itemName:q.segmentName,details:{fromRow:fe,toRow:xe,direction:N}}),ta(null)},Ko=p=>{const N=_.find(xe=>xe.id===p);if(!N)return;const D=()=>{const xe="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let Re="";for(let Ue=0;Ue<5;Ue++)Re+=xe.charAt(Math.floor(Math.random()*xe.length));return Re},V=_.findIndex(xe=>xe.id===p);if(V===-1)return;const q={...N,id:Date.now(),timerId:D(),segmentName:`${N.segmentName} (Copy)`,customFields:{...N.customFields,cue:N.customFields?.cue||""},isIndented:!1};B(xe=>{const Re=[...xe];return Re.splice(V+1,0,q),Re});const fe=V+2;ee("DUPLICATE_ITEM",`Duplicated schedule item: "${N.segmentName}"`,{changeType:"DUPLICATE",itemId:q.id,sourceItemId:N.id,itemName:q.segmentName,sourceItemName:N.segmentName,rowNumber:fe,sourceRowNumber:V+1,cueNumber:q.customFields.cue?parseInt(q.customFields.cue,10):null,details:{day:q.day,programType:q.programType,shotType:q.shotType,position:`Row ${fe}`,durationHours:q.durationHours,durationMinutes:q.durationMinutes,totalDurationMinutes:q.durationHours*60+q.durationMinutes,speakers:q.speakers||"None",speakersText:q.speakersText||"None",notes:q.notes||"",assets:q.assets||"None",hasPPT:q.hasPPT,hasQA:q.hasQA,timerId:q.timerId,isPublic:q.isPublic,isIndented:q.isIndented}}),os()},Ri=(p,N)=>{const D=_.findIndex(Re=>Re.id===p);if(D===-1)return;const V=N-1;if(V<0||V>=_.length||V===D)return;const q=_[D],fe=D+1,xe=N;B(Re=>{const Ue=[...Re],We=Ue[D];return Ue.splice(D,1),Ue.splice(V,0,We),Ue}),q&&ee("MOVE_ITEM",`Moved "${q.segmentName}" from row ${fe} to row ${xe}`,{changeType:"MOVE",itemId:q.id,itemName:q.segmentName,details:{fromRow:fe,toRow:xe,direction:"specific"}}),ta(null)},cn=p=>{const N=_[p];if(!N||je[N.id])return"";const D=N.day||1,V=be[D]||ve;if(!V)return"";let q=0;for(let gt=0;gt<p;gt++){const Et=_[gt];(Et.day||1)===D&&!je[Et.id]&&(q+=(Et.durationHours||0)*3600+(Et.durationMinutes||0)*60+(Et.durationSeconds||0))}const[fe,xe]=V.split(":").map(Number),Ue=fe*3600+xe*60+q,We=Math.floor(Ue/3600)%24,Ke=Math.floor(Ue%3600/60),ft=new Date;return ft.setHours(We,Ke,0,0),ft.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},mo=p=>{const N=_[p];if(!N||je[N.id])return"";const D=cn(p);if(!D)return"";let V=0;const q=et?_.findIndex(Er=>Er.id===et):-1,fe=q!==-1?q:0;for(let Er=fe;Er<p;Er++){const rs=_[Er],$n=rs.day||1,Bn=N.day||1;$n===Bn&&!je[rs.id]&&(V+=oe[rs.id]||0)}if(dt!==0&&et!==null&&q!==-1&&p>=q&&(V+=dt),V===0)return D;const[xe,Re]=D.split(" "),[Ue,We]=xe.split(":").map(Number);let Ke=Ue;Re==="PM"&&Ue!==12&&(Ke+=12),Re==="AM"&&Ue===12&&(Ke=0);const ft=Ke*60+We+V,gt=Math.floor(ft/60)%24,Et=ft%60,Vr=new Date;return Vr.setHours(gt,Et,0,0),Vr.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},gd=O.useMemo(()=>{const p=new Map,N=et?_.findIndex(D=>D.id===et):-1;return _.forEach((D,V)=>{let q=0;if(je[D.id]){p.set(D.id,0);return}const fe=D.day||1,xe=N!==-1?N:0;for(let Re=xe;Re<V;Re++){const Ue=_[Re];(Ue.day||1)===fe&&!je[Ue.id]&&(q+=oe[Ue.id]||0)}dt!==0&&et!==null&&N!==-1&&V>=N&&(q+=dt),p.set(D.id,q)}),p},[_,oe,je,et,dt]),ba=()=>{const p=_.filter(N=>(N.day||1)===Te);return _.filter(N=>N.isIndented),p.filter(N=>N.isIndented),p},fo=O.useMemo(()=>ba(),[_,Te]),un=O.useMemo(()=>{const p=new Map;return fo.forEach((N,D)=>{const V=$t?.activeTimer?.item_id,q=V&&(parseInt(String(V))===N.id||V===N.id||String(V)===String(N.id)),fe=!!(q&&$t?.activeTimer?.is_running&&$t?.activeTimer?.is_active),xe=!!(q&&$t?.activeTimer?.is_active&&!$t?.activeTimer?.is_running);if(fe){p.set(N.id,"bg-green-950");return}if(xe){p.set(N.id,"bg-blue-950");return}if(pe[N.id]){p.set(N.id,"bg-gray-900 opacity-40");return}if(no.has(N.id)){p.set(N.id,"bg-gray-900 opacity-40");return}if(Mc.has(N.id)){p.set(N.id,"bg-amber-950 border-amber-600");return}if(je[N.id]){const Re=je[N.id].parentId,Ue=$t?.activeTimer?.item_id||Mt,We=!!(Ue&&(parseInt(String(Ue))===Re||Ue===Re||String(Ue)===String(Re))),Ke=z[Re]!==void 0;if(We||Ke){p.set(N.id,"bg-amber-950 border-amber-600");return}}if(ed===N.id){p.set(N.id,"bg-purple-950 border-purple-400");return}p.set(N.id,D%2===0?"bg-slate-800":"bg-slate-900")}),p},[fo,$t?.activeTimer,pe,no,Mc,je,Mt,z,ed]);return O.useEffect(()=>{const p=()=>{const N=window.pageYOffset||document.documentElement.scrollTop;ha(N>100)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]),O.useEffect(()=>{const p=document.getElementById("main-scroll-container");if(!p)return;let N=!1;const D=(xe,Re)=>{N||(N=!0,Re.scrollLeft=xe.scrollLeft,requestAnimationFrame(()=>{N=!1}))},V=()=>{const xe=document.querySelector(".sticky-header-scroll-container");xe&&D(p,xe)},q=()=>{const xe=document.querySelector(".sticky-header-scroll-container");xe&&D(xe,p)};p.addEventListener("scroll",V);const fe=new MutationObserver(()=>{const xe=document.querySelector(".sticky-header-scroll-container");xe&&xe.addEventListener("scroll",q)});return fe.observe(document.body,{childList:!0,subtree:!0}),()=>{p.removeEventListener("scroll",V),fe.disconnect()}},[]),O.useEffect(()=>{const p=xe=>{const Re=ft=>{if(ft.button!==0)return;const gt=ft.target;gt.tagName==="INPUT"||gt.tagName==="TEXTAREA"||gt.tagName==="BUTTON"||gt.tagName==="SELECT"||gt.closest("button")||gt.closest("input")||gt.closest("textarea")||gt.closest("select")||gt.classList.contains("cursor-col-resize")||(js.current={isDragging:!0,startX:ft.pageX-xe.offsetLeft,scrollLeft:xe.scrollLeft,container:xe},xe.style.cursor="grabbing",xe.style.userSelect="none",ft.preventDefault())},Ue=ft=>{if(!js.current.isDragging)return;ft.preventDefault();const Et=(ft.pageX-(js.current.container?.offsetLeft||0)-js.current.startX)*1.5;js.current.container&&(js.current.container.scrollLeft=js.current.scrollLeft-Et)},We=()=>{js.current.isDragging&&js.current.container&&(js.current.container.style.cursor="grab",js.current.container.style.userSelect=""),js.current.isDragging=!1},Ke=()=>{js.current.isDragging&&js.current.container&&(js.current.container.style.cursor="grab",js.current.container.style.userSelect=""),js.current.isDragging=!1};return xe.style.cursor="grab",xe.addEventListener("mousedown",Re),document.addEventListener("mousemove",Ue),document.addEventListener("mouseup",We),xe.addEventListener("mouseleave",Ke),()=>{xe.style.cursor="",xe.removeEventListener("mousedown",Re),document.removeEventListener("mousemove",Ue),document.removeEventListener("mouseup",We),xe.removeEventListener("mouseleave",Ke)}},N=document.getElementById("main-scroll-container");let D;N&&(Ah.current=N,D=p(N));const V=document.querySelector(".sticky-header-scroll-container");let q;V&&(ad.current=V,q=p(V));const fe=new MutationObserver(()=>{const xe=document.querySelector(".sticky-header-scroll-container");xe&&!ad.current&&(ad.current=xe,q=p(xe))});return fe.observe(document.body,{childList:!0,subtree:!0}),()=>{D&&D(),q&&q(),fe.disconnect()}},[]),O.useEffect(()=>{Mt!==null&&setTimeout(()=>{Hh()},100)},[Mt,on]),O.useEffect(()=>{if(on&&Object.keys(z).length>0){const p=parseInt(Object.keys(z)[0]),N=document.querySelector(`[data-item-id="${p}"]`);N&&setTimeout(()=>{const D=document.querySelector("#main-scroll-container .h-24");let V=100;if(D){const xe=D.getBoundingClientRect(),Re=document.querySelector("#main-scroll-container")?.getBoundingClientRect();Re&&(V=xe.bottom-Re.top-120)}const q=N.getBoundingClientRect(),fe=document.querySelector("#main-scroll-container")?.getBoundingClientRect();if(fe){const xe=q.top-fe.top-V;window.scrollTo({top:xe,behavior:"smooth"})}},100)}},[z,on]),t?a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-slate-200",children:[!ht&&a.jsxDEV("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-yellow-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-yellow-300 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7840,columnNumber:11},void 0),a.jsxDEV("span",{className:"text-sm font-medium",children:"Tab Hidden - Syncing Paused"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7841,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7839,columnNumber:9},void 0),a.jsxDEV(kC,{isOpen:h,onClose:()=>g(!1),onRoleSelected:p=>{if(m(p),t?.id&&o?.id)try{const N=o.full_name||o.email||"Unknown";lt.saveUserSession(t.id,o.id,N,p).then(D=>{D?console.log(" Role saved to API from RunOfShowPage:",p):console.log(" Failed to save role to API, using localStorage only")}),localStorage.setItem(`userRole_${t.id}`,p),console.log(" Saved role to localStorage from RunOfShowPage:",p)}catch(N){console.error(" Failed to save role to API from RunOfShowPage:",N),localStorage.setItem(`userRole_${t.id}`,p),console.log(" Saved role to localStorage as fallback:",p)}g(!1)},eventId:t?.id||""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7846,columnNumber:7},void 0),_f&&Xc&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4 border-2 border-orange-500",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-orange-400 text-2xl font-bold mb-4",children:" Timer Running"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7884,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-white text-lg mb-2",children:a.jsxDEV("strong",{children:Xc.cueName},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7888,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7887,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-orange-300 text-xl font-mono mb-6",children:[Xc.remainingTime," remaining"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7890,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex gap-3 justify-center",children:[a.jsxDEV("button",{onClick:()=>id(!1),className:"px-6 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded transition-colors",children:"Dismiss"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7894,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{id(!1),Vf()},className:"px-6 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded transition-colors",children:"Sync Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7900,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7893,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7883,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7882,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7881,columnNumber:9},void 0),v&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Change Log"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7921,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>J(!1),className:`px-3 py-1 rounded text-sm transition-colors ${T?"bg-slate-600 text-slate-300 hover:bg-slate-500":"bg-blue-600 text-white"}`,children:["Local (",E.length,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7923,columnNumber:19},void 0),a.jsxDEV("button",{onClick:()=>J(!0),className:`px-3 py-1 rounded text-sm transition-colors ${T?"bg-blue-600 text-white":"bg-slate-600 text-slate-300 hover:bg-slate-500"}`,children:["Master (",w.length,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7933,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7922,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7920,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[!T&&a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:async()=>{console.log(" Sync button clicked - starting sync..."),await As();const p=xs.getLocalChanges();console.log(" Local changes after sync:",p.length),k(p),console.log(" Local change log refreshed after sync")},className:"px-3 py-1 bg-green-600 hover:bg-green-500 text-white text-sm rounded transition-colors",title:"Sync changes to Supabase",children:" Sync"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7948,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>{xs.reloadLocalChanges();const p=xs.getLocalChanges();k(p.slice(0,100)),console.log(" Manually reloaded local changes:",p.length)},className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",title:"Reload local changes",children:" Reload"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7963,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7947,columnNumber:19},void 0),T&&a.jsxDEV("button",{onClick:async()=>{console.log(" Manual reload button clicked...");const p=w.length;console.log(" Master log entries before reload:",p),await Gc(),console.log(" Master change log reloaded"),console.log(" Master log entries after reload:",w.length)},className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",title:"Reload master change log",children:" Reload"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7978,columnNumber:19},void 0),a.jsxDEV("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white text-2xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7993,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7945,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7919,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:T?w.length===0?a.jsxDEV("p",{className:"text-gray-400 text-center py-8",children:"No master changes found"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8006,columnNumber:19},void 0):a.jsxDEV("div",{className:"space-y-3",children:w.map(p=>{const N=p.new_values_json||{},D=p.metadata||{},V=p.row_number||D.rowNumber||N.rowNumber,q=p.cue_number||D.cueNumber||N.cueNumber,fe=p.user_role||D.userRole||"EDITOR",xe=p.field_name||N.fieldName||N.changeType,Re=p.old_value||N.oldValue,Ue=p.new_value||N.newValue,We=p.description||N.itemName;return a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4",children:[a.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:`text-white text-xs px-2 py-1 rounded ${p.action==="ADD_ITEM"?"bg-green-600":p.action==="REMOVE_ITEM"?"bg-red-600":p.action==="FIELD_UPDATE"?"bg-blue-600":p.action==="MOVE_ITEM"?"bg-yellow-600":p.action==="COLUMN_ADD"?"bg-purple-600":p.action==="COLUMN_REMOVE"?"bg-orange-600":"bg-blue-600"}`,children:p.action},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8025,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-gray-300 text-sm",children:["by ",p.user_name]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8036,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-gray-500 text-xs",children:["(",fe,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8040,columnNumber:29},void 0),V&&a.jsxDEV("span",{className:"text-gray-400 text-xs bg-slate-600 px-2 py-1 rounded",children:["ROW ",V]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8045,columnNumber:31},void 0),q&&q!=="CUE"&&a.jsxDEV("span",{className:"text-gray-400 text-xs bg-slate-600 px-2 py-1 rounded",children:Vs(q)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8050,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8024,columnNumber:27},void 0),a.jsxDEV("div",{className:"text-gray-400 text-xs",children:new Date(p.created_at||p.timestamp||p.change_timestamp).toLocaleString()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8055,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8023,columnNumber:25},void 0),a.jsxDEV("div",{className:"space-y-1 text-sm",children:[p.action==="FIELD_UPDATE"&&(xe||N.fieldName)&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Field:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8065,columnNumber:31},void 0)," ",xe||N.fieldName]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8064,columnNumber:31},void 0),p.action==="FIELD_UPDATE"&&(Re!==void 0||N.oldValue!==void 0)&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Changed from:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8072,columnNumber:33},void 0),a.jsxDEV("span",{className:"text-red-300 ml-1",children:['"',Re||N.oldValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8073,columnNumber:31},void 0),a.jsxDEV("span",{className:"text-gray-400 mx-1",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8074,columnNumber:31},void 0),a.jsxDEV("span",{className:"text-green-300",children:['"',Ue||N.newValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8075,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8071,columnNumber:31},void 0),p.action==="FIELD_UPDATE"&&!xe&&!N.fieldName&&We&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Change:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8082,columnNumber:31},void 0)," ",We]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8081,columnNumber:29},void 0),p.batch_id&&a.jsxDEV("div",{className:"text-gray-500 text-xs mt-2 pt-2 border-t border-slate-600",children:["Batch: ",p.batch_id.slice(0,8),"... | Synced: ",new Date(p.batch_created_at).toLocaleString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8088,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8061,columnNumber:27},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8022,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8008,columnNumber:19},void 0):E.length===0&&Z.size===0?a.jsxDEV("p",{className:"text-gray-400 text-center py-8",children:"No local changes recorded yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8101,columnNumber:19},void 0):a.jsxDEV("div",{className:"space-y-3",children:[E.map(p=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4",children:[a.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:`text-white text-xs px-2 py-1 rounded ${p.action==="ADD_ITEM"?"bg-green-600":p.action==="REMOVE_ITEM"?"bg-red-600":p.action==="FIELD_UPDATE"?"bg-blue-600":p.action==="MOVE_ITEM"?"bg-yellow-600":p.action==="COLUMN_ADD"?"bg-purple-600":p.action==="COLUMN_REMOVE"?"bg-orange-600":p.action==="AUTO_SAVE"?"bg-gray-600":"bg-blue-600"}`,children:p.action},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8108,columnNumber:27},void 0),p.details?.processedBy&&a.jsxDEV("span",{className:`text-white text-xs px-2 py-1 rounded ${p.details.processedBy==="TIMEOUT"?"bg-orange-600":p.details.processedBy==="SAVE_BUTTON"?"bg-purple-600":"bg-gray-600"}`,children:p.details.processedBy},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8121,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-gray-300 text-sm",children:["by ",p.userName]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8129,columnNumber:27},void 0),p.details?.itemId&&a.jsxDEV("span",{className:"text-gray-400 text-xs",children:["Item #",p.details.itemId]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8133,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8107,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-gray-400 text-xs",children:p.timestamp.toLocaleString()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8138,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8106,columnNumber:23},void 0),p.details&&a.jsxDEV("div",{className:"space-y-1 text-sm",children:[(p.details?.rowNumber||p.details?.cueNumber)&&a.jsxDEV("div",{className:"text-gray-300",children:a.jsxDEV("strong",{children:["Row ",p.details?.rowNumber||"?"," | ",Vs(p.details?.cueNumber)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8148,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8147,columnNumber:29},void 0),p.action==="ADD_ITEM"&&p.details.details&&a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Program Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8156,columnNumber:33},void 0)," ",p.details.details.programType]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8155,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Shot Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8159,columnNumber:33},void 0)," ",p.details.details.shotType]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8158,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Duration:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8162,columnNumber:33},void 0)," ",p.details.details.durationHours,"h ",p.details.details.durationMinutes,"m"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8161,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Speakers:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8165,columnNumber:33},void 0)," ",p.details.details.speakers]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8164,columnNumber:31},void 0),p.details.details.notes&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Notes:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8169,columnNumber:35},void 0)," ",p.details.details.notes]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8168,columnNumber:33},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Position:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8173,columnNumber:33},void 0)," ",p.details.details.position]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8172,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8154,columnNumber:29},void 0),p.action==="REMOVE_ITEM"&&p.details.details&&a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Program Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8182,columnNumber:33},void 0)," ",p.details.details.programType]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8181,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Shot Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8185,columnNumber:33},void 0)," ",p.details.details.shotType]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8184,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Duration:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8188,columnNumber:33},void 0)," ",p.details.details.durationHours,"h ",p.details.details.durationMinutes,"m"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8187,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Speakers:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8191,columnNumber:33},void 0)," ",p.details.details.speakers]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8190,columnNumber:31},void 0),p.details.details.notes&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Notes:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8195,columnNumber:35},void 0)," ",p.details.details.notes]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8194,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8180,columnNumber:29},void 0),p.action!=="ADD_ITEM"&&p.action!=="REMOVE_ITEM"&&p.details.fieldName&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Field:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8204,columnNumber:31},void 0)," ",p.details.fieldName]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8203,columnNumber:29},void 0),p.action!=="ADD_ITEM"&&p.action!=="REMOVE_ITEM"&&p.details.fieldName==="speakers"&&p.details.details&&a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Speaker Count:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8212,columnNumber:33},void 0)," ",p.details.details.speakerCount||0]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8211,columnNumber:31},void 0),p.details.newValue&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Speakers:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8216,columnNumber:35},void 0),a.jsxDEV("div",{className:"mt-1 text-sm text-blue-300",children:(()=>{try{const N=JSON.parse(p.details.newValue);if(Array.isArray(N))return N.sort((D,V)=>D.slot-V.slot).map(D=>`${D.slot}. ${D.fullName||D.name||"Unknown"} (${D.location||"Unknown"})`).join(", ")}catch{return"Unable to parse speakers"}return"No speakers"})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8217,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8215,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8210,columnNumber:29},void 0),p.action!=="ADD_ITEM"&&p.action!=="REMOVE_ITEM"&&p.details.fieldName==="assets"&&p.details.details&&a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Asset Count:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8242,columnNumber:33},void 0)," ",p.details.details.assetCount||0]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8241,columnNumber:31},void 0),p.details.newValue&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Assets:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8246,columnNumber:35},void 0),a.jsxDEV("div",{className:"mt-1 text-sm text-blue-300",children:p.details.newValue.split("||").filter(D=>D.trim()).map(D=>{if(D.includes("|")){const[V,q]=D.split("|");return`${V}${q?` (${q})`:""}`}return D}).join(", ")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8247,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8245,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8240,columnNumber:29},void 0),p.action==="MOVE_ITEM"&&p.details.details&&a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Moved from Row:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8268,columnNumber:33},void 0)," ",p.details.details.fromRow||"Unknown"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8267,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Moved to Row:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8271,columnNumber:33},void 0)," ",p.details.details.toRow||"Unknown"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8270,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8266,columnNumber:29},void 0),p.action!=="ADD_ITEM"&&p.action!=="REMOVE_ITEM"&&p.action!=="MOVE_ITEM"&&p.details.fieldName!=="speakers"&&p.details.fieldName!=="assets"&&p.details.oldValue!==void 0&&p.details.newValue!==void 0&&a.jsxDEV("div",{className:"text-gray-300",children:p.details.fieldName==="durationHours"||p.details.fieldName==="durationMinutes"||p.details.fieldName==="durationSeconds"?a.jsxDEV("span",{className:"text-green-300",children:p.details.newValue},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8283,columnNumber:33},void 0):a.jsxDEV(a.Fragment,{children:[a.jsxDEV("strong",{children:"Changed from:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8286,columnNumber:35},void 0),a.jsxDEV("span",{className:"text-red-300 ml-1",children:['"',p.details.oldValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8287,columnNumber:35},void 0),a.jsxDEV("span",{className:"text-gray-400 mx-1",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8288,columnNumber:35},void 0),a.jsxDEV("span",{className:"text-green-300",children:['"',p.details.newValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8289,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8285,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8280,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8145,columnNumber:25},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8105,columnNumber:21},void 0)),Array.from(Z.entries()).map(([p,N])=>{const D=Date.now()-N.timestamp.getTime(),V=Math.max(0,1e4-D),q=Math.ceil(V/1e3);return a.jsxDEV("div",{className:"bg-slate-600 rounded-lg p-4 border-2 border-yellow-500 animate-pulse",children:[a.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"bg-yellow-600 text-white text-xs px-2 py-1 rounded",children:["PENDING [",N.originalKey||"NO_KEY","]"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8309,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-slate-300 text-sm",children:["by ",N.user]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8312,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-yellow-300 text-xs",children:[" Will confirm in ",q,"s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8315,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8308,columnNumber:27},void 0),a.jsxDEV("div",{className:"text-slate-400 text-xs",children:N.timestamp.toLocaleString()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8319,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8307,columnNumber:25},void 0),N.details&&a.jsxDEV("div",{className:"space-y-1 text-sm",children:[(N.details?.rowNumber||N.details?.cueNumber)&&a.jsxDEV("div",{className:"text-slate-300",children:a.jsxDEV("strong",{children:["Row ",N.details?.rowNumber||"?"," | ",Vs(N.details?.cueNumber)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8329,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8328,columnNumber:31},void 0),N.details.fieldName&&a.jsxDEV("div",{className:"text-slate-300",children:[a.jsxDEV("strong",{children:"Field:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8334,columnNumber:33},void 0)," ",N.details.fieldName]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8333,columnNumber:31},void 0),N.details.oldValue!==void 0&&N.details.newValue!==void 0&&a.jsxDEV("div",{className:"text-slate-300",children:[a.jsxDEV("strong",{children:"Will change from:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8339,columnNumber:33},void 0),a.jsxDEV("span",{className:"text-red-300 ml-1",children:['"',N.details.oldValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8340,columnNumber:33},void 0),a.jsxDEV("span",{className:"text-slate-400 mx-1",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8341,columnNumber:33},void 0),a.jsxDEV("span",{className:"text-green-300",children:['"',N.details.newValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8342,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8338,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8326,columnNumber:27},void 0)]},p,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8306,columnNumber:23},void 0)})]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8103,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8002,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-4 pt-4 border-t border-slate-600",children:a.jsxDEV("div",{className:"flex justify-between items-center text-sm text-gray-400",children:[a.jsxDEV("div",{children:[a.jsxDEV("span",{children:["Total changes: ",E.length," (",Z.size," pending)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8358,columnNumber:19},void 0),Z.size>0&&a.jsxDEV("span",{className:"ml-2 text-yellow-400",children:" Changes will be confirmed after 10s of inactivity"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8360,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8357,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[Z.size>0&&a.jsxDEV("button",{className:"px-3 py-1 bg-yellow-600 text-white rounded transition-colors animate-pulse cursor-not-allowed",disabled:!0,title:"Changes are pending and will auto-save after 5 seconds",children:[" Changes Pending (",Z.size,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8367,columnNumber:17},void 0),a.jsxDEV("button",{onClick:jf,className:"px-3 py-1 bg-red-600 hover:bg-red-500 text-white rounded transition-colors",title:"Clear all change logs (password protected)",children:" Clear All Logs"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8375,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8365,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8356,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8355,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7918,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7917,columnNumber:9},void 0),a.jsxDEV("style",{children:`
          select {
            border: 2px solid #64748b !important;
            border-radius: 6px !important;
          }
          select:focus {
            border-color: #3b82f6 !important;
            outline: none !important;
          }
          select option {
            background-color: #1e293b !important;
            color: #ffffff !important;
            border-bottom: 1px solid #475569 !important;
            padding: 8px 12px !important;
            margin: 0 !important;
          }
          select option:hover {
            background-color: #334155 !important;
          }
          select option:checked {
            background-color: #3b82f6 !important;
          }
        `},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8389,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-16 left-0 right-0 z-40 bg-slate-900 shadow-lg border-b border-slate-600",style:{height:Zn?"240px":"150px"},children:a.jsxDEV("div",{className:"py-2 pt-4",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-2 px-8",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("button",{onClick:()=>s("/"),className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:" Back to Events"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8419,columnNumber:15},void 0),a.jsxDEV("div",{className:"relative",children:[a.jsxDEV("button",{onClick:p=>{p.stopPropagation(),$r(!Fo)},className:"px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded-lg transition-colors",title:"Menu",children:a.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8439,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8438,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8430,columnNumber:17},void 0),Fo&&a.jsxDEV("div",{className:"absolute top-full left-0 mt-1 w-48 bg-slate-800 border border-slate-600 rounded-lg shadow-lg z-50",children:a.jsxDEV("div",{className:"py-1",children:[a.jsxDEV("button",{onClick:()=>{$r(!1),Wa(!0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8454,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8453,columnNumber:25},void 0),"Display Timer"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8446,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1);const p=`/reports?eventId=${t?.id}&eventName=${encodeURIComponent(t?.name||"")}`;window.open(p,"_blank")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8468,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8467,columnNumber:25},void 0),"Reports and Printing"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8458,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1);const p=`/graphics-links?eventId=${t?.id}&eventName=${encodeURIComponent(t?.name||"")}`;window.open(p,"_blank")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8482,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8481,columnNumber:25},void 0),"Graphic Links"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8472,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1);const p=`/photo-view?eventId=${t?.id}&eventName=${encodeURIComponent(t?.name||"")}&eventDate=${encodeURIComponent(t?.date||"")}&eventLocation=${encodeURIComponent(t?.location||"")}`;window.open(p,"_blank")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8496,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8495,columnNumber:25},void 0),"PhotoView"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8486,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1),console.log("=== CSV EXPORT ==="),console.log("Event:",t),console.log("Schedule length:",_.length),console.log("Full schedule:",_),console.log("Master start time:",ve);const p=["ROW","CUE","Program Type","Shot Type","Segment Name","Duration","Start Time","End Time","Notes","Assets","Speakers","Has PPT","Has QA","Timer ID","Is Public","Is Indented","Day"],N=re.map(We=>We.name),D=[...p,...N],V=_.filter(We=>(We.day||1)===Te);console.log(" Filtered schedule for CSV:",V.map(We=>({id:We.id,cue:We.customFields?.cue,isIndented:We.isIndented})));const q=V.map((We,Ke)=>{const ft=_.findIndex(Bn=>Bn.id===We.id),gt=cn(ft),Et=`${We.durationHours}:${We.durationMinutes.toString().padStart(2,"0")}:${We.durationSeconds.toString().padStart(2,"0")}`;let Vr="",Er="";console.log(`CSV Export - Item ${We.customFields?.cue||Ke+1}: isIndented=${We.isIndented}, calculatedStartTime=${gt}`),We.isIndented?console.log("  Indented item - keeping startTime and endTime blank"):(Vr=gt||"",Er=(()=>{let Bn=null,ei=Ke+1;for(;ei<V.length;){const ti=V[ei];if(console.log(`  Checking next item ${ei}: ${ti.customFields?.cue||ei+1}, isIndented=${ti.isIndented}`),!ti.isIndented){Bn=ti;break}ei++}if(Bn){const ti=_.findIndex(xd=>xd.id===Bn.id),Kl=cn(ti);return console.log(`  Found next non-indented item: ${Bn.customFields?.cue}, startTime=${Kl}`),Kl||""}else{if(!gt)return"";const[ti,Kl,xd]=gt.split(":").map(Number),[Yf,Kf,tv]=Et.split(":").map(Number);let bd=ti*3600+Kl*60+xd+(Yf*3600+Kf*60+tv);const rv=Math.floor(bd/3600),ks=Math.floor(bd%3600/60),sv=bd%60;return`${rv.toString().padStart(2,"0")}:${ks.toString().padStart(2,"0")}:${sv.toString().padStart(2,"0")}`}})());const rs=[Ke+1,We.customFields?.cue||`CUE ${Ke+1}`,We.programType||"",We.shotType||"",We.segmentName||"",Et,Vr,Er,Lc(We.notes)||"",We.assets||"",We.speakersText||"",We.hasPPT?"Yes":"No",We.hasQA?"Yes":"No",We.timerId||"",We.isPublic?"Yes":"No",We.isIndented?"Yes":"No",We.day||1],$n=re.map(Bn=>We.customFields[Bn.id]||"");return[...rs,...$n]}),fe=[D.join(","),...q.map(We=>We.map(Ke=>typeof Ke=="string"&&(Ke.includes(",")||Ke.includes('"')||Ke.includes(`
`))?`"${Ke.replace(/"/g,'""')}"`:Ke).join(","))].join(`
`);console.log("CSV Content:",fe);const xe=new Blob([fe],{type:"text/csv;charset=utf-8;"}),Re=URL.createObjectURL(xe),Ue=document.createElement("a");Ue.href=Re,Ue.download=`${t?.name||"RunOfShow"}_Day${Te}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue),URL.revokeObjectURL(Re),console.log("=== END CSV EXPORT ===")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8662,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8661,columnNumber:25},void 0),"Export CSV"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8500,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1),oa(),to(!0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8675,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8674,columnNumber:25},void 0),"Import Excel"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8666,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1),oa(),ro(!0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8688,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8687,columnNumber:25},void 0),"Import Agenda"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8679,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1),eo(!0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8700,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8699,columnNumber:25},void 0),"Backups"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8692,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1);const p=`/green-room?eventId=${t?.id}&eventName=${encodeURIComponent(t?.name||"")}&eventDate=${t?.date||""}&eventLocation=${encodeURIComponent(t?.location||"")}`;window.open(p,"_blank")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8714,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8713,columnNumber:25},void 0),"Green Room"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8704,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1);const p=`/scripts-follow?eventId=${t?.id}&eventName=${encodeURIComponent(t?.name||"")}`;window.open(p,"_blank")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8728,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8727,columnNumber:25},void 0),"Scripts Follow"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8718,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1),Zi(!0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8740,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8739,columnNumber:25},void 0),"OSC Control"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8732,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{$r(!1),oa(),Dt(!0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8753,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8752,columnNumber:25},void 0),"Speaker Manager"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8744,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8445,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8444,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8429,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8418,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center gap-6",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("label",{className:"text-white font-semibold",children:"Event Name:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8766,columnNumber:17},void 0),a.jsxDEV("div",{className:"px-4 py-2 bg-slate-700 border-2 border-slate-600 rounded-lg text-white w-80 truncate",children:ne||"No Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8767,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8765,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("label",{className:"text-white font-semibold",children:"Start Time:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8773,columnNumber:17},void 0),a.jsxDEV("input",{type:"time",value:t?.numberOfDays&&t.numberOfDays>1?be[Te]||"":ve,onChange:p=>{if(console.log(" Start time changed:",p.target.value),os(),c==="VIEWER"||c==="OPERATOR"){alert("Only EDITORs can change start time. Please change your role to EDITOR.");return}t?.numberOfDays&&t.numberOfDays>1?(console.log(" Updating day start time for day",Te,"to",p.target.value),Ie(N=>({...N,[Te]:p.target.value}))):(console.log(" Updating master start time to",p.target.value),Me(p.target.value))},disabled:c==="VIEWER"||c==="OPERATOR",className:"px-4 py-2 border-2 rounded-lg focus:outline-none w-36 transition-colors bg-slate-700 border-slate-600 text-white focus:border-blue-500",style:{colorScheme:"dark"},title:c==="VIEWER"||c==="OPERATOR"?"Only EDITORs can change start time":`Set ${t?.numberOfDays&&t.numberOfDays>1?`Day ${Te}`:"master"} start time`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8774,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8772,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8764,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center gap-6",children:[a.jsxDEV("div",{className:"text-center",children:$t?.activeTimer?a.jsxDEV("div",{className:`text-lg font-bold ${$t.activeTimer.is_running&&$t.activeTimer.is_active?"text-green-400":"text-yellow-400"}`,children:[$t.activeTimer.is_running&&$t.activeTimer.is_active?"RUNNING":"LOADED"," - ",(()=>{const p=$t.activeTimer.item_id,N=typeof p=="string"?parseInt(p,10):Number(p),D=_.find(V=>V.id===N);return Math.random()<.01&&(console.log(" RunOfShow: Hybrid timer data:",$t.activeTimer),console.log(" RunOfShow: Looking for item_id:",$t.activeTimer.item_id,typeof $t.activeTimer.item_id),console.log(" RunOfShow: Found schedule item:",D)),D?.customFields?.cue?Vs(D.customFields.cue):(console.log(" RunOfShow: No schedule item found, using fallback"),`CUE ${p}`)})(),($t?.secondaryTimer||Nt)&&a.jsxDEV("div",{className:"text-lg text-orange-400 mt-0.5 font-bold",children:(()=>{if(console.log(" RunOfShow: Sub-cue timer check:",{hasHybridSecondary:!!$t?.secondaryTimer,hasOldSecondary:!!Nt,hybridData:$t?.secondaryTimer}),$t?.secondaryTimer,$t?.secondaryTimer){const N=_.find(Re=>Re.id===$t.secondaryTimer.item_id||Re.id===parseInt($t.secondaryTimer.item_id))?.customFields?.cue||$t.secondaryTimer.cue_display||$t.secondaryTimer.cue||`CUE ${$t.secondaryTimer.item_id}`,D=wi(),V=new Date($t.secondaryTimer.started_at||$t.secondaryTimer.created_at),q=Math.floor((D.getTime()-V.getTime())/1e3),fe=$t.secondaryTimer.duration_seconds||$t.secondaryTimer.duration||60,xe=Math.max(0,fe-q);return`${Vs(N)} - ${dd(xe)}`}else return`${Vs(_.find(p=>p.id===Nt?.itemId)?.customFields.cue)} - ${dd(Nt?.remaining??0)}`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8843,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8813,columnNumber:19},void 0):Object.keys(z).length>0?a.jsxDEV("div",{className:"text-lg text-green-400 font-bold",children:["RUNNING - ",Vs(_.find(p=>z[p.id])?.customFields.cue),Nt&&a.jsxDEV("div",{className:"text-lg text-orange-400 mt-0.5 font-bold",children:[Vs(_.find(p=>p.id===Nt.itemId)?.customFields.cue)," - ",dd(Nt.remaining)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8885,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8882,columnNumber:19},void 0):Mt&&yr[Mt]?a.jsxDEV("div",{className:"text-lg text-yellow-400 font-bold",children:["LOADED - ",Vs(_.find(p=>p.id===Mt)?.customFields.cue)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8891,columnNumber:19},void 0):a.jsxDEV("div",{className:"text-lg text-slate-300 font-bold",children:"No CUE Selected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8895,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8811,columnNumber:15},void 0),a.jsxDEV("div",{className:"relative",children:a.jsxDEV("div",{className:"text-3xl font-mono bg-slate-800 px-6 py-3 rounded-lg border border-slate-600",style:{color:zl()},children:Hf(Kh())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8903,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8902,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8810,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8417,columnNumber:11},void 0),a.jsxDEV("div",{className:"px-8 mb-2",children:a.jsxDEV("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden border border-slate-600 relative",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${Hl()}%`,background:md()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8914,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8913,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8912,columnNumber:11},void 0),a.jsxDEV("div",{className:"px-8 pb-2",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"text-sm text-slate-300",children:["Role: ",a.jsxDEV("span",{className:"font-semibold text-white",children:c},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8930,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8929,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>g(!0),className:"px-3 py-1 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded transition-colors",title:"Change your role",children:"Change Role"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8932,columnNumber:17},void 0),a.jsxDEV("button",{onClick:Jh,className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",title:"Create a manual backup of current data",children:" Create Backup"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8939,columnNumber:17},void 0),ds&&a.jsxDEV("div",{className:"flex items-center space-x-2 px-3 py-1 bg-yellow-600 rounded text-sm",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-yellow-200 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8948,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-yellow-100 font-medium",children:"Editing - Sync Paused"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8949,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8947,columnNumber:19},void 0),!ds&&ht&&a.jsxDEV("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-600 rounded text-sm",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-blue-200 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8956,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-blue-100 font-medium",children:nd?"Syncing...":`Next sync in ${Rf}s`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8957,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8955,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8928,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("button",{onClick:()=>$o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded transition-colors",title:"Open Filter View",children:"Filter View"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8969,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>Ic(!ao),className:`px-4 py-2 text-white text-sm font-medium rounded transition-colors ${ao?"bg-green-600 hover:bg-green-500":"bg-slate-600 hover:bg-slate-500"}`,title:ao?"Disable Time Toast":"Enable Time Toast",children:" Time Toast"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8979,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>_a(!on),className:`px-4 py-2 text-white text-sm font-medium rounded transition-colors ${on?"bg-purple-600 hover:bg-purple-500 ring-4 ring-inset ring-green-400":"bg-purple-600 hover:bg-purple-500"}`,title:on?"Disable auto-scroll to active row":"Enable auto-scroll to active row",children:" Follow"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8993,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-medium",children:"Duration:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9007,columnNumber:17},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can adjust timer duration. Please change your role to OPERATOR.");return}await Gl(-300)},className:`w-8 h-8 text-white text-sm font-bold rounded transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-700 hover:bg-red-600"}`,disabled:c==="VIEWER"||c==="EDITOR",title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can adjust timer duration":"Subtract 5 minutes",children:"-5"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9008,columnNumber:17},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can adjust timer duration. Please change your role to OPERATOR.");return}await Gl(-60)},className:`w-8 h-8 text-white text-sm font-bold rounded transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-600 hover:bg-red-500"}`,disabled:c==="VIEWER"||c==="EDITOR",title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can adjust timer duration":"Subtract 1 minute",children:"-1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9026,columnNumber:17},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can adjust timer duration. Please change your role to OPERATOR.");return}await Gl(60)},className:`w-8 h-8 text-white text-sm font-bold rounded transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500"}`,disabled:c==="VIEWER"||c==="EDITOR",title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can adjust timer duration":"Add 1 minute",children:"+1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9044,columnNumber:17},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can adjust timer duration. Please change your role to OPERATOR.");return}await Gl(300)},className:`w-8 h-8 text-white text-sm font-bold rounded transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-blue-700 hover:bg-blue-600"}`,disabled:c==="VIEWER"||c==="EDITOR",title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can adjust timer duration":"Add 5 minutes",children:"+5"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9062,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9006,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can send messages. Please change your role to OPERATOR.");return}Qi(!0)},className:`px-4 py-2 text-white text-sm font-medium rounded transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":sa?"bg-purple-600 hover:bg-purple-500 ring-4 ring-inset ring-green-500":"bg-purple-600 hover:bg-purple-500"}`,disabled:c==="VIEWER"||c==="EDITOR",title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can send messages":"Send Messages to Full Screen Timer",children:"Messages"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9084,columnNumber:17},void 0),sa&&a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can control messages. Please change your role to OPERATOR.");return}try{if(t?.id){const N=(await lt.getTimerMessagesForEvent(t.id)).find(D=>D.enabled);N&&(await lt.disableTimerMessage(N.id),console.log(" Message disabled in Supabase via Turn Off button"))}}catch(p){console.error(" Error disabling message in Supabase:",p)}jc(!1),Cs(""),Ds&&!Ds.closed&&Ds.postMessage({type:"MESSAGE_UPDATE",message:"",enabled:!1},"*")},className:`px-4 py-2 text-white text-sm font-medium rounded transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-slate-600 hover:bg-slate-500 animate-pulse"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot control messages":"Turn Off Message",children:"Click to Turn Off"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9107,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9083,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8965,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8926,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8925,columnNumber:11},void 0),a.jsxDEV("div",{className:`px-8 transition-all duration-500 ease-in-out overflow-hidden ${Zn?"max-h-80 opacity-100 -mb-6":"max-h-0 opacity-0 mb-0"}`,children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-4 shadow-2xl",style:{transform:"scale(0.75)",transformOrigin:"top center",width:"127.67%",marginLeft:"-13.83%"},children:a.jsxDEV("div",{className:"flex border-2 border-slate-600 rounded-lg overflow-hidden bg-slate-900",children:[a.jsxDEV("div",{className:"w-12 flex-shrink-0 bg-slate-900 border-r-2 border-slate-600",children:a.jsxDEV("div",{className:"h-16 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-xs",children:"#"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9161,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9160,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9159,columnNumber:17},void 0),a.jsxDEV("div",{className:"w-40 flex-shrink-0 bg-slate-900",style:{borderRight:"6px solid #475569"},children:a.jsxDEV("div",{className:"h-16 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-lg flex items-center gap-1",children:["CUE",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Viewers cannot edit CUE",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9171,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9168,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9167,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9166,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex-1 overflow-x-auto sticky-header-scroll-container",style:{scrollbarWidth:"thin"},children:a.jsxDEV("div",{className:"min-w-max",children:a.jsxDEV("div",{className:"h-16 bg-slate-700 border-b-3 border-slate-600 flex",children:[_t.start&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.start},children:[a.jsxDEV("span",{className:"text-white font-bold",children:"Start"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9187,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"start")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9188,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9183,columnNumber:25},void 0),_t.programType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.programType},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Program Type",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9202,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9199,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"programType")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9205,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9195,columnNumber:25},void 0),_t.duration&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.duration},children:[a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-white font-bold flex items-center justify-center gap-1",children:["Duration",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9220,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9217,columnNumber:29},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400",children:"HH MM SS"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9223,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9216,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"duration")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9225,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9212,columnNumber:25},void 0),_t.segmentName&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.segmentName},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Segment Name",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9239,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9236,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"segmentName")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9242,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9232,columnNumber:25},void 0),_t.shotType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.shotType},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Shot Type",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9256,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9253,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"shotType")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9259,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9249,columnNumber:25},void 0),_t.pptQA&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.pptQA},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["PPT/Q&A",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9273,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9270,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"pptQA")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9276,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9266,columnNumber:25},void 0),_t.notes&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.notes},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Notes",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9290,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9287,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"notes")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9293,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9283,columnNumber:25},void 0),_t.assets&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.assets},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Assets",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9307,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9304,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"assets")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9310,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9300,columnNumber:25},void 0),_t.participants&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.participants},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Participants",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9324,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9321,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"participants")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9327,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9317,columnNumber:25},void 0),_t.speakers&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.speakers},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Speakers",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9341,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9338,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"speakers")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9344,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9334,columnNumber:25},void 0),_t.public&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.public},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Public",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9358,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9355,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"public")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9361,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9351,columnNumber:25},void 0),re.map(p=>Xr[p.id]!==!1&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center relative flex-shrink-0",style:{width:is[p.id]||256},children:[a.jsxDEV("span",{className:"text-white font-bold",children:p.name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9374,columnNumber:29},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:N=>uo(N,p.id)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9375,columnNumber:29},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9369,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9181,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9180,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9179,columnNumber:17},void 0),a.jsxDEV("div",{className:"w-32 flex-shrink-0 bg-slate-900",style:{borderLeft:"6px solid #475569"},children:a.jsxDEV("div",{className:"h-16 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-base flex items-center gap-1",children:["Timer",(c==="VIEWER"||c==="EDITOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Only OPERATORs can control timers",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9392,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9389,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9388,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9387,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9157,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9156,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9155,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8416,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8415,columnNumber:7},void 0),a.jsxDEV("div",{className:"max-w-[95%] mx-auto px-6",style:{paddingTop:"250px"},children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-4 shadow-2xl",style:{transform:"scale(0.75)",transformOrigin:"top center",width:"133.33%",marginLeft:"-16.67%"},children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:["Schedule",t?.numberOfDays&&t.numberOfDays>1?` - Day ${Te}`:""," - TRT ",(()=>{const p=Bl();return`${p.hours}h ${p.minutes}m ${p.seconds}s`})()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9409,columnNumber:15},void 0),o&&a.jsxDEV("div",{className:"flex items-center gap-3 mt-1",children:[a.jsxDEV("button",{onClick:()=>b(!0),className:"text-xs bg-purple-600 hover:bg-purple-500 text-white px-2 py-1 rounded transition-colors",title:"View change history",children:[" Change Log (",E.length+Z.size,")",xs.getChangesCount().unsynced>0&&a.jsxDEV("span",{className:"ml-1 text-yellow-400",children:["(",xs.getChangesCount().unsynced," unsynced)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9424,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9417,columnNumber:19},void 0),Ml>0&&a.jsxDEV("button",{onClick:async()=>{await De()},className:"text-xs bg-yellow-600 hover:bg-yellow-500 text-white px-2 py-1 rounded transition-colors animate-pulse",title:`${Ml} unsynced change${Ml!==1?"s":""} - Click to sync`,children:Ml},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9428,columnNumber:21},void 0),Z.size>0&&a.jsxDEV("button",{className:"text-xs bg-yellow-600 text-white px-2 py-1 rounded transition-colors animate-pulse cursor-not-allowed",title:"Changes are pending and will auto-save after 5 seconds",disabled:!0,children:[" Changes Pending (",Z.size,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9439,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9416,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9408,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[t?.numberOfDays&&t.numberOfDays>1&&a.jsxDEV("div",{className:"flex items-center gap-3 mr-4",children:[a.jsxDEV("label",{className:"text-white font-bold text-base",children:"Day:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9456,columnNumber:19},void 0),a.jsxDEV("select",{value:Te,onChange:p=>{os(),Q(parseInt(p.target.value))},className:"px-4 py-2 bg-slate-700 border-2 border-slate-600 rounded-lg text-white focus:border-blue-500 focus:outline-none text-base font-semibold w-20",children:Array.from({length:t.numberOfDays},(p,N)=>a.jsxDEV("option",{value:N+1,children:N+1},N+1,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9466,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9457,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9455,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"){alert("Viewers cannot add items. Please change your role to EDITOR or OPERATOR.");return}oa(),j(!0),Ls({cue:"",day:Te,programType:"PreShow/End",shotType:"",segmentName:"",durationHours:0,durationMinutes:0,durationSeconds:0,notes:"",assets:"",speakers:"",speakersText:"",hasPPT:!1,hasQA:!1,timerId:"",isPublic:!1,isIndented:!1,customFields:{}})},className:`px-4 py-2 font-medium rounded text-sm transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Only EDITORs and OPERATORs can add items":"Add new item",children:"+ Item"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9472,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"){alert("Viewers cannot add columns. Please change your role to EDITOR or OPERATOR.");return}oa(),Ft(!0)},className:`px-4 py-2 font-medium rounded text-sm transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot add columns":"Add custom column",children:"+ Column"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9513,columnNumber:15},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"){alert("Viewers cannot reset the schedule. Please change your role to EDITOR or OPERATOR.");return}await fd()},className:`px-4 py-2 font-medium rounded text-sm transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot reset the schedule":"Reset all states",children:"Reset"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9533,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9452,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9407,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex border-2 border-slate-600 rounded-lg overflow-hidden bg-slate-900",children:[a.jsxDEV("div",{className:"w-12 flex-shrink-0 bg-slate-900 border-r-2 border-slate-600",children:[a.jsxDEV("div",{className:"h-24 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-xs",children:"#"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9559,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9558,columnNumber:15},void 0),ba().length===0?a.jsxDEV("div",{className:"h-24 flex items-center justify-center text-slate-500",children:"-"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9565,columnNumber:17},void 0):ba().map((p,N)=>a.jsxDEV("div",{className:`border-b-2 border-slate-600 flex items-center justify-center gap-1 ${(()=>{const D=$t?.activeTimer?.item_id,V=D&&(parseInt(String(D))===p.id||D===p.id||String(D)===String(p.id)),q=V&&$t?.activeTimer?.is_running&&$t?.activeTimer?.is_active,fe=V&&$t?.activeTimer?.is_active&&!$t?.activeTimer?.is_running;if(q)return"bg-green-900 border-green-500";if(fe)return"bg-blue-900 border-blue-500";if(pe[p.id]||no.has(p.id))return"bg-gray-900 border-gray-700 opacity-40";if(Mc.has(p.id))return"bg-amber-800 border-amber-600";if(je[p.id]){const xe=je[p.id].parentId,Re=$t?.activeTimer?.item_id||Mt,Ue=Re&&(parseInt(String(Re))===xe||Re===xe||String(Re)===String(xe)),We=z[xe]!==void 0;if(Ue||We)return"bg-amber-950 border-amber-600"}return N%2===0?"bg-slate-800":"bg-slate-900"})()}`,style:{height:zo(p.notes,p.speakersText,p.speakers,p.customFields,re)},children:a.jsxDEV("div",{className:"flex flex-col items-center gap-1 relative",children:[a.jsxDEV("button",{onClick:D=>{if(D.stopPropagation(),c==="VIEWER"){alert("Viewers cannot access row actions. Please change your role to EDITOR or OPERATOR.");return}za(Rl===p.id?null:p.id)},className:`w-5 h-5 text-white rounded flex items-center justify-center text-xs font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-purple-600 hover:bg-purple-500"}`,disabled:c==="VIEWER",title:"Row actions",children:"#"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9617,columnNumber:23},void 0),Rl===p.id&&a.jsxDEV("div",{className:"absolute left-0 top-6 z-50 bg-slate-700 border border-slate-600 rounded-lg shadow-lg min-w-[160px]",onClick:D=>D.stopPropagation(),children:[a.jsxDEV("button",{onClick:D=>{D.stopPropagation(),os(),console.log(" Move to row button clicked - pausing sync"),Xo(!0),io&&clearTimeout(io),setTimeout(()=>{const V=prompt(`Move to row (1-${ba().length}):`,(N+1).toString());console.log(" Row jump prompt closed - resuming sync in 5 seconds");const q=setTimeout(()=>{console.log(" User stopped editing - resuming sync"),Xo(!1)},5e3);Bc(q),V&&!isNaN(Number(V))&&Ri(p.id,Number(V)),za(null)},0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-600 flex items-center gap-2 rounded-t-lg",title:"Move this row to a specific position",children:[a.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9676,columnNumber:29},void 0),a.jsxDEV("span",{children:"Move to Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9677,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9641,columnNumber:27},void 0),a.jsxDEV("button",{onClick:D=>{D.stopPropagation(),os(),Ko(p.id),za(null)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-600 flex items-center gap-2 rounded-b-lg",title:"Duplicate this row",children:[a.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9689,columnNumber:29},void 0),a.jsxDEV("span",{children:"Duplicate Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9690,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9679,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9637,columnNumber:25},void 0),a.jsxDEV("span",{className:"text-white font-bold text-lg",children:N+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9694,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"){alert("Viewers cannot add rows. Please change your role to EDITOR or OPERATOR.");return}oa(),He(N),j(!0)},className:`w-5 h-5 text-white rounded flex items-center justify-center text-xs font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot add rows":`Insert row after row ${N+1}`,children:"+"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9697,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9616,columnNumber:21},void 0)},`${p.id}-${p.notes?.length||0}-${p.speakers?.length||0}`,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9570,columnNumber:20},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9556,columnNumber:13},void 0),a.jsxDEV("div",{className:"w-40 flex-shrink-0 bg-slate-900",style:{borderRight:"6px solid #475569"},children:[a.jsxDEV("div",{className:"h-24 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-lg flex items-center gap-1",children:["CUE",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Viewers cannot edit CUE",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9731,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9728,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9727,columnNumber:15},void 0),ba().length===0?a.jsxDEV("div",{className:"h-24 flex items-center justify-center text-slate-500",children:"No items"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9739,columnNumber:18},void 0):ba().map((p,N)=>a.jsxDEV("div",{className:`border-b-2 border-slate-600 flex flex-col items-center justify-center gap-1 ${N%2===0?"bg-slate-800":"bg-slate-900"}`,style:{height:zo(p.notes,p.speakersText,p.speakers,p.customFields,re)},children:[a.jsxDEV("div",{className:"flex items-center gap-1",children:[a.jsxDEV("button",{onClick:async()=>{const D=et===p.id?null:p.id;if(ct(D),t?.id)try{const V=_.map(fe=>({...fe,isStartCue:fe.id===D}));B(V);const q={event_id:t.id,event_name:ne,event_date:t?.date||new Date().toISOString(),schedule_items:V,custom_columns:re,settings:{eventName:ne,masterStartTime:ve,dayStartTimes:be}};await lt.saveRunOfShowData(q,{userId:o?.id||"unknown",userName:o?.full_name||o?.email||"Unknown User",userRole:o?.role||"VIEWER"}),console.log(` START cue selection saved to schedule: item ${D||"none"}`)}catch(V){console.error(" Failed to save START cue selection:",V)}},className:`w-7 h-7 flex items-center justify-center text-xl rounded transition-colors bg-slate-700 hover:bg-slate-600 ${et===p.id?"text-yellow-400":"text-slate-400 hover:text-yellow-400"}`,title:et===p.id?"Unmark as SHOW START":"Mark as SHOW START",children:et===p.id?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9753,columnNumber:22},void 0),a.jsxDEV("div",{className:"flex",children:[a.jsxDEV("div",{className:`flex items-center px-1 py-1 border border-slate-600 border-r-0 rounded-l text-white text-lg font-medium min-w-[40px] ${ed===p.id?"bg-purple-600":"bg-slate-600"}`,children:"CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9808,columnNumber:23},void 0),a.jsxDEV("input",{type:"text",value:p.customFields.cue?p.customFields.cue.replace(/^CUE\s*/,""):"",onChange:D=>{if(os(),c==="VIEWER"){alert("Viewers cannot edit cue names. Please change your role to EDITOR or OPERATOR.");return}const V=p.customFields.cue||"CUE ",q=D.target.value?`CUE ${D.target.value}`:"CUE ";B(fe=>fe.map(xe=>xe.id===p.id?{...xe,customFields:{...xe.customFields,cue:q}}:xe)),X(`cue_${p.id}`,"FIELD_UPDATE",`Updated cue for "${p.segmentName}" from "${V}" to "${q}"`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:"cue",oldValue:V,newValue:q,details:{fieldType:"text",characterChange:q.length-V.length}})},disabled:c==="VIEWER",className:"w-14 px-1 py-1 border border-slate-600 rounded-r text-center text-lg transition-colors bg-slate-700 text-white focus:outline-none focus:border-blue-500",title:c==="VIEWER"?"Viewers cannot edit cue names":"Edit cue number",maxLength:4},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9813,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9807,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9751,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>{if(os(),c==="VIEWER"){alert("Viewers cannot indent/unindent items. Please change your role to EDITOR or OPERATOR.");return}Ho(p.id)},className:`w-7 h-7 text-white flex items-center justify-center text-lg rounded font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":je[p.id]?"bg-orange-600 hover:bg-orange-500":"bg-slate-600 hover:bg-slate-500"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot indent/unindent items":je[p.id]?"Unindent (group with row above)":"Indent (group with row above)",children:je[p.id]?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9865,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{if(os(),c==="VIEWER"){alert("Viewers cannot move items. Please change your role to EDITOR or OPERATOR.");return}ki(p.id,"up")},disabled:N===0||c==="VIEWER",className:`w-7 h-7 text-white flex items-center justify-center text-lg rounded font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-slate-600 hover:bg-slate-500 disabled:opacity-30 disabled:cursor-not-allowed"}`,title:c==="VIEWER"?"Viewers cannot move items":"Move Up",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9891,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{if(os(),c==="VIEWER"){alert("Viewers cannot move items. Please change your role to EDITOR or OPERATOR.");return}ki(p.id,"down")},disabled:N===ba().length-1||c==="VIEWER",className:`w-7 h-7 text-white flex items-center justify-center text-lg rounded font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-slate-600 hover:bg-slate-500 disabled:opacity-30 disabled:cursor-not-allowed"}`,title:c==="VIEWER"?"Viewers cannot move items":"Move Down",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9912,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{if(os(),c==="VIEWER"){alert("Viewers cannot delete items. Please change your role to EDITOR or OPERATOR.");return}Za(p.id)},className:`w-7 h-7 text-white flex items-center justify-center text-lg rounded font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-600 hover:bg-red-500"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot delete items":"Delete",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9933,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9864,columnNumber:21},void 0)]},`${p.id}-${p.notes?.length||0}-${p.speakers?.length||0}`,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9744,columnNumber:20},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9725,columnNumber:13},void 0),a.jsxDEV("div",{id:"main-scroll-container",className:"flex-1 overflow-x-auto",style:{scrollbarWidth:"thin"},children:a.jsxDEV("div",{className:"min-w-max",children:[a.jsxDEV("div",{className:"h-24 bg-slate-700 border-b-3 border-slate-600 flex",children:[_t.start&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.start},children:[a.jsxDEV("span",{className:"text-white font-bold",children:"Start"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9969,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"start")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9970,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9965,columnNumber:21},void 0),_t.programType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.programType},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Program Type",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9984,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9981,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"programType")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9987,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9977,columnNumber:21},void 0),_t.duration&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.duration},children:[a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-white font-bold flex items-center justify-center gap-1",children:["Duration",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10002,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9999,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400",children:"HH MM SS"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10005,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9998,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"duration")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10007,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9994,columnNumber:21},void 0),_t.segmentName&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.segmentName},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Segment Name",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10021,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10018,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"segmentName")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10024,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10014,columnNumber:21},void 0),_t.shotType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.shotType},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Shot Type",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10038,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10035,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"shotType")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10041,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10031,columnNumber:21},void 0),_t.pptQA&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.pptQA},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["PPT/Q&A",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10055,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10052,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"pptQA")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10058,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10048,columnNumber:21},void 0),_t.notes&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.notes},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Notes",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10072,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10069,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"notes")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10075,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10065,columnNumber:21},void 0),_t.assets&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.assets},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Assets",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for VIEWERs",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10089,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10086,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"assets")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10092,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10082,columnNumber:21},void 0),_t.participants&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.participants},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Participants",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10106,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10103,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"participants")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10109,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10099,columnNumber:21},void 0),_t.speakers&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.speakers},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Speakers",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10123,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10120,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"speakers")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10126,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10116,columnNumber:21},void 0),_t.public&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:Lt.public},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Public",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10140,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10137,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>yt(p,"public")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10143,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10133,columnNumber:21},void 0),re.map(p=>Xr[p.id]!==!1&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center relative flex-shrink-0",style:{width:is[p.id]||256},children:[a.jsxDEV("span",{className:"text-white font-bold",children:p.name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10156,columnNumber:25},void 0),a.jsxDEV("button",{onClick:()=>{window.confirm(`Are you sure you want to remove the "${p.name}" column? This will delete all data in this column.`)&&ev(p.id)},className:"absolute top-1 right-1 w-6 h-6 bg-red-600 hover:bg-red-700 text-white rounded-md text-base font-bold flex items-center justify-center transition-colors shadow-md hover:shadow-lg",title:`Remove "${p.name}" column`,children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10157,columnNumber:25},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:N=>uo(N,p.id)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10168,columnNumber:25},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10151,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9963,columnNumber:17},void 0),fo.length===0?a.jsxDEV("div",{className:"h-24 flex items-center justify-center text-slate-500 text-xl",children:["No schedule items for Day ",Te,'. Click "Add Schedule Item" to start!']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10180,columnNumber:19},void 0):fo.map((p,N)=>a.jsxDEV("div",{"data-item-id":p.id,className:`border-b-2 border-slate-600 flex ${un.get(p.id)||(N%2===0?"bg-slate-800":"bg-slate-900")}`,style:{height:zo(p.notes,p.speakersText,p.speakers,p.customFields,re),textDecoration:p.programType==="KILLED"?"line-through":"none",textDecorationThickness:p.programType==="KILLED"?"4px":"auto",textDecorationColor:p.programType==="KILLED"?"#DC2626":"auto",color:p.programType==="KILLED"?"#9CA3AF":"inherit",opacity:p.programType==="KILLED"?.7:1},children:a.jsxDEV(R9,{asFragment:!0,className:"",item:p,index:N,columnWidths:Lt,visibleColumns:_t,indentedCues:je,overtimeMinutes:oe,startCueId:et,showStartOvertime:dt,cumulativeOvertime:gd.get(p.id)||0,programTypes:Af,programTypeColors:cd,shotTypes:Xf,currentUserRole:c,setSchedule:B,handleUserEditing:os,handleModalEditing:oa,handleModalClosed:qs,logChangeDebounced:X,logChange:ee,saveToAPI:Cn,setEditingNotesItem:Or,setShowNotesModal:cr,setViewingAssetsItem:Jt,setShowViewAssetsModal:Ut,setViewingSpeakersItem:qe,setShowViewSpeakersModal:rt,setEditingAssetsItem:vt,setShowAssetsModal:Ze,setEditingParticipantsItem:C,setShowParticipantsModal:ue,displaySpeakers:Bf,setEditingSpeakersItem:Sr,setShowSpeakersModal:xr,getSpeakersHeight:ud,displaySpeakersText:Kc,calculateStartTimeWithOvertime:mo,calculateStartTime:cn,customColumns:re,visibleCustomColumns:Xr,customColumnWidths:is,getRowHeight:zo},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10198,columnNumber:23},void 0)},p.id,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10185,columnNumber:22},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9961,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9960,columnNumber:13},void 0),a.jsxDEV("div",{className:"w-32 flex-shrink-0 bg-slate-900",style:{borderLeft:"6px solid #475569"},children:[a.jsxDEV("div",{className:"h-24 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-base flex items-center gap-1",children:["Timer",(c==="VIEWER"||c==="EDITOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Only OPERATORs can control timers",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10257,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10254,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10253,columnNumber:15},void 0),ba().length===0?a.jsxDEV("div",{className:"h-24 flex items-center justify-center text-slate-500",children:"-"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10265,columnNumber:17},void 0):ba().map((p,N)=>a.jsxDEV("div",{className:`border-b-2 border-slate-600 flex flex-col items-center justify-center gap-1 ${N%2===0?"bg-slate-800":"bg-slate-900"}`,style:{height:zo(p.notes,p.speakersText,p.speakers,p.customFields,re)},children:a.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:[a.jsxDEV("div",{className:"text-sm font-mono text-slate-300",children:p.timerId||"TIMER"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10278,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex flex-col gap-1",children:je[p.id]?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can start secondary timers. Please change your role to OPERATOR.");return}Tr(p.id)},disabled:Nt?.itemId===p.id||c==="VIEWER"||c==="EDITOR"||!Xl(p.id),className:`px-3 py-1 rounded text-sm font-bold transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":Xl(p.id)?Nt?.itemId===p.id?"bg-orange-600 text-white cursor-default":"bg-orange-500 hover:bg-orange-400 text-white":"bg-gray-500 text-gray-300 cursor-not-allowed"}`,title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can start secondary timers":Xl(p.id)?"Start secondary timer":"Start the CUE above first before starting secondary timer",children:Nt?.itemId===p.id?"PLAYING":"PLAY"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10348,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can stop secondary timers. Please change your role to OPERATOR.");return}Qa()},disabled:Nt?.itemId!==p.id||c==="VIEWER"||c==="EDITOR"||!Xl(p.id),className:`px-3 py-1 rounded text-sm font-bold transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":Xl(p.id)?Nt?.itemId===p.id?"bg-red-600 hover:bg-red-500 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-gray-500 text-gray-300 cursor-not-allowed"}`,title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can stop secondary timers":"Stop secondary timer",children:"STOP"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10376,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10346,columnNumber:27},void 0):a.jsxDEV(a.Fragment,{children:[a.jsxDEV("button",{onClick:async()=>{if(console.log(" LOAD BUTTON CLICKED!"),console.log(" currentUserRole:",c),console.log(" item.id:",p.id),console.log(" user:",o),console.log(" event:",t),c==="VIEWER"){alert("Viewers cannot load cues. Please change your role to EDITOR or OPERATOR.");return}if(c==="EDITOR"){alert("Editors cannot load cues. Please change your role to OPERATOR.");return}console.log(" Calling loadCue function...");try{await zf(p.id),console.log(" loadCue completed successfully")}catch(D){console.error(" loadCue failed:",D)}},disabled:Mt===p.id||c==="VIEWER"||c==="EDITOR",className:`px-3 py-1 rounded text-sm font-bold transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":Mt===p.id?"bg-blue-600 text-white cursor-default":"bg-slate-600 hover:bg-slate-500 text-white"}`,title:c==="VIEWER"?"Viewers cannot load cues":c==="EDITOR"?"Editors cannot load cues":"Load this cue",children:Mt===p.id?"LOADED":"LOAD"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10284,columnNumber:29},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can start/stop timers. Please change your role to OPERATOR.");return}await ps(p.id)},disabled:Mt!==p.id||(z[p.id]?!1:Object.keys(z).length>0)||c==="VIEWER"||c==="EDITOR",className:`px-3 py-1 rounded text-sm font-bold transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":z[p.id]?"bg-red-600 hover:bg-red-500 text-white":Mt===p.id&&Object.keys(z).length===0?"bg-green-600 hover:bg-green-500 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can start/stop timers":z[p.id]?"Stop timer":"Start timer",children:z[p.id]?"STOP":"START"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10322,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10283,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10281,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10277,columnNumber:21},void 0)},`${p.id}-${p.notes?.length||0}-${p.speakers?.length||0}`,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10270,columnNumber:20},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10251,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9554,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9406,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9405,columnNumber:7},void 0),Ee&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg max-w-lg w-full max-h-[90vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-slate-600",children:[a.jsxDEV("h2",{className:"text-lg font-bold text-white",children:"Add Schedule Item"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10415,columnNumber:15},void 0),a.jsxDEV("label",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"checkbox",checked:Hr.isPublic,onChange:p=>Ls(N=>({...N,isPublic:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10417,columnNumber:17},void 0),a.jsxDEV("span",{className:"text-slate-300 text-sm",children:"Public"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10423,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10416,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10414,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Cue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10432,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex",children:[a.jsxDEV("div",{className:"flex items-center px-2 py-2 bg-slate-600 border border-slate-600 border-r-0 rounded-l text-white text-sm font-medium min-w-[40px]",children:"CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10434,columnNumber:21},void 0),a.jsxDEV("input",{type:"text",value:Hr.cue,onChange:p=>{os(),Ls(N=>({...N,cue:p.target.value}))},className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded-r text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm",placeholder:"1, 1.1, 1A, etc."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10437,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10433,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10431,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Program Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10450,columnNumber:19},void 0),a.jsxDEV("select",{value:Hr.programType,onFocus:()=>{console.log(" Program Type modal dropdown focused - pausing sync"),oa()},onChange:p=>{Ls(N=>({...N,programType:p.target.value})),qs()},className:"w-full px-3 py-2 bg-slate-700 border-2 border-slate-500 rounded text-white focus:outline-none focus:border-blue-500 text-sm",style:{backgroundColor:cd[Hr.programType]||"#374151",color:Hr.programType==="Sub Cue"?"#000000":"#ffffff"},children:Af.map(p=>a.jsxDEV("option",{value:p,style:{backgroundColor:cd[p]||"#374151",color:p==="Sub Cue"?"#000000":"#ffffff"},children:p},p,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10470,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10451,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10449,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10430,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Segment Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10487,columnNumber:17},void 0),a.jsxDEV("input",{type:"text",value:Hr.segmentName,onChange:p=>{os(),Ls(N=>({...N,segmentName:p.target.value}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm",placeholder:"Enter segment name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10488,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10486,columnNumber:15},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Shot Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10502,columnNumber:19},void 0),a.jsxDEV("select",{value:Hr.shotType,onFocus:()=>{console.log(" Shot Type modal dropdown focused - pausing sync"),oa()},onChange:p=>{Ls(N=>({...N,shotType:p.target.value})),qs()},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:outline-none focus:border-blue-500 text-sm",children:[a.jsxDEV("option",{value:"",children:"Select Shot Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10517,columnNumber:21},void 0),Xf.map(p=>a.jsxDEV("option",{value:p,children:p},p,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10519,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10503,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10501,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10524,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("input",{type:"number",value:Hr.durationHours,onChange:p=>{os(),Ls(N=>({...N,durationHours:parseInt(p.target.value)||0}))},className:"w-12 px-2 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:outline-none focus:border-blue-500 text-sm text-center",min:"0",placeholder:"H"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10526,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-slate-400 self-center text-sm",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10537,columnNumber:21},void 0),a.jsxDEV("input",{type:"number",value:Hr.durationMinutes,onChange:p=>{os(),Ls(N=>({...N,durationMinutes:parseInt(p.target.value)||0}))},className:"w-12 px-2 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:outline-none focus:border-blue-500 text-sm text-center",min:"0",max:"59",placeholder:"M"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10538,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-slate-400 self-center text-sm",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10550,columnNumber:21},void 0),a.jsxDEV("input",{type:"number",value:Hr.durationSeconds,onChange:p=>{os(),Ls(N=>({...N,durationSeconds:parseInt(p.target.value)||0}))},className:"w-12 px-2 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:outline-none focus:border-blue-500 text-sm text-center",min:"0",max:"59",placeholder:"S"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10551,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10525,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10523,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10500,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("label",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"checkbox",checked:Hr.hasPPT,onChange:p=>{os(),Ls(N=>({...N,hasPPT:p.target.checked}))},className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10569,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-slate-300 text-sm",children:"Has PPT"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10578,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10568,columnNumber:17},void 0),a.jsxDEV("label",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"checkbox",checked:Hr.hasQA,onChange:p=>{os(),Ls(N=>({...N,hasQA:p.target.checked}))},className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10581,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-slate-300 text-sm",children:"Has QA"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10590,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10580,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10567,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10429,columnNumber:15},void 0),a.jsxDEV("div",{className:"mt-3",children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Notes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10596,columnNumber:15},void 0),a.jsxDEV("div",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm cursor-pointer hover:bg-slate-600 transition-colors min-h-[60px] flex items-center",onClick:()=>{oa(),Or(-1),cr(!0)},children:Hr.notes?a.jsxDEV("div",{className:"text-sm notes-display",style:{lineHeight:"1.4",overflow:"visible"},dangerouslySetInnerHTML:{__html:Hr.notes}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10607,columnNumber:19},void 0):a.jsxDEV("span",{className:"text-slate-400",children:"Click to edit notes with rich formatting..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10616,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10597,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10595,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-3",children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Assets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10622,columnNumber:15},void 0),a.jsxDEV("div",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm cursor-pointer hover:bg-slate-600 transition-colors min-h-[60px] flex items-center",onClick:()=>{oa(),vt(-1),Ze(!0)},children:Hr.assets?a.jsxDEV("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:Hr.assets.replace(/\|\|/g,"<br>")}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10633,columnNumber:19},void 0):a.jsxDEV("span",{className:"text-slate-400",children:"Click to edit assets with advanced management..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10635,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10623,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10621,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-3",children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10641,columnNumber:15},void 0),a.jsxDEV("div",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm cursor-pointer hover:bg-slate-600 transition-colors min-h-[60px] flex items-start justify-start",onClick:()=>{oa(),Sr(-1),xr(!0)},style:{wordWrap:"break-word",overflowWrap:"break-word",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:Hr.speakersText?a.jsxDEV("div",{className:"text-sm text-left w-full",children:Kc(Hr.speakersText)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10658,columnNumber:19},void 0):a.jsxDEV("span",{className:"text-slate-400",children:"Click to add speakers..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10662,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10642,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10640,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10428,columnNumber:13},void 0),a.jsxDEV("div",{className:"p-4 border-t border-slate-600",children:a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>Yo(Hr),className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded transition-colors text-sm",children:"Add Item"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10671,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{j(!1),qs()},className:"flex-1 px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white font-medium rounded transition-colors text-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10677,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10670,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10669,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10412,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10411,columnNumber:9},void 0),ze&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-8 max-w-md w-full",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-6",children:"Add Custom Column"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10696,columnNumber:14},void 0),a.jsxDEV("div",{className:"mb-4",children:[a.jsxDEV("label",{className:"block text-slate-300 font-semibold mb-2",children:"Column Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10699,columnNumber:16},void 0),a.jsxDEV("input",{type:"text",placeholder:"Enter column name",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500",onFocus:()=>{console.log(" Custom column input focused - pausing sync"),os()},onKeyPress:p=>{if(p.key==="Enter"){const N=p.target;N.value.trim()&&(Wf(N.value.trim()),N.value="")}}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10700,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10698,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>{const p=document.querySelector('input[placeholder="Enter column name"]');p?.value.trim()&&(Wf(p.value.trim()),p.value="")},className:"flex-1 px-4 py-3 bg-purple-600 hover:bg-purple-500 text-white font-semibold rounded-lg transition-colors",children:"Add Column"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10722,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{Ft(!1),qs()},className:"flex-1 px-4 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10734,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10721,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10695,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10694,columnNumber:10},void 0),Qt&&nr!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-6 max-w-5xl w-full max-h-[90vh] flex flex-col",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-4",children:"Edit Notes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10752,columnNumber:14},void 0),a.jsxDEV("div",{className:"mb-4 bg-slate-700 rounded-lg overflow-hidden",children:[a.jsxDEV("div",{className:"flex items-center justify-between gap-4 p-3 border-b border-slate-600",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Format:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10759,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Ir("undo"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Undo",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10761,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("redo"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Redo",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10768,columnNumber:22},void 0),a.jsxDEV("div",{className:"w-px h-6 bg-slate-500 mx-1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10775,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("bold"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded font-bold flex items-center justify-center",title:"Bold",children:"B"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10776,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("italic"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded italic flex items-center justify-center",title:"Italic",children:"I"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10783,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("underline"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded underline flex items-center justify-center",title:"Underline",children:"U"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10790,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10760,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10758,columnNumber:18},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Size:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10801,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Ir("fontSize","1"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Small",children:"S"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10803,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("fontSize","3"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded flex items-center justify-center",title:"Normal",children:"N"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10810,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("fontSize","5"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-base rounded flex items-center justify-center",title:"Large",children:"L"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10817,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("fontSize","7"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-lg rounded flex items-center justify-center",title:"X-Large",children:"XL"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10824,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10802,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10800,columnNumber:18},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Align:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10835,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Ir("left"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Left Align",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10837,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("center"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Center Align",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10844,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("right"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Right Align",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10851,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10836,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10834,columnNumber:18},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Lists:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10862,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Ir("bullet"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded flex items-center justify-center",title:"Bullet List",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10864,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("list"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded flex items-center justify-center",title:"Numbered List",children:"1."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10871,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10863,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10861,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10757,columnNumber:16},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-6 p-3",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Text Color:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10885,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Ir("color","#ffffff"),className:"w-6 h-6 bg-white border border-slate-400 rounded",title:"White"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10887,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("color","#ef4444"),className:"w-6 h-6 bg-red-500 rounded",title:"Red"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10892,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("color","#3b82f6"),className:"w-6 h-6 bg-blue-500 rounded",title:"Blue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10897,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("color","#22c55e"),className:"w-6 h-6 bg-green-500 rounded",title:"Green"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10902,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("color","#f97316"),className:"w-6 h-6 bg-orange-500 rounded",title:"Orange"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10907,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("color","#a855f7"),className:"w-6 h-6 bg-purple-500 rounded",title:"Purple"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10912,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("color","#000000"),className:"w-6 h-6 bg-black border border-slate-400 rounded",title:"Black"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10917,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10886,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10884,columnNumber:18},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Highlight:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10926,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Ir("highlight","transparent"),className:"w-6 h-6 bg-slate-600 border border-slate-400 rounded flex items-center justify-center text-white text-xs",title:"No Highlight",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10928,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("highlight","#fbbf24"),className:"w-6 h-6 bg-yellow-400 rounded",title:"Yellow"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10935,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("highlight","#60a5fa"),className:"w-6 h-6 bg-blue-400 rounded",title:"Light Blue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10940,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("highlight","#4ade80"),className:"w-6 h-6 bg-green-400 rounded",title:"Light Green"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10945,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("highlight","#f472b6"),className:"w-6 h-6 bg-pink-400 rounded",title:"Pink"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10950,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Ir("highlight","#fb923c"),className:"w-6 h-6 bg-orange-400 rounded",title:"Orange"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10955,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10927,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10925,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10883,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10755,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex-1 min-h-[400px] mb-6",children:[a.jsxDEV("label",{className:"block text-white text-sm mb-2",children:"Notes:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10967,columnNumber:16},void 0),a.jsxDEV("div",{id:"notes-editor",contentEditable:!0,className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white text-base focus:outline-none focus:border-blue-500 overflow-auto",style:{height:"400px",lineHeight:"1.5",fontFamily:"system-ui, -apple-system, sans-serif"},"data-placeholder":"Start typing your notes here...",onInput:p=>{}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10968,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10966,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:zh,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:"Save & Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10986,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{cr(!1),Or(null),qs()},className:"flex-1 px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10992,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10985,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10751,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10750,columnNumber:10},void 0),Zt&&Yt!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl max-w-5xl w-full max-h-[90vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center p-6 border-b border-slate-700",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:["Edit Speakers (",at.length,"/7)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11013,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{xr(!1),Sr(null),qs()},className:"text-slate-400 hover:text-white text-xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11016,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11012,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex-1 p-6 overflow-y-auto",children:[a.jsxDEV("div",{className:"mb-6",children:a.jsxDEV("button",{onClick:Yh,disabled:at.length>=7,className:"px-4 py-2 bg-green-600 hover:bg-green-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors",children:["+ Add Speaker ",at.length<7&&`(${7-at.length} slots remaining)`]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11033,columnNumber:18},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11032,columnNumber:16},void 0),a.jsxDEV("div",{className:"space-y-4 mb-6",children:[at.sort((p,N)=>p.slot-N.slot).map(p=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:["Speaker ",p.slot]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11047,columnNumber:24},void 0),a.jsxDEV("button",{onClick:()=>If(p.id),className:"w-8 h-8 bg-red-600 hover:bg-red-500 text-white rounded flex items-center justify-center transition-colors",title:"Remove Speaker",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11050,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11046,columnNumber:22},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Slot Number"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11062,columnNumber:26},void 0),a.jsxDEV("select",{value:p.slot,onChange:N=>Ff(p.id,parseInt(N.target.value)),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm focus:outline-none focus:border-blue-500",children:[1,2,3,4,5,6,7].map(N=>{const D=at.some(V=>V.id!==p.id&&V.slot===N);return a.jsxDEV("option",{value:N,className:D?"bg-yellow-600 text-white":"bg-slate-600 text-white",children:[N," ",D?"(Used)":""]},N,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11073,columnNumber:32},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11065,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11061,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11083,columnNumber:26},void 0),a.jsxDEV("select",{value:p.location,onChange:N=>co(p.id,"location",N.target.value),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm focus:outline-none focus:border-blue-500",children:[a.jsxDEV("option",{value:"Podium",children:"Podium"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11091,columnNumber:28},void 0),a.jsxDEV("option",{value:"Seat",children:"Seat"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11092,columnNumber:28},void 0),a.jsxDEV("option",{value:"Moderator",children:"Moderator"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11093,columnNumber:28},void 0),a.jsxDEV("option",{value:"Virtual",children:"Virtual"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11094,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11086,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11082,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Full Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11100,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.fullName,onChange:N=>co(p.id,"fullName",N.target.value),placeholder:"Enter full name",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11103,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11099,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Title (subtext line 1)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11114,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.title,onChange:N=>co(p.id,"title",N.target.value),placeholder:"Enter title",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11117,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11113,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Organization (subtext line 2)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11128,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.org,onChange:N=>co(p.id,"org",N.target.value),placeholder:"Enter organization",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11131,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11127,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Photo Link"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11142,columnNumber:26},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("input",{type:"url",value:p.photoLink,onChange:N=>co(p.id,"photoLink",N.target.value),placeholder:"Enter photo URL",className:"flex-1 px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11146,columnNumber:28},void 0),p.photoLink&&a.jsxDEV("div",{className:"flex-shrink-0",children:a.jsxDEV("img",{src:p.photoLink,alt:p.fullName,className:"w-12 h-12 rounded object-cover border-2 border-slate-500 -mt-2.5",onError:N=>{N.currentTarget.style.display="none"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11155,columnNumber:32},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11154,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11145,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11141,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11059,columnNumber:22},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11045,columnNumber:20},void 0)),at.length===0&&a.jsxDEV("div",{className:"text-center py-8 text-slate-400",children:'No speakers added yet. Click "Add Speaker" to get started.'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11172,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11043,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11029,columnNumber:14},void 0),a.jsxDEV("div",{className:"border-t border-slate-700 p-6",children:a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:Gh,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:"Save & Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11182,columnNumber:18},void 0),a.jsxDEV("button",{onClick:()=>{xr(!1),Sr(null),qs()},className:"flex-1 px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11188,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11181,columnNumber:16},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11180,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11010,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11009,columnNumber:10},void 0),Vt&&it!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-6",children:"Edit Assets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11207,columnNumber:14},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"flex justify-between items-center",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:"Assets List"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11211,columnNumber:18},void 0),a.jsxDEV("button",{onClick:Wc,className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:"+ Add Asset"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11212,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11210,columnNumber:16},void 0),a.jsxDEV("div",{id:"assets-list",className:"space-y-3"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11220,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11209,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex gap-3 mt-6",children:[a.jsxDEV("button",{onClick:Wh,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:"Save & Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11226,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{Ze(!1),vt(null),qs()},className:"flex-1 px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11232,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11225,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11206,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11205,columnNumber:10},void 0),Rt&&br!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Assets List"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11252,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{Ut(!1),Jt(null)},className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded-lg transition-colors",children:"Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11253,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11251,columnNumber:14},void 0),a.jsxDEV("div",{className:"space-y-4",children:(()=>{const p=_.find(D=>D.id===br);if(!p||!p.assets)return a.jsxDEV("div",{className:"text-center py-8",children:a.jsxDEV("p",{className:"text-slate-400 text-lg",children:"No assets available for this item."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11270,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11269,columnNumber:22},void 0);let N=[];if(p.assets.includes("||"))N=p.assets.split("||").filter(V=>V.trim()).map(V=>{if(V.includes("|")){const[q,fe]=V.split("|").map(xe=>xe.trim());return{name:q||"Unnamed Asset",url:fe||""}}else return{name:V.trim(),url:""}});else if(p.assets.includes("|")){const[D,V]=p.assets.split("|").map(q=>q.trim());N=[{name:D||"Unnamed Asset",url:V||""}]}else try{const D=JSON.parse(p.assets);Array.isArray(D)?N=D.map(V=>({name:V.name||"Unnamed Asset",url:V.link||V.url||""})):N=[{name:D.name||"Unnamed Asset",url:D.link||D.url||""}]}catch{N=[{name:p.assets.trim(),url:""}]}return N.length===0?a.jsxDEV("div",{className:"text-center py-8",children:a.jsxDEV("p",{className:"text-slate-400 text-lg",children:"No assets available for this item."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11331,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11330,columnNumber:22},void 0):a.jsxDEV("div",{className:"space-y-4",children:a.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-3 pr-2",children:N.map((D,V)=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"text-white font-semibold text-lg",children:D.name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11342,columnNumber:30},void 0),D.url&&a.jsxDEV("div",{children:a.jsxDEV("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline break-all text-sm",children:D.url},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11347,columnNumber:34},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11346,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11341,columnNumber:28},void 0)},V,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11340,columnNumber:26},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11338,columnNumber:22},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11337,columnNumber:20},void 0)})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11264,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11250,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11249,columnNumber:10},void 0),Nr&&Ge!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Speakers List"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11374,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{rt(!1),qe(null)},className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded-lg transition-colors",children:"Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11375,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11373,columnNumber:14},void 0),a.jsxDEV("div",{className:"space-y-4",children:(()=>{const p=_.find(D=>D.id===Ge);if(!p||!p.speakersText)return a.jsxDEV("div",{className:"text-center py-8",children:a.jsxDEV("p",{className:"text-slate-400 text-lg",children:"No speakers available for this item."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11392,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11391,columnNumber:22},void 0);let N=[];try{const D=JSON.parse(p.speakersText);Array.isArray(D)?N=D:N=[D]}catch{return a.jsxDEV("div",{className:"text-center py-8",children:a.jsxDEV("p",{className:"text-slate-400 text-lg",children:"Unable to parse speakers data."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11409,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11408,columnNumber:22},void 0)}return N.length===0?a.jsxDEV("div",{className:"text-center py-8",children:a.jsxDEV("p",{className:"text-slate-400 text-lg",children:"No speakers available for this item."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11417,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11416,columnNumber:22},void 0):a.jsxDEV("div",{className:"space-y-4",children:a.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-3 pr-2",children:N.map((D,V)=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:a.jsxDEV("div",{className:"flex gap-4",children:[D.photoLink&&a.jsxDEV("div",{className:"flex-shrink-0",children:a.jsxDEV("img",{src:D.photoLink,alt:D.fullName||"Speaker",className:"w-24 h-32 rounded-lg object-cover border-2 border-slate-500",onError:q=>{q.currentTarget.style.display="none"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11431,columnNumber:34},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11430,columnNumber:32},void 0),a.jsxDEV("div",{className:"flex-1 space-y-2",children:[a.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[D.slot&&a.jsxDEV("div",{className:"text-yellow-400 font-bold text-base",children:["SLOT ",D.slot]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11447,columnNumber:36},void 0),D.location&&a.jsxDEV("div",{className:"text-slate-300 text-base flex items-center gap-1",children:[D.location==="Podium"&&a.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11453,columnNumber:72},void 0),D.location==="Seat"&&a.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11454,columnNumber:70},void 0),D.location==="Virtual"&&a.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11455,columnNumber:73},void 0),D.location==="Moderator"&&a.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11456,columnNumber:75},void 0),!["Podium","Seat","Virtual","Moderator"].includes(D.location)&&a.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11457,columnNumber:113},void 0),a.jsxDEV("span",{children:D.location},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11458,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11452,columnNumber:36},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11445,columnNumber:32},void 0),a.jsxDEV("div",{className:"text-white font-semibold text-lg",children:D.fullName||"Unnamed Speaker"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11464,columnNumber:32},void 0),D.title&&a.jsxDEV("div",{className:"text-slate-300 text-sm",children:[a.jsxDEV("strong",{children:"Title:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11471,columnNumber:36},void 0)," ",D.title]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11470,columnNumber:34},void 0),D.org&&a.jsxDEV("div",{className:"text-slate-300 text-sm",children:[a.jsxDEV("strong",{children:"Organization:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11478,columnNumber:36},void 0)," ",D.org]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11477,columnNumber:34},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11443,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11427,columnNumber:28},void 0)},V,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11426,columnNumber:26},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11424,columnNumber:22},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11423,columnNumber:20},void 0)})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11386,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11372,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11371,columnNumber:10},void 0),Ve&&K!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl max-w-5xl w-full max-h-[90vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center p-6 border-b border-slate-700",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:["Edit Participants (",L.length,"/7)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11500,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{ue(!1),C(null)},className:"text-slate-400 hover:text-white text-xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11503,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11499,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex-1 p-6 overflow-y-auto",children:[a.jsxDEV("div",{className:"mb-6",children:a.jsxDEV("button",{onClick:Yc,disabled:L.length>=7,className:"px-4 py-2 bg-green-600 hover:bg-green-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors",children:["+ Add Speaker ",L.length<7&&`(${7-L.length} slots remaining)`]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11518,columnNumber:18},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11517,columnNumber:16},void 0),a.jsxDEV("div",{className:"space-y-4",children:[L.sort((p,N)=>p.slot-N.slot).map(p=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:["Speaker ",p.slot]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11532,columnNumber:24},void 0),a.jsxDEV("button",{onClick:()=>Go(p.id),className:"w-8 h-8 bg-red-600 hover:bg-red-500 text-white rounded flex items-center justify-center transition-colors",title:"Remove Speaker",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11535,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11531,columnNumber:22},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Slot Number"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11547,columnNumber:26},void 0),a.jsxDEV("select",{value:p.slot,onChange:N=>$f(p.id,parseInt(N.target.value)),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm focus:outline-none focus:border-blue-500",children:[1,2,3,4,5,6,7].map(N=>{const D=L.some(V=>V.id!==p.id&&V.slot===N);return a.jsxDEV("option",{value:N,className:D?"bg-yellow-600 text-white":"bg-slate-600 text-white",children:[N," ",D?"(Used)":""]},N,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11558,columnNumber:32},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11550,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11546,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11568,columnNumber:26},void 0),a.jsxDEV("select",{value:p.location,onChange:N=>xa(p.id,"location",N.target.value),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm focus:outline-none focus:border-blue-500",children:[a.jsxDEV("option",{value:"Podium",children:"Podium"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11576,columnNumber:28},void 0),a.jsxDEV("option",{value:"Seat",children:"Seat"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11577,columnNumber:28},void 0),a.jsxDEV("option",{value:"Moderator",children:"Moderator"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11578,columnNumber:28},void 0),a.jsxDEV("option",{value:"Virtual",children:"Virtual"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11579,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11571,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11567,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Full Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11585,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.fullName,onChange:N=>xa(p.id,"fullName",N.target.value),placeholder:"Enter full name",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11588,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11584,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Title"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11599,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.title,onChange:N=>xa(p.id,"title",N.target.value),placeholder:"Enter title/position",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11602,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11598,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Organization"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11613,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.org,onChange:N=>xa(p.id,"org",N.target.value),placeholder:"Enter organization",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11616,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11612,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Speaker Photo Link"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11627,columnNumber:26},void 0),a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"url",value:p.photoLink,onChange:N=>xa(p.id,"photoLink",N.target.value),placeholder:"Enter photo URL",className:"flex-1 px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11631,columnNumber:28},void 0),p.photoLink&&a.jsxDEV("div",{className:"flex-shrink-0",children:a.jsxDEV("img",{src:p.photoLink,alt:p.fullName,className:"w-12 h-12 rounded object-cover border-2 border-slate-500 -mt-2.5",onError:N=>{N.target.style.display="none"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11640,columnNumber:32},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11639,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11630,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11626,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11544,columnNumber:22},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11530,columnNumber:20},void 0)),L.length===0&&a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("div",{className:"text-slate-400 text-lg mb-4",children:"No speakers added yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11659,columnNumber:22},void 0),a.jsxDEV("button",{onClick:Yc,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:"Add Your First Speaker"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11660,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11658,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11528,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11515,columnNumber:14},void 0),a.jsxDEV("div",{className:"border-t border-slate-700 p-6",children:a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:Mf,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:"Save & Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11674,columnNumber:18},void 0),a.jsxDEV("button",{onClick:()=>{ue(!1),C(null)},className:"flex-1 px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11680,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11673,columnNumber:16},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11672,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11497,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11496,columnNumber:10},void 0),es&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 max-w-md w-full",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[a.jsxDEV("h3",{className:"text-xl font-bold text-white",children:"Send Message to Full Screen Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11700,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>Qi(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsxDEV("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11706,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11705,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11701,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11699,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Quick Presets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11714,columnNumber:17},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["Break in 5 minutes","Technical difficulties","Starting soon","Please wait","Break time","Resuming shortly","Stall / Stretch Time","Wrap Up Please"].map(p=>a.jsxDEV("button",{onClick:()=>Cs(p),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 border border-slate-600 rounded text-white text-sm transition-colors text-left",children:p},p,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11728,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11717,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11713,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Custom Message"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11741,columnNumber:17},void 0),a.jsxDEV("textarea",{value:Es,onChange:p=>Cs(p.target.value),placeholder:"Enter custom message to display on full screen timer...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm h-24 resize-none"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11744,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11740,columnNumber:15},void 0),Es&&a.jsxDEV("div",{className:"p-3 bg-slate-700 rounded-lg",children:a.jsxDEV("div",{className:"text-slate-300 text-sm",children:[a.jsxDEV("strong",{children:"Message Preview:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11756,columnNumber:21},void 0)," ",Es]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11755,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11754,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11711,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-3 mt-6",children:[a.jsxDEV("button",{onClick:async()=>{if(!(!Es.trim()||!t?.id))try{const N=(await lt.getTimerMessagesForEvent(t.id)).filter(q=>q.enabled);for(const q of N)await lt.disableTimerMessage(q.id),console.log(" Disabled existing message:",q.id);const D={event_id:t.id,message:Es.trim(),enabled:!0,sent_by:o?.id,sent_by_name:o?.full_name||o?.email||"Unknown User",sent_by_role:c||"VIEWER",message_type:"general",priority:2},V=await lt.saveTimerMessage(D);if(!V){console.error(" Failed to save message to Supabase"),alert("Failed to save message. Please try again.");return}console.log(" New message created in Supabase:",V),jc(!0),Ds&&!Ds.closed&&Ds.postMessage({type:"MESSAGE_UPDATE",message:Es,enabled:!0},"*"),Cs(""),Qi(!1)}catch(p){console.error(" Error saving message:",p),alert("Error saving message. Please try again.")}},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded transition-colors",disabled:!Es.trim()||!t?.id,children:"Send & Activate Message"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11764,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>Qi(!1),className:"flex-1 px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white font-medium rounded transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11822,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11763,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11698,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11697,columnNumber:9},void 0),Vl&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg max-w-md w-full max-h-[80vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-slate-600",children:[a.jsxDEV("h2",{className:"text-lg font-bold text-white",children:"Filter Columns"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11839,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>$o(!1),className:"text-slate-400 hover:text-white text-xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11840,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11838,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("p",{className:"text-slate-300 text-sm mb-4",children:"Select which columns to display in the schedule:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11851,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:_t.start,onChange:p=>fr(N=>({...N,start:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11855,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Start Time"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11861,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11854,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:_t.programType,onChange:p=>fr(N=>({...N,programType:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11865,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Program Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11871,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11864,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:_t.duration,onChange:p=>fr(N=>({...N,duration:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11875,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11881,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11874,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:_t.segmentName,onChange:p=>fr(N=>({...N,segmentName:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11885,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Segment Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11891,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11884,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:_t.shotType,onChange:p=>fr(N=>({...N,shotType:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11895,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Shot Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11901,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11894,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:_t.pptQA,onChange:p=>fr(N=>({...N,pptQA:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11905,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"PPT/Q&A"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11911,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11904,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:_t.notes,onChange:p=>fr(N=>({...N,notes:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11915,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Notes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11921,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11914,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:_t.assets,onChange:p=>fr(N=>({...N,assets:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11925,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Assets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11931,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11924,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:_t.speakers,onChange:p=>fr(N=>({...N,speakers:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11946,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11952,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11945,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:_t.public,onChange:p=>fr(N=>({...N,public:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11957,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Public"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11963,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11956,columnNumber:19},void 0),re.map((p,N)=>a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:Xr[p.id]!==!1,onChange:D=>Gr(V=>({...V,[p.id]:D.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11968,columnNumber:23},void 0),a.jsxDEV("span",{className:"text-white",children:[p.name,a.jsxDEV("span",{className:"text-slate-400 text-xs ml-2",children:"(Custom)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11976,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11974,columnNumber:23},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11967,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11853,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11850,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11849,columnNumber:13},void 0),a.jsxDEV("div",{className:"p-4 border-t border-slate-600",children:a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>{fr({start:!0,programType:!0,duration:!0,segmentName:!0,shotType:!0,pptQA:!0,notes:!0,assets:!0,participants:!1,speakers:!0,public:!0,custom:!0});const p={};re.forEach(N=>{p[N.id]=!0}),Gr(p)},className:"px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white font-medium rounded transition-colors text-sm",children:"Show All"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11987,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{fr({start:!1,programType:!1,duration:!1,segmentName:!1,shotType:!1,pptQA:!1,notes:!1,assets:!1,participants:!1,speakers:!1,public:!1,custom:!1});const p={};re.forEach(N=>{p[N.id]=!1}),Gr(p)},className:"px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white font-medium rounded transition-colors text-sm",children:"Hide All"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12014,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>$o(!1),className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded transition-colors text-sm",children:"Apply Filters"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12041,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11986,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11985,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11836,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11835,columnNumber:9},void 0),td&&ao&&a.jsxDEV("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:a.jsxDEV("div",{className:"flex flex-col",children:[a.jsxDEV("div",{className:`bg-slate-700 text-white px-4 py-2 rounded-t-lg flex items-center justify-between text-sm font-medium border-2 border-b-0 ${ws==="early"?"border-yellow-500":ws==="late"?"border-red-500":"border-green-500"}`,children:[a.jsxDEV("div",{className:"flex-1 text-center",children:["Closes in: ",Il,"s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12064,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>{qa(!1),Fl(20),Fn.current&&(clearTimeout(Fn.current),Fn.current=null),Ks.current&&(clearInterval(Ks.current),Ks.current=null)},className:"text-xl hover:opacity-70 transition-opacity ml-2",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12067,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12057,columnNumber:13},void 0),a.jsxDEV("div",{className:`px-6 py-4 rounded-b-lg shadow-lg border-2 flex items-center gap-3 ${ws==="early"?"bg-yellow-600 border-yellow-500 text-yellow-100":ws==="late"?"bg-red-600 border-red-500 text-red-100":"bg-green-600 border-green-500 text-green-100"}`,children:[a.jsxDEV("div",{className:"text-3xl flex-shrink-0",children:ws==="early"?"":ws==="late"?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12094,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"font-bold text-lg mb-1",children:ws==="early"?"EARLY":ws==="late"?"RUNNING LATE":"ON TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12098,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-base font-medium",children:[a.jsxDEV("div",{className:"mb-2",children:[a.jsxDEV("span",{className:"textelm font-semibold",children:"Scheduled Start: "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12103,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-xl font-bold",children:Fc||Object.keys(z).length>0&&(()=>{const p=parseInt(Object.keys(z)[0]),N=_.findIndex(D=>D.id===p);return cn(N)})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12104,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12102,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("span",{className:"text-2xl font-bold",children:ia>=60?`${Math.floor(ia/60)}h ${ia%60}m`:`${ia}m`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12113,columnNumber:21},void 0),ws==="early"?` before CUE ${Object.keys(z).length>0&&_.find(p=>p.id===parseInt(Object.keys(z)[0]))?.customFields.cue||"0"} expected start`:ws==="late"?` after CUE ${Object.keys(z).length>0&&_.find(p=>p.id===parseInt(Object.keys(z)[0]))?.customFields.cue||"0"} expected start`:" - Timing is on track"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12112,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12101,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12097,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12087,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12055,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12054,columnNumber:9},void 0),a.jsxDEV(pj,{isOpen:jl,onClose:()=>Zi(!1),event:t},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12132,columnNumber:7},void 0),a.jsxDEV(hj,{isOpen:Ju,onClose:()=>Wa(!1),onSelectFullscreenTimer:qh,onSelectClock:Wo},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12139,columnNumber:7},void 0),na&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-8 w-full max-w-7xl max-h-[95vh] overflow-hidden flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Backup Management"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12151,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>eo(!1),className:"text-slate-400 hover:text-white text-2xl font-bold",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12152,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12150,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-blue-900 border border-blue-600 rounded-lg p-4 mb-6",children:a.jsxDEV("div",{className:"flex items-start",children:[a.jsxDEV("div",{className:"text-blue-400 text-xl mr-3",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12163,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"text-blue-200 font-semibold mb-1",children:"Neon Database Backups"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12165,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-blue-100 text-sm",children:'Create and manage backups of your run of show data stored in Neon database. Use the " Create Backup" button to create manual backups when needed.'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12166,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12164,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12162,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12161,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 mb-6",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-4",children:"Filter & Search"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12176,columnNumber:15},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-base font-medium mb-3",children:"Search by Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12179,columnNumber:19},void 0),a.jsxDEV("input",{type:"text",placeholder:"Filter by event name...",className:"w-full px-4 py-3 bg-slate-600 border border-slate-500 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-base",onChange:p=>{}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12180,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12178,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-base font-medium mb-3",children:"Filter by Date"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12190,columnNumber:19},void 0),a.jsxDEV("input",{type:"date",className:"w-full px-4 py-3 bg-slate-600 border border-slate-500 rounded-lg text-white focus:outline-none focus:border-blue-500 text-base",onChange:p=>{}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12191,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12189,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-base font-medium mb-3",children:"Sort by"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12200,columnNumber:19},void 0),a.jsxDEV("select",{className:"w-full px-4 py-3 bg-slate-600 border border-slate-500 rounded-lg text-white focus:outline-none focus:border-blue-500 text-base",children:[a.jsxDEV("option",{value:"newest",children:"Newest First"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12202,columnNumber:21},void 0),a.jsxDEV("option",{value:"oldest",children:"Oldest First"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12203,columnNumber:21},void 0),a.jsxDEV("option",{value:"event",children:"Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12204,columnNumber:21},void 0),a.jsxDEV("option",{value:"type",children:"Backup Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12205,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12201,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12199,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12177,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12175,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 flex-1 overflow-hidden flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h3",{className:"text-xl font-semibold text-white",children:"Available Backups"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12214,columnNumber:17},void 0),a.jsxDEV("button",{onClick:Wl,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white text-base font-medium rounded-lg transition-colors",children:" Refresh"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12215,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12213,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:Al.length===0?a.jsxDEV("div",{className:"text-slate-400 text-center py-12 text-lg",children:'No backups available. Use the " Create Backup" button in the main interface to create a manual backup.'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12225,columnNumber:19},void 0):a.jsxDEV("div",{className:"space-y-4",children:Al.map(p=>a.jsxDEV("div",{className:"bg-slate-600 p-6 rounded-lg flex justify-between items-center hover:bg-slate-500 transition-colors",children:[a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"text-white font-semibold text-xl mb-2 flex items-center gap-3",children:[p.backup_name,a.jsxDEV("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.backup_type==="auto"?"bg-blue-600 text-blue-100":"bg-green-600 text-green-100"}`,children:p.backup_type},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12235,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12233,columnNumber:27},void 0),a.jsxDEV("div",{className:"text-slate-400 text-sm",children:[a.jsxDEV("strong",{children:"Event Date:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12244,columnNumber:29},void 0)," ",p.event_data?.date?new Date(p.event_data.date).toLocaleDateString():"N/A"," ",a.jsxDEV("strong",{children:" Schedule Items:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12245,columnNumber:29},void 0)," ",p.schedule_data?.length||0," ",a.jsxDEV("strong",{children:" Custom Columns:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12246,columnNumber:29},void 0)," ",p.custom_columns_data?.length||0]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12243,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12232,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex space-x-3",children:[a.jsxDEV("button",{onClick:()=>Qh(p),className:"px-6 py-3 bg-green-600 hover:bg-green-500 text-white text-base font-medium rounded-lg transition-colors",title:"Preview and load this backup",children:" Load/Overwrite"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12250,columnNumber:27},void 0),a.jsxDEV("button",{onClick:()=>hd(String(p.id)),className:"px-5 py-3 bg-red-600 hover:bg-red-500 text-white text-base font-medium rounded-lg transition-colors",title:"Delete this backup",children:" Delete"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12257,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12249,columnNumber:25},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12231,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12229,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12223,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12212,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12149,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12148,columnNumber:9},void 0),G&&Xe&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-8 w-full max-w-2xl",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Confirm Backup Restore"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12280,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>ke(!1),className:"text-slate-400 hover:text-white text-2xl font-bold",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12281,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12279,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 mb-6",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-4",children:"Backup Details"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12290,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Backup Name:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12293,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-medium",children:Xe.backup_name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12294,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12292,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Event:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12297,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-medium",children:Xe.event_data?.name||"Unknown"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12298,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12296,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Date:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12301,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-medium",children:new Date(Xe.backup_timestamp).toLocaleString()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12302,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12300,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12305,columnNumber:19},void 0),a.jsxDEV("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Xe.backup_type==="auto"?"bg-blue-600 text-blue-100":"bg-green-600 text-green-100"}`,children:Xe.backup_type},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12306,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12304,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Schedule Items:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12315,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-medium",children:Xe.schedule_data?.length||0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12316,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12314,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Custom Columns:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12319,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-medium",children:Xe.custom_columns_data?.length||0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12320,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12318,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12291,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12289,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-4 mb-6",children:a.jsxDEV("div",{className:"flex items-start",children:[a.jsxDEV("div",{className:"text-yellow-400 text-xl mr-3",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12327,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"text-yellow-200 font-semibold mb-2",children:"Warning"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12329,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-yellow-100 text-sm",children:"This will completely overwrite your current run of show data with the backup data. This action cannot be undone. Make sure you want to proceed."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12330,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12328,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12326,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12325,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex justify-end space-x-4",children:[a.jsxDEV("button",{onClick:()=>ke(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white text-base font-medium rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12339,columnNumber:15},void 0),a.jsxDEV("button",{onClick:Zh,className:"px-6 py-3 bg-green-600 hover:bg-green-500 text-white text-base font-medium rounded-lg transition-colors",children:" Confirm Restore"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12345,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12338,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12278,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12277,columnNumber:9},void 0),bt&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl max-w-6xl w-full max-h-[80vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center p-4 border-b border-slate-600",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Speaker Manager - Copy Speakers Between Rows"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12361,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>{Dt(!1),Ht(null),Kt(null),mr(new Set),pr([]),ae([])},className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded-lg transition-colors",children:"Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12362,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12360,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1 p-4 space-y-4 overflow-hidden",children:a.jsxDEV("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h3",{className:"text-base font-semibold text-white",children:"Source Row (Copy From)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12382,columnNumber:19},void 0),a.jsxDEV("select",{value:Tt||"",onChange:p=>{const N=p.target.value?parseInt(p.target.value):null;if(Ht(N),mr(new Set),pr([]),N){const D=_.find(V=>V.id===N);if(D?.speakersText)try{const V=JSON.parse(D.speakersText),q=Array.isArray(V)?V:[V];pr(q)}catch{pr([])}else pr([])}},className:"w-full px-4 py-2.5 bg-slate-700 border border-slate-500 rounded text-white text-sm",children:[a.jsxDEV("option",{value:"",children:"Select source row..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12407,columnNumber:21},void 0),ba().map(p=>a.jsxDEV("option",{value:p.id,children:[p.customFields?.cue?`CUE ${p.customFields.cue}: `:"",p.segmentName]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12409,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12383,columnNumber:19},void 0),Tt&&ir.length>0&&a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-3 h-[calc(80vh-280px)] overflow-y-auto",children:[a.jsxDEV("div",{className:"text-sm text-slate-300 mb-3",children:"Select speakers to copy:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12418,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3",children:ir.map((p,N)=>{const D=p.id||`speaker_${N}`,V=Gt.has(D);return a.jsxDEV("label",{className:`flex items-start gap-3 p-3 rounded cursor-pointer transition-colors ${V?"bg-blue-600 border-2 border-blue-400":"bg-slate-600 border-2 border-slate-500 hover:border-slate-400"}`,children:[a.jsxDEV("input",{type:"checkbox",checked:V,onChange:q=>{const fe=new Set(Gt);if(q.target.checked?fe.add(D):fe.delete(D),mr(fe),ur){const xe=ir.filter((Re,Ue)=>{const We=Re.id||`speaker_${Ue}`;return fe.has(We)}).map(Re=>({...Re}));ae(xe)}},className:"w-5 h-5 mt-1 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12432,columnNumber:31},void 0),p.photoLink&&a.jsxDEV("img",{src:p.photoLink,alt:p.fullName,className:"w-20 h-24 rounded object-cover border-2 border-slate-400 flex-shrink-0",onError:q=>{q.currentTarget.style.display="none"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12458,columnNumber:33},void 0),a.jsxDEV("div",{className:"flex-1 min-w-0",children:[a.jsxDEV("div",{className:"text-white text-base font-semibold",children:p.fullName||"Unnamed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12468,columnNumber:33},void 0),a.jsxDEV("div",{className:"text-sm text-slate-300 mt-1",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-yellow-400 font-bold",children:["SLOT ",p.slot]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12471,columnNumber:37},void 0),a.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12472,columnNumber:37},void 0),a.jsxDEV("span",{children:[p.location==="Podium"&&"",p.location==="Seat"&&"",p.location==="Virtual"&&"",p.location==="Moderator"&&"",p.location]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12473,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12470,columnNumber:35},void 0),p.title&&a.jsxDEV("div",{className:"mt-1",children:["Title: ",p.title]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12481,columnNumber:53},void 0),p.org&&a.jsxDEV("div",{children:["Org: ",p.org]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12482,columnNumber:51},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12469,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12467,columnNumber:31},void 0)]},D,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12424,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12419,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12417,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12381,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-3 flex flex-col",children:[a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-base font-semibold text-white mb-2",children:"Target Row (Copy To)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12496,columnNumber:21},void 0),a.jsxDEV("select",{value:ur||"",onChange:p=>{const N=p.target.value?parseInt(p.target.value):null;if(Kt(N),N&&Gt.size>0){const D=ir.filter((V,q)=>Gt.has(V.id||`speaker_${q}`)).map(V=>({...V}));ae(D)}else ae([])},disabled:!Tt||Gt.size===0,className:"w-full px-4 py-2.5 bg-slate-700 border border-slate-500 rounded text-white text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsxDEV("option",{value:"",children:"Select target row..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12515,columnNumber:23},void 0),ba().filter(p=>p.id!==Tt).map(p=>a.jsxDEV("option",{value:p.id,children:[p.customFields?.cue?`CUE ${p.customFields.cue}: `:"",p.segmentName]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12519,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12497,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12495,columnNumber:19},void 0),ur&&Gt.size>0&&or.length>0&&a.jsxDEV("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsxDEV("h3",{className:"text-base font-semibold text-white mb-3",children:"Adjust Slot & Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12529,columnNumber:23},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-3 h-[calc(80vh-280px)] overflow-y-auto",children:a.jsxDEV("div",{className:"space-y-3",children:or.map((p,N)=>{const D=p.id||`speaker_${N}`,V=_.find(Re=>Re.id===ur);let q=[];if(V?.speakersText)try{const Re=JSON.parse(V.speakersText);q=(Array.isArray(Re)?Re:[Re]).map(We=>We.slot)}catch{}const fe=[1,2,3,4,5,6,7].filter(Re=>!q.includes(Re)),xe=["Podium","Seat","Virtual","Moderator"];return a.jsxDEV("div",{className:"bg-slate-600 rounded-lg p-3",children:[a.jsxDEV("div",{className:"text-white font-semibold text-sm mb-3",children:p.fullName||"Unnamed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12549,columnNumber:33},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-1 block",children:"Slot:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12552,columnNumber:37},void 0),a.jsxDEV("select",{value:p.slot,onChange:Re=>{const Ue=parseInt(Re.target.value);ae(We=>We.map(Ke=>(Ke.id||`speaker_${or.indexOf(Ke)}`)===D?{...Ke,slot:Ue}:Ke))},className:"w-full px-3 py-2 bg-slate-500 border border-slate-400 rounded text-white text-sm",children:[fe.map(Re=>a.jsxDEV("option",{value:Re,children:Re},Re,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12568,columnNumber:41},void 0)),!fe.includes(p.slot)&&a.jsxDEV("option",{value:p.slot,children:[p.slot," (conflict)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12573,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12553,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12551,columnNumber:35},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-1 block",children:"Location:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12578,columnNumber:37},void 0),a.jsxDEV("select",{value:p.location,onChange:Re=>{const Ue=Re.target.value;ae(We=>We.map(Ke=>(Ke.id||`speaker_${or.indexOf(Ke)}`)===D?{...Ke,location:Ue}:Ke))},className:"w-full px-3 py-2 bg-slate-500 border border-slate-400 rounded text-white text-sm",children:xe.map(Re=>a.jsxDEV("option",{value:Re,children:Re},Re,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12594,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12579,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12577,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12550,columnNumber:33},void 0)]},D,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12548,columnNumber:31},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12531,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12530,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12528,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12494,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12379,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12377,columnNumber:13},void 0),ur&&Gt.size>0&&a.jsxDEV("div",{className:"border-t border-slate-600 p-4 bg-slate-800 rounded-b-xl",children:a.jsxDEV("div",{className:"flex justify-end",children:a.jsxDEV("button",{onClick:()=>{if(!Tt||!ur||Gt.size===0)return;os();const p=_.find(xe=>xe.id===ur);if(!p)return;const N=or.map(xe=>({...xe,id:`speaker_${Date.now()}_${Math.random()}`}));let D=[];if(p.speakersText)try{const xe=JSON.parse(p.speakersText);D=Array.isArray(xe)?xe:[xe]}catch{}const V=[...D,...N],q=JSON.stringify(V);p.speakersText,B(xe=>xe.map(Re=>Re.id===ur?{...Re,speakersText:q}:Re));const fe=_.find(xe=>xe.id===Tt);ee("COPY_SPEAKERS",`Copied ${N.length} speaker(s) from "${fe?.segmentName}" to "${p.segmentName}"`,{changeType:"COPY_SPEAKERS",sourceItemId:Tt,targetItemId:ur,sourceItemName:fe?.segmentName,targetItemName:p.segmentName,speakersCount:N.length,details:{speakers:N.map(xe=>({name:xe.fullName,slot:xe.slot,location:xe.location}))}}),Dt(!1),Ht(null),Kt(null),mr(new Set),pr([]),ae([])},className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:["Copy ",Gt.size," Speaker",Gt.size!==1?"s":""," to Target Row"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12618,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12617,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12616,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12359,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12358,columnNumber:9},void 0),a.jsxDEV(g9,{isOpen:aa,onClose:()=>{qs(),to(!1)},onImport:vd,onDeleteAll:Rr},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12698,columnNumber:7},void 0),a.jsxDEV(k9,{isOpen:Ya,onClose:()=>{qs(),ro(!1)},onImport:vd,onDeleteAll:Rr},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12709,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7836,columnNumber:5},void 0):a.jsxDEV("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("h1",{className:"text-2xl font-bold mb-4",children:"No Event Selected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7824,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>s("/"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded",children:"Back to Event List"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7825,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7823,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7822,columnNumber:7},void 0)};class P9{constructor(s){this.activeTimers=new Map,this.checkInterval=null,this.syncCallbacks=new Map,this.isRunning=!1,this.config={checkInterval:3e4,maxDriftThreshold:30,forceSyncInterval:3e4,minTimerDuration:0,...s}}startMonitoring(s,t,i,o){if(console.log(` DriftDetector: Starting monitoring for timer ${s}`,{startedAt:t.toISOString(),duration:i,minDuration:this.config.minTimerDuration}),i<this.config.minTimerDuration){console.log(` DriftDetector: Skipping timer ${s} - duration too short (${i}s < ${this.config.minTimerDuration}s)`);return}const u={itemId:s,startedAt:t,duration:i,lastSyncAt:new Date,localElapsed:0,serverElapsed:0};this.activeTimers.set(s,u),this.syncCallbacks.set(s,o),this.isRunning||this.startMonitoringLoop()}stopMonitoring(s){console.log(` DriftDetector: Stopping monitoring for timer ${s}`),this.activeTimers.delete(s),this.syncCallbacks.delete(s),this.activeTimers.size===0&&this.isRunning&&this.stopMonitoringLoop()}updateLocalElapsed(s,t){const i=this.activeTimers.get(s);i&&(i.localElapsed=t)}async forceSync(s,t){const i=this.activeTimers.get(s);if(i)try{const o=await t(),u=Math.abs(o-i.localElapsed);console.log(` DriftDetector: Force sync for timer ${s}`,{localElapsed:i.localElapsed,serverElapsed:o,drift:u.toFixed(2)}),i.serverElapsed=o,i.lastSyncAt=new Date;const c=this.syncCallbacks.get(s);c&&c(o)}catch(o){console.error(` DriftDetector: Error during force sync for timer ${s}:`,o)}}startMonitoringLoop(){this.isRunning||(console.log(" DriftDetector: Starting monitoring loop"),this.isRunning=!0,this.checkInterval=setInterval(()=>{this.checkAllTimers()},this.config.checkInterval))}stopMonitoringLoop(){this.isRunning&&(console.log(" DriftDetector: Stopping monitoring loop"),this.isRunning=!1,this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null))}async checkAllTimers(){const s=new Date,t=[];for(const[i,o]of this.activeTimers)t.push(this.checkTimerDrift(i,o,s));await Promise.all(t)}async checkTimerDrift(s,t,i){try{const o=i.getTime()-t.lastSyncAt.getTime();if(o>=this.config.forceSyncInterval){console.log(` DriftDetector: Force sync needed for timer ${s} (${o}ms since last sync)`);return}const c=Math.floor((i.getTime()-t.startedAt.getTime())/1e3),m=Math.abs(c-t.localElapsed);m>this.config.maxDriftThreshold&&console.log(` DriftDetector: Significant drift detected for timer ${s}`,{localElapsed:t.localElapsed,expectedElapsed:c,drift:m.toFixed(2),threshold:this.config.maxDriftThreshold})}catch(o){console.error(` DriftDetector: Error checking drift for timer ${s}:`,o)}}getConfig(){return{...this.config}}updateConfig(s){this.config={...this.config,...s},console.log(" DriftDetector: Configuration updated",this.config)}getStatus(){const s=new Date;return Array.from(this.activeTimers.entries()).map(([t,i])=>{const o=Math.abs(i.serverElapsed-i.localElapsed),u=s.getTime()-i.lastSyncAt.getTime();return{itemId:t,drift:o,timeSinceLastSync:u}})}getStatusForTimer(s){const t=this.activeTimers.get(s);if(!t)return{itemId:s,drift:0,timeSinceLastSync:0};const i=new Date,o=Math.abs(t.serverElapsed-t.localElapsed),u=i.getTime()-t.lastSyncAt.getTime();return{itemId:s,drift:o,timeSinceLastSync:u}}destroy(){console.log(" DriftDetector: Destroying drift detector"),this.stopMonitoringLoop(),this.activeTimers.clear(),this.syncCallbacks.clear()}}const Nl=new P9,Ck=({itemId:e,className:s=""})=>{const[t,i]=O.useState(null);if(O.useEffect(()=>{console.log(` DriftStatusIndicator: Starting for itemId ${e}`);const h=()=>{const v=Nl.getStatusForTimer(e);console.log(` DriftStatusIndicator: Status for itemId ${e}:`,v),v?(console.log(` DriftStatusIndicator: Found status for itemId ${e}:`,v),i({drift:v.drift,timeSinceLastSync:v.timeSinceLastSync})):(console.log(` DriftStatusIndicator: No status found for itemId ${e}`),i(null))};h();const g=setInterval(h,5e3);return()=>clearInterval(g)},[e]),!t)return console.log(` DriftStatusIndicator: No drift info for itemId ${e}, showing blue dot (starting up)`),a.jsxDEV("div",{className:`drift-status ${s}`,children:a.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-blue-500",title:`Drift detection starting up for timer ${e}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DriftStatusIndicator.tsx",lineNumber:44,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DriftStatusIndicator.tsx",lineNumber:43,columnNumber:7},void 0);const{drift:o,timeSinceLastSync:u}=t,c=o>30,m=u>6e4;return a.jsxDEV("div",{className:`drift-status ${s}`,children:a.jsxDEV("div",{className:`w-2 h-2 rounded-full ${c?"bg-red-500":m?"bg-yellow-500":"bg-green-500"}`,title:`Drift: ${o.toFixed(1)}s, Last sync: ${Math.round(u/1e3)}s ago`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DriftStatusIndicator.tsx",lineNumber:58,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DriftStatusIndicator.tsx",lineNumber:57,columnNumber:5},void 0)},U9=({isRunning:e=!1,elapsedTime:s=0,totalDuration:t=0,onClose:i,message:o="",messageEnabled:u=!1,itemId:c,eventId:m,supabaseMessage:h=null,mainTimer:g=null,secondaryTimer:v=null,hybridTimerData:b=null,clockOffset:E=0})=>{const[k,w]=O.useState({elapsed:s,total:t}),[y,T]=O.useState(new Date),[J,Z]=O.useState(!1),[R,le]=O.useState(!1),[W,ee]=O.useState(!1),[X,De]=O.useState(null),[_,B]=O.useState(0),[re,H]=O.useState(null),[oe,_e]=O.useState(null),[ne,we]=O.useState(null),[ve,Me]=O.useState(null),[be,Ie]=O.useState(new Set);O.useEffect(()=>{v&&console.log(" Secondary timer prop updated:",{secondaryTimer:v,supabaseOnly:W,hasSecondaryTimer:!!v})},[v,W]),O.useEffect(()=>{if(W&&b?.activeTimer){const ie=b.activeTimer;if(ie.is_running&&ie.is_active){const Y=new Date,U=new Date(ie.started_at),de=Math.floor((Y.getTime()-U.getTime())/1e3),I=ie.duration_seconds||0;w({elapsed:de,total:I})}else w({elapsed:0,total:ie.duration_seconds||0})}else if(!W&&b?.activeTimer){const ie=b.activeTimer;if(ie.is_running&&ie.is_active){const Y=new Date,U=new Date(ie.started_at),de=Math.floor((Y.getTime()-U.getTime())/1e3),I=ie.duration_seconds||0;w({elapsed:de,total:I})}else w({elapsed:0,total:ie.duration_seconds||0})}else w({elapsed:s,total:t})},[s,t,W,b]),O.useEffect(()=>{const ie=setInterval(()=>{T(new Date)},1e3);return()=>clearInterval(ie)},[]),O.useEffect(()=>{const ie=()=>{Z(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",ie),()=>document.removeEventListener("fullscreenchange",ie)},[]),O.useEffect(()=>{if(!W||!m){if(X&&(clearInterval(X),De(null)),H(null),_e(null),we(null),re){const U=parseInt(re.split("_")[0]);Nl.stopMonitoring(U)}ve&&(clearInterval(ve),Me(null)),Ie(new Set);return}const ie=async()=>{try{console.log(" Fetching hybrid timer data from Supabase...");const U=await lt.getHybridTimerData(m);if(setHybridTimerData(U),console.log(" Hybrid timer data updated:",U),U?.secondaryTimer?console.log(" Secondary timer data:",U.secondaryTimer):console.log(" No secondary timer data found"),U?.subCueTimers&&U.subCueTimers.length>0?(console.log(" Sub-cue timers data:",U.subCueTimers),console.log(" First sub-cue timer structure:",U.subCueTimers[0])):console.log(" No sub-cue timers data found"),U?.secondaryTimer&&console.log(" Secondary timer data (from sub-cue fallback):",U.secondaryTimer),U?.activeTimer&&console.log(" Active timer data for CUE display:",{cue_display:U.activeTimer.cue_display,cue:U.activeTimer.cue,item_id:U.activeTimer.item_id,allFields:Object.keys(U.activeTimer),fullData:U.activeTimer}),U?.lastLoadedCue&&console.log(" Last loaded cue data:",{cue:U.lastLoadedCue.cue,cue_display:U.lastLoadedCue.cue_display,segment_name:U.lastLoadedCue.segment_name,allFields:Object.keys(U.lastLoadedCue),fullData:U.lastLoadedCue}),U?.cueData?console.log(" CUE data from schedule/items table:",{allFields:Object.keys(U.cueData),fullData:U.cueData}):console.log(" No CUE data found from schedule/items tables"),U?.activeTimer&&console.log(" Full active timer data structure:",U.activeTimer),U?.activeTimer&&W){const de=`${U.activeTimer.item_id}_${U.activeTimer.started_at}`,I=U.activeTimer.item_id;re&&re!==de&&(console.log(" Active timer changed - stopping secondary timer"),console.log(" Previous timer:",re),console.log(" New timer:",de),setHybridTimerData(j=>({...j,secondaryTimer:null}))),oe&&oe!==I&&(console.log(" New cue loaded - stopping secondary timer"),console.log(" Previous item_id:",oe),console.log(" New item_id:",I),setHybridTimerData(j=>({...j,secondaryTimer:null})));const Ee=U.activeTimer.started_at;if(ne&&ne!==Ee&&(console.log(" Timer start time changed - restarting local timer"),console.log(" Previous start time:",ne),console.log(" New start time:",Ee)),U.activeTimer.is_running&&U.activeTimer.is_active&&U.activeTimer.started_at){const j=new Date(U.activeTimer.started_at),he=U.activeTimer.duration_seconds;console.log(` Starting drift detection for timer ${I} with duration ${he}s`),Nl.stopMonitoring(I),Nl.startMonitoring(I,j,he,Fe=>{console.log(` DriftDetector: Syncing timer ${I} with server elapsed: ${Fe}s`),Ie(He=>new Set(He).add(I))});const Ce=setInterval(async()=>{try{console.log(` DriftDetector: Starting periodic sync for timer ${I}`),await Nl.forceSync(I,async()=>{const He=(await lt.getActiveTimer(m))?.elapsed_seconds||0;return console.log(` DriftDetector: Server returned elapsed: ${He}s for timer ${I}`),He})}catch(Fe){console.warn(` DriftDetector: Failed to sync timer ${I}:`,Fe)}},3e4);Me(Ce)}H(de),_e(I),we(Ee)}else if(!U?.activeTimer&&re&&W){if(console.log(" Active timer stopped - stopping secondary timer and drift detection"),setHybridTimerData(de=>({...de,secondaryTimer:null})),re){const de=parseInt(re.split("_")[0]);Nl.stopMonitoring(de),Ie(I=>{const Ee=new Set(I);return Ee.delete(de),Ee})}ve&&(clearInterval(ve),Me(null)),H(null),_e(null),we(null)}}catch(U){console.error(" Error fetching hybrid timer data:",U)}};ie();const Y=setInterval(ie,3e3);return De(Y),()=>{clearInterval(Y),De(null)}},[W,m]),O.useEffect(()=>{if(!W&&!b?.secondaryTimer||W&&!b?.secondaryTimer)return;const ie=setInterval(()=>{B(Y=>Y+1)},1e3);return()=>clearInterval(ie)},[W,b?.secondaryTimer]),O.useEffect(()=>{if(!b?.activeTimer)return;const ie=b.activeTimer,Y=ie.item_id;if(ie.is_running&&ie.is_active&&ie.started_at){const U=new Date(ie.started_at),de=ie.duration_seconds;console.log(` Starting continuous local timer for ${Y} with duration ${de}s, start time: ${U.toISOString()}`);const I=setInterval(()=>{const Ee=new Date,j=Math.floor((Ee.getTime()-U.getTime())/1e3);w(he=>({...he,elapsed:j,total:de})),Nl.updateLocalElapsed(Y,j),j<=10&&console.log(` Timer ${Y}: Continuous elapsed=${j}s, Start=${U.toISOString()}, Now=${Ee.toISOString()}`)},1e3);return()=>{console.log(` Stopping continuous local timer for ${Y}`),clearInterval(I)}}},[b?.activeTimer,ne]),O.useEffect(()=>()=>{console.log(" Cleaning up drift detector on component unmount"),Nl.destroy(),ve&&clearInterval(ve)},[]);const Te=ie=>{const Y=ie<0,U=Math.abs(ie),de=Math.floor(U/3600),I=Math.floor(U%3600/60),Ee=Math.floor(U%60),j=Y?"-":"";return de===0?`${j}${I.toString().padStart(2,"0")}:${Ee.toString().padStart(2,"0")}`:`${j}${de.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}:${Ee.toString().padStart(2,"0")}`},Q=ie=>ie.toLocaleTimeString("en-US",{hour12:!0,hour:"2-digit",minute:"2-digit",second:"2-digit"}),Oe=()=>{const ie=k,Y=ie.total-ie.elapsed;if(b?.activeTimer){const U=b.activeTimer;if(!U.is_running||!U.is_active)return ie.total}return Y},me=()=>{const ie=k,Y=ie.total-ie.elapsed;if(b?.activeTimer){const U=b.activeTimer;if(!U.is_running||!U.is_active)return 100}return ie.total>0?Y/ie.total*100:0},se=()=>{const ie=k,Y=ie.total-ie.elapsed;if(b?.activeTimer){const U=b.activeTimer;if(!U.is_running||!U.is_active)return"#6b7280"}return Y>120?"#10b981":Y>30?"#f59e0b":"#ef4444"};return a.jsxDEV("div",{className:"fixed inset-0 bg-black text-white overflow-hidden flex flex-col items-center justify-center",style:{padding:0,margin:0},children:[a.jsxDEV("div",{className:"absolute top-10 left-10 text-3xl font-mono text-white",children:[a.jsxDEV("div",{className:"text-slate-400 text-lg mb-1",children:"CURRENT TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:532,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-white",children:Q(y)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:533,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:531,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-10 right-10 text-3xl font-mono text-white z-50 w-80 text-right",children:[a.jsxDEV("div",{className:"text-slate-400 text-lg mb-1",children:"CURRENT CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:540,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-white flex items-center justify-end gap-3 whitespace-nowrap",children:[a.jsxDEV("span",{children:(()=>{if(b?.activeTimer){const ie=b.activeTimer,Y=b?.lastLoadedCue,U=b?.cueData;if(ie.cue_is)return console.log(" Using CUE data from active timer cue_is:",ie.cue_is),ie.cue_is;if(U){console.log(" CUE data structure:",U),console.log(" CUE data fields:",Object.keys(U));const I=U.customFields?.cue||U.cue||U.cue_display||U.name||U.title;if(U.segmentName||U.segment_name||U.segment,I)return console.log(" Found CUE display:",I),I}const de=ie.cue_display||ie.cue;if(ie.segment_name||ie.segmentName,de)return de;if(Y){const I=Y.cue_display||Y.cue;if(Y.segment_name||Y.segmentName,I)return I}return ie.item_id?`CUE ${ie.item_id.toString().slice(-4)}`:"No CUE"}return g?g.cue.includes("CUE")?g.cue.replace(/CUE(\d+)/,"CUE $1"):`CUE ${g.cue}`:"No CUE"})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:542,columnNumber:11},void 0),c&&a.jsxDEV(Ck,{itemId:c,className:"flex-shrink-0"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:601,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:541,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:539,columnNumber:7},void 0),!J&&b?.activeTimer&&a.jsxDEV("div",{className:"absolute bottom-10 left-10 text-center",children:a.jsxDEV("div",{className:`text-lg font-bold px-4 py-2 rounded-lg ${b.activeTimer.is_running&&b.activeTimer.is_active?"bg-green-600 text-white":"bg-gray-600 text-white"}`,children:b.activeTimer.is_running&&b.activeTimer.is_active?" TIMER RUNNING":" TIMER STOPPED"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:612,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:611,columnNumber:9},void 0),!J&&a.jsxDEV("div",{className:"absolute top-10 left-1/2 transform -translate-x-1/2 flex gap-3 z-50",children:[a.jsxDEV("button",{onClick:()=>{document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-bold text-lg transition-colors",children:"FULL SCREEN"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:628,columnNumber:9},void 0),!J&&a.jsxDEV("button",{onClick:()=>ee(!W),className:`px-4 py-2 rounded-lg font-bold text-lg transition-colors ${W?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:"NEON ONLY"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:639,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:627,columnNumber:9},void 0),(b?.timerMessage?b.timerMessage.enabled:u&&o||h&&h.enabled)&&a.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:"translateY(-40px)"},children:a.jsxDEV("div",{className:"font-bold text-white bg-black bg-opacity-50 rounded-lg border-4 border-white text-center flex items-center justify-center",style:{width:"80vw",minHeight:"50vh",maxHeight:"70vh",lineHeight:"1.2",whiteSpace:"pre-line",overflow:"visible",padding:"30px",display:"flex",alignItems:"center",justifyContent:"center",wordWrap:"break-word"},children:(()=>{const ie=b?.timerMessage?.message||h?.message||o,Y=ie.split(" ");let U;if(Y.length<=3)U=ie;else if(Y.length<=6){const Ee=Math.ceil(Y.length/2);U=Y.slice(0,Ee).join(" ")+`
`+Y.slice(Ee).join(" ")}else if(Y.length<=10){const Ee=Math.ceil(Y.length/3);U=Y.slice(0,Ee).join(" ")+`
`+Y.slice(Ee,Ee*2).join(" ")+`
`+Y.slice(Ee*2).join(" ")}else{const Ee=Math.ceil(Y.length/4);U=Y.slice(0,Ee).join(" ")+`
`+Y.slice(Ee,Ee*2).join(" ")+`
`+Y.slice(Ee*2,Ee*3).join(" ")+`
`+Y.slice(Ee*3).join(" ")}let de;const I=/[gjpqy]/.test(ie.toLowerCase());return Y.length<=3?de=I?"clamp(3rem, 12vw, 16rem)":"clamp(3.5rem, 13.5vw, 18rem)":Y.length<=6?de=I?"clamp(1.9rem, 8vw, 12rem)":"clamp(2.25rem, 9vw, 13.5rem)":Y.length<=10?de=I?"clamp(1.4rem, 6vw, 9rem)":"clamp(1.6rem, 7vw, 10.5rem)":de=I?"clamp(0.9rem, 4vw, 6rem)":"clamp(1.1rem, 5vw, 7rem)",a.jsxDEV("div",{style:{fontSize:de},children:U},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:728,columnNumber:17},void 0)})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:663,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:662,columnNumber:9},void 0),(()=>{const ie=b?.secondaryTimer||v;if(!ie)return!1;if(!ie.is_running)return console.log(" Sub-cue timer not running - hiding"),!1;if(ie.is_running&&ie.is_active){const Y=new Date,U=new Date(ie.started_at||ie.created_at),de=Math.floor((Y.getTime()-U.getTime())/1e3),I=ie.duration_seconds||ie.duration||0;if(Math.max(0,I-de)<=0)return!1}return!0})()&&a.jsxDEV("div",{className:`absolute animate-in fade-in duration-500 ${(b?.timerMessage?b.timerMessage.enabled:u&&o||h&&h.enabled)?"bottom-20 right-1/3 transform translate-x-1/2 flex flex-col items-center":"inset-0 flex flex-col items-center justify-center"}`,style:{marginTop:(b?.timerMessage?b.timerMessage.enabled:u&&o||h&&h.enabled)?"0":"-80px"},children:[a.jsxDEV("div",{className:`absolute left-1/2 transform -translate-x-1/2 text-orange-400 font-bold animate-in slide-in-from-top duration-500 ${b?.timerMessage?b.timerMessage.enabled?"text-lg md:text-xl lg:text-2xl":"text-xl md:text-2xl lg:text-3xl":u&&o||h&&h.enabled?"text-lg md:text-xl lg:text-2xl":"text-xl md:text-2xl lg:text-3xl"} whitespace-nowrap ${(b?.timerMessage?b.timerMessage.enabled:u&&o||h&&h.enabled)?"bottom-20 left-1/2 transform -translate-x-1/2":""}`,style:{lineHeight:"1.2",...b?.timerMessage?b.timerMessage.enabled?{bottom:"calc(5rem - 25px)"}:{top:"calc(50% - 150px)"}:u&&o||h&&h.enabled?{bottom:"calc(5rem - 25px)"}:{top:"calc(50% - 150px)"}},children:(()=>{const ie=b?.secondaryTimer||v;if(!ie)return"";if(W)return(ie.cue_display||ie.cue||ie.cue_is||"").replace(/CUE(\d+)/,"CUE $1");{const Y=ie.cue||"";return Y.includes("CUE")?Y.replace(/CUE(\d+)/,"CUE $1"):`CUE ${Y}`}})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:777,columnNumber:11},void 0),a.jsxDEV("div",{className:`text-orange-400 font-mono font-bold animate-in zoom-in duration-500 ${(()=>{const ie=b?.secondaryTimer||v;if(!ie)return"text-3xl md:text-4xl lg:text-5xl";let Y=0;if(W)if(ie.is_running&&ie.is_active){const de=new Date,I=new Date(ie.started_at||ie.created_at),Ee=Math.floor((de.getTime()-I.getTime())/1e3),j=ie.duration_seconds||ie.duration||0;Y=Math.max(0,j-Ee)}else Y=ie.duration_seconds||ie.duration||0;else Y=ie.remaining||0;const U=Math.floor(Y/3600);if(b?.timerMessage){if(b.timerMessage.enabled)return"text-3xl md:text-4xl lg:text-5xl"}else if(u&&o||h&&h.enabled)return"text-3xl md:text-4xl lg:text-5xl";return U===0?"text-[15rem] md:text-[16.875rem] lg:text-[22.5rem]":"text-[12rem] md:text-[13.5rem] lg:text-[18rem]"})()}`,style:{lineHeight:"1"},children:(()=>{const ie=b?.secondaryTimer||v;if(!ie)return"00:00";let Y=0;if(W)if(ie.is_running&&ie.is_active){const Ee=new Date,j=new Date(ie.started_at||ie.created_at),he=Math.floor((Ee.getTime()-j.getTime())/1e3),Ce=ie.duration_seconds||ie.duration||0;Y=Math.max(0,Ce-he)}else Y=ie.duration_seconds||ie.duration||0;else Y=ie.remaining||0;const U=Math.floor(Y/3600),de=Math.floor(Y%3600/60),I=Y%60;return U===0?`${de.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`:`${U.toString().padStart(2,"0")}:${de.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:815,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:763,columnNumber:9},void 0),(()=>{let ie=!1;if(W){const U=b?.secondaryTimer;if(U)if(U.is_running&&U.is_active){const de=new Date,I=new Date(U.started_at||U.created_at),Ee=Math.floor((de.getTime()-I.getTime())/1e3),j=U.duration_seconds||U.duration||0;ie=Math.max(0,j-Ee)>0}else ie=!0}else ie=!!v;const Y=W?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return ie&&Y})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-1/3 transform -translate-x-1/2",children:[Oe()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:935,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:934,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:se()},children:Te(Oe())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:941,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:931,columnNumber:9},void 0),(()=>{let ie=!1;if(W){const U=b?.secondaryTimer;if(U)if(!U.is_running)ie=!1;else if(U.is_running&&U.is_active){const de=new Date,I=new Date(U.started_at||U.created_at),Ee=Math.floor((de.getTime()-I.getTime())/1e3),j=U.duration_seconds||U.duration||0;ie=Math.max(0,j-Ee)>0}else ie=!0}else ie=!!v;const Y=W?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return ie&&Y})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${Math.min(100,Math.max(0,Oe()/(t||1)*100))}%`,backgroundColor:se()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:988,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:987,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:986,columnNumber:9},void 0),(()=>{let ie=!1;if(W){const U=b?.secondaryTimer;if(U)if(!U.is_running)ie=!1;else if(U.is_running&&U.is_active){const de=new Date,I=new Date(U.started_at||U.created_at),Ee=Math.floor((de.getTime()-I.getTime())/1e3),j=U.duration_seconds||U.duration||0;ie=Math.max(0,j-Ee)>0}else ie=!0}else ie=!!v;const Y=W?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return!ie&&!Y})()&&a.jsxDEV("div",{className:"flex-1 flex flex-col items-center justify-center",children:[Oe()<0&&a.jsxDEV("div",{className:"mb-[-50px]",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-5xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1039,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1038,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-center",children:a.jsxDEV("div",{className:`font-mono font-bold ${(()=>{const ie=Oe();return Math.floor(Math.abs(ie)/3600)===0?"text-[15rem] md:text-[16.875rem] lg:text-[22.5rem]":"text-[12rem] md:text-[13.5rem] lg:text-[18rem]"})()}`,style:{color:se()},children:Te(Oe())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1047,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1046,columnNumber:11},void 0),a.jsxDEV("div",{className:"w-full max-w-5xl mt-0",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-8",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${me()}%`,background:se()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1065,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1064,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1063,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1035,columnNumber:9},void 0),(()=>{let ie=!1;if(W){const U=b?.secondaryTimer;if(U)if(!U.is_running)ie=!1;else if(U.is_running&&U.is_active){const de=new Date,I=new Date(U.started_at||U.created_at),Ee=Math.floor((de.getTime()-I.getTime())/1e3),j=U.duration_seconds||U.duration||0;ie=Math.max(0,j-Ee)>0}else ie=!0}else ie=!!v;return(W?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled)&&!ie})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-1/2 transform -translate-x-1/2",children:[Oe()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1117,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1116,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:se()},children:Te(Oe())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1123,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1113,columnNumber:9},void 0),(()=>{let ie=!1;if(W){const U=b?.secondaryTimer;if(U)if(!U.is_running)ie=!1;else if(U.is_running&&U.is_active){const de=new Date,I=new Date(U.started_at||U.created_at),Ee=Math.floor((de.getTime()-I.getTime())/1e3),j=U.duration_seconds||U.duration||0;ie=Math.max(0,j-Ee)>0}else ie=!0}else ie=!!v;const Y=W?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return ie&&!Y})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-1/2 transform -translate-x-1/2",children:[Oe()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1172,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1171,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:se()},children:Te(Oe())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1178,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1168,columnNumber:9},void 0),(()=>{let ie=!1;if(W){const U=b?.secondaryTimer;if(U)if(!U.is_running)ie=!1;else if(U.is_running&&U.is_active){const de=new Date,I=new Date(U.started_at||U.created_at),Ee=Math.floor((de.getTime()-I.getTime())/1e3),j=U.duration_seconds||U.duration||0;ie=Math.max(0,j-Ee)>0}else ie=!0}else ie=!!v;return(W?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled)&&!ie})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${me()}%`,background:se()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1225,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1224,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1223,columnNumber:9},void 0),(()=>{let ie=!1;if(W){const U=b?.secondaryTimer;if(U)if(!U.is_running)ie=!1;else if(U.is_running&&U.is_active){const de=new Date,I=new Date(U.started_at||U.created_at),Ee=Math.floor((de.getTime()-I.getTime())/1e3),j=U.duration_seconds||U.duration||0;ie=Math.max(0,j-Ee)>0}else ie=!0}else ie=!!v;const Y=W?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return ie&&!Y})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${me()}%`,background:se()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1274,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1273,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1272,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:528,columnNumber:5},void 0)},V9=()=>{const e=sn();Ki();const s=e.state||{},[t,i]=O.useState(s.isRunning||!1),[o,u]=O.useState(s.elapsedTime||0),[c,m]=O.useState(s.totalDuration||0),[h,g]=O.useState(""),[v,b]=O.useState(!1),[E,k]=O.useState(null),[w,y]=O.useState(s.itemId||null),[T,J]=O.useState(s.eventId||null),[Z,R]=O.useState(s.mainTimer||null),[le,W]=O.useState(s.secondaryTimer||null),[ee,X]=O.useState(null),[De,_]=O.useState(0),[B,re]=O.useState(!1),[H,oe]=O.useState(!1),[_e,ne]=O.useState(""),[we,ve]=O.useState(null),[Me,be]=O.useState(!1);O.useEffect(()=>{const me=se=>{switch(se.key){case"Escape":window.close();break;case" ":se.preventDefault(),i(!t);break;case"r":case"R":(se.ctrlKey||se.metaKey)&&(se.preventDefault(),u(0),i(!1));break;case"+":case"=":(se.ctrlKey||se.metaKey)&&se.preventDefault();break;case"-":(se.ctrlKey||se.metaKey)&&se.preventDefault();break}};return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[t]);const Ie=async()=>{if(T&&(v||E))try{const se=(await lt.getTimerMessagesForEvent(T)).find(ie=>ie.enabled);se&&(await lt.disableTimerMessage(se.id),console.log(" Message disabled in Supabase on close"))}catch(me){console.error(" Error clearing message on close:",me)}window.close()};O.useEffect(()=>{if(!T)return;const me=async()=>{try{const Y=await lt.getTimerMessage(T);k(Y),console.log(" Loaded timer message from API:",Y)}catch(Y){console.error(" Error loading timer message:",Y)}};me();const se={onTimerMessageUpdated:Y=>{console.log(" WebSocket: Timer message updated:",Y),Y&&Y.event_id===T&&k(Y)},onTimerUpdated:Y=>{console.log(" FullScreenTimer: Timer updated via WebSocket from RunOfShowPage"),Y&&Y.event_id===T&&(X(U=>({...U,activeTimer:Y})),console.log(" FullScreenTimer: Timer updated via WebSocket:",Y))},onTimerStopped:Y=>{console.log(" FullScreenTimer: Timer stopped via WebSocket from RunOfShowPage"),Y&&Y.event_id===T&&(X(U=>({...U,activeTimer:null})),console.log(" FullScreenTimer: Timer cleared via WebSocket"))},onTimersStopped:Y=>{console.log(" FullScreenTimer: All timers stopped via WebSocket from RunOfShowPage"),Y&&Y.event_id===T&&(X(U=>({...U,activeTimer:null})),console.log(" FullScreenTimer: All timers cleared via WebSocket"))},onSubCueTimerStarted:Y=>{console.log(" FullScreenTimer: Sub-cue timer started via WebSocket from RunOfShowPage"),Y&&Y.event_id===T&&(X(U=>({...U,secondaryTimer:Y})),console.log(" FullScreenTimer: Sub-cue timer started via WebSocket:",Y))},onSubCueTimerStopped:Y=>{console.log(" FullScreenTimer: Sub-cue timer stopped via WebSocket from RunOfShowPage"),Y&&Y.event_id===T&&(X(U=>({...U,secondaryTimer:null})),console.log(" FullScreenTimer: Sub-cue timer stopped via WebSocket"))},onActiveTimersUpdated:Y=>{console.log(" FullScreenTimer: Active timers updated via WebSocket from RunOfShowPage");let U=Y;Array.isArray(Y)&&Y.length>0&&(U=Y[0],console.log(" FullScreenTimer: Processing first timer from array:",U)),U&&U.event_id===T&&(U.timer_state==="stopped"||!U.is_active||U.is_running===!1&&U.is_active===!1?(X(de=>({...de,activeTimer:null})),console.log(" FullScreenTimer: Timer stopped via WebSocket - cleared timer data")):(X(de=>({...de,activeTimer:U})),console.log(" FullScreenTimer: Active timer updated via WebSocket:",U)))},onConnectionChange:Y=>{console.log(" FullScreenTimer: WebSocket connection status:",Y),Y&&me()},onServerTime:Y=>{const U=new Date(Y.serverTime).getTime(),de=new Date().getTime(),I=U-de;_(I),console.log(" FullScreenTimer: Clock sync:",{serverTime:Y.serverTime,clientTime:new Date().toISOString(),offsetMs:I,offsetSeconds:Math.floor(I/1e3)})}};xt.connect(T,se),Me||(re(!0),be(!0));const ie=()=>{document.hidden?(console.log(" FullScreenTimer: Tab hidden - disconnecting WebSocket to save costs"),xt.disconnect(T)):xt.isConnected()||(console.log(" FullScreenTimer: Tab visible - silently reconnecting WebSocket (no modal)"),xt.connect(T,se),me())};return document.addEventListener("visibilitychange",ie),()=>{console.log(" Cleaning up FullScreenTimer WebSocket connection"),xt.disconnect(T),document.removeEventListener("visibilitychange",ie),we&&clearTimeout(we)}},[T]),O.useEffect(()=>{const me=se=>{if(se.data.type==="TIMER_UPDATE"){const{isRunning:ie,elapsedTime:Y,totalDuration:U,eventId:de,itemId:I,mainTimer:Ee,secondaryTimer:j}=se.data;ie!==void 0&&i(ie),Y!==void 0&&u(Y),U!==void 0&&m(U),de!==void 0&&J(de),I!==void 0&&y(I),Ee!==void 0&&R(Ee),j!==void 0&&W(j)}else if(se.data.type==="MESSAGE_UPDATE"){const{message:ie,enabled:Y}=se.data;ie!==void 0&&g(ie),Y!==void 0&&b(Y)}};return window.addEventListener("message",me),()=>window.removeEventListener("message",me)},[]);const Te=(me,se)=>{const ie=me*60+se;if(ie===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}we&&clearTimeout(we);const Y=ie*60*1e3,U=setTimeout(()=>{let I="";me>0&&(I+=`${me}h `),se>0&&(I+=`${se}m`),console.log(` FullScreenTimerPage: Auto-disconnect timer expired (${I.trim()})`),console.log(" FullScreenTimerPage: Showing disconnect notification..."),ne(I.trim()),oe(!0),console.log(" FullScreenTimerPage: Notification state set to true"),setTimeout(()=>{T&&(xt.disconnect(T),console.log(" FullScreenTimerPage: WebSocket disconnected"))},100)},Y);ve(U),re(!1);let de="";me>0&&(de+=`${me}h `),se>0&&(de+=`${se}m`),console.log(` FullScreenTimerPage: Disconnect timer set to ${de.trim()}`)},Q=()=>{we&&clearTimeout(we),ve(null),re(!1),console.log(" FullScreenTimerPage: Disconnect timer set to Never")},Oe=()=>{oe(!1),T&&(xt.connect(T,{onTimerMessageUpdated:me=>{me&&me.event_id===T&&k(me)}}),re(!0))};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV(U9,{isRunning:t,elapsedTime:o,totalDuration:c,onClose:Ie,message:h,messageEnabled:v,itemId:w,eventId:T,supabaseMessage:E,mainTimer:Z,secondaryTimer:le,hybridTimerData:ee,clockOffset:De},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:341,columnNumber:7},void 0),B&&a.jsxDEV(j9,{onConfirm:Te,onNever:Q},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:358,columnNumber:31},void 0),H&&a.jsxDEV(A9,{duration:_e,onReconnect:Oe},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:361,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:340,columnNumber:5},void 0)},j9=({onConfirm:e,onNever:s})=>{const[t,i]=O.useState(2),[o,u]=O.useState(0),c=[0,5,10,15,20,25,30],m=qr.useRef(null),h=qr.useRef(null);qr.useEffect(()=>{m.current&&(m.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const g=()=>{if(!m.current)return;const b=Math.round(m.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:395,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:396,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:400,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:402,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:403,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:404,columnNumber:15},void 0),a.jsxDEV("div",{ref:m,onScroll:g,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,E)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===E?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:E},E,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:407,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:405,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:401,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:399,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:413,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:416,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:418,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:419,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:420,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:423,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:421,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:417,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:415,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:398,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:431,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:432,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:430,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:435,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:394,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:393,columnNumber:5},void 0)},A9=({duration:e,onReconnect:s})=>(qr.useEffect(()=>(console.log(" FullScreenTimer DisconnectNotification mounted:",e),()=>console.log(" FullScreenTimer DisconnectNotification unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:449,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:452,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:454,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:455,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:453,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:457,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:451,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:450,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:448,columnNumber:5},void 0)),L9=({isRunning:e=!1,elapsedTime:s=0,totalDuration:t=0,onClose:i,message:o="",messageEnabled:u=!1,itemId:c,eventId:m,supabaseMessage:h=null,mainTimer:g=null,secondaryTimer:v=null})=>{const[b,E]=O.useState({elapsed:s,total:t}),[k,w]=O.useState(new Date),[y,T]=O.useState(!1),[J,Z]=O.useState(!1),[R,le]=O.useState(!0),[W,ee]=O.useState({activeTimer:null}),[X,De]=O.useState(0),[_,B]=O.useState(null),[re,H]=O.useState(null),[oe,_e]=O.useState(null),[ne,we]=O.useState(null),[ve,Me]=O.useState(!1),[be,Ie]=O.useState(0),Te=()=>new Date(Date.now()+be),Q=U=>{const de=Te(),I=U instanceof Date?U:new Date(U);return Math.floor((de.getTime()-I.getTime())/1e3)};O.useEffect(()=>{R||E({elapsed:s,total:t})},[s,t,R]),O.useEffect(()=>{if(console.log(" [CLOCK DEBUG] Timer progress effect triggered",{isRunning:W?.activeTimer?.is_running,isActive:W?.activeTimer?.is_active,startedAt:W?.activeTimer?.started_at,duration:W?.activeTimer?.duration_seconds}),R&&W?.activeTimer?.is_running&&W?.activeTimer?.is_active){const U=W.activeTimer,de=new Date(U.started_at),I=U.duration_seconds||0;console.log(" [CLOCK DEBUG] Setting up local countdown timer",{startedAt:de.toISOString(),total:I});const Ee=()=>{const he=Q(de);console.log(" [CLOCK DEBUG] Local countdown update",{elapsed:he,total:I,clockOffsetSeconds:Math.floor(be/1e3)}),E({elapsed:he,total:I})};Ee();const j=setInterval(Ee,1e3);return()=>{console.log(" [CLOCK DEBUG] Cleaning up countdown interval"),clearInterval(j)}}else if(R&&W?.activeTimer&&!W?.activeTimer?.is_running){const U=W.activeTimer;console.log(" [CLOCK DEBUG] Timer loaded but not running",{duration:U.duration_seconds}),E({elapsed:0,total:U.duration_seconds||0})}else R&&!W?.activeTimer&&(console.log(" [CLOCK DEBUG] No active timer - clearing display"),E({elapsed:0,total:0}))},[W?.activeTimer?.is_running,W?.activeTimer?.is_active,W?.activeTimer?.started_at,W?.activeTimer?.duration_seconds,W?.activeTimer,R,be]),O.useEffect(()=>{const U=setInterval(()=>{w(new Date)},1e3);return()=>clearInterval(U)},[]),O.useEffect(()=>{const U=()=>{T(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",U),()=>document.removeEventListener("fullscreenchange",U)},[]),O.useEffect(()=>{if(!R||!m){H(null),_e(null),we(null);return}console.log(" Clock: Setting up WebSocket connection for eventId:",m);const U=async()=>{if(ve){console.log(" Already loading active timer, skipping...");return}try{Me(!0),console.log(" Loading active timer from API...");const I=await lt.getActiveTimer(m);I&&I.timer_state!=="stopped"&&I.is_active?(ee(Ee=>({...Ee,activeTimer:I})),console.log(" Active timer updated:",I)):(ee(Ee=>({...Ee,activeTimer:null})),console.log(" No active timer found or timer is stopped"));try{console.log(" Clock: Loading sub-cue timers and messages on initial load...");const Ee=await lt.getActiveSubCueTimers(m);if(Ee&&Ee.data&&Ee.data.length>0){const he=Ee.data.find(Ce=>Ce.timer_state==="running"||Ce.is_running===!0);he&&(ee(Ce=>({...Ce,secondaryTimer:he})),console.log(" Clock: Initial load - sub-cue timer loaded:",he))}const j=await lt.getTimerMessage(m);j&&(ee(he=>({...he,timerMessage:j})),console.log(" Clock: Initial load - timer message loaded:",j))}catch(Ee){console.error(" Clock: Initial load failed to load sub-cue timers and messages:",Ee)}if(I&&I.timer_state!=="stopped"&&I.is_active&&R){const Ee=`${I.item_id}_${I.started_at}`,j=I.item_id;re&&re!==Ee&&(console.log(" Active timer changed - stopping secondary timer"),console.log(" Previous timer:",re),console.log(" New timer:",Ee),ee(Ce=>({...Ce,secondaryTimer:null}))),oe&&oe!==j&&(console.log(" New cue loaded - stopping secondary timer"),console.log(" Previous item_id:",oe),console.log(" New item_id:",j),ee(Ce=>({...Ce,secondaryTimer:null})));const he=I.started_at;ne&&ne!==he&&(console.log(" Timer start time changed - restarting local timer"),console.log(" Previous start time:",ne),console.log(" New start time:",he)),H(Ee),_e(j),we(he)}else!I&&re&&R&&(console.log(" Active timer stopped - stopping secondary timer and drift detection"),ee(Ee=>({...Ee,secondaryTimer:null})),H(null),_e(null),we(null))}catch(I){console.error(" Error loading active timer:",I)}finally{Me(!1)}};U();const de={onServerTime:I=>{const Ee=new Date(I.serverTime).getTime(),j=new Date().getTime(),he=Ee-j;Ie(he),console.log(" Clock: Clock sync:",{serverTime:I.serverTime,clientTime:new Date().toISOString(),offsetMs:he,offsetSeconds:Math.floor(he/1e3)})},onTimerUpdated:I=>{console.log(" [CLOCK DEBUG] ===== WebSocket onTimerUpdated ====="),console.log(" [CLOCK DEBUG] Received data:",I),console.log(" [CLOCK DEBUG] Event ID check:",{received:I?.event_id,expected:m,match:I?.event_id===m}),console.log(" [CLOCK DEBUG] Timer state:",I?.timer_state),console.log(" [CLOCK DEBUG] Is running:",I?.is_running),console.log(" [CLOCK DEBUG] Started at:",I?.started_at),console.log(" [CLOCK DEBUG] Duration:",I?.duration_seconds),I&&I.event_id===m?(console.log(" [CLOCK DEBUG] Updating hybridTimerData with WebSocket data"),ee(Ee=>{console.log(" [CLOCK DEBUG] Previous hybridTimerData:",Ee);const j={...Ee,activeTimer:I};return console.log(" [CLOCK DEBUG] New hybridTimerData:",j),j}),console.log(" Clock: Timer updated via WebSocket")):console.log(" Clock: Timer update ignored - event ID mismatch or no data")},onActiveTimersUpdated:I=>{console.log(" [CLOCK DEBUG] ===== WebSocket onActiveTimersUpdated ====="),console.log(" [CLOCK DEBUG] Raw data received:",I);let Ee=I;Array.isArray(I)&&I.length>0&&(Ee=I[0],console.log(" [CLOCK DEBUG] Extracted first timer from array:",Ee)),console.log(" [CLOCK DEBUG] Event ID check:",{received:Ee?.event_id,expected:m,match:Ee?.event_id===m}),console.log(" [CLOCK DEBUG] Timer state:",Ee?.timer_state),console.log(" [CLOCK DEBUG] Is active:",Ee?.is_active),console.log(" [CLOCK DEBUG] Is running:",Ee?.is_running),Ee&&Ee.event_id===m?Ee.timer_state==="stopped"||!Ee.is_active?(console.log(" [CLOCK DEBUG] Timer is stopped - clearing timer data"),ee(j=>({...j,activeTimer:null})),console.log(" Clock: Timer stopped via WebSocket - cleared timer data")):(console.log(" [CLOCK DEBUG] Timer is active - updating hybridTimerData"),ee(j=>({...j,activeTimer:Ee})),console.log(" Clock: Active timer updated via WebSocket")):console.log(" Clock: Active timers update ignored - event ID mismatch or no data")},onTimerStopped:I=>{console.log(" Clock: WebSocket timer stopped:",I),I&&I.event_id===m&&(ee(Ee=>({...Ee,activeTimer:null})),console.log(" Clock: Timer cleared via WebSocket"))},onTimersStopped:I=>{console.log(" Clock: WebSocket all timers stopped:",I),I&&I.event_id===m&&(ee(Ee=>({...Ee,activeTimer:null})),console.log(" Clock: All timers cleared via WebSocket"))},onSubCueTimerStarted:I=>{console.log(" Clock: WebSocket sub-cue timer started:",I),I&&I.event_id===m&&(ee(Ee=>({...Ee,secondaryTimer:I})),console.log(" Clock: Sub-cue timer started via WebSocket:",I))},onSubCueTimerStopped:I=>{console.log(" Clock: WebSocket sub-cue timer stopped:",I),I&&I.event_id===m&&(ee(Ee=>({...Ee,secondaryTimer:null})),console.log(" Clock: Sub-cue timer stopped via WebSocket"))},onTimerMessageUpdated:I=>{console.log(" Clock: WebSocket timer message updated:",I),I&&I.event_id===m&&(ee(Ee=>({...Ee,timerMessage:I})),console.log(" Clock: Timer message updated via WebSocket:",I))},onInitialSync:async()=>{console.log(" Clock: Performing initial sync for sub-cue timers and messages");try{const I=await lt.getActiveSubCueTimers(m);if(I&&I.data&&I.data.length>0){const j=I.data.find(he=>he.timer_state==="running"||he.is_running===!0);j&&(ee(he=>({...he,secondaryTimer:j})),console.log(" Clock: Initial sync - sub-cue timer loaded:",j))}const Ee=await lt.getTimerMessage(m);Ee&&(ee(j=>({...j,timerMessage:Ee})),console.log(" Clock: Initial sync - timer message loaded:",Ee))}catch(I){console.error(" Clock: Initial sync failed to load sub-cue timers and messages:",I)}},onConnectionChange:I=>{console.log(" Clock: WebSocket connection status:",I),I&&U()}};return xt.connect(m,de),()=>{console.log(" Clock: Cleaning up WebSocket connection"),xt.disconnect(m)}},[m]),O.useEffect(()=>{if(!R||!W?.secondaryTimer)return;const U=setInterval(()=>{De(de=>de+1)},1e3);return()=>clearInterval(U)},[R,W?.secondaryTimer]);const Oe=U=>{const de=U<0,I=Math.abs(U),Ee=Math.floor(I/3600),j=Math.floor(I%3600/60),he=Math.floor(I%60),Ce=de?"-":"";return Ee===0?`${Ce}${j.toString().padStart(2,"0")}:${he.toString().padStart(2,"0")}`:`${Ce}${Ee.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}:${he.toString().padStart(2,"0")}`},me=U=>U.toLocaleTimeString("en-US",{hour12:!0,hour:"2-digit",minute:"2-digit",second:"2-digit"}),se=()=>{const U=b,de=U.total-U.elapsed;if(R&&W?.activeTimer){const I=W.activeTimer;if(!I.is_running||!I.is_active)return U.total}return de},ie=()=>{const U=b,de=U.total-U.elapsed;if(R&&W?.activeTimer){const I=W.activeTimer;if(!I.is_running||!I.is_active)return 100}return U.total>0?de/U.total*100:0},Y=()=>{const U=b,de=U.total-U.elapsed;if(R&&W?.activeTimer){const I=W.activeTimer;if(!I.is_running||!I.is_active)return"#6b7280"}return de>120?"#10b981":de>30?"#f59e0b":"#ef4444"};return a.jsxDEV("div",{className:"fixed inset-0 bg-black text-white overflow-hidden flex flex-col items-center justify-center",style:{padding:0,margin:0},children:[a.jsxDEV("div",{className:"absolute top-10 left-10 text-3xl font-mono text-white",children:[a.jsxDEV("div",{className:"text-slate-400 text-lg mb-1",children:"CURRENT TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:599,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-white",children:me(k)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:600,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:598,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-10 right-10 text-3xl font-mono text-white z-50 w-80 text-right",children:[a.jsxDEV("div",{className:"text-slate-400 text-lg mb-1",children:"CURRENT CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:607,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-white flex items-center justify-end gap-3 whitespace-nowrap",children:[a.jsxDEV("span",{children:(()=>{if(R)if(W?.activeTimer){const U=W.activeTimer,de=W?.lastLoadedCue,I=W?.cueData;if(U.cue_is)return U.cue_is;if(I){console.log(" CUE data structure:",I),console.log(" CUE data fields:",Object.keys(I));const j=I.customFields?.cue||I.cue||I.cue_display||I.name||I.title;if(I.segmentName||I.segment_name||I.segment,j)return console.log(" Found CUE display:",j),j}const Ee=U.cue_display||U.cue;if(U.segment_name||U.segmentName,Ee)return Ee;if(de){const j=de.cue_display||de.cue;if(de.segment_name||de.segmentName,j)return j}return U.item_id?`CUE ${U.item_id.toString().slice(-4)}`:"No CUE"}else return"No Cue";else return"No CUE"})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:609,columnNumber:11},void 0),c&&a.jsxDEV(Ck,{itemId:c,className:"flex-shrink-0"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:674,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:608,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:606,columnNumber:7},void 0),!y&&R&&W?.activeTimer&&a.jsxDEV("div",{className:"absolute bottom-10 left-10 text-center",children:a.jsxDEV("div",{className:`text-lg font-bold px-4 py-2 rounded-lg ${W.activeTimer.is_running&&W.activeTimer.is_active?"bg-green-600 text-white":"bg-gray-600 text-white"}`,children:W.activeTimer.is_running&&W.activeTimer.is_active?" TIMER RUNNING":" TIMER LOADED"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:685,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:684,columnNumber:9},void 0),!y&&a.jsxDEV("div",{className:"absolute top-10 left-1/2 transform -translate-x-1/2 flex gap-3 z-50",children:[a.jsxDEV("button",{onClick:()=>{document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-bold text-lg transition-colors",children:"FULL SCREEN"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:701,columnNumber:9},void 0),!y&&a.jsxDEV("button",{className:"px-4 py-2 rounded-lg font-bold text-lg bg-purple-600 text-white cursor-default",disabled:!0,children:"WEBSOCKET ONLY"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:712,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:700,columnNumber:9},void 0),(()=>{if(R){const U=W?.timerMessage||h;return U&&U.enabled}return u&&o||h&&h.enabled})()&&a.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:"translateY(-40px)"},children:a.jsxDEV("div",{className:"font-bold text-white bg-black bg-opacity-50 rounded-lg border-4 border-white text-center flex items-center justify-center",style:{width:"80vw",minHeight:"50vh",maxHeight:"70vh",lineHeight:"1.2",whiteSpace:"pre-line",overflow:"visible",padding:"30px",display:"flex",alignItems:"center",justifyContent:"center",wordWrap:"break-word"},children:(()=>{const U=R?W?.timerMessage?.message||h?.message||"":h?.message||o,de=U.split(" ");let I;if(de.length<=3)I=U;else if(de.length<=6){const he=Math.ceil(de.length/2);I=de.slice(0,he).join(" ")+`
`+de.slice(he).join(" ")}else if(de.length<=10){const he=Math.ceil(de.length/3);I=de.slice(0,he).join(" ")+`
`+de.slice(he,he*2).join(" ")+`
`+de.slice(he*2).join(" ")}else{const he=Math.ceil(de.length/4);I=de.slice(0,he).join(" ")+`
`+de.slice(he,he*2).join(" ")+`
`+de.slice(he*2,he*3).join(" ")+`
`+de.slice(he*3).join(" ")}let Ee;const j=/[gjpqy]/.test(U.toLowerCase());return de.length<=3?Ee=j?"clamp(3rem, 12vw, 16rem)":"clamp(3.5rem, 13.5vw, 18rem)":de.length<=6?Ee=j?"clamp(1.9rem, 8vw, 12rem)":"clamp(2.25rem, 9vw, 13.5rem)":de.length<=10?Ee=j?"clamp(1.4rem, 6vw, 9rem)":"clamp(1.6rem, 7vw, 10.5rem)":Ee=j?"clamp(0.9rem, 4vw, 6rem)":"clamp(1.1rem, 5vw, 7rem)",a.jsxDEV("div",{style:{fontSize:Ee},children:I},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:803,columnNumber:17},void 0)})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:735,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:734,columnNumber:9},void 0),(()=>{if(R){const U=W?.secondaryTimer;if(!U||W?.timerMessage&&W.timerMessage.enabled||h&&h.enabled)return!1;if(console.log(" Clock: Secondary timer data:",{is_running:U.is_running,is_active:U.is_active,remaining_seconds:U.remaining_seconds,duration_seconds:U.duration_seconds}),!U.is_running)return console.log(" Sub-cue timer not running - hiding"),!1;if(U.is_running&&U.is_active){const I=new Date,Ee=new Date(U.started_at||U.created_at),j=Math.floor((I.getTime()-Ee.getTime())/1e3),he=U.duration_seconds||U.duration||0;if(Math.max(0,he-j)<=0)return!1}return!0}else return!1})()&&a.jsxDEV("div",{className:`absolute animate-in fade-in duration-500 ${(R?h&&h.enabled:u&&o||h&&h.enabled)?"bottom-20 right-1/3 transform translate-x-1/2 flex flex-col items-center":"inset-0 flex flex-col items-center justify-center"}`,style:{marginTop:(R?h&&h.enabled:u&&o||h&&h.enabled)?"0":"-80px"},children:[a.jsxDEV("div",{className:`absolute left-1/2 transform -translate-x-1/2 text-orange-400 font-bold animate-in slide-in-from-top duration-500 ${R?h&&h.enabled?"text-lg md:text-xl lg:text-2xl":"text-xl md:text-2xl lg:text-3xl":u&&o||h&&h.enabled?"text-lg md:text-xl lg:text-2xl":"text-xl md:text-2xl lg:text-3xl"} whitespace-nowrap ${(R?h&&h.enabled:u&&o||h&&h.enabled)?"bottom-20 left-1/2 transform -translate-x-1/2":""}`,style:{lineHeight:"1.2",...R?h&&h.enabled?{bottom:"calc(5rem - 25px)"}:{top:"calc(50% - 150px)"}:u&&o||h&&h.enabled?{bottom:"calc(5rem - 25px)"}:{top:"calc(50% - 150px)"}},children:(()=>{const U=R?W?.secondaryTimer:v;if(!U)return"";if(R){const de=U.cue_display||U.cue||U.cue_is||"",I=U.segment_name||U.segmentName||"",Ee=de.replace(/CUE(\d+)/,"CUE $1");return I?`${Ee} - ${I}`:Ee}else return"No CUE"})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:870,columnNumber:11},void 0),a.jsxDEV("div",{className:`text-orange-400 font-mono font-bold animate-in zoom-in duration-500 ${(()=>{const U=R?W?.secondaryTimer:v;if(!U)return"text-3xl md:text-4xl lg:text-5xl";let de=0;if(R)if(U.is_running&&U.is_active){const Ee=new Date,j=new Date(U.started_at||U.created_at),he=Math.floor((Ee.getTime()-j.getTime())/1e3),Ce=U.duration_seconds||U.duration||0;de=Math.max(0,Ce-he)}else de=U.duration_seconds||U.duration||0;else de=U.remaining||0;const I=Math.floor(de/3600);if(R){const Ee=W?.timerMessage||h;if(Ee&&Ee.enabled)return"text-3xl md:text-4xl lg:text-5xl"}else if(u&&o||h&&h.enabled)return"text-3xl md:text-4xl lg:text-5xl";return I===0?"text-[15rem] md:text-[16.875rem] lg:text-[22.5rem]":"text-[12rem] md:text-[13.5rem] lg:text-[18rem]"})()}`,style:{lineHeight:"1"},children:(()=>{const U=R?W?.secondaryTimer:v;if(!U)return"00:00";let de=0;if(R)if(U.is_running&&U.is_active){const he=new Date,Ce=new Date(U.started_at||U.created_at),Fe=Math.floor((he.getTime()-Ce.getTime())/1e3),He=U.duration_seconds||U.duration||0;de=Math.max(0,He-Fe)}else de=U.duration_seconds||U.duration||0;else de=0;const I=Math.floor(de/3600),Ee=Math.floor(de%3600/60),j=de%60;return I===0?`${Ee.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`:`${I.toString().padStart(2,"0")}:${Ee.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:910,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:854,columnNumber:9},void 0),(()=>{let U=!1;if(R){const I=W?.secondaryTimer;if(I)if(I.is_running&&I.is_active){const Ee=Q(I.started_at||I.created_at),j=I.duration_seconds||I.duration||0;U=Math.max(0,j-Ee)>0}else U=!0}else U=!!v;const de=R?W?.timerMessage&&W.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return U&&de})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-10",children:[se()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1032,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1031,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:Y()},children:Oe(se())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1038,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1028,columnNumber:9},void 0),(()=>{let U=!1;if(R){const I=W?.secondaryTimer;if(I)if(I.is_running&&I.is_active){const Ee=Q(I.started_at||I.created_at),j=I.duration_seconds||I.duration||0;U=Math.max(0,j-Ee)>0}else U=!0}else U=!!v;const de=R?W?.timerMessage&&W.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return U&&de})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 right-10 text-orange-400",children:[a.jsxDEV("div",{className:"text-lg mb-2 font-bold",children:(()=>{const U=W?.secondaryTimer,de=U.cue_display||U.cue||`CUE ${U.item_id}`,I=U.segment_name||U.segmentName||"Segment";return`${de} - ${I}`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1078,columnNumber:11},void 0),a.jsxDEV("div",{className:"font-mono text-3xl font-bold",children:(()=>{const U=W?.secondaryTimer,de=Q(U.started_at||U.created_at),I=U.duration_seconds||U.duration||0,Ee=Math.max(0,I-de),j=Math.floor(Ee/3600),he=Math.floor(Ee%3600/60),Ce=Ee%60;return j>0?`${j.toString().padStart(2,"0")}:${he.toString().padStart(2,"0")}:${Ce.toString().padStart(2,"0")}`:`${he.toString().padStart(2,"0")}:${Ce.toString().padStart(2,"0")}`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1088,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1076,columnNumber:9},void 0),(()=>{let U=!1;if(R){const I=W?.secondaryTimer;if(I)if(!I.is_running)U=!1;else if(I.is_running&&I.is_active){const Ee=new Date,j=new Date(I.started_at||I.created_at),he=Math.floor((Ee.getTime()-j.getTime())/1e3),Ce=I.duration_seconds||I.duration||0;U=Math.max(0,Ce-he)>0}else U=!0}else U=!!v;const de=R?W?.timerMessage&&W.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return U&&de})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${Math.min(100,Math.max(0,se()/(t||1)*100))}%`,backgroundColor:Y()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1147,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1146,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1145,columnNumber:9},void 0),(()=>{let U=!1;if(R){const I=W?.secondaryTimer;if(I)if(!I.is_running)U=!1;else if(I.is_running&&I.is_active){const Ee=new Date,j=new Date(I.started_at||I.created_at),he=Math.floor((Ee.getTime()-j.getTime())/1e3),Ce=I.duration_seconds||I.duration||0;U=Math.max(0,Ce-he)>0}else U=!0}else U=!!v;const de=R?W?.timerMessage&&W.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return!U&&!de})()&&a.jsxDEV("div",{className:"flex-1 flex flex-col items-center justify-center",children:[se()<0&&a.jsxDEV("div",{className:"mb-[-50px]",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-5xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1198,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1197,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-center",children:a.jsxDEV("div",{className:`font-mono font-bold ${(()=>{const U=se();return Math.floor(Math.abs(U)/3600)===0?"text-[15rem] md:text-[16.875rem] lg:text-[22.5rem]":"text-[12rem] md:text-[13.5rem] lg:text-[18rem]"})()}`,style:{color:Y()},children:Oe(se())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1206,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1205,columnNumber:11},void 0),a.jsxDEV("div",{className:"w-full max-w-5xl mt-0",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-8",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${ie()}%`,background:Y()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1224,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1223,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1222,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1194,columnNumber:9},void 0),(()=>{let U=!1;if(R){const I=W?.secondaryTimer;if(I)if(!I.is_running)U=!1;else if(I.is_running&&I.is_active){const Ee=new Date,j=new Date(I.started_at||I.created_at),he=Math.floor((Ee.getTime()-j.getTime())/1e3),Ce=I.duration_seconds||I.duration||0;U=Math.max(0,Ce-he)>0}else U=!0}else U=!!v;return(R?W?.timerMessage&&W.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled)&&!U})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-1/2 transform -translate-x-1/2",children:[se()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1276,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1275,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:Y()},children:Oe(se())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1282,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1272,columnNumber:9},void 0),(()=>{let U=!1;if(R){const I=W?.secondaryTimer;if(I)if(!I.is_running)U=!1;else if(I.is_running&&I.is_active){const Ee=new Date,j=new Date(I.started_at||I.created_at),he=Math.floor((Ee.getTime()-j.getTime())/1e3),Ce=I.duration_seconds||I.duration||0;U=Math.max(0,Ce-he)>0}else U=!0}else U=!!v;const de=R?W?.timerMessage&&W.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return U&&!de})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-1/2 transform -translate-x-1/2",children:[se()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1331,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1330,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:Y()},children:Oe(se())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1337,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1327,columnNumber:9},void 0),(()=>{let U=!1;if(R){const I=W?.secondaryTimer;if(I)if(!I.is_running)U=!1;else if(I.is_running&&I.is_active){const Ee=new Date,j=new Date(I.started_at||I.created_at),he=Math.floor((Ee.getTime()-j.getTime())/1e3),Ce=I.duration_seconds||I.duration||0;U=Math.max(0,Ce-he)>0}else U=!0}else U=!!v;return(R?W?.timerMessage&&W.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled)&&!U})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${ie()}%`,background:Y()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1384,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1383,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1382,columnNumber:9},void 0),(()=>{let U=!1;if(R){const I=W?.secondaryTimer;if(I)if(!I.is_running)U=!1;else if(I.is_running&&I.is_active){const Ee=new Date,j=new Date(I.started_at||I.created_at),he=Math.floor((Ee.getTime()-j.getTime())/1e3),Ce=I.duration_seconds||I.duration||0;U=Math.max(0,Ce-he)>0}else U=!0}else U=!!v;const de=R?W?.timerMessage&&W.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return U&&!de})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${ie()}%`,background:Y()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1433,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1432,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1431,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:595,columnNumber:5},void 0)},M9=()=>{const e=sn();Ki();const[s]=Ao(),t=s.get("eventId"),i=e.state||{},[o,u]=O.useState(""),[c,m]=O.useState(!1),[h,g]=O.useState(null),[v,b]=O.useState(t||i.eventId||null),[E,k]=O.useState(!1),[w,y]=O.useState(!1),[T,J]=O.useState(""),[Z,R]=O.useState(null),[le,W]=O.useState(!1);O.useEffect(()=>{const B=re=>{switch(re.key){case"Escape":window.close();break;case"+":case"=":(re.ctrlKey||re.metaKey)&&re.preventDefault();break;case"-":(re.ctrlKey||re.metaKey)&&re.preventDefault();break}};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[]);const ee=async()=>{if(v&&(c||h))try{const re=(await lt.getTimerMessagesForEvent(v)).find(H=>H.enabled);re&&(await lt.disableTimerMessage(re.id),console.log(" Message disabled in Supabase on close"))}catch(B){console.error(" Error clearing message on close:",B)}window.close()};O.useEffect(()=>{if(!v)return;const B=async()=>{try{const oe=await lt.getTimerMessage(v);g(oe),console.log(" Loaded timer message from API:",oe)}catch(oe){console.error(" Error loading timer message:",oe)}};B();const re={onTimerMessageUpdated:oe=>{console.log(" WebSocket: Timer message updated:",oe),oe&&oe.event_id===v&&g(oe)},onConnectionChange:oe=>{console.log(" ClockPage: WebSocket connection status:",oe),oe&&B()}};xt.connect(v,re),le||(k(!0),W(!0));const H=()=>{document.hidden?(console.log(" ClockPage: Tab hidden - disconnecting WebSocket to save costs"),xt.disconnect(v)):xt.isConnected()||(console.log(" ClockPage: Tab visible - silently reconnecting WebSocket (no modal)"),xt.connect(v,re),B())};return document.addEventListener("visibilitychange",H),()=>{console.log(" Cleaning up ClockPage WebSocket connection"),xt.disconnect(v),document.removeEventListener("visibilitychange",H),Z&&clearTimeout(Z)}},[v]);const X=(B,re)=>{const H=B*60+re;if(H===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}Z&&clearTimeout(Z);const oe=H*60*1e3,_e=setTimeout(()=>{let we="";B>0&&(we+=`${B}h `),re>0&&(we+=`${re}m`),console.log(` ClockPage: Auto-disconnect timer expired (${we.trim()})`),console.log(" ClockPage: Showing disconnect notification..."),J(we.trim()),y(!0),console.log(" ClockPage: Notification state set to true"),setTimeout(()=>{v&&(xt.disconnect(v),console.log(" ClockPage: WebSocket disconnected"))},100)},oe);R(_e),k(!1);let ne="";B>0&&(ne+=`${B}h `),re>0&&(ne+=`${re}m`),console.log(` ClockPage: Disconnect timer set to ${ne.trim()}`)},De=()=>{Z&&clearTimeout(Z),R(null),k(!1),console.log(" ClockPage: Disconnect timer set to Never")},_=()=>{y(!1),v&&(xt.connect(v,{onTimerMessageUpdated:B=>{B&&B.event_id===v&&g(B)}}),k(!0))};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV(L9,{onClose:ee,message:o,messageEnabled:c,eventId:v,supabaseMessage:h},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:246,columnNumber:7},void 0),E&&a.jsxDEV(I9,{onConfirm:X,onNever:De},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:255,columnNumber:31},void 0),w&&a.jsxDEV(F9,{duration:T,onReconnect:_},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:258,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:245,columnNumber:5},void 0)},I9=({onConfirm:e,onNever:s})=>{const[t,i]=O.useState(2),[o,u]=O.useState(0),c=[0,5,10,15,20,25,30],m=qr.useRef(null),h=qr.useRef(null);qr.useEffect(()=>{m.current&&(m.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const g=()=>{if(!m.current)return;const b=Math.round(m.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:299,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:300,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:305,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:308,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:310,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:311,columnNumber:15},void 0),a.jsxDEV("div",{ref:m,onScroll:g,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,E)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===E?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:E},E,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:320,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:313,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:306,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:304,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:333,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:337,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:340,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:342,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:343,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:352,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:345,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:338,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:336,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:302,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:367,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:373,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:366,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:381,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:298,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:297,columnNumber:5},void 0)},F9=({duration:e,onReconnect:s})=>(qr.useEffect(()=>(console.log(" DisconnectNotification component mounted with duration:",e),()=>console.log(" DisconnectNotification component unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:396,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:399,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:401,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:402,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:400,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:404,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:398,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:397,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:395,columnNumber:5},void 0)),$9=()=>{const[e]=Ao(),s=e.get("eventId"),[t,i]=O.useState([]),[o,u]=O.useState(!0),[c,m]=O.useState(null),[h,g]=O.useState(null),[v,b]=O.useState("preview"),E=()=>window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com")||window.location.hostname!=="localhost",k=()=>E()?`${window.location.origin}/.netlify/functions`:"http://localhost:3002/api",w=async _=>{try{await navigator.clipboard.writeText(_),console.log("Copied to clipboard:",_)}catch(B){console.error("Failed to copy to clipboard:",B);const re=document.createElement("textarea");re.value=_,document.body.appendChild(re),re.select(),document.execCommand("copy"),document.body.removeChild(re)}},[y,T]=O.useState(10),J=_=>{const B='<?xml version="1.0" encoding="UTF-8"?>',re=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <lower_thirds>
    ${_.map(H=>{const oe=new Array(21).fill("");return H.speakers&&H.speakers.length>0&&H.speakers.forEach(_e=>{const ne=_e.slot||0;if(ne>=1&&ne<=7){const we=(ne-1)*3;oe[we]=_e.title||"",oe[we+1]=_e.subtitle||"",oe[we+2]=_e.photo||""}}),`
    <item>
      <id>${H.id}</id>
      <row>${_.indexOf(H)+1}</row>
      <cue><![CDATA[${H.cue||""}]]></cue>
      <program><![CDATA[${H.program||""}]]></program>
      <segment_name><![CDATA[${H.segmentName||""}]]></segment_name>
      <speaker_1_name><![CDATA[${oe[0]}]]></speaker_1_name>
      <speaker_1_title_org><![CDATA[${oe[1]}]]></speaker_1_title_org>
      <speaker_1_photo><![CDATA[${oe[2]}]]></speaker_1_photo>
      <speaker_2_name><![CDATA[${oe[3]}]]></speaker_2_name>
      <speaker_2_title_org><![CDATA[${oe[4]}]]></speaker_2_title_org>
      <speaker_2_photo><![CDATA[${oe[5]}]]></speaker_2_photo>
      <speaker_3_name><![CDATA[${oe[6]}]]></speaker_3_name>
      <speaker_3_title_org><![CDATA[${oe[7]}]]></speaker_3_title_org>
      <speaker_3_photo><![CDATA[${oe[8]}]]></speaker_3_photo>
      <speaker_4_name><![CDATA[${oe[9]}]]></speaker_4_name>
      <speaker_4_title_org><![CDATA[${oe[10]}]]></speaker_4_title_org>
      <speaker_4_photo><![CDATA[${oe[11]}]]></speaker_4_photo>
      <speaker_5_name><![CDATA[${oe[12]}]]></speaker_5_name>
      <speaker_5_title_org><![CDATA[${oe[13]}]]></speaker_5_title_org>
      <speaker_5_photo><![CDATA[${oe[14]}]]></speaker_5_photo>
      <speaker_6_name><![CDATA[${oe[15]}]]></speaker_6_name>
      <speaker_6_title_org><![CDATA[${oe[16]}]]></speaker_6_title_org>
      <speaker_6_photo><![CDATA[${oe[17]}]]></speaker_6_photo>
      <speaker_7_name><![CDATA[${oe[18]}]]></speaker_7_name>
      <speaker_7_title_org><![CDATA[${oe[19]}]]></speaker_7_title_org>
      <speaker_7_photo><![CDATA[${oe[20]}]]></speaker_7_photo>
    </item>`}).join("")}
  </lower_thirds>
</data>`;return B+re},Z=async()=>{try{if(u(!0),m(null),!s)throw new Error("Event ID is required");console.log(" Fetching lower thirds data for event:",s);const _=await lt.getRunOfShowData(s);if(!_||!_.schedule_items){i([]),g(new Date);return}const B=_.schedule_items,re=[];B.forEach((H,oe)=>{const _e={id:`${H.id}-row`,title:"",subtitle:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),segmentName:H.segmentName||"",cue:H.customFields?.cue||"",program:H.programType||"",speakers:[]};if(H.speakersText&&H.speakersText.trim())try{const we=JSON.parse(H.speakersText).sort((ve,Me)=>ve.slot-Me.slot);_e.speakers=we.map(ve=>({title:ve.fullName||"",subtitle:ve.title&&ve.org?`${ve.title}
${ve.org}`:ve.title||ve.org||"",photo:ve.photoLink||"",slot:ve.slot||0}))}catch(ne){console.log("Error parsing speakers JSON for item:",H.id,ne)}re.push(_e)}),i(re),g(new Date)}catch(_){console.error("Error fetching lower thirds:",_),m(_ instanceof Error?_.message:"Unknown error occurred")}finally{u(!1)}};O.useEffect(()=>{if(!s){console.log(" No event ID, skipping WebSocket connection");return}console.log(" Setting up WebSocket connection for Lower Thirds XML page"),Z();const _={onRunOfShowDataUpdated:re=>{if(console.log(" Lower Thirds XML: WebSocket data update received:",re),re&&re.schedule_items){const H=re.schedule_items,oe=[];H.forEach((_e,ne)=>{const we={id:`${_e.id}-row`,title:"",subtitle:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),segmentName:_e.segmentName||"",cue:_e.customFields?.cue||"",program:_e.programType||"",speakers:[]};if(_e.speakersText&&_e.speakersText.trim())try{const Me=JSON.parse(_e.speakersText).sort((be,Ie)=>be.slot-Ie.slot);we.speakers=Me.map(be=>({title:be.fullName||"",subtitle:be.title&&be.org?`${be.title}
${be.org}`:be.title||be.org||"",photo:be.photoLink||""}))}catch(ve){console.log("Error parsing speakers JSON for item:",_e.id,ve)}oe.push(we)}),i(oe),g(new Date),console.log(" Lower Thirds XML: Data updated via WebSocket")}},onConnectionChange:re=>{console.log(" Lower Thirds XML: WebSocket connection status:",re),re&&Z()}};xt.connect(s,_);const B=()=>{document.hidden?(console.log(" Lower Thirds XML: Tab hidden - disconnecting WebSocket to save costs"),xt.disconnect(s)):xt.isConnected()||(console.log(" Lower Thirds XML: Tab visible - reconnecting WebSocket"),xt.connect(s,_),Z())};return document.addEventListener("visibilitychange",B),()=>{console.log(" Lower Thirds XML: Cleaning up WebSocket connection"),xt.disconnect(s),document.removeEventListener("visibilitychange",B)}},[s]);const R=()=>{Z()},le=()=>{const _=J(t),B=new Blob([_],{type:"application/xml"}),re=URL.createObjectURL(B),H=document.createElement("a");H.href=re,H.download=`lower_thirds_${s||"unknown"}_${Date.now()}.xml`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(re)},W=()=>{const _=J(t);navigator.clipboard.writeText(_).then(()=>{alert("XML content copied to clipboard!")}).catch(B=>{console.error("Failed to copy to clipboard:",B),alert("Failed to copy to clipboard")})},ee=_=>{let B="Row,Cue,Program,Segment Name,";return B+="Speaker 1 Name,Speaker 1 Title/Org,Speaker 1 Photo,",B+="Speaker 2 Name,Speaker 2 Title/Org,Speaker 2 Photo,",B+="Speaker 3 Name,Speaker 3 Title/Org,Speaker 3 Photo,",B+="Speaker 4 Name,Speaker 4 Title/Org,Speaker 4 Photo,",B+="Speaker 5 Name,Speaker 5 Title/Org,Speaker 5 Photo,",B+="Speaker 6 Name,Speaker 6 Title/Org,Speaker 6 Photo,",B+=`Speaker 7 Name,Speaker 7 Title/Org,Speaker 7 Photo
`,_.forEach((re,H)=>{const oe=H+1,_e=re.cue||"",ne=re.program||"",we=re.segmentName||"",ve=new Array(21).fill("");re.speakers&&re.speakers.length>0&&re.speakers.forEach(be=>{const Ie=be.slot||0;if(Ie>=1&&Ie<=7){const Te=(Ie-1)*3;ve[Te]=be.title||"",ve[Te+1]=be.subtitle||"",ve[Te+2]=be.photo||""}});const Me=[oe,`"${_e.replace(/"/g,'""')}"`,`"${ne.replace(/"/g,'""')}"`,`"${we.replace(/"/g,'""')}"`,`"${ve[0].replace(/"/g,'""')}"`,`"${ve[1].replace(/"/g,'""')}"`,`"${ve[2].replace(/"/g,'""')}"`,`"${ve[3].replace(/"/g,'""')}"`,`"${ve[4].replace(/"/g,'""')}"`,`"${ve[5].replace(/"/g,'""')}"`,`"${ve[6].replace(/"/g,'""')}"`,`"${ve[7].replace(/"/g,'""')}"`,`"${ve[8].replace(/"/g,'""')}"`,`"${ve[9].replace(/"/g,'""')}"`,`"${ve[10].replace(/"/g,'""')}"`,`"${ve[11].replace(/"/g,'""')}"`,`"${ve[12].replace(/"/g,'""')}"`,`"${ve[13].replace(/"/g,'""')}"`,`"${ve[14].replace(/"/g,'""')}"`,`"${ve[15].replace(/"/g,'""')}"`,`"${ve[16].replace(/"/g,'""')}"`,`"${ve[17].replace(/"/g,'""')}"`,`"${ve[18].replace(/"/g,'""')}"`,`"${ve[19].replace(/"/g,'""')}"`,`"${ve[20].replace(/"/g,'""')}"`].join(",");B+=Me+`
`}),B},X=()=>{const _=ee(t),B=new Blob([_],{type:"text/csv"}),re=URL.createObjectURL(B),H=document.createElement("a");H.href=re,H.download=`lower_thirds_${s||"unknown"}_${Date.now()}.csv`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(re)},De=()=>{const _=ee(t);navigator.clipboard.writeText(_).then(()=>{alert("CSV content copied to clipboard!")}).catch(B=>{console.error("Failed to copy to clipboard:",B),alert("Failed to copy to clipboard")})};return a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Lower Thirds XML Feed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:436,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Live XML data feed for VMIX integration with Supabase backend"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:437,columnNumber:11},void 0),s&&a.jsxDEV("p",{className:"text-sm text-blue-400 mt-2",children:["Event ID: ",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:441,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:435,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("label",{className:"block text-sm font-medium",children:"Refresh Interval (seconds)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:451,columnNumber:15},void 0),a.jsxDEV("select",{value:y,onChange:_=>T(Number(_.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2",children:[a.jsxDEV("option",{value:5,children:"5 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:459,columnNumber:17},void 0),a.jsxDEV("option",{value:10,children:"10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:460,columnNumber:17},void 0),a.jsxDEV("option",{value:30,children:"30 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:461,columnNumber:17},void 0),a.jsxDEV("option",{value:60,children:"1 minute"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:462,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:454,columnNumber:15},void 0),a.jsxDEV("button",{onClick:R,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 px-4 py-2 rounded font-medium",children:o?"Loading...":"Refresh Now"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:464,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:450,columnNumber:13},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:le,className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-medium",children:"Download XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:474,columnNumber:15},void 0),a.jsxDEV("button",{onClick:W,className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded font-medium",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:480,columnNumber:15},void 0),a.jsxDEV("button",{onClick:X,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-medium",children:"Download CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:486,columnNumber:15},void 0),a.jsxDEV("button",{onClick:De,className:"bg-orange-600 hover:bg-orange-700 px-4 py-2 rounded font-medium",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:492,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:473,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:449,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:448,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${o?"bg-yellow-500":c?"bg-red-500":"bg-green-500"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:506,columnNumber:15},void 0),a.jsxDEV("span",{className:"font-medium",children:o?"Loading...":c?"Error":"Connected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:507,columnNumber:15},void 0),h&&a.jsxDEV("span",{className:"text-sm text-gray-400",children:["Last updated: ",h.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:511,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:505,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-sm text-gray-400",children:["Auto-refresh: ",y,"s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:516,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:504,columnNumber:11},void 0),c&&a.jsxDEV("div",{className:"mt-2 text-red-400 text-sm",children:c},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:521,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:503,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg",children:[a.jsxDEV("div",{className:"flex border-b border-gray-600",children:[a.jsxDEV("button",{onClick:()=>b("preview"),className:`px-6 py-3 font-medium text-sm transition-colors ${v==="preview"?"text-blue-400 border-b-2 border-blue-400 bg-gray-700":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:" XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:530,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>b("instructions"),className:`px-6 py-3 font-medium text-sm transition-colors ${v==="instructions"?"text-blue-400 border-b-2 border-blue-400 bg-gray-700":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:" VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:540,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:529,columnNumber:11},void 0),a.jsxDEV("div",{className:"p-6",children:[v==="preview"&&a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:556,columnNumber:17},void 0),a.jsxDEV("div",{className:"bg-gray-900 rounded p-4 overflow-auto max-h-96",children:a.jsxDEV("pre",{className:"text-sm text-green-400 whitespace-pre-wrap",children:J(t)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:558,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:557,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:555,columnNumber:15},void 0),v==="instructions"&&a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-lg font-bold mb-4 text-blue-400",children:"VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:567,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-4 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"1. XML Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:570,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1",children:[k(),"/lower-thirds.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:572,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>w(`${k()}/lower-thirds.xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:575,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:571,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:569,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"2. CSV Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:584,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1",children:[k(),"/lower-thirds.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:586,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>w(`${k()}/lower-thirds.csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:589,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:585,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:583,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"3. VMIX Setup:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:598,columnNumber:21},void 0),a.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[a.jsxDEV("li",{children:"Open VMIX and go to Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:600,columnNumber:23},void 0),a.jsxDEV("li",{children:"Add a new Data Source"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:601,columnNumber:23},void 0),a.jsxDEV("li",{children:'Choose "XML" or "CSV" as the data type'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:602,columnNumber:23},void 0),a.jsxDEV("li",{children:"Paste one of the URLs above"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:603,columnNumber:23},void 0),a.jsxDEV("li",{children:"Set refresh interval to 10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:604,columnNumber:23},void 0),a.jsxDEV("li",{children:'Click "Add" to create the data source'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:605,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:599,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:597,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"5. XPath for XML (if needed):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:609,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400",children:"/data/lower_thirds/item"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:611,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>w("/data/lower_thirds/item"),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:612,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:610,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:608,columnNumber:19},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded",children:a.jsxDEV("p",{className:"text-yellow-300 text-xs",children:[a.jsxDEV("strong",{children:"Environment:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:622,columnNumber:23},void 0)," ",E()?"Netlify (Production)":"Local Development"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:621,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:620,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:568,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:566,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:553,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:528,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:433,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:432,columnNumber:5},void 0)},B9=()=>{const[e]=Ao(),s=e.get("eventId"),[t,i]=O.useState(""),[o,u]=O.useState(""),[c,m]=O.useState(!0),[h,g]=O.useState(null),[v,b]=O.useState(null),[E,k]=O.useState("xml"),w="https://ros-50-production.up.railway.app/api",y=async R=>{try{await navigator.clipboard.writeText(R),alert("Copied to clipboard!")}catch(le){console.error("Failed to copy:",le)}},T=R=>{const le='<?xml version="1.0" encoding="UTF-8"?>',W=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <lower_thirds>
    ${R.map(ee=>{const X=new Array(21).fill("");return ee.speakers&&ee.speakers.length>0&&ee.speakers.forEach(De=>{const _=De.slot||0;if(_>=1&&_<=7){const B=(_-1)*3;X[B]=De.title||"",X[B+1]=De.subtitle||"",X[B+2]=De.photo||""}}),`
    <item>
      <id>${ee.id}</id>
      <cue><![CDATA[${ee.cue||""}]]></cue>
      <program><![CDATA[${ee.program||""}]]></program>
      <segment_name><![CDATA[${ee.segmentName||""}]]></segment_name>
      <speaker_1_name><![CDATA[${X[0]}]]></speaker_1_name>
      <speaker_1_title_org><![CDATA[${X[1]}]]></speaker_1_title_org>
      <speaker_1_photo><![CDATA[${X[2]}]]></speaker_1_photo>
      <speaker_2_name><![CDATA[${X[3]}]]></speaker_2_name>
      <speaker_2_title_org><![CDATA[${X[4]}]]></speaker_2_title_org>
      <speaker_2_photo><![CDATA[${X[5]}]]></speaker_2_photo>
      <speaker_3_name><![CDATA[${X[6]}]]></speaker_3_name>
      <speaker_3_title_org><![CDATA[${X[7]}]]></speaker_3_title_org>
      <speaker_3_photo><![CDATA[${X[8]}]]></speaker_3_photo>
      <speaker_4_name><![CDATA[${X[9]}]]></speaker_4_name>
      <speaker_4_title_org><![CDATA[${X[10]}]]></speaker_4_title_org>
      <speaker_4_photo><![CDATA[${X[11]}]]></speaker_4_photo>
      <speaker_5_name><![CDATA[${X[12]}]]></speaker_5_name>
      <speaker_5_title_org><![CDATA[${X[13]}]]></speaker_5_title_org>
      <speaker_5_photo><![CDATA[${X[14]}]]></speaker_5_photo>
      <speaker_6_name><![CDATA[${X[15]}]]></speaker_6_name>
      <speaker_6_title_org><![CDATA[${X[16]}]]></speaker_6_title_org>
      <speaker_6_photo><![CDATA[${X[17]}]]></speaker_6_photo>
      <speaker_7_name><![CDATA[${X[18]}]]></speaker_7_name>
      <speaker_7_title_org><![CDATA[${X[19]}]]></speaker_7_title_org>
      <speaker_7_photo><![CDATA[${X[20]}]]></speaker_7_photo>
    </item>`}).join("")}
  </lower_thirds>
</data>`;return le+W},J=R=>{let le=`Row,Cue,Program,Segment Name,Speaker 1 Name,Speaker 1 Title/Org,Speaker 1 Photo,Speaker 2 Name,Speaker 2 Title/Org,Speaker 2 Photo,Speaker 3 Name,Speaker 3 Title/Org,Speaker 3 Photo,Speaker 4 Name,Speaker 4 Title/Org,Speaker 4 Photo,Speaker 5 Name,Speaker 5 Title/Org,Speaker 5 Photo,Speaker 6 Name,Speaker 6 Title/Org,Speaker 6 Photo,Speaker 7 Name,Speaker 7 Title/Org,Speaker 7 Photo
`;return R.forEach((W,ee)=>{const X=new Array(21).fill("");W.speakers&&W.speakers.length>0&&W.speakers.forEach(_=>{const B=_.slot||0;if(B>=1&&B<=7){const re=(B-1)*3;X[re]=_.title||"",X[re+1]=_.subtitle||"",X[re+2]=_.photo||""}});const De=_=>`"${_.replace(/"/g,'""')}"`;le+=`${ee+1},${De(W.cue||"")},${De(W.program||"")},${De(W.segmentName||"")}`;for(let _=0;_<21;_++)le+=`,${De(X[_])}`;le+=`
`}),le},Z=async()=>{if(!s){g("Event ID is required"),m(!1);return}try{m(!0),g(null);const R=await fetch(`${w}/run-of-show-data/${s}`);if(!R.ok)throw new Error("Failed to fetch data from Railway");const le=await R.json();if(!le||!le.schedule_items)throw new Error("No schedule items found");const W=le.schedule_items,ee=[];W.forEach(X=>{const De=[];if(X.speakersText)try{const _=typeof X.speakersText=="string"?JSON.parse(X.speakersText):X.speakersText;Array.isArray(_)&&_.forEach(B=>{De.push({title:B.fullName||B.name||"",subtitle:[B.title,B.org].filter(Boolean).join(`
`),photo:B.photoLink||"",slot:B.slot||0})})}catch(_){console.error("Error parsing speakers:",_)}ee.push({id:String(X.id),cue:X.customFields?.cue||"",program:X.programType||"",segmentName:X.segmentName||"",speakers:De})}),i(T(ee)),u(J(ee)),b(new Date),m(!1)}catch(R){console.error("Error fetching data:",R),g(R instanceof Error?R.message:"Failed to fetch data"),m(!1)}};return O.useEffect(()=>{Z();const R=setInterval(Z,2e4);return()=>clearInterval(R)},[s]),s?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-6",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:" Lower Thirds - Railway Edition"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:215,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:["Event ID: ",a.jsxDEV("span",{className:"text-blue-400",children:s},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:217,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:216,columnNumber:11},void 0),v&&a.jsxDEV("p",{className:"text-sm text-gray-500",children:["Last updated: ",v.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:220,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:214,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex space-x-2 mb-6",children:[a.jsxDEV("button",{onClick:()=>k("xml"),className:`px-4 py-2 rounded-t ${E==="xml"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:228,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>k("csv"),className:`px-4 py-2 rounded-t ${E==="csv"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"CSV Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:238,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>k("instructions"),className:`px-4 py-2 rounded-t ${E==="instructions"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:248,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:227,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:[c&&a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:264,columnNumber:15},void 0),a.jsxDEV("p",{className:"mt-4 text-gray-400",children:"Loading data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:265,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:263,columnNumber:13},void 0),h&&a.jsxDEV("div",{className:"bg-red-900/50 border border-red-500 rounded p-4 mb-4",children:a.jsxDEV("p",{className:"text-red-200",children:[" Error: ",h]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:271,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:270,columnNumber:13},void 0),!c&&!h&&a.jsxDEV(a.Fragment,{children:[E==="xml"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"XML Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:280,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>y(t),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:281,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:279,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:t},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:289,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:288,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",t.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:291,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:278,columnNumber:17},void 0),E==="csv"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"CSV Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:300,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>y(o),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:301,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:299,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:o},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:309,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:308,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",o.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:311,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:298,columnNumber:17},void 0),E==="instructions"&&a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold mb-4 text-blue-300",children:" VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:320,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-gray-300 mb-4",children:"Use these URLs in VMIX to display live lower thirds data from Railway API."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:323,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:319,columnNumber:19},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-orange-900/30 border border-orange-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-orange-300 mb-2",children:" Netlify Functions (IN DEVELOPMENT)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:330,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-3",children:"These Netlify Function URLs are still being developed and may not work correctly yet."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:331,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX XML URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:337,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-lower-thirds-xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:339,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${window.location.origin}/.netlify/functions/vmix-lower-thirds-xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:342,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:338,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:349,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:336,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX CSV URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:355,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-lower-thirds-csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:357,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${window.location.origin}/.netlify/functions/vmix-lower-thirds-csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:360,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:356,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:367,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:354,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:335,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:329,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-green-900/30 border border-green-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-green-300 mb-2",children:" Direct Railway API (WORKING NOW)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:375,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-2",children:"These URLs work reliably! Use them while Netlify Functions are in development."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:376,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3 mt-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"XML Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:382,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[w,"/lower-thirds.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:384,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/lower-thirds.xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:387,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:383,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:" Works from anywhere  Always online  Production ready"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:394,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:381,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"CSV Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:400,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[w,"/lower-thirds.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:402,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/lower-thirds.csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:405,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:401,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Higher egress cost"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:412,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:399,columnNumber:25},void 0),a.jsxDEV("div",{className:"mt-6 pt-6 border-t border-purple-500/30",children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-3 text-base flex items-center gap-2",children:[" Upstash Cached URLs (Recommended for vMix/Singular.Live)",a.jsxDEV("span",{className:"text-xs font-normal text-purple-400",children:"Zero database cost!"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:420,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:418,columnNumber:27},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"XML (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:425,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[w,"/cache/lower-thirds.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:427,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/cache/lower-thirds.xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:430,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:426,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:437,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:424,columnNumber:29},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"CSV (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:443,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[w,"/cache/lower-thirds.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:445,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/cache/lower-thirds.csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:448,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:444,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:455,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:442,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:423,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:417,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:380,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:374,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-700/50 border border-gray-600 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-gray-300 mb-2",children:"Alternative: Local Development"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:465,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"XML:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:468,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/lower-thirds.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:469,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:467,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"CSV:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:472,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/lower-thirds.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:473,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:471,columnNumber:25},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-2",children:"(Only works when local server is running)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:475,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:466,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:464,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" How to use in VMIX:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:482,columnNumber:23},void 0),a.jsxDEV("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-300",children:[a.jsxDEV("li",{children:["Open VMIX and go to ",a.jsxDEV("strong",{children:"Settings  Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:484,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:484,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"Add"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:485,columnNumber:35},void 0)," to create a new data source"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:485,columnNumber:25},void 0),a.jsxDEV("li",{children:["Choose ",a.jsxDEV("strong",{children:"XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:486,columnNumber:36},void 0)," or ",a.jsxDEV("strong",{children:"CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:486,columnNumber:60},void 0)," as the type"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:486,columnNumber:25},void 0),a.jsxDEV("li",{children:"Paste one of the Railway API URLs above (yellow section)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:487,columnNumber:25},void 0),a.jsxDEV("li",{children:["Set refresh interval to ",a.jsxDEV("strong",{children:"20 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:488,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:488,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"OK"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:489,columnNumber:35},void 0)," to save"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:489,columnNumber:25},void 0),a.jsxDEV("li",{children:"Use the data fields in your VMIX titles/overlays"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:490,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:483,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:481,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" Why Railway API?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:495,columnNumber:23},void 0),a.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-300",children:[a.jsxDEV("li",{children:"Always running (not serverless)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:497,columnNumber:25},void 0),a.jsxDEV("li",{children:"Reliable and fast"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:498,columnNumber:25},void 0),a.jsxDEV("li",{children:"Direct database connection"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:499,columnNumber:25},void 0),a.jsxDEV("li",{children:"Real-time updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:500,columnNumber:25},void 0),a.jsxDEV("li",{children:"Works from anywhere (not just localhost)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:501,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:496,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:494,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:328,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:318,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:276,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:261,columnNumber:9},void 0),a.jsxDEV("div",{className:"mt-6 text-center",children:[a.jsxDEV("button",{onClick:Z,disabled:c,className:"px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:c?"Refreshing...":" Refresh Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:513,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-500",children:"Data auto-refreshes every 20 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:520,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:512,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:212,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:211,columnNumber:5},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-4",children:" Event ID Required"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:202,columnNumber:11},void 0),a.jsxDEV("p",{children:"Please provide an eventId parameter in the URL."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:203,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-gray-400",children:"Example: ?eventId=your-event-id"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:204,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:201,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:200,columnNumber:7},void 0)},X9=()=>{const[e]=Ao(),s=e.get("eventId"),[t,i]=O.useState(""),[o,u]=O.useState(""),[c,m]=O.useState(!0),[h,g]=O.useState(null),[v,b]=O.useState(null),[E,k]=O.useState("xml"),w="https://ros-50-production.up.railway.app/api",y=async R=>{try{await navigator.clipboard.writeText(R),alert("Copied to clipboard!")}catch(le){console.error("Failed to copy:",le)}},T=R=>{const le='<?xml version="1.0" encoding="UTF-8"?>',W=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <schedule>
    ${R.map(ee=>`
    <item>
      <id>${ee.id}</id>
      <row>${R.indexOf(ee)+1}</row>
      <segment_name><![CDATA[${ee.segmentName}]]></segment_name>
      <start_time><![CDATA[${ee.startTime}]]></start_time>
    </item>`).join("")}
  </schedule>
</data>`;return le+W},J=R=>{let le=`Row,Segment Name,Start Time
`;return R.forEach((W,ee)=>{const X=De=>`"${De.replace(/"/g,'""')}"`;le+=`${ee+1},${X(W.segmentName)},${X(W.startTime)}
`}),le},Z=async()=>{if(!s){g("Event ID is required"),m(!1);return}try{m(!0),g(null);const R=await fetch(`${w}/run-of-show-data/${s}`);if(!R.ok)throw new Error("Failed to fetch data from Railway");const le=await R.json();if(!le||!le.schedule_items)throw new Error("No schedule items found");const W=le.schedule_items,ee=[];let X="";if(le.settings?.masterStartTime)X=le.settings.masterStartTime;else if(le.settings?.dayStartTimes?.["1"])X=le.settings.dayStartTimes[1];else if(le.schedule_items&&le.schedule_items.length>0){const B=le.schedule_items[0];B.startTime&&(X=B.startTime)}X?console.log(" NetlifyScheduleXML: Master start time from API:",X):(X="09:00",console.log(" NetlifyScheduleXML: No master start time found, using fallback 09:00"));const[De,_]=X.split(":").map(Number);W.forEach((B,re)=>{let H=0;for(let ne=0;ne<re;ne++){const we=W[ne];H+=(we.durationHours||0)*60+(we.durationMinutes||0)}const oe=new Date;oe.setHours(De,_+H,0,0);const _e=oe.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});ee.push({id:String(B.id),segmentName:B.segmentName||"Untitled Segment",startTime:_e})}),i(T(ee)),u(J(ee)),b(new Date),m(!1)}catch(R){console.error("Error fetching data:",R),g(R instanceof Error?R.message:"Failed to fetch data"),m(!1)}};return O.useEffect(()=>{Z();const R=setInterval(Z,2e4);return()=>clearInterval(R)},[s]),s?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-6",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:" Schedule - Railway Edition"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:172,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:["Event ID: ",a.jsxDEV("span",{className:"text-blue-400",children:s},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:174,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:173,columnNumber:11},void 0),v&&a.jsxDEV("p",{className:"text-sm text-gray-500",children:["Last updated: ",v.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:177,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:171,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex space-x-2 mb-6",children:[a.jsxDEV("button",{onClick:()=>k("xml"),className:`px-4 py-2 rounded-t ${E==="xml"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:185,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>k("csv"),className:`px-4 py-2 rounded-t ${E==="csv"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"CSV Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:195,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>k("instructions"),className:`px-4 py-2 rounded-t ${E==="instructions"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:205,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:184,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:[c&&a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:221,columnNumber:15},void 0),a.jsxDEV("p",{className:"mt-4 text-gray-400",children:"Loading data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:222,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:220,columnNumber:13},void 0),h&&a.jsxDEV("div",{className:"bg-red-900/50 border border-red-500 rounded p-4 mb-4",children:a.jsxDEV("p",{className:"text-red-200",children:[" Error: ",h]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:228,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:227,columnNumber:13},void 0),!c&&!h&&a.jsxDEV(a.Fragment,{children:[E==="xml"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"XML Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:237,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>y(t),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:238,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:236,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:t},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:246,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:245,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",t.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:248,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:235,columnNumber:17},void 0),E==="csv"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"CSV Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:257,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>y(o),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:258,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:256,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:o},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:266,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:265,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",o.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:268,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:255,columnNumber:17},void 0),E==="instructions"&&a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold mb-4 text-blue-300",children:" VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:277,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-gray-300 mb-4",children:"Use these URLs in VMIX to display live schedule data from Railway API."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:280,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:276,columnNumber:19},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-orange-900/30 border border-orange-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-orange-300 mb-2",children:" Netlify Functions (IN DEVELOPMENT)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:287,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-3",children:"These Netlify Function URLs are still being developed and may not work correctly yet."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:288,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX XML URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:294,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-schedule-xml?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:296,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${window.location.origin}/.netlify/functions/vmix-schedule-xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:299,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:295,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:306,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:293,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX CSV URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:312,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-schedule-csv?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:314,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${window.location.origin}/.netlify/functions/vmix-schedule-csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:317,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:313,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:324,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:311,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:292,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:286,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-green-900/30 border border-green-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-green-300 mb-2",children:" Direct Railway API (WORKING NOW)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:332,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-2",children:"These URLs work reliably! Use them while Netlify Functions are in development."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:333,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3 mt-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"XML Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:339,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[w,"/schedule.xml?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:341,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/schedule.xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:344,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:340,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:" Works from anywhere  Always online  Production ready"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:351,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:338,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"CSV Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:357,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[w,"/schedule.csv?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:359,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/schedule.csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:362,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:358,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Higher egress cost"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:369,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:356,columnNumber:25},void 0),a.jsxDEV("div",{className:"mt-6 pt-6 border-t border-purple-500/30",children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-3 text-base flex items-center gap-2",children:[" Upstash Cached URLs (Recommended for vMix/Singular.Live)",a.jsxDEV("span",{className:"text-xs font-normal text-purple-400",children:"Zero database cost!"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:377,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:375,columnNumber:27},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"XML (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:382,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[w,"/cache/schedule.xml?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:384,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/cache/schedule.xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:387,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:383,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:394,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:381,columnNumber:29},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"CSV (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:400,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[w,"/cache/schedule.csv?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:402,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/cache/schedule.csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:405,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:401,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:412,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:399,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:380,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:374,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:337,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:331,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-700/50 border border-gray-600 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-gray-300 mb-2",children:"Alternative: Local Development"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:422,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"XML:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:425,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/schedule.xml?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:426,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:424,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"CSV:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:429,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/schedule.csv?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:430,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:428,columnNumber:25},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-2",children:"(Only works when local server is running)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:432,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:423,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:421,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" How to use in VMIX:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:439,columnNumber:23},void 0),a.jsxDEV("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-300",children:[a.jsxDEV("li",{children:["Open VMIX and go to ",a.jsxDEV("strong",{children:"Settings  Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:441,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:441,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"Add"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:442,columnNumber:35},void 0)," to create a new data source"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:442,columnNumber:25},void 0),a.jsxDEV("li",{children:["Choose ",a.jsxDEV("strong",{children:"XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:443,columnNumber:36},void 0)," or ",a.jsxDEV("strong",{children:"CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:443,columnNumber:60},void 0)," as the type"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:443,columnNumber:25},void 0),a.jsxDEV("li",{children:"Paste one of the Railway API URLs above (yellow section)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:444,columnNumber:25},void 0),a.jsxDEV("li",{children:["Set refresh interval to ",a.jsxDEV("strong",{children:"20 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:445,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:445,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"OK"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:446,columnNumber:35},void 0)," to save"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:446,columnNumber:25},void 0),a.jsxDEV("li",{children:"Use the data fields in your VMIX titles/overlays"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:447,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:440,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:438,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" Why Railway API?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:452,columnNumber:23},void 0),a.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-300",children:[a.jsxDEV("li",{children:"Always running (not serverless)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:454,columnNumber:25},void 0),a.jsxDEV("li",{children:"Reliable and fast"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:455,columnNumber:25},void 0),a.jsxDEV("li",{children:"Direct database connection"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:456,columnNumber:25},void 0),a.jsxDEV("li",{children:"Real-time updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:457,columnNumber:25},void 0),a.jsxDEV("li",{children:"Works from anywhere (not just localhost)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:458,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:453,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:451,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:285,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:275,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:233,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:218,columnNumber:9},void 0),a.jsxDEV("div",{className:"mt-6 text-center",children:[a.jsxDEV("button",{onClick:Z,disabled:c,className:"px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:c?"Refreshing...":" Refresh Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:470,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-500",children:"Data auto-refreshes every 20 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:477,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:469,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:169,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:168,columnNumber:5},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-4",children:" Event ID Required"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:159,columnNumber:11},void 0),a.jsxDEV("p",{children:"Please provide an eventId parameter in the URL."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:160,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-gray-400",children:"Example: ?eventId=your-event-id"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:161,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:158,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:157,columnNumber:7},void 0)},H9=()=>{const[e]=Ao(),s=e.get("eventId"),[t,i]=O.useState(""),[o,u]=O.useState(""),[c,m]=O.useState(!0),[h,g]=O.useState(null),[v,b]=O.useState(null),[E,k]=O.useState("xml"),w="https://ros-50-production.up.railway.app/api",y=async R=>{try{await navigator.clipboard.writeText(R),alert("Copied to clipboard!")}catch(le){console.error("Failed to copy:",le)}},T=R=>{const le='<?xml version="1.0" encoding="UTF-8"?>',W=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <custom_columns>
    ${R.map(ee=>{const X=ee.customFields?Object.entries(ee.customFields).map(([De,_])=>`<${De}><![CDATA[${_||""}]]></${De}>`).join(""):"";return`
    <item>
      <id>${ee.id}</id>
      <row>${ee.row}</row>
      <cue><![CDATA[${ee.cue}]]></cue>
      ${X}
    </item>`}).join("")}
  </custom_columns>
</data>`;return le+W},J=R=>{const le=new Set;R.forEach(X=>{Object.keys(X.customFields||{}).forEach(De=>le.add(De))});let ee=["Row","Cue",...Array.from(le)].join(",")+`
`;return R.forEach(X=>{const De=B=>`"${B.replace(/"/g,'""')}"`,_=[String(X.row),De(X.cue)];le.forEach(B=>{_.push(De(X.customFields?.[B]||""))}),ee+=_.join(",")+`
`}),ee},Z=async()=>{if(!s){g("Event ID is required"),m(!1);return}try{m(!0),g(null);const R=await fetch(`${w}/run-of-show-data/${s}`);if(!R.ok)throw new Error("Failed to fetch data from Railway");const le=await R.json();if(!le||!le.schedule_items)throw new Error("No schedule items found");const ee=le.schedule_items.map((X,De)=>({id:String(X.id),row:De+1,cue:X.customFields?.cue||"",customFields:X.customFields||{}}));i(T(ee)),u(J(ee)),b(new Date),m(!1)}catch(R){console.error("Error fetching data:",R),g(R instanceof Error?R.message:"Failed to fetch data"),m(!1)}};return O.useEffect(()=>{Z();const R=setInterval(Z,2e4);return()=>clearInterval(R)},[s]),s?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-6",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:" Custom Columns - Railway Edition"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:146,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:["Event ID: ",a.jsxDEV("span",{className:"text-blue-400",children:s},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:148,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:147,columnNumber:11},void 0),v&&a.jsxDEV("p",{className:"text-sm text-gray-500",children:["Last updated: ",v.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:151,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:145,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex space-x-2 mb-6",children:[a.jsxDEV("button",{onClick:()=>k("xml"),className:`px-4 py-2 rounded-t ${E==="xml"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:159,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>k("csv"),className:`px-4 py-2 rounded-t ${E==="csv"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"CSV Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:169,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>k("instructions"),className:`px-4 py-2 rounded-t ${E==="instructions"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:179,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:158,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:[c&&a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:195,columnNumber:15},void 0),a.jsxDEV("p",{className:"mt-4 text-gray-400",children:"Loading data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:196,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:194,columnNumber:13},void 0),h&&a.jsxDEV("div",{className:"bg-red-900/50 border border-red-500 rounded p-4 mb-4",children:a.jsxDEV("p",{className:"text-red-200",children:[" Error: ",h]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:202,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:201,columnNumber:13},void 0),!c&&!h&&a.jsxDEV(a.Fragment,{children:[E==="xml"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"XML Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:211,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>y(t),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:212,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:210,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:t},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:220,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:219,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",t.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:222,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:209,columnNumber:17},void 0),E==="csv"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"CSV Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:231,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>y(o),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:232,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:230,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:o},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:240,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:239,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",o.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:242,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:229,columnNumber:17},void 0),E==="instructions"&&a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold mb-4 text-blue-300",children:" VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:251,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-gray-300 mb-4",children:"Use these URLs in VMIX to display live custom columns data from Railway API."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:254,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:250,columnNumber:19},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-orange-900/30 border border-orange-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-orange-300 mb-2",children:" Netlify Functions (IN DEVELOPMENT)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:261,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-3",children:"These Netlify Function URLs are still being developed and may not work correctly yet."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:262,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX XML URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:268,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-custom-columns-xml?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:270,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${window.location.origin}/.netlify/functions/vmix-custom-columns-xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:273,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:269,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:280,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:267,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX CSV URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:286,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-custom-columns-csv?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:288,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${window.location.origin}/.netlify/functions/vmix-custom-columns-csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:291,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:287,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:298,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:285,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:266,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:260,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-green-900/30 border border-green-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-green-300 mb-2",children:" Direct Railway API (WORKING NOW)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:306,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-2",children:"These URLs work reliably! Use them while Netlify Functions are in development."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:307,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3 mt-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"XML Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:313,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[w,"/custom-columns.xml?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:315,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/custom-columns.xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:318,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:314,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:" Works from anywhere  Always online  Production ready"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:325,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:312,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"CSV Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:331,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[w,"/custom-columns.csv?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:333,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/custom-columns.csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:336,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:332,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Higher egress cost"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:343,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:330,columnNumber:25},void 0),a.jsxDEV("div",{className:"mt-6 pt-6 border-t border-purple-500/30",children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-3 text-base flex items-center gap-2",children:[" Upstash Cached URLs (Recommended for vMix/Singular.Live)",a.jsxDEV("span",{className:"text-xs font-normal text-purple-400",children:"Zero database cost!"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:351,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:349,columnNumber:27},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"XML (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:356,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[w,"/cache/custom-columns.xml?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:358,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/cache/custom-columns.xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:361,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:357,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:368,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:355,columnNumber:29},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"CSV (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:374,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[w,"/cache/custom-columns.csv?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:376,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>y(`${w}/cache/custom-columns.csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:379,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:375,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:386,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:373,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:354,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:348,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:311,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:305,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-700/50 border border-gray-600 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-gray-300 mb-2",children:"Alternative: Local Development"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:396,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"XML:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:399,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/custom-columns.xml?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:400,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:398,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"CSV:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:403,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/custom-columns.csv?eventId=$",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:404,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:402,columnNumber:25},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-2",children:"(Only works when local server is running)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:406,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:397,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:395,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" How to use in VMIX:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:413,columnNumber:23},void 0),a.jsxDEV("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-300",children:[a.jsxDEV("li",{children:["Open VMIX and go to ",a.jsxDEV("strong",{children:"Settings  Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:415,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:415,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"Add"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:416,columnNumber:35},void 0)," to create a new data source"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:416,columnNumber:25},void 0),a.jsxDEV("li",{children:["Choose ",a.jsxDEV("strong",{children:"XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:417,columnNumber:36},void 0)," or ",a.jsxDEV("strong",{children:"CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:417,columnNumber:60},void 0)," as the type"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:417,columnNumber:25},void 0),a.jsxDEV("li",{children:"Paste one of the Railway API URLs above (yellow section)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:418,columnNumber:25},void 0),a.jsxDEV("li",{children:["Set refresh interval to ",a.jsxDEV("strong",{children:"20 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:419,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:419,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"OK"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:420,columnNumber:35},void 0)," to save"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:420,columnNumber:25},void 0),a.jsxDEV("li",{children:"Use the data fields in your VMIX titles/overlays"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:421,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:414,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:412,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" Why Railway API?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:426,columnNumber:23},void 0),a.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-300",children:[a.jsxDEV("li",{children:"Always running (not serverless)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:428,columnNumber:25},void 0),a.jsxDEV("li",{children:"Reliable and fast"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:429,columnNumber:25},void 0),a.jsxDEV("li",{children:"Direct database connection"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:430,columnNumber:25},void 0),a.jsxDEV("li",{children:"Real-time updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:431,columnNumber:25},void 0),a.jsxDEV("li",{children:"Works from anywhere (not just localhost)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:432,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:427,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:425,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:259,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:249,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:207,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:192,columnNumber:9},void 0),a.jsxDEV("div",{className:"mt-6 text-center",children:[a.jsxDEV("button",{onClick:Z,disabled:c,className:"px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:c?"Refreshing...":" Refresh Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:444,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-500",children:"Data auto-refreshes every 20 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:451,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:443,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:143,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:142,columnNumber:5},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-4",children:" Event ID Required"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:133,columnNumber:11},void 0),a.jsxDEV("p",{children:"Please provide an eventId parameter in the URL."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:134,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-gray-400",children:"Example: ?eventId=your-event-id"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:135,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:132,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:131,columnNumber:7},void 0)},z9=()=>{const[e,s]=O.useState("lower-thirds"),[t,i]=O.useState(""),[o,u]=O.useState("Sheet1"),[c,m]=O.useState(!1),[h,g]=O.useState(30),[v,b]=O.useState([]),[E,k]=O.useState([]),[w,y]=O.useState([]),[T,J]=O.useState(!1),[Z,R]=O.useState(null),[le,W]=O.useState(null),[ee,X]=O.useState(""),[De,_]=O.useState(!1);O.useEffect(()=>{const we=new URLSearchParams(window.location.search).get("eventId");if(we)X(we);else{const ve=localStorage.getItem("events");if(ve)try{const Me=JSON.parse(ve);Me.length>0&&X(Me[0].id)}catch(Me){console.error("Error parsing stored events:",Me)}}},[]),O.useEffect(()=>{if(!c||!ee||!t)return;const ne=async()=>{try{const ve=await lt.getRunOfShowData(ee);if(!ve||!ve.schedule_items)return;const Me=De?ve.schedule_items:ve.schedule_items.filter(Te=>Te.isPublic===!0);if(console.log(" GoogleSheetsVMIX: Total schedule items:",ve.schedule_items.length),console.log(" GoogleSheetsVMIX: Show all items toggle:",De),console.log(" GoogleSheetsVMIX: Filtered items found:",Me.length),!De){console.log(" GoogleSheetsVMIX: Public items found:",Me.length),console.log(" GoogleSheetsVMIX: Non-public items:",ve.schedule_items.filter(Q=>Q.isPublic!==!0).length);const Te=ve.schedule_items.filter(Q=>Q.isPublic!==!0);Te.length>0&&console.log(" GoogleSheetsVMIX: Examples of non-public items:",Te.slice(0,3).map(Q=>({id:Q.id,segmentName:Q.segmentName,isPublic:Q.isPublic,cue:Q.customFields?.cue})))}let be=[],Ie=[];if(e==="lower-thirds"){const Te=[];Me.forEach(Q=>{const Oe=[];if(Q.speakersText)try{const me=typeof Q.speakersText=="string"?JSON.parse(Q.speakersText):Q.speakersText;Array.isArray(me)&&me.forEach(se=>{Oe.push({name:se.fullName||se.name||"",title:[se.title,se.org].filter(Boolean).join(`
`),photo:se.photoLink||"",slot:se.slot||0})})}catch(me){console.error("Error parsing speakers:",me)}Te.push({id:String(Q.id),cue:Q.customFields?.cue||"",program:Q.programType||"",segmentName:Q.segmentName||"",speakers:Oe})}),b(Te),Te.length>0&&(be=Te.map((Q,Oe)=>{const me=new Array(21).fill("");return Q.speakers&&Q.speakers.length>0&&Q.speakers.forEach(se=>{const ie=se.slot||0;if(ie>=1&&ie<=7){const Y=(ie-1)*3;me[Y]=se.name||"",me[Y+1]=se.title||"",me[Y+2]=se.photo||""}}),[String(Oe+1),Q.cue,Q.program,Q.segmentName,...me]}),Ie=["Row","Cue","Program","Segment Name","Speaker 1 Name","Speaker 1 Title/Org","Speaker 1 Photo","Speaker 2 Name","Speaker 2 Title/Org","Speaker 2 Photo","Speaker 3 Name","Speaker 3 Title/Org","Speaker 3 Photo","Speaker 4 Name","Speaker 4 Title/Org","Speaker 4 Photo","Speaker 5 Name","Speaker 5 Title/Org","Speaker 5 Photo","Speaker 6 Name","Speaker 6 Title/Org","Speaker 6 Photo","Speaker 7 Name","Speaker 7 Title/Org","Speaker 7 Photo"])}else if(e==="schedule"){const Te=[];let Q="";if(ve.settings?.masterStartTime)Q=ve.settings.masterStartTime;else if(ve.settings?.dayStartTimes?.["1"])Q=ve.settings.dayStartTimes[1];else if(ve.schedule_items&&ve.schedule_items.length>0){const se=ve.schedule_items[0];se.startTime&&(Q=se.startTime)}Q?console.log(" GoogleSheetsVMIX: Master start time from API:",Q):(Q="09:00",console.log(" GoogleSheetsVMIX: No master start time found, using fallback 09:00"));const[Oe,me]=Q.split(":").map(Number);Me.forEach((se,ie)=>{let Y=0;for(let I=0;I<ie;I++){const Ee=publicItems[I];Y+=(Ee.durationHours||0)*60+(Ee.durationMinutes||0)}const U=new Date;U.setHours(Oe,me+Y,0,0);const de=U.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});Te.push({id:String(se.id),segmentName:se.segmentName||"Untitled Segment",startTime:de})}),k(Te),Te.length>0&&(be=Te.map((se,ie)=>[String(ie+1),se.segmentName,se.startTime]),Ie=["Row","Segment Name","Start Time"])}else if(e==="custom-columns"){const Te=[];if(Me.forEach((Q,Oe)=>{Te.push({id:String(Q.id),cue:Q.customFields?.cue||"",customFields:Q.customFields||{}})}),y(Te),Te.length>0){const Q=new Set;Te.forEach(Oe=>{Object.keys(Oe.customFields||{}).forEach(me=>Q.add(me))}),be=Te.map((Oe,me)=>{const se=[String(me+1),Oe.cue];return Q.forEach(ie=>{se.push(Oe.customFields?.[ie]||"")}),se}),Ie=["Row","Cue",...Array.from(Q)]}}be.length>0&&(await fetch(t,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[Ie,...be],sheetName:o})}),W(new Date))}catch(ve){console.error("Auto-refresh error:",ve)}};ne();const we=setInterval(ne,h*1e3);return()=>clearInterval(we)},[c,ee,t,h,o,e]);const B=async()=>{if(ee)try{J(!0),R(null);const ne=await lt.getRunOfShowData(ee);if(!ne||!ne.schedule_items)throw new Error("No schedule items found");const we=De?ne.schedule_items:ne.schedule_items.filter(ve=>ve.isPublic===!0);if(console.log(" GoogleSheetsVMIX (Manual Load): Total schedule items:",ne.schedule_items.length),console.log(" GoogleSheetsVMIX (Manual Load): Show all items toggle:",De),console.log(" GoogleSheetsVMIX (Manual Load): Filtered items found:",we.length),!De){console.log(" GoogleSheetsVMIX (Manual Load): Public items found:",we.length),console.log(" GoogleSheetsVMIX (Manual Load): Non-public items:",ne.schedule_items.filter(Me=>Me.isPublic!==!0).length);const ve=ne.schedule_items.filter(Me=>Me.isPublic!==!0);ve.length>0&&console.log(" GoogleSheetsVMIX (Manual Load): Examples of non-public items:",ve.slice(0,3).map(Me=>({id:Me.id,segmentName:Me.segmentName,isPublic:Me.isPublic,cue:Me.customFields?.cue})))}if(e==="lower-thirds"){const ve=[];we.forEach(Me=>{const be=[];if(Me.speakersText)try{const Ie=typeof Me.speakersText=="string"?JSON.parse(Me.speakersText):Me.speakersText;Array.isArray(Ie)&&Ie.forEach(Te=>{be.push({name:Te.fullName||Te.name||"",title:[Te.title,Te.org].filter(Boolean).join(`
`),photo:Te.photoLink||"",slot:Te.slot||0})})}catch(Ie){console.error("Error parsing speakers:",Ie)}ve.push({id:String(Me.id),cue:Me.customFields?.cue||"",program:Me.programType||"",segmentName:Me.segmentName||"",speakers:be})}),b(ve)}else if(e==="schedule"){const ve=[],Me=ne.settings?.masterStartTime||"09:00",[be,Ie]=Me.split(":").map(Number);we.forEach((Te,Q)=>{let Oe=0;for(let ie=0;ie<Q;ie++){const Y=publicItems[ie];Oe+=(Y.durationHours||0)*60+(Y.durationMinutes||0)}const me=new Date;me.setHours(be,Ie+Oe,0,0);const se=me.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});ve.push({id:String(Te.id),segmentName:Te.segmentName||"Untitled Segment",startTime:se})}),k(ve)}else if(e==="custom-columns"){const ve=[];we.forEach(Me=>{ve.push({id:String(Me.id),cue:Me.customFields?.cue||"",customFields:Me.customFields||{}})}),y(ve)}J(!1)}catch(ne){console.error("Error loading data:",ne),R(ne instanceof Error?ne.message:"Failed to load data"),J(!1)}},re=()=>{if(e==="lower-thirds"){const ne=["Row","Cue","Program","Segment Name","Speaker 1 Name","Speaker 1 Title/Org","Speaker 1 Photo","Speaker 2 Name","Speaker 2 Title/Org","Speaker 2 Photo","Speaker 3 Name","Speaker 3 Title/Org","Speaker 3 Photo","Speaker 4 Name","Speaker 4 Title/Org","Speaker 4 Photo","Speaker 5 Name","Speaker 5 Title/Org","Speaker 5 Photo","Speaker 6 Name","Speaker 6 Title/Org","Speaker 6 Photo","Speaker 7 Name","Speaker 7 Title/Org","Speaker 7 Photo"],we=v.map((ve,Me)=>{const be=new Array(21).fill("");return ve.speakers&&ve.speakers.length>0&&ve.speakers.forEach(Ie=>{const Te=Ie.slot||0;if(Te>=1&&Te<=7){const Q=(Te-1)*3;be[Q]=Ie.name||"",be[Q+1]=Ie.title||"",be[Q+2]=Ie.photo||""}}),[String(Me+1),ve.cue,ve.program,ve.segmentName,...be]});return[ne,...we]}else if(e==="schedule"){const ne=["Row","Segment Name","Start Time"],we=E.map((ve,Me)=>[String(Me+1),ve.segmentName,ve.startTime]);return[ne,...we]}else if(e==="custom-columns"){const ne=new Set;w.forEach(Me=>{Object.keys(Me.customFields||{}).forEach(be=>ne.add(be))});const we=["Row","Cue",...Array.from(ne)],ve=w.map((Me,be)=>{const Ie=[String(be+1),Me.cue];return ne.forEach(Te=>{Ie.push(Me.customFields?.[Te]||"")}),Ie});return[we,...ve]}return[]},H=async(ne=!1)=>{if(!t){ne||R("Please enter your Google Apps Script Web App URL");return}if(!(e==="lower-thirds"&&v.length>0||e==="schedule"&&E.length>0||e==="custom-columns"&&w.length>0)){ne||R("No data available. Please load data first.");return}try{ne||J(!0),R(null);const ve=re(),Me=await fetch(t,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:ve,sheetName:o})});W(new Date),R(null)}catch(ve){console.error("Error pushing to Google Sheets:",ve),ne||R(ve instanceof Error?ve.message:"Failed to push to Google Sheets")}finally{ne||J(!1)}},oe=ne=>{navigator.clipboard.writeText(ne)},_e=`function doPost(e) {
  try {
    var spreadsheet = SpreadsheetApp.getActiveSpreadsheet();
    var data = JSON.parse(e.postData.contents);
    
    // Get target sheet name (default to active sheet)
    var sheetName = data.sheetName || 'Sheet1';
    var sheet = spreadsheet.getSheetByName(sheetName);
    
    // If sheet doesn't exist, create it
    if (!sheet) {
      sheet = spreadsheet.insertSheet(sheetName);
    }
    
    // Clear existing data
    sheet.clear();
    
    // Write new data
    if (data.data && data.data.length > 0) {
      sheet.getRange(1, 1, data.data.length, data.data[0].length).setValues(data.data);
      
      // Format header row
      var headerRange = sheet.getRange(1, 1, 1, data.data[0].length);
      headerRange.setFontWeight('bold');
      headerRange.setBackground('#4285f4');
      headerRange.setFontColor('#ffffff');
    }
    
    return ContentService.createTextOutput(JSON.stringify({
      status: 'success',
      rows: data.data.length,
      sheet: sheetName
    })).setMimeType(ContentService.MimeType.JSON);
    
  } catch (error) {
    return ContentService.createTextOutput(JSON.stringify({
      status: 'error',
      message: error.toString()
    })).setMimeType(ContentService.MimeType.JSON);
  }
}`;return a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:a.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Export to Google Sheets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:596,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Push Lower Thirds, Schedule, or Custom Columns data directly to a Google Sheet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:597,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:595,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded-lg p-6 mb-6",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-3",children:" One-Time Setup (5 minutes):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:604,columnNumber:11},void 0),a.jsxDEV("ol",{className:"text-sm text-gray-300 space-y-3",children:[a.jsxDEV("li",{className:"flex gap-3",children:[a.jsxDEV("span",{className:"font-bold text-blue-400 min-w-[24px]",children:"1."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:607,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Create a Google Sheet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:609,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:610,columnNumber:17},void 0),"Go to ",a.jsxDEV("a",{href:"https://sheets.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"sheets.google.com"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:610,columnNumber:28},void 0)," and create a new spreadsheet"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:608,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:606,columnNumber:13},void 0),a.jsxDEV("li",{className:"flex gap-3",children:[a.jsxDEV("span",{className:"font-bold text-blue-400 min-w-[24px]",children:"2."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:614,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Open Apps Script Editor"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:616,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:617,columnNumber:17},void 0),"In your Google Sheet, click ",a.jsxDEV("strong",{children:"Extensions  Apps Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:617,columnNumber:50},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:615,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:613,columnNumber:13},void 0),a.jsxDEV("li",{className:"flex gap-3",children:[a.jsxDEV("span",{className:"font-bold text-blue-400 min-w-[24px]",children:"3."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:621,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Paste the Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:623,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:624,columnNumber:17},void 0),"Copy the script below and paste it into the Apps Script editor:",a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded mt-2 relative",children:[a.jsxDEV("pre",{className:"text-xs text-green-400 overflow-x-auto",children:_e},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:626,columnNumber:19},void 0),a.jsxDEV("button",{onClick:()=>oe(_e),className:"absolute top-2 right-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:627,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:625,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:622,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:620,columnNumber:13},void 0),a.jsxDEV("li",{className:"flex gap-3",children:[a.jsxDEV("span",{className:"font-bold text-blue-400 min-w-[24px]",children:"4."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:637,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Deploy as Web App"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:639,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:640,columnNumber:17},void 0),"Click ",a.jsxDEV("strong",{children:"Deploy  New deployment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:640,columnNumber:28},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:641,columnNumber:17},void 0)," Select type: ",a.jsxDEV("strong",{children:"Web app"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:641,columnNumber:37},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:642,columnNumber:17},void 0)," Execute as: ",a.jsxDEV("strong",{children:"Me"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:642,columnNumber:36},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:643,columnNumber:17},void 0)," Who has access: ",a.jsxDEV("strong",{children:"Anyone"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:643,columnNumber:40},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:644,columnNumber:17},void 0)," Click ",a.jsxDEV("strong",{children:"Deploy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:644,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:638,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:636,columnNumber:13},void 0),a.jsxDEV("li",{className:"flex gap-3",children:[a.jsxDEV("span",{className:"font-bold text-blue-400 min-w-[24px]",children:"5."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:648,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Copy the Web App URL"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:650,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:651,columnNumber:17},void 0),"After deployment, copy the Web App URL and paste it below",a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:652,columnNumber:17},void 0),a.jsxDEV("span",{className:"text-yellow-400",children:"It should look like: https://script.google.com/macros/s/ABC123.../exec"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:652,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:649,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:647,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:605,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:603,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[a.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:"Configuration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:660,columnNumber:11},void 0),a.jsxDEV("div",{className:"space-y-4 mb-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Data Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:664,columnNumber:15},void 0),a.jsxDEV("select",{value:e,onChange:ne=>s(ne.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsxDEV("option",{value:"lower-thirds",children:"Lower Thirds (Speaker Data)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:670,columnNumber:17},void 0),a.jsxDEV("option",{value:"schedule",children:"Schedule (Segment Times)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:671,columnNumber:17},void 0),a.jsxDEV("option",{value:"custom-columns",children:"Custom Columns (Custom Fields)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:672,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:665,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:" Select which type of data to export to Google Sheets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:674,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:663,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Google Apps Script Web App URL"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:680,columnNumber:15},void 0),a.jsxDEV("input",{type:"text",value:t,onChange:ne=>i(ne.target.value),placeholder:"https://script.google.com/macros/s/ABC123.../exec",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:681,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:" Paste the complete URL from your Apps Script deployment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:688,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:679,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Target Sheet Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:694,columnNumber:15},void 0),a.jsxDEV("input",{type:"text",value:o,onChange:ne=>u(ne.target.value),placeholder:"Sheet1",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:695,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:" Name of the sheet to write data to (will be created if it doesn't exist)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:702,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:693,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Show All Items"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:710,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400",children:"Include all schedule items, not just public ones"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:711,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:709,columnNumber:17},void 0),a.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsxDEV("input",{type:"checkbox",checked:De,onChange:ne=>_(ne.target.checked),className:"sr-only peer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:714,columnNumber:19},void 0),a.jsxDEV("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:720,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:713,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:708,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400",children:De?" Will export ALL schedule items (public and private)":" Will export only PUBLIC items (default behavior)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:723,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:707,columnNumber:13},void 0),a.jsxDEV("div",{className:"border-t border-gray-700 pt-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Auto-Refresh"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:734,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400",children:"Automatically update Google Sheets at regular intervals"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:735,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:733,columnNumber:17},void 0),a.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsxDEV("input",{type:"checkbox",checked:c,onChange:ne=>m(ne.target.checked),className:"sr-only peer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:738,columnNumber:19},void 0),a.jsxDEV("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:744,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:737,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:732,columnNumber:15},void 0),c&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Refresh Interval (seconds)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:750,columnNumber:19},void 0),a.jsxDEV("input",{type:"number",min:"5",max:"300",value:h,onChange:ne=>g(Number(ne.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:751,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:[" Data will be pushed every ",h," seconds"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:759,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:749,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:731,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:662,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex gap-4",children:[a.jsxDEV("button",{onClick:B,disabled:!ee||T,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 text-white rounded-md transition-colors font-semibold",children:T?"Loading...":`1. Load ${e==="lower-thirds"?"Lower Thirds":e==="schedule"?"Schedule":"Custom Columns"} Data`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:768,columnNumber:13},void 0),a.jsxDEV("button",{onClick:H,disabled:!t||T||e==="lower-thirds"&&v.length===0||e==="schedule"&&E.length===0||e==="custom-columns"&&w.length===0,className:"px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 text-white rounded-md transition-colors font-semibold",children:T?"Pushing...":"2. Push to Google Sheets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:776,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:767,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:659,columnNumber:9},void 0),Z&&a.jsxDEV("div",{className:"bg-red-900/30 border border-red-500/50 rounded-lg p-4 mb-6",children:[a.jsxDEV("p",{className:"text-red-300 font-semibold mb-2",children:" Error:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:792,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-red-200 text-sm",children:Z},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:793,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:791,columnNumber:11},void 0),le&&a.jsxDEV("div",{className:"bg-green-900/30 border border-green-500/50 rounded-lg p-4 mb-6",children:[a.jsxDEV("p",{className:"text-green-300",children:[" Data pushed to Google Sheets at ",le.toLocaleTimeString(),c&&` (Auto-refresh: every ${h}s)`]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:799,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-green-200 text-sm mt-1",children:c?`Auto-refresh is active. Data will be updated automatically every ${h} seconds.`:"Check your Google Sheet to verify the data was written correctly."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:803,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:798,columnNumber:11},void 0),(e==="lower-thirds"&&v.length>0||e==="schedule"&&E.length>0||e==="custom-columns"&&w.length>0)&&a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:[e==="lower-thirds"?"Lower Thirds":e==="schedule"?"Schedule":"Custom Columns"," Data Preview"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:817,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-gray-400 mb-4",children:[e==="lower-thirds"?v.length:e==="schedule"?E.length:w.length," rows ready to push to Google Sheets"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:820,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-gray-900 rounded p-4 max-h-64 overflow-y-auto",children:[e==="lower-thirds"&&a.jsxDEV(a.Fragment,{children:[a.jsxDEV("table",{className:"w-full text-sm",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{className:"text-left text-gray-400",children:[a.jsxDEV("th",{className:"pb-2",children:"Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:829,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Cue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:830,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Program"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:831,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Segment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:832,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:833,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:828,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:827,columnNumber:21},void 0),a.jsxDEV("tbody",{children:v.slice(0,10).map((ne,we)=>a.jsxDEV("tr",{className:"border-t border-gray-700",children:[a.jsxDEV("td",{className:"py-2",children:we+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:839,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:ne.cue},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:840,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:ne.program},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:841,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:ne.segmentName},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:842,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:[ne.speakers.length," speaker(s)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:843,columnNumber:27},void 0)]},ne.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:838,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:836,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:826,columnNumber:19},void 0),v.length>10&&a.jsxDEV("p",{className:"text-gray-500 text-xs mt-2",children:["Showing 10 of ",v.length," rows"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:849,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:825,columnNumber:17},void 0),e==="schedule"&&a.jsxDEV(a.Fragment,{children:[a.jsxDEV("table",{className:"w-full text-sm",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{className:"text-left text-gray-400",children:[a.jsxDEV("th",{className:"pb-2",children:"Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:861,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Segment Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:862,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Start Time"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:863,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:860,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:859,columnNumber:21},void 0),a.jsxDEV("tbody",{children:E.slice(0,10).map((ne,we)=>a.jsxDEV("tr",{className:"border-t border-gray-700",children:[a.jsxDEV("td",{className:"py-2",children:we+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:869,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:ne.segmentName},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:870,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:ne.startTime},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:871,columnNumber:27},void 0)]},ne.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:868,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:866,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:858,columnNumber:19},void 0),E.length>10&&a.jsxDEV("p",{className:"text-gray-500 text-xs mt-2",children:["Showing 10 of ",E.length," rows"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:877,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:857,columnNumber:17},void 0),e==="custom-columns"&&a.jsxDEV(a.Fragment,{children:[a.jsxDEV("table",{className:"w-full text-sm",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{className:"text-left text-gray-400",children:[a.jsxDEV("th",{className:"pb-2",children:"Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:889,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Cue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:890,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Custom Fields"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:891,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:888,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:887,columnNumber:21},void 0),a.jsxDEV("tbody",{children:w.slice(0,10).map((ne,we)=>a.jsxDEV("tr",{className:"border-t border-gray-700",children:[a.jsxDEV("td",{className:"py-2",children:we+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:897,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:ne.cue},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:898,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:[Object.keys(ne.customFields||{}).length," field(s)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:899,columnNumber:27},void 0)]},ne.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:896,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:894,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:886,columnNumber:19},void 0),w.length>10&&a.jsxDEV("p",{className:"text-gray-500 text-xs mt-2",children:["Showing 10 of ",w.length," rows"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:905,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:885,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:823,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:816,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:594,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:593,columnNumber:5},void 0)},G9=()=>{const[e]=Ao(),s=e.get("eventId"),[t,i]=O.useState([]),[o,u]=O.useState(!0),[c,m]=O.useState(null),[h,g]=O.useState(null),[v,b]=O.useState("preview"),[E,k]=O.useState(10),w=(B,re,H)=>{if(!H)return"";try{const oe=B.indexOf(re);if(re.isIndented)return"";let _e=0;for(let Q=0;Q<oe;Q++){const Oe=B[Q];Oe.isIndented||(_e+=Oe.durationHours*3600+Oe.durationMinutes*60+Oe.durationSeconds)}const[ne,we]=H.split(":").map(Number),Me=ne*3600+we*60+_e,be=Me/3600%24,Ie=Me%3600/60,Te=new Date;return Te.setHours(be,Ie,0,0),Te.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return""}},y=()=>window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com")||window.location.hostname!=="localhost",T=()=>y()?`${window.location.origin}/.netlify/functions`:"http://localhost:3002/api",J=async B=>{try{await navigator.clipboard.writeText(B),console.log("Copied to clipboard:",B)}catch(re){console.error("Failed to copy to clipboard:",re);const H=document.createElement("textarea");H.value=B,document.body.appendChild(H),H.select(),document.execCommand("copy"),document.body.removeChild(H)}},Z=async()=>{try{if(u(!0),m(null),!s)throw new Error("Event ID is required");console.log(" Fetching schedule data for event:",s);const B=await lt.getRunOfShowData(s);if(!B||!B.schedule_items){i([]),g(new Date);return}const re=[],H=B.schedule_items;let oe="";if(B.settings?.masterStartTime)oe=B.settings.masterStartTime;else if(B.settings?.dayStartTimes?.["1"])oe=B.settings.dayStartTimes[1];else if(B.schedule_items&&B.schedule_items.length>0){const _e=B.schedule_items[0];_e.startTime&&(oe=_e.startTime)}console.log(" Total schedule items:",H.length),console.log(" ScheduleXML: Master start time from API:",oe),H.forEach((_e,ne)=>{const we=w(H,_e,oe),ve={id:`${_e.id}-schedule`,title:_e.segmentName||"Untitled Segment",subtitle:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),segmentName:_e.segmentName||"Untitled Segment",startTime:we||"No Start Time",speakers:[]};re.push(ve)}),console.log(" Processed schedule items:",re.length),i(re),g(new Date)}catch(B){console.error("Error fetching schedule data:",B),m(B instanceof Error?B.message:"Unknown error occurred")}finally{u(!1)}};O.useEffect(()=>{if(!s){console.log(" No event ID, skipping WebSocket connection");return}console.log(" Setting up WebSocket connection for Schedule XML page"),Z();const B={onRunOfShowDataUpdated:H=>{if(console.log(" Schedule XML: WebSocket data update received:",H),H&&H.schedule_items){const oe=[],_e=H.schedule_items;let ne="";if(H.settings?.masterStartTime)ne=H.settings.masterStartTime;else if(H.settings?.dayStartTimes?.["1"])ne=H.settings.dayStartTimes[1];else if(H.schedule_items&&H.schedule_items.length>0){const we=H.schedule_items[0];we.startTime&&(ne=we.startTime)}_e.forEach((we,ve)=>{const Me=w(_e,we,ne),be={id:`${we.id}-schedule`,title:we.segmentName||"Untitled Segment",subtitle:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),segmentName:we.segmentName||"Untitled Segment",startTime:Me||"No Start Time",speakers:[]};oe.push(be)}),i(oe),g(new Date),console.log(" Schedule XML: Data updated via WebSocket")}},onConnectionChange:H=>{console.log(" Schedule XML: WebSocket connection status:",H),H&&Z()}};xt.connect(s,B);const re=()=>{document.hidden?(console.log(" Schedule XML: Tab hidden - disconnecting WebSocket to save costs"),xt.disconnect(s)):xt.isConnected()||(console.log(" Schedule XML: Tab visible - reconnecting WebSocket"),xt.connect(s,B),Z())};return document.addEventListener("visibilitychange",re),()=>{console.log(" Schedule XML: Cleaning up WebSocket connection"),xt.disconnect(s),document.removeEventListener("visibilitychange",re)}},[s]);const R=()=>{Z()},le=B=>{const re='<?xml version="1.0" encoding="UTF-8"?>',H=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <schedule>
    ${B.map(oe=>`
    <item>
      <id>${oe.id}</id>
      <row>${B.indexOf(oe)+1}</row>
      <segment_name><![CDATA[${oe.segmentName||""}]]></segment_name>
      <start_time><![CDATA[${oe.startTime||""}]]></start_time>
    </item>`).join("")}
  </schedule>
</data>`;return re+H},W=B=>{let re=`Row,Segment Name,Start Time
`;return B.forEach((H,oe)=>{const _e=oe+1,ne=H.segmentName||"",we=H.startTime||"",ve=[_e,`"${ne.replace(/"/g,'""')}"`,`"${we.replace(/"/g,'""')}"`].join(",");re+=ve+`
`}),re},ee=()=>{const B=le(t),re=new Blob([B],{type:"application/xml"}),H=URL.createObjectURL(re),oe=document.createElement("a");oe.href=H,oe.download=`schedule-${s||"data"}.xml`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(H)},X=()=>{const B=W(t),re=new Blob([B],{type:"text/csv"}),H=URL.createObjectURL(re),oe=document.createElement("a");oe.href=H,oe.download=`schedule-${s||"data"}.csv`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(H)},De=()=>{const B=le(t);J(B)},_=()=>{const B=W(t);J(B)};return o?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:362,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Loading schedule data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:363,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:361,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:360,columnNumber:7},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Schedule XML Feed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:374,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Live XML data feed for VMIX integration with WebSocket updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:375,columnNumber:11},void 0),s&&a.jsxDEV("p",{className:"text-sm text-blue-400 mt-2",children:["Event ID: ",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:379,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:373,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("label",{className:"block text-sm font-medium",children:"Refresh Interval (seconds)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:389,columnNumber:15},void 0),a.jsxDEV("select",{value:E,onChange:B=>k(Number(B.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2",children:[a.jsxDEV("option",{value:5,children:"5 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:397,columnNumber:17},void 0),a.jsxDEV("option",{value:10,children:"10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:398,columnNumber:17},void 0),a.jsxDEV("option",{value:30,children:"30 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:399,columnNumber:17},void 0),a.jsxDEV("option",{value:60,children:"1 minute"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:400,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:392,columnNumber:15},void 0),a.jsxDEV("button",{onClick:R,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 px-4 py-2 rounded font-medium",children:o?"Loading...":"Refresh Now"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:402,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:388,columnNumber:13},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:ee,className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-medium",children:"Download XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:412,columnNumber:15},void 0),a.jsxDEV("button",{onClick:De,className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded font-medium",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:418,columnNumber:15},void 0),a.jsxDEV("button",{onClick:X,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-medium",children:"Download CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:424,columnNumber:15},void 0),a.jsxDEV("button",{onClick:_,className:"bg-orange-600 hover:bg-orange-700 px-4 py-2 rounded font-medium",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:430,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:411,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:387,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:386,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${o?"bg-yellow-500":c?"bg-red-500":"bg-green-500"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:444,columnNumber:15},void 0),a.jsxDEV("span",{className:"font-medium",children:o?"Loading...":c?"Error":"Connected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:445,columnNumber:15},void 0),h&&a.jsxDEV("span",{className:"text-sm text-gray-400",children:["Last updated: ",h.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:449,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:443,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-sm text-gray-400",children:["Auto-refresh: ",E,"s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:454,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:442,columnNumber:11},void 0),c&&a.jsxDEV("div",{className:"mt-2 text-red-400 text-sm",children:c},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:459,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:441,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg",children:[a.jsxDEV("div",{className:"flex border-b border-gray-600",children:[a.jsxDEV("button",{onClick:()=>b("preview"),className:`px-6 py-3 font-medium text-sm transition-colors ${v==="preview"?"text-blue-400 border-b-2 border-blue-400 bg-gray-700":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:" XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:468,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>b("instructions"),className:`px-6 py-3 font-medium text-sm transition-colors ${v==="instructions"?"text-blue-400 border-b-2 border-blue-400 bg-gray-700":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:" VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:478,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:467,columnNumber:13},void 0),a.jsxDEV("div",{className:"p-6",children:[v==="preview"&&a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:494,columnNumber:19},void 0),a.jsxDEV("div",{className:"bg-gray-900 rounded p-4 overflow-auto max-h-96",children:a.jsxDEV("pre",{className:"text-sm text-green-400 whitespace-pre-wrap",children:le(t)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:496,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:495,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:493,columnNumber:17},void 0),v==="instructions"&&a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-lg font-bold mb-4 text-blue-400",children:"VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:505,columnNumber:19},void 0),a.jsxDEV("div",{className:"space-y-4 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"1. XML Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:508,columnNumber:23},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1",children:[T(),"/schedule.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:510,columnNumber:25},void 0),a.jsxDEV("button",{onClick:()=>J(`${T()}/schedule.xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:513,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:509,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:507,columnNumber:21},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"2. CSV Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:522,columnNumber:23},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1",children:[T(),"/schedule.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:524,columnNumber:25},void 0),a.jsxDEV("button",{onClick:()=>J(`${T()}/schedule.csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:527,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:523,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:521,columnNumber:21},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"3. VMIX Setup:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:536,columnNumber:23},void 0),a.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[a.jsxDEV("li",{children:"Open VMIX and go to Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:538,columnNumber:25},void 0),a.jsxDEV("li",{children:"Add a new Data Source"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:539,columnNumber:25},void 0),a.jsxDEV("li",{children:'Choose "XML" or "CSV" as the data type'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:540,columnNumber:25},void 0),a.jsxDEV("li",{children:"Paste the URL above"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:541,columnNumber:25},void 0),a.jsxDEV("li",{children:"Set refresh interval to 10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:542,columnNumber:25},void 0),a.jsxDEV("li",{children:'Click "Add" to create the data source'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:543,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:537,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:535,columnNumber:21},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"4. XPath for XML (if needed):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:547,columnNumber:23},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400",children:"/data/schedule/item"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:549,columnNumber:25},void 0),a.jsxDEV("button",{onClick:()=>J("/data/schedule/item"),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:550,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:548,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:546,columnNumber:21},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded",children:a.jsxDEV("p",{className:"text-yellow-300 text-xs",children:[a.jsxDEV("strong",{children:"Environment:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:560,columnNumber:25},void 0)," ",y()?"Netlify (Production)":"Local Development"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:559,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:558,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:506,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:504,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:491,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:466,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:371,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:370,columnNumber:5},void 0)},wk=()=>window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com")||window.location.hostname!=="localhost",nh=()=>wk()?`${window.location.origin}/.netlify/functions`:"http://localhost:3002/api",ah=async e=>{try{await navigator.clipboard.writeText(e),console.log("Copied to clipboard:",e)}catch(s){console.error("Failed to copy to clipboard:",s);const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},W9=()=>{const[e]=Ao(),s=e.get("eventId"),[t,i]=O.useState([]),[o,u]=O.useState(!0),[c,m]=O.useState(null),[h,g]=O.useState(null),[v,b]=O.useState("preview"),[E,k]=O.useState(10),w=async()=>{try{if(u(!0),m(null),!s)throw new Error("Event ID is required");console.log(" Fetching custom columns data for event:",s);const ee=await lt.getRunOfShowData(s);if(!ee||!ee.schedule_items){i([]),g(new Date);return}const X=ee.schedule_items,De=ee.custom_columns||[],_=[];console.log(" Total custom column items:",X.length);const B=De.filter(re=>re.name).map(re=>re.name);X.forEach((re,H)=>{const oe={id:`${re.id}-custom`,row:H+1,cue:re.customFields?.cue||"CUE##",customFields:re.customFields||{}};_.push(oe)}),console.log(" Processed custom column items:",_.length),i(_),g(new Date)}catch(ee){console.error("Error fetching custom columns:",ee),m(ee instanceof Error?ee.message:"Unknown error occurred")}finally{u(!1)}};O.useEffect(()=>{if(!s){console.log(" No event ID, skipping WebSocket connection");return}console.log(" Setting up WebSocket connection for Custom Columns XML page"),w();const ee={onRunOfShowDataUpdated:De=>{if(console.log(" Custom Columns XML: WebSocket data update received:",De),De&&De.schedule_items){const _=De.schedule_items,B=De.custom_columns||[],re=[];B.filter(H=>H.name).map(H=>H.name),_.forEach((H,oe)=>{const _e={id:`${H.id}-custom`,row:oe+1,cue:H.customFields?.cue||"CUE##",customFields:H.customFields||{}};re.push(_e)}),i(re),g(new Date),console.log(" Custom Columns XML: Data updated via WebSocket")}},onConnectionChange:De=>{console.log(" Custom Columns XML: WebSocket connection status:",De),De&&w()}};xt.connect(s,ee);const X=()=>{document.hidden?(console.log(" Custom Columns XML: Tab hidden - disconnecting WebSocket to save costs"),xt.disconnect(s)):xt.isConnected()||(console.log(" Custom Columns XML: Tab visible - reconnecting WebSocket"),xt.connect(s,ee),w())};return document.addEventListener("visibilitychange",X),()=>{console.log(" Custom Columns XML: Cleaning up WebSocket connection"),xt.disconnect(s),document.removeEventListener("visibilitychange",X)}},[s]);const y=()=>{w()},T=ee=>{const X='<?xml version="1.0" encoding="UTF-8"?>',De=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <custom_columns>
    ${ee.map(_=>{const B=_.customFields?Object.entries(_.customFields).map(([re,H])=>`<${re}><![CDATA[${H||""}]]></${re}>`).join(""):"";return`
    <item>
      <id>${_.id}</id>
      <row>${_.row||ee.indexOf(_)+1}</row>
      <cue><![CDATA[${_.cue||""}]]></cue>
      ${B}
    </item>`}).join("")}
  </custom_columns>
</data>`;return X+De},J=ee=>{let X="Row,Cue,";const De=new Set;return ee.forEach(_=>{_.customFields&&Object.keys(_.customFields).forEach(B=>De.add(B))}),De.forEach(_=>{X+=`${_},`}),X=X.slice(0,-1)+`
`,ee.forEach(_=>{const B=_.row||ee.indexOf(_)+1,re=_.cue||"",H=[B,`"${re.replace(/"/g,'""')}"`,...Array.from(De).map(oe=>`"${(_.customFields?.[oe]||"").replace(/"/g,'""')}"`)].join(",");X+=H+`
`}),X},Z=()=>{const ee=T(t),X=new Blob([ee],{type:"application/xml"}),De=URL.createObjectURL(X),_=document.createElement("a");_.href=De,_.download=`custom-columns-${s||"data"}.xml`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(De)},R=()=>{const ee=T(t);ah(ee)},le=()=>{const ee=J(t),X=new Blob([ee],{type:"text/csv"}),De=URL.createObjectURL(X),_=document.createElement("a");_.href=De,_.download=`custom-columns-${s||"data"}.csv`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(De)},W=()=>{const ee=J(t);ah(ee)};return o?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:332,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-lg",children:"Loading Custom Columns Data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:333,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:331,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:330,columnNumber:7},void 0):c?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-red-500 text-6xl mb-4",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:343,columnNumber:11},void 0),a.jsxDEV("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:344,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-300 mb-6",children:c},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:345,columnNumber:11},void 0),a.jsxDEV("button",{onClick:w,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg transition-colors",children:"Try Again"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:346,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:342,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:341,columnNumber:7},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Custom Columns XML Feed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:362,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Live XML data feed for VMIX integration with WebSocket updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:363,columnNumber:11},void 0),s&&a.jsxDEV("p",{className:"text-sm text-blue-400 mt-2",children:["Event ID: ",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:367,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:361,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("label",{className:"block text-sm font-medium",children:"Refresh Interval (seconds)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:377,columnNumber:15},void 0),a.jsxDEV("select",{value:E,onChange:ee=>k(Number(ee.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2",children:[a.jsxDEV("option",{value:5,children:"5 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:385,columnNumber:17},void 0),a.jsxDEV("option",{value:10,children:"10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:386,columnNumber:17},void 0),a.jsxDEV("option",{value:30,children:"30 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:387,columnNumber:17},void 0),a.jsxDEV("option",{value:60,children:"1 minute"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:388,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:380,columnNumber:15},void 0),a.jsxDEV("button",{onClick:y,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 px-4 py-2 rounded font-medium",children:o?"Loading...":"Refresh Now"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:390,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:376,columnNumber:13},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:Z,className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-medium",children:"Download XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:400,columnNumber:15},void 0),a.jsxDEV("button",{onClick:R,className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded font-medium",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:406,columnNumber:15},void 0),a.jsxDEV("button",{onClick:le,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-medium",children:"Download CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:412,columnNumber:15},void 0),a.jsxDEV("button",{onClick:W,className:"bg-orange-600 hover:bg-orange-700 px-4 py-2 rounded font-medium",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:418,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:399,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:375,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:374,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${o?"bg-yellow-500":c?"bg-red-500":"bg-green-500"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:432,columnNumber:15},void 0),a.jsxDEV("span",{className:"font-medium",children:o?"Loading...":c?"Error":"Connected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:433,columnNumber:15},void 0),h&&a.jsxDEV("span",{className:"text-sm text-gray-400",children:["Last updated: ",h.toLocaleString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:437,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:431,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-sm text-gray-400",children:["Auto-refresh: ",E,"s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:442,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:430,columnNumber:11},void 0),c&&a.jsxDEV("div",{className:"mt-2 text-red-400 text-sm",children:c},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:447,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:429,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex space-x-4 mb-6",children:[a.jsxDEV("button",{className:`px-6 py-3 rounded-lg font-semibold transition-colors ${v==="preview"?"bg-blue-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>b("preview"),children:" XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:454,columnNumber:13},void 0),a.jsxDEV("button",{className:`px-6 py-3 rounded-lg font-semibold transition-colors ${v==="instructions"?"bg-blue-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>b("instructions"),children:" VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:464,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:453,columnNumber:9},void 0),v==="preview"&&a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:478,columnNumber:15},void 0),a.jsxDEV("div",{className:"bg-gray-900 rounded p-4 overflow-auto max-h-96",children:a.jsxDEV("pre",{className:"text-sm text-green-400 whitespace-pre-wrap",children:T(t)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:480,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:479,columnNumber:15},void 0),a.jsxDEV("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h3",{className:"text-lg font-semibold",children:"XML Actions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:487,columnNumber:19},void 0),a.jsxDEV("button",{onClick:Z,className:"w-full px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors",children:" Download XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:488,columnNumber:19},void 0),a.jsxDEV("button",{onClick:R,className:"w-full px-4 py-3 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg transition-colors",children:" Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:494,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:486,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h3",{className:"text-lg font-semibold",children:"CSV Actions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:503,columnNumber:19},void 0),a.jsxDEV("button",{onClick:le,className:"w-full px-4 py-3 bg-yellow-600 hover:bg-yellow-500 text-white font-medium rounded-lg transition-colors",children:" Download CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:504,columnNumber:19},void 0),a.jsxDEV("button",{onClick:W,className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-500 text-white font-medium rounded-lg transition-colors",children:" Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:510,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:502,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:485,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:477,columnNumber:13},void 0),v==="instructions"&&a.jsxDEV("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-6",children:[a.jsxDEV("h3",{className:"text-lg font-bold mb-4 text-blue-400",children:"VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:523,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"text-md font-semibold mb-2 text-blue-300",children:"XML Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:527,columnNumber:19},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded p-3 flex items-center space-x-2",children:[a.jsxDEV("code",{className:"text-green-400 flex-1 text-sm",children:[nh(),"/custom-columns.xml?eventId=",s||"YOUR_EVENT_ID"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:529,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>ah(`${nh()}/custom-columns.xml?eventId=${s||"YOUR_EVENT_ID"}`),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:532,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:528,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:526,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"text-md font-semibold mb-2 text-blue-300",children:"CSV Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:542,columnNumber:19},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded p-3 flex items-center space-x-2",children:[a.jsxDEV("code",{className:"text-green-400 flex-1 text-sm",children:[nh(),"/custom-columns.csv?eventId=",s||"YOUR_EVENT_ID"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:544,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>ah(`${nh()}/custom-columns.csv?eventId=${s||"YOUR_EVENT_ID"}`),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:547,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:543,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:541,columnNumber:17},void 0),a.jsxDEV("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded p-4",children:[a.jsxDEV("h4",{className:"text-md font-semibold mb-2 text-yellow-300",children:"Environment:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:558,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-yellow-200 text-sm",children:wk()?" Netlify Hosted":" Local Development"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:559,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:557,columnNumber:17},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded p-4",children:[a.jsxDEV("h4",{className:"text-md font-semibold mb-2 text-gray-300",children:"VMIX Setup Steps:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:565,columnNumber:19},void 0),a.jsxDEV("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-300",children:[a.jsxDEV("li",{children:"Open VMIX and go to Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:567,columnNumber:21},void 0),a.jsxDEV("li",{children:'Click "Add Data Source" and select "XML" or "CSV"'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:568,columnNumber:21},void 0),a.jsxDEV("li",{children:'Paste the URL above into the "URL" field'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:569,columnNumber:21},void 0),a.jsxDEV("li",{children:"Set refresh interval to 10 seconds for live updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:570,columnNumber:21},void 0),a.jsxDEV("li",{children:"Configure your graphics to use the data fields"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:571,columnNumber:21},void 0),a.jsxDEV("li",{children:"Custom fields will be available as separate columns"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:572,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:566,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:564,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:525,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:522,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:359,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:358,columnNumber:5},void 0)},Y9=()=>{const e=sn();Ki();const s=new URLSearchParams(e.search),t=s.get("eventId"),i=s.get("eventName"),o=e.state?.event||{id:t||"",name:i||"Current Event",date:"",location:"",schedule:[]},[u,c]=O.useState([]),[m,h]=O.useState(null),[g,v]=O.useState(!0),[b,E]=O.useState(null),[k,w]=O.useState(!1);return O.useEffect(()=>{(async()=>{console.log("=== GRAPHICS LINKS PAGE INITIALIZATION ==="),console.log("Event from location.state:",e.state?.event),console.log("Event from URL params:",{eventId:t,eventName:i}),console.log("Final event object:",o);try{console.log(" Loading from localStorage first...");let T=null;if(o?.id){const J=`runOfShowSchedule_${o.id}`;T=localStorage.getItem(J)}if(!T&&t){const J=`runOfShowSchedule_${t}`;T=localStorage.getItem(J)}if(!T){const Z=Object.keys(localStorage).filter(R=>R.startsWith("runOfShowSchedule_"));if(Z.length>0){const R=Z[Z.length-1];T=localStorage.getItem(R)}}if(T){const J=JSON.parse(T);console.log(" Loaded from localStorage:",J),c(J),v(!1);return}if(o?.id){console.log(" No localStorage data, loading from API for event:",o.id);const J=await lt.getRunOfShowData(o.id);J&&(console.log(" Loaded from API:",J),c(J.schedule_items||[]),h(J.updated_at||null))}}catch(T){console.error(" Error loading initial data:",T)}finally{v(!1)}})()},[o?.id,t]),O.useEffect(()=>{if(!o?.id){console.log(" No event ID, skipping WebSocket connection");return}console.log(" Setting up WebSocket connection for Graphics Links page");const y={onRunOfShowDataUpdated:J=>{console.log(" Graphics Links: WebSocket data update received:",J),J&&J.schedule_items&&(c(J.schedule_items),h(J.updated_at||null),E(new Date),console.log(" Graphics Links: Schedule updated via WebSocket"))},onConnectionChange:J=>{console.log(" Graphics Links: WebSocket connection status:",J),J&&(async()=>{try{const R=await lt.getRunOfShowData(o.id);R&&(c(R.schedule_items||[]),h(R.updated_at||null),console.log(" Graphics Links: Data reloaded on reconnection"))}catch(R){console.error(" Graphics Links: Error reloading data on reconnection:",R)}})()}};xt.connect(o.id,y);const T=()=>{document.hidden?(console.log(" Graphics Links: Tab hidden - disconnecting WebSocket to save costs"),xt.disconnect(o.id)):xt.isConnected()||(console.log(" Graphics Links: Tab visible - reconnecting WebSocket"),xt.connect(o.id,y),y.onInitialSync?.())};return document.addEventListener("visibilitychange",T),()=>{console.log(" Graphics Links: Cleaning up WebSocket connection"),xt.disconnect(o.id),document.removeEventListener("visibilitychange",T)}},[o?.id]),a.jsxDEV("div",{className:"min-h-screen bg-slate-900 text-white pt-16",children:[a.jsxDEV("div",{className:"bg-slate-800 border-b border-slate-700",children:a.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV("button",{onClick:()=>{window.close()},className:"text-slate-300 hover:text-white transition-colors mr-6",children:" Back to Run of Show"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:506,columnNumber:15},void 0),a.jsxDEV("h1",{className:"text-xl font-semibold",children:"Graphics Links"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:515,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:505,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-slate-400",children:o?.name||"Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:517,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:504,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:503,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:502,columnNumber:7},void 0),a.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsxDEV("div",{className:"mb-6",children:[a.jsxDEV("h2",{className:"text-3xl font-bold text-white mb-2",children:" Downloads & Tools"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:527,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Desktop applications and local server packages for offline use"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:528,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:526,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-4 shadow-lg border border-blue-400 mb-4",children:a.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:[a.jsxDEV("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white whitespace-nowrap",children:" Event ID:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:535,columnNumber:15},void 0),a.jsxDEV("div",{className:"bg-gray-900 px-4 py-2 rounded border border-blue-400 flex-1",children:a.jsxDEV("code",{className:"text-green-400 font-mono text-sm font-bold",children:t||o?.id||"No Event ID"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:537,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:536,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:534,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>{const y=t||o?.id;y?navigator.clipboard.writeText(y).then(()=>{alert("Event ID copied to clipboard!")}).catch(()=>{const T=document.createElement("textarea");T.value=y,document.body.appendChild(T),T.select(),document.execCommand("copy"),document.body.removeChild(T),alert("Event ID copied to clipboard!")}):alert("No Event ID available")},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors font-semibold whitespace-nowrap text-sm",children:" Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:540,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:533,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:532,columnNumber:9},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxDEV("div",{className:"bg-green-800 rounded-lg p-5 shadow-lg border border-green-600 hover:shadow-xl transition-shadow",children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white mb-2",children:" Python Desktop App"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:570,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-green-200 text-xs mb-3",children:"Standalone graphics generator with GUI server toggle"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:571,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-green-900/30 rounded p-2 mb-3",children:a.jsxDEV("ul",{className:"text-green-100 text-xs space-y-0.5",children:[a.jsxDEV("li",{children:" GUI toggle: Railway or Local"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:575,columnNumber:17},void 0),a.jsxDEV("li",{children:" CSV files every 10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:576,columnNumber:17},void 0),a.jsxDEV("li",{children:" WebSocket real-time updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:577,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:574,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:573,columnNumber:13},void 0),a.jsxDEV("a",{href:"/OptimizedGraphicsGenerator-Python.zip",download:"OptimizedGraphicsGenerator-Python.zip",className:"block w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2.5 rounded-lg transition-colors font-semibold text-center text-sm",children:" Download Python App"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:581,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-green-300 text-xs text-center mt-2",children:"~2 MB  Requires Python 3.8+"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:588,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:569,columnNumber:11},void 0),a.jsxDEV("div",{className:"bg-purple-800 rounded-lg p-5 shadow-lg border border-purple-600 hover:shadow-xl transition-shadow",children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white mb-2",children:" Node.js Local Server"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:593,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-purple-200 text-xs mb-3",children:"Standalone API + WebSocket server for local use"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:594,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-purple-900/30 rounded p-2 mb-3",children:a.jsxDEV("ul",{className:"text-purple-100 text-xs space-y-0.5",children:[a.jsxDEV("li",{children:" API + WebSocket (port 3002)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:598,columnNumber:17},void 0),a.jsxDEV("li",{children:" All VMIX XML/CSV endpoints"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:599,columnNumber:17},void 0),a.jsxDEV("li",{children:" One-click start  Node.js only"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:600,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:597,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:596,columnNumber:13},void 0),a.jsxDEV("a",{href:"/ROS-Local-Server-NodeJS.zip",download:"ROS-Local-Server-NodeJS.zip",className:"block w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2.5 rounded-lg transition-colors font-semibold text-center text-sm",children:" Download Local Server"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:604,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-purple-300 text-xs text-center mt-2",children:"~50 KB  Requires Node.js 18+"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:611,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:592,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:567,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:525,columnNumber:7},void 0),a.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-8 shadow-2xl",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Generate JSON Files"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:621,columnNumber:15},void 0),g&&a.jsxDEV("p",{className:"text-blue-400 text-sm mt-1",children:" Loading data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:623,columnNumber:17},void 0),b&&!g&&a.jsxDEV("p",{className:"text-green-400 text-sm mt-1",children:[" Last updated: ",b.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:626,columnNumber:17},void 0),k&&a.jsxDEV("p",{className:"text-blue-400 text-sm mt-1",children:" Updating data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:631,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:620,columnNumber:13},void 0),a.jsxDEV("button",{onClick:async()=>{console.log(" Manual refresh triggered"),v(!0);try{let y=null;if(o?.id){const T=`runOfShowSchedule_${o.id}`;y=localStorage.getItem(T)}if(!y&&t){const T=`runOfShowSchedule_${t}`;y=localStorage.getItem(T)}if(!y){const J=Object.keys(localStorage).filter(Z=>Z.startsWith("runOfShowSchedule_"));if(J.length>0){const Z=J[J.length-1];y=localStorage.getItem(Z)}}if(y){const T=JSON.parse(y);console.log(" Refreshed from localStorage:",T),c(T),E(new Date),alert("Data refreshed from local storage!");return}if(o?.id){const T=await lt.getRunOfShowData(o.id);T?(c(T.schedule_items||[]),h(T.updated_at||null),E(new Date),console.log(" Refreshed from API"),alert("Data refreshed from database!")):alert("No schedule data found")}else alert("No schedule data found")}catch(y){console.error(" Error refreshing data:",y),alert("Error refreshing data")}finally{v(!1)}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg transition-colors",children:" Refresh Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:634,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:619,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-slate-300 mb-8",children:["Click the buttons below to generate url links that VMIX can use as data sources for graphics.",a.jsxDEV("span",{className:"text-green-400 font-medium",children:"  Live pages updates automatically when content changes! "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:700,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-blue-400 font-medium",children:"  Optimized for minimal data usage with WebSocket updates! "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:701,columnNumber:13},void 0),`Use "Refresh Data" if changes don't appear automatically.`]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:698,columnNumber:11},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 flex flex-col",children:[a.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-4 text-center",children:"Lower Thirds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:709,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-3 mt-auto",children:[a.jsxDEV("button",{onClick:()=>{const y=`/netlify-lower-thirds-xml?eventId=${o.id}`;window.open(y,"_blank")},className:"w-full px-4 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Railway) "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:711,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const y=`/lower-thirds-xml?eventId=${o.id}`;window.open(y,"_blank")},className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Local)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:720,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const y=`/google-sheets-vmix?eventId=${o.id}`;window.open(y,"_blank")},className:"w-full px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors",children:" Google Sheets VMIX Integration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:729,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:710,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:708,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 flex flex-col",children:[a.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-4 text-center",children:"Schedule"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:743,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-3 mt-auto",children:[a.jsxDEV("button",{onClick:()=>{const y=`/netlify-schedule-xml?eventId=${o.id}`;window.open(y,"_blank")},className:"w-full px-4 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Railway) "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:745,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const y=`/schedule-xml?eventId=${o.id}`;window.open(y,"_blank")},className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Local)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:754,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const y=`/google-sheets-vmix?eventId=${o.id}`;window.open(y,"_blank")},className:"w-full px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors",children:" Google Sheets VMIX Integration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:763,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:744,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:742,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 flex flex-col",children:[a.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-4 text-center",children:"Custom Graphics"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:777,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-3 mt-auto",children:[a.jsxDEV("button",{onClick:()=>{const y=`/netlify-custom-columns-xml?eventId=${o.id}`;window.open(y,"_blank")},className:"w-full px-4 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Railway) "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:779,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const y=`/custom-columns-xml?eventId=${o.id}`;window.open(y,"_blank")},className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Local)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:788,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const y=`/google-sheets-vmix?eventId=${o.id}`;window.open(y,"_blank")},className:"w-full px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors",children:" Google Sheets VMIX Integration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:797,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:778,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:776,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:705,columnNumber:11},void 0),a.jsxDEV("div",{className:"mt-8 p-4 bg-slate-600 rounded-lg",children:[a.jsxDEV("h4",{className:"text-white font-semibold mb-2",children:"VMIX Data Source Information"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:813,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-300 text-sm",children:'These data sources are designed for VMIX and will include only items marked as "Public":'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:814,columnNumber:13},void 0),a.jsxDEV("ul",{className:"text-slate-300 text-sm mt-2 ml-4 list-disc",children:[a.jsxDEV("li",{children:[a.jsxDEV("strong",{children:"Schedule:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:818,columnNumber:19},void 0)," Segment Name, Start Time (sorted by time)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:818,columnNumber:15},void 0),a.jsxDEV("li",{children:[a.jsxDEV("strong",{children:"Lower Thirds:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:819,columnNumber:19},void 0)," Speaker Names, Titles, Organizations, Segments, CUEs (up to 7 speakers per segment)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:819,columnNumber:15},void 0),a.jsxDEV("li",{children:[a.jsxDEV("strong",{children:"Custom Graphics:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:820,columnNumber:19},void 0)," Type, Text, Duration, CUE, Start Time, Notes, plus custom columns (if data exists)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:820,columnNumber:15},void 0),a.jsxDEV("li",{children:[a.jsxDEV("strong",{children:"VMIX XML:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:821,columnNumber:19},void 0)," Native VMIX XML format with auto-refresh every 10 seconds, includes segment details and timing"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:821,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:817,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-green-900 rounded-lg",children:a.jsxDEV("p",{className:"text-green-200 text-sm",children:[a.jsxDEV("strong",{children:" Live Updates:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:825,columnNumber:17},void 0),' Use the "Live" URLs for real-time data that automatically updates every 10 seconds in VMIX']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:824,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:823,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-blue-900 rounded-lg",children:a.jsxDEV("p",{className:"text-blue-200 text-sm",children:[a.jsxDEV("strong",{children:"VMIX Setup:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:830,columnNumber:17},void 0)," Copy the Live URLs and add them in VMIX Data Sources  JSON/XML/CSV. No need to save files manually!"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:829,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:828,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-2 p-3 bg-yellow-900 rounded-lg",children:a.jsxDEV("p",{className:"text-yellow-200 text-sm",children:[a.jsxDEV("strong",{children:"Format Options:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:835,columnNumber:17},void 0)," JSON (recommended), XML, or CSV - choose what works best with your VMIX setup"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:834,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:833,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-2 p-3 bg-purple-900 rounded-lg",children:a.jsxDEV("p",{className:"text-purple-200 text-sm",children:[a.jsxDEV("strong",{children:" Performance Optimized:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:840,columnNumber:17},void 0)," This page now uses WebSocket for real-time updates and localStorage caching to minimize data usage and improve performance"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:839,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:838,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:812,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:618,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:617,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:500,columnNumber:5},void 0)},K9=()=>{const e=sn();Ki();const s=new URLSearchParams(e.search),t=s.get("eventId"),i=s.get("eventName"),o=e.state?.event||{id:t||"",name:i||"Current Event",date:"",location:"",schedule:[]};console.log("ReportsPage event data:",{fromState:!!e.state?.event,eventId:t,eventName:i,finalEvent:o,userRole:localStorage.getItem("currentUserRole")});const[u,c]=O.useState([]),[m,h]=O.useState(""),[g,v]=O.useState("showfile"),[b,E]=O.useState(1),[k,w]=O.useState("landscape"),[y,T]=O.useState("America/New_York");O.useEffect(()=>{console.log("=== REPORTS PAGE INITIALIZATION ==="),console.log("Event:",o);let B=null;if(o?.id){const H=`runOfShowSchedule_${o.id}`;B=localStorage.getItem(H)}if(!B&&t){const H=`runOfShowSchedule_${t}`;B=localStorage.getItem(H)}if(!B){const oe=Object.keys(localStorage).filter(_e=>_e.startsWith("runOfShowSchedule_"));if(oe.length>0){const _e=oe[oe.length-1];B=localStorage.getItem(_e)}}if(B)try{const H=JSON.parse(B);c(H),console.log("Schedule loaded:",H),console.log("First schedule item:",H[0]),console.log("Schedule item duration fields:",H[0]?{durationHours:H[0].durationHours,durationMinutes:H[0].durationMinutes,durationSeconds:H[0].durationSeconds}:"No items")}catch(H){console.log("Error parsing schedule:",H)}(async()=>{if(o?.id)try{const H=await lt.getRunOfShowData(o.id);let oe=null;if(H?.settings?.masterStartTime)oe=H.settings.masterStartTime;else if(H?.settings?.dayStartTimes?.["1"])oe=H.settings.dayStartTimes[1];else if(H?.schedule_items&&H.schedule_items.length>0){const _e=H.schedule_items[0];_e.startTime&&(oe=_e.startTime)}if(oe)h(oe),H.settings.timezone&&T(H.settings.timezone);else{console.log(" No master start time found in API data, checking localStorage...");const ne=Object.keys(localStorage).filter(ve=>ve.startsWith("masterStartTime_"));console.log("Master time keys found:",ne);let we=null;if(o?.id&&(we=localStorage.getItem(`masterStartTime_${o.id}`),console.log(`Master time for event ${o.id}:`,we)),!we&&ne.length>0){const ve=ne[ne.length-1];we=localStorage.getItem(ve),console.log("Latest master time key:",ve,"Value:",we)}we?(h(we),console.log("Master start time set to:",we)):(console.log("No master start time found in localStorage"),h("09:00"),console.log("Set default master start time to 09:00"))}}catch(H){console.error(" Error loading master start time from API:",H);const _e=Object.keys(localStorage).filter(we=>we.startsWith("masterStartTime_"));let ne=null;if(o?.id&&(ne=localStorage.getItem(`masterStartTime_${o.id}`)),!ne&&_e.length>0){const we=_e[_e.length-1];ne=localStorage.getItem(we)}h(ne||"09:00")}})()},[o?.id,t]);const J=B=>{if(!B)return"Not set";const[re,H]=B.split(":").map(Number),oe=new Date;return oe.setHours(re,H,0,0),oe.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},Z=(B,re=20)=>B?B.length<=re?B:B.substring(0,re-3)+"...":"",R=B=>{if(B.trim().length===0)return{html:"",needsSmallText:!1};const re=B.trim(),H=re.split(/\s+/);if(H.length<=1)return{html:re,needsSmallText:!1};const oe=["Dr","Dr.","Prof","Prof.","Mr","Mr.","Mrs","Mrs.","Ms","Ms.","Hon","Hon.","Honorable","Sen","Sen.","Senator","Rep","Rep.","Representative","Gov","Gov.","Governor","Mayor","Judge","Ambassador","Amb","Amb.","General","Gen","Gen.","Admiral","Adm","Adm.","Colonel","Col","Col.","Major","Maj","Maj.","Captain","Capt","Capt.","Lieutenant","Lt","Lt.","Sergeant","Sgt","Sgt.","Chief","Commander","Comm"],_e=["Jr","Jr.","Sr","Sr.","III","IV","V","Ph.D","PhD","MD","DDS","DVM","Esq","Esq.","CPA","PE","RN","LPN"];let ne="",we="",ve="",Me="",be="";oe.includes(H[0])&&(ne=H[0],H.shift());const Ie=re.match(/\([DR]\)/i);if(Ie){be=Ie[0];const se=H.findIndex(ie=>ie.match(/\([DR]\)/i));se!==-1&&H.splice(se,1)}if(H.length>0&&_e.includes(H[H.length-1])&&(Me=H[H.length-1],H.pop()),H.length===0)return{html:re,needsSmallText:!1};if(H.length===1)we=H[0];else{const se=H.length-1;ve=H[se],we=H.slice(0,se).join(" ")}const Te=9;let Q=[ne,we].filter(Boolean).join(" "),Oe=[ve,Me,be].filter(Boolean).join(" ");if(Q.length>Te&&we.includes(" ")){const se=we.split(" ");if(se.length>1){const ie=se.pop(),Y=se.join(" ");Q=[ne,Y].filter(Boolean).join(" "),Oe=[ie,ve,Me,be].filter(Boolean).join(" ")}}if(Q.length>Te&&we.includes(" ")){const se=we.split(" ");if(se.length>2){const ie=se.splice(-2),Y=se.join(" ");Q=[ne,Y].filter(Boolean).join(" "),Oe=[ie.join(" "),ve,Me,be].filter(Boolean).join(" ")}}const me=Q.length>Te||Oe.length>Te;return{html:`${Q}<br/>${Oe}`,needsSmallText:me}},le=B=>{if(console.log(`calculateStartTime called with index: ${B}, masterStartTime: ${m}`),!m)return console.log("No master start time, returning empty string"),"";let re=0;for(let we=0;we<B;we++){const ve=u[we];re+=ve.durationHours*60+ve.durationMinutes}console.log(`Total minutes for index ${B}: ${re}`);const[H,oe]=m.split(":").map(Number),_e=new Date;_e.setHours(H,oe+re,0,0);const ne=_e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return console.log(`Calculated start time for index ${B}: ${ne}`),ne},W=B=>({"PreShow/End":"#8B5CF6","Podium Transition":"#8B4513","Panel Transition":"#404040","Sub Cue":"#F3F4F6","No Transition":"#059669",Video:"#F59E0B","Panel+Remote":"#1E40AF","Remote Only":"#60A5FA",Break:"#EC4899",TBD:"#6B7280",KILLED:"#DC2626",Podium:"#FFFFFF",Panel:"#FFFFFF"})[B]||"#D3D3D3",ee=B=>B==="Panel Transition"||B==="Podium Transition"||B==="Panel"||B==="Podium"?"#FFFFFF":W(B),X=()=>{const B=g==="showfile",re=g==="speakers",H=k,oe=u.filter(_e=>(_e.day||1)===b);if(console.log("=== GENERATING REPORT ==="),console.log("Report type:",g),console.log("Selected day:",b),console.log("Total schedule items:",u.length),console.log("Filtered schedule items:",oe.length),console.log("Sample item:",oe[0]),console.log("Master start time:",m),oe.length>0){const _e=u.findIndex(we=>we.id===oe[0].id),ne=le(_e);console.log("Test start time calculation:",{testIndex:_e,testStartTime:ne,item:oe[0].segmentName})}if(B){let _e=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>ROS Show File - ${o?.name||"Event"}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 15px;
              font-size: 11px;
              line-height: 1.3;
              background: white;
            }
            @media print {
              body { 
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            .header { 
              text-align: center; 
              margin-bottom: 15px; 
            }
            .header h1 { 
              font-size: 16px; 
              margin: 0; 
              color: #000;
              font-weight: normal;
            }
            .header h2 { 
              font-size: 12px; 
              margin: 3px 0 0 0; 
              color: #333; 
              font-weight: normal;
            }
            .event-info { 
              background: #f5f5f5; 
              padding: 8px; 
              margin-bottom: 12px; 
              font-size: 10px;
              border: 1px solid #ddd;
            }
            .section { 
              margin-bottom: 8px; 
              border: 1px solid #000;
              page-break-inside: avoid;
            }
            .section-header { 
              padding: 6px 8px; 
              font-weight: normal; 
              font-size: 11px;
              color: white;
              background: #366092;
              border-bottom: 1px solid #000;
            }
            .section-content { 
              padding: 0; 
              background: white;
            }
            .modal-table { 
              width: 100%;
              border-collapse: collapse;
              border: 2px solid #000;
              background: white;
            }
            .modal-table td { 
              border: 1px solid #000; 
              padding: 6px 8px; 
              background: white;
              vertical-align: top;
            }
            .modal-table .header-cell { 
              background: #d9d9d9; 
              font-weight: normal; 
              text-align: center;
              font-size: 10px;
              width: 70px;
              min-width: 70px;
            }
            .modal-table .segment-cell { 
              min-width: 180px;
              max-width: 250px;
              word-wrap: break-word;
              font-size: 11px;
            }
            .modal-table .notes-cell { 
              background: #f0f0f0; 
              min-height: 35px;
              min-width: 200px;
              font-size: 10px;
            }
            .modal-table         .participants-cell { 
          background: #f0f0f0; 
          min-height: 60px;
          min-width: 600px;
          width: 600px;
          max-width: 600px;
        }
            .modal-table .start-time-cell { 
              background: #e7f3ff; 
              font-weight: normal;
              font-size: 12px;
            }
            .times-cell {
              background: #e7f3ff;
              font-weight: normal;
              text-align: center;
              vertical-align: middle;
              width: 80px;
              min-width: 80px;
            }
            .times-content {
              display: flex;
              flex-direction: column;
              gap: 2px;
            }
            .start-time {
              font-size: 11px;
              font-weight: normal;
              color: #000;
            }
            .duration {
              font-size: 11px;
              font-weight: normal;
              color: #000;
            }
            .time-label {
              font-size: 9px;
              font-weight: normal;
              color: #333;
              margin-right: 4px;
            }
            .simple-table { 
              width: 100%;
              border-collapse: collapse;
              border: 1px solid #000;
              background: white;
            }
            .simple-table td { 
              border: 1px solid #000; 
              padding: 8px; 
              background: white;
              vertical-align: top;
              font-size: 11px;
            }
        .simple-table .header-cell { 
          background: #d9d9d9; 
          font-weight: normal; 
          text-align: center;
          font-size: 10px;
        }
        .stacked-header {
          width: 300px;
        }
        .stacked-cell {
          width: 300px;
          max-width: 300px;
          vertical-align: top;
          padding: 8px;
        }
        .stacked-item {
          margin-bottom: 8px;
          padding-bottom: 6px;
          border-bottom: 1px solid #e0e0e0;
          display: flex;
          flex-direction: column;
        }
        .stacked-item:last-child {
          border-bottom: none;
          margin-bottom: 0;
          padding-bottom: 0;
        }
        .stacked-label {
          font-weight: normal;
          font-size: 9px;
          color: #333;
          margin-bottom: 3px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        .stacked-value {
          font-size: 10px;
          line-height: 1.3;
          word-wrap: break-word;
          color: #000;
          padding-left: 4px;
        }
        .slot-cell {
          width: 75px;
          height: 155px;
          vertical-align: top;
          min-width: 75px;
          max-width: 75px;
        }
        .slot-container {
          height: 155px;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          padding: 4px;
        }
        .slot-top {
          display: flex;
          flex-direction: column;
          align-items: center;
        }
        .slot-name {
          font-weight: normal;
          font-size: 11px;
          line-height: 1.2;
        }
        .slot-title {
          font-size: 10px;
          line-height: 1.1;
          color: #666;
        }
        .slot-org {
          font-size: 10px;
          line-height: 1.1;
          color: #666;
        }
        .slot-photo {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-top: 8px;
        }
        .slot-photo-img {
          width: 50px;
          height: 65px;
          object-fit: cover;
          border-radius: 4px;
          border: 1px solid #ccc;
          margin: 0 auto;
        }
        .slot-text {
          margin-top: 4px;
          text-align: center;
          font-size: 9px;
          line-height: 1.2;
          color: #000;
          max-height: 90px;
          overflow: hidden;
        }
        .slot-name {
          font-weight: bold;
          font-size: 8px;
          margin-bottom: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          line-height: 1.0;
          max-height: 18px;
          overflow: hidden;
        }
        .slot-name-small {
          font-weight: bold;
          font-size: 7px;
          margin-bottom: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          line-height: 1.0;
          max-height: 16px;
          overflow: hidden;
        }
        .slot-title {
          font-size: 8px;
          color: #333;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .slot-org {
          font-size: 8px;
          color: #666;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .slot-role {
          font-size: 8px;
          color: #000;
          font-weight: bold;
          background-color: #f0f0f0;
          border: 1px solid #ccc;
          border-radius: 3px;
          padding: 1px 3px;
          margin-top: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          min-height: 10px;
        }
        .notes-header-row {
          background: #e0e0e0;
        }
        .notes-header-cell {
          padding: 6px 8px;
          font-size: 10px;
          font-weight: normal;
          text-align: center;
          border-top: 2px solid #ddd;
          background: #e0e0e0;
        }
        .notes-content-row {
          background: #f9f9f9;
        }
        .notes-content-cell {
          padding: 8px;
          font-size: 10px;
          line-height: 1.3;
          background: #f9f9f9;
        }
            .modal-cell .field-label { 
              font-weight: normal; 
              font-size: 11px; 
              color: #333; 
              margin-bottom: 4px;
            }
            .modal-cell .field-value { 
              font-size: 12px; 
              color: #000;
              line-height: 1.3;
            }
            .speaker-item { 
              display: flex; 
              align-items: center; 
              margin-bottom: 6px;
              padding: 6px;
              background: white;
              border: 1px solid #ddd;
              border-radius: 4px;
              box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            }
            .speaker-photo { 
              width: 40px; 
              height: 40px; 
              border-radius: 4px; 
              object-fit: cover; 
              border: 2px solid #007acc;
              margin-right: 10px;
              flex-shrink: 0;
            }
            .speaker-info { 
              flex: 1;
            }
            .speaker-badges { 
              display: flex; 
              gap: 4px;
              margin-bottom: 3px;
            }
            .speaker-name { 
              font-weight: normal; 
              font-size: 11px; 
              color: #000;
              margin-bottom: 2px;
            }
            .slot-badge { 
              background: #007acc; 
              color: white; 
              padding: 2px 6px; 
              border-radius: 6px; 
              font-size: 8px; 
              font-weight: normal;
            }
            .location-badge { 
              background: #28a745; 
              color: white; 
              padding: 2px 6px; 
              border-radius: 6px; 
              font-size: 8px; 
              font-weight: normal;
            }
            .speaker-title { 
              color: #666; 
              font-size: 10px;
              margin-bottom: 1px;
            }
            .speaker-org { 
              color: #888; 
              font-size: 9px;
            }
            .footer { 
              margin-top: 40px; 
              text-align: center; 
              color: #666; 
              font-size: 12px;
              border-top: 1px solid #ddd;
              padding-top: 20px;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
              @page { 
                size: A4 ${H}; 
                margin: 0.2in; 
              }
              .section { 
                page-break-inside: avoid;
              }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>ROS SHOW FILE</h1>
            <h2>${o?.name||"Event"}${o?.numberOfDays&&o.numberOfDays>1?` - Day ${b}`:""}</h2>
          </div>
          
      `;return oe.forEach((ne,we)=>{const ve=u.findIndex(me=>me.id===ne.id),Me=le(ve),be=`${ne.durationHours.toString().padStart(2,"0")}:${ne.durationMinutes.toString().padStart(2,"0")}:${ne.durationSeconds.toString().padStart(2,"0")}`,Ie=W(ne.programType||"");console.log(`SHOW FILE - Item ${we} (${ne.segmentName}):`,{originalIndex:ve,startTime:Me,duration:be,masterStartTime:m,itemId:ne.id});let Te=[];if(ne.speakersText)try{Te=JSON.parse(ne.speakersText),console.log(`Speakers parsed for item ${we} (${ne.segmentName}):`,Te),Te.forEach((me,se)=>{console.log(`  Speaker ${se+1}:`,{fullName:me.fullName,photoLink:me.photoLink,photoUrl:me.photoUrl,hasPhoto:!!(me.photoLink||me.photoUrl)})})}catch(me){console.log(`Error parsing speakers for item ${we}:`,me),Te=[{fullName:ne.speakersText,title:"",org:"",photoLink:""}]}else console.log(`No speakersText for item ${we}:`,ne.segmentName);let Q="";ne.hasPPT&&ne.hasQA?Q="PPT + Q&A":ne.hasPPT?Q="PPT":ne.hasQA?Q="Q&A":Q="None",_e+=`
          <div class="section">
            <div class="section-content">
              <table class="simple-table">
                <tr>
                  <td class="header-cell">CUE</td>
                  <td class="header-cell">TIME</td>
                  <td class="header-cell stacked-header">SEGMENT INFO</td>
                  <td class="header-cell">SLOT 1</td>
                  <td class="header-cell">SLOT 2</td>
                  <td class="header-cell">SLOT 3</td>
                  <td class="header-cell">SLOT 4</td>
                  <td class="header-cell">SLOT 5</td>
                  <td class="header-cell">SLOT 6</td>
                  <td class="header-cell">SLOT 7</td>
                </tr>
                <tr>
                  <td>
                    <div style="margin-bottom: 4px;">${ne.customFields.cue||`CUE ${we+1}`}</div>
                    <div style="background-color: ${Ie}; color: ${ne.programType==="Sub Cue"?"black":"white"}; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: normal; display: inline-block; ${ne.programType==="Sub Cue"?"border: 1px solid #000000;":""}">${ne.programType||"Unknown"}</div>
                  </td>
                  <td class="times-cell">
                    <div class="times-content">
                      <div class="start-time">
                        <span class="time-label">Start:</span> ${Me}
                      </div>
                      <div class="duration">
                        <span class="time-label">Dur:</span> ${be}
                      </div>
                    </div>
                  </td>
                  <td class="stacked-cell">
                    <div class="stacked-item">
                      <div class="stacked-label">SEGMENT:</div>
                      <div class="stacked-value">${ne.segmentName||"Untitled Segment"}</div>
                    </div>
                    <div class="stacked-item">
                      <div class="stacked-label">SHOT:</div>
                      <div class="stacked-value">${ne.shotType||"Not specified"}</div>
                    </div>
                    <div class="stacked-item">
                      <div class="stacked-label">PPT/Q&A:</div>
                      <div class="stacked-value">${Q}</div>
                    </div>
                  </td>
        `;const Oe=["","","","","","",""];Te.length>0&&Te.forEach((me,se)=>{const ie=me.fullName||me.name||"Unknown",Y=me.title||"",U=me.org||"",de=me.slot||1,I=me.location||"Podium",Ee=me.photoLink||me.photoUrl||"",j=Z(Y,15),he=Z(U,15);console.log(`    Processing speaker ${se+1} (${ie}): photoLink="${Ee}"`);const Ce=R(ie),Fe=Ce.needsSmallText?"slot-name-small":"slot-name";let He=`
              <div class="slot-container">
                <div class="slot-top">
                  <div class="slot-photo">${Ee?`<img src="${Ee}" alt="${ie}" class="slot-photo-img" />`:""}</div>
                  <div class="slot-text">
                    <div class="${Fe}">${Ce.html}</div>
                    <div class="slot-title">${j}...</div>
                    <div class="slot-org">${he}...</div>
                  </div>
                </div>
                <div class="slot-role">${I}</div>
              </div>
            `;const ze=Math.min(de-1,6);ze>=0&&ze<7&&(Oe[ze]=He)});for(let me=0;me<7;me++)_e+=`<td class="slot-cell">${Oe[me]||""}</td>`;_e+=`
                </tr>
                <tr class="notes-header-row">
                  <td colspan="11" class="notes-header-cell">NOTES</td>
                </tr>
                <tr class="notes-content-row">
                  <td colspan="11" class="notes-content-cell">${ne.notes||"None"}</td>
                </tr>
              </table>
            </div>
          </div>
        `}),_e+=`
          <div class="footer">
            <p>Generated: ${new Date().toLocaleString()} | Run of Show Application</p>
          </div>
        </body>
        </html>
      `,_e}else if(re){let _e=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>ROS Show File - ${o?.name||"Event"}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 15px;
              font-size: 11px;
              line-height: 1.3;
              background: white;
            }
            @media print {
              body { 
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            .header { 
              text-align: center; 
              margin-bottom: 15px; 
            }
            .header h1 { 
              font-size: 16px; 
              margin: 0; 
              color: #000;
              font-weight: normal;
            }
            .header h2 { 
              font-size: 12px; 
              margin: 3px 0 0 0; 
              color: #333; 
              font-weight: normal;
            }
            .event-info { 
              background: #f5f5f5; 
              padding: 8px; 
              margin-bottom: 12px; 
              font-size: 10px;
              border: 1px solid #ddd;
            }
            .section { 
              margin-bottom: 8px; 
              border: 1px solid #000;
              page-break-inside: avoid;
            }
            .section-header { 
              padding: 6px 8px; 
              font-weight: normal; 
              font-size: 11px;
              color: white;
              background: #366092;
              border-bottom: 1px solid #000;
            }
            .section-content { 
              padding: 0; 
              background: white;
            }
            .modal-table { 
              width: 100%;
              border-collapse: collapse;
              border: 2px solid #000;
              background: white;
            }
            .modal-table td { 
              border: 1px solid #000; 
              padding: 6px 8px; 
              background: white;
              vertical-align: top;
            }
            .modal-table .header-cell { 
              background: #d9d9d9; 
              font-weight: normal; 
              text-align: center;
              font-size: 10px;
              width: 70px;
              min-width: 70px;
            }
            .modal-table .segment-cell { 
              min-width: 180px;
              max-width: 250px;
              word-wrap: break-word;
              font-size: 11px;
            }
            .modal-table .notes-cell { 
              background: #f0f0f0; 
              min-height: 35px;
              min-width: 200px;
              font-size: 10px;
            }
            .modal-table         .participants-cell { 
          background: #f0f0f0; 
          min-height: 60px;
          min-width: 600px;
          width: 600px;
          max-width: 600px;
        }
            .modal-table .start-time-cell { 
              background: #e7f3ff; 
              font-weight: normal;
              font-size: 12px;
            }
            .times-cell {
              background: #e7f3ff;
              font-weight: normal;
              text-align: center;
              vertical-align: middle;
              width: 80px;
              min-width: 80px;
            }
            .times-content {
              display: flex;
              flex-direction: column;
              gap: 2px;
            }
            .start-time {
              font-size: 11px;
              font-weight: normal;
              color: #000;
            }
            .duration {
              font-size: 11px;
              font-weight: normal;
              color: #000;
            }
            .time-label {
              font-size: 9px;
              font-weight: normal;
              color: #333;
              margin-right: 4px;
            }
            .simple-table { 
              width: 100%;
              border-collapse: collapse;
              border: 1px solid #000;
              background: white;
            }
            .simple-table td { 
              border: 1px solid #000; 
              padding: 8px; 
              background: white;
              vertical-align: top;
              font-size: 11px;
            }
        .simple-table .header-cell { 
          background: #d9d9d9; 
          font-weight: normal; 
          text-align: center;
          font-size: 10px;
        }
        .stacked-header {
          width: 300px;
        }
        .stacked-cell {
          width: 300px;
          max-width: 300px;
          vertical-align: top;
          padding: 8px;
        }
        .stacked-item {
          margin-bottom: 8px;
          padding-bottom: 6px;
          border-bottom: 1px solid #e0e0e0;
          display: flex;
          flex-direction: column;
        }
        .stacked-item:last-child {
          border-bottom: none;
          margin-bottom: 0;
          padding-bottom: 0;
        }
        .stacked-label {
          font-weight: normal;
          font-size: 9px;
          color: #333;
          margin-bottom: 3px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        .stacked-value {
          font-size: 10px;
          line-height: 1.3;
          word-wrap: break-word;
          color: #000;
          padding-left: 4px;
        }
        .slot-cell {
          width: 75px;
          height: 155px;
          vertical-align: top;
          min-width: 75px;
          max-width: 75px;
        }
        .slot-container {
          height: 155px;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          padding: 4px;
        }
        .slot-top {
          display: flex;
          flex-direction: column;
          align-items: center;
        }
        .slot-name {
          font-weight: normal;
          font-size: 11px;
          line-height: 1.2;
        }
        .slot-title {
          font-size: 10px;
          line-height: 1.1;
          color: #666;
        }
        .slot-org {
          font-size: 10px;
          line-height: 1.1;
          color: #666;
        }
        .slot-photo {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-top: 8px;
        }
        .slot-photo-img {
          width: 50px;
          height: 65px;
          object-fit: cover;
          border-radius: 4px;
          border: 1px solid #ccc;
          margin: 0 auto;
        }
        .slot-text {
          margin-top: 4px;
          text-align: center;
          font-size: 9px;
          line-height: 1.2;
          color: #000;
          max-height: 90px;
          overflow: hidden;
        }
        .slot-name {
          font-weight: bold;
          font-size: 8px;
          margin-bottom: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          line-height: 1.0;
          max-height: 18px;
          overflow: hidden;
        }
        .slot-name-small {
          font-weight: bold;
          font-size: 7px;
          margin-bottom: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          line-height: 1.0;
          max-height: 16px;
          overflow: hidden;
        }
        .slot-title {
          font-size: 8px;
          color: #333;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .slot-org {
          font-size: 8px;
          color: #666;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .slot-role {
          font-size: 8px;
          color: #000;
          font-weight: bold;
          background-color: #f0f0f0;
          border: 1px solid #ccc;
          border-radius: 3px;
          padding: 1px 3px;
          margin-top: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          min-height: 10px;
        }
        .notes-header-row {
          background: #e0e0e0;
        }
        .notes-header-cell {
          padding: 6px 8px;
          font-size: 10px;
          font-weight: normal;
          text-align: center;
          border-top: 2px solid #ddd;
          background: #e0e0e0;
        }
        .notes-content-row {
          background: #f9f9f9;
        }
        .notes-content-cell {
          padding: 8px;
          font-size: 10px;
          line-height: 1.3;
          background: #f9f9f9;
        }
            .modal-cell .field-label { 
              font-weight: normal; 
              font-size: 11px; 
              color: #333; 
              margin-bottom: 4px;
            }
            .modal-cell .field-value { 
              font-size: 12px; 
              color: #000;
              line-height: 1.3;
            }
            .speaker-item { 
              display: flex; 
              align-items: center; 
              margin-bottom: 6px;
              padding: 6px;
              background: white;
              border: 1px solid #ddd;
              border-radius: 4px;
              box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            }
            .speaker-photo { 
              width: 40px; 
              height: 40px; 
              border-radius: 4px; 
              object-fit: cover; 
              border: 2px solid #007acc;
              margin-right: 10px;
              flex-shrink: 0;
            }
            .speaker-info { 
              flex: 1;
            }
            .speaker-badges { 
              display: flex; 
              gap: 4px;
              margin-bottom: 3px;
            }
            .speaker-name { 
              font-weight: normal; 
              font-size: 11px; 
              color: #000;
              margin-bottom: 2px;
            }
            .slot-badge { 
              background: #007acc; 
              color: white; 
              padding: 2px 6px; 
              border-radius: 6px; 
              font-size: 8px; 
              font-weight: normal;
            }
            .location-badge { 
              background: #28a745; 
              color: white; 
              padding: 2px 6px; 
              border-radius: 6px; 
              font-size: 8px; 
              font-weight: normal;
            }
            .speaker-title { 
              color: #666; 
              font-size: 10px;
              margin-bottom: 1px;
            }
            .speaker-org { 
              color: #888; 
              font-size: 9px;
            }
            .footer { 
              margin-top: 40px; 
              text-align: center; 
              color: #666; 
              font-size: 12px;
              border-top: 1px solid #ddd;
              padding-top: 20px;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
              @page { 
                size: A4 ${H}; 
                margin: 0.2in; 
              }
              .section { 
                page-break-inside: avoid;
              }
            }
            /* Speaker subtext styling - smaller font for titles and organizations */
            .speaker-subtext {
              font-size: 10px;
              color: #000;
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>ROS SPEAKERS</h1>
            <h2>${o?.name||"Event"}${o?.numberOfDays&&o.numberOfDays>1?` - Day ${b}`:""}</h2>
          </div>
          
      `;return oe.forEach((ne,we)=>{const ve=u.findIndex(se=>se.id===ne.id),Me=le(ve),be=`${ne.durationHours.toString().padStart(2,"0")}:${ne.durationMinutes.toString().padStart(2,"0")}:${ne.durationSeconds.toString().padStart(2,"0")}`,Ie=W(ne.programType||"");console.log(`SPEAKERS - Item ${we} (${ne.segmentName}):`,{originalIndex:ve,startTime:Me,duration:be,masterStartTime:m,itemId:ne.id});let Te=[];if(ne.speakersText)try{Te=JSON.parse(ne.speakersText),console.log(`Speakers parsed for item ${we}:`,Te)}catch(se){console.log(`Error parsing speakers for item ${we}:`,se),Te=[{fullName:ne.speakersText,title:"",org:"",photoLink:""}]}else console.log(`No speakersText for item ${we}:`,ne.segmentName);let Q="";ne.hasPPT&&ne.hasQA?Q="PPT + Q&A":ne.hasPPT?Q="PPT":ne.hasQA?Q="Q&A":Q="None",_e+=`
          <div class="section">
            <div class="section-content">
              <table class="simple-table">
                <tr>
                  <td class="header-cell">CUE & TIME</td>
                  <td class="header-cell stacked-header">SEGMENT INFO</td>
                  <td class="header-cell">PARTICIPANTS</td>
                  <td class="header-cell">SLOT 1</td>
                  <td class="header-cell">SLOT 2</td>
                  <td class="header-cell">SLOT 3</td>
                  <td class="header-cell">SLOT 4</td>
                  <td class="header-cell">SLOT 5</td>
                  <td class="header-cell">SLOT 6</td>
                  <td class="header-cell">SLOT 7</td>
                </tr>
                <tr>
                  <td class="times-cell">
                    <div style="margin-bottom: 4px; font-weight: bold;">${ne.customFields.cue||`CUE ${we+1}`}</div>
                    <div style="background-color: ${Ie}; color: ${ne.programType==="Sub Cue"?"black":"white"}; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: normal; display: inline-block; ${ne.programType==="Sub Cue"?"border: 1px solid #000000;":""}">${ne.programType||"Unknown"}</div>
                    <div class="times-content" style="margin-top: 6px;">
                      <div class="start-time">
                        <span class="time-label">Start:</span> ${Me}
                      </div>
                      <div class="duration">
                        <span class="time-label">Dur:</span> ${be}
                      </div>
                    </div>
                  </td>
                  <td class="stacked-cell">
                    <div class="stacked-item">
                      <div class="stacked-label">SEGMENT:</div>
                      <div class="stacked-value">${ne.segmentName||"Untitled Segment"}</div>
                    </div>
                    <div class="stacked-item">
                      <div class="stacked-label">SHOT:</div>
                      <div class="stacked-value">${ne.shotType||"Not specified"}</div>
                    </div>
                    <div class="stacked-item">
                      <div class="stacked-label">PPT/Q&A:</div>
                      <div class="stacked-value">${Q}</div>
                    </div>
                  </td>
                  <td class="participants-cell">
        `;let Oe="";Te.length>0&&(Oe=Te.map(se=>{const ie=se.fullName||se.name||se,Y=se.title||"",U=se.org||"",de=se.location||"Podium",I=se.slot||1;let j=`<strong>${de==="Podium"?"P":de==="Seat"?"S":"V"}${I} - ${ie}</strong>`;if(Y||U){const he=[Y,U].filter(Boolean).join(", ");j+=`<br><span class="speaker-subtext">${he}</span>`}return j}).join("<br><br>")),_e+=Oe||"No speakers assigned",_e+=`
                  </td>
        `;const me=["","","","","","",""];Te.length>0&&Te.forEach((se,ie)=>{const Y=se.fullName||se.name||"Unknown",U=se.title||"",de=se.org||"",I=se.slot||1,Ee=se.location||"Podium",j=se.photoLink||se.photoUrl||"";Z(U,15),Z(de,15),console.log(`    Processing speaker ${ie+1} (${Y}): photoLink="${j}"`);let he=`
              <div class="slot-container">
                <div class="slot-top">
                  <div class="slot-photo">${j?`<img src="${j}" alt="${Y}" class="slot-photo-img" />`:""}</div>
                </div>
                <div class="slot-role">${Ee}</div>
              </div>
            `;const Ce=Math.min(I-1,6);Ce>=0&&Ce<7&&(me[Ce]=he)});for(let se=0;se<7;se++)_e+=`<td class="slot-cell">${me[se]||""}</td>`;_e+=`
                </tr>
                <tr class="notes-header-row">
                  <td colspan="11" class="notes-header-cell">NOTES</td>
                </tr>
                <tr class="notes-content-row">
                  <td colspan="11" class="notes-content-cell">${ne.notes||"None"}</td>
                </tr>
              </table>
            </div>
          </div>
        `}),_e+=`
          <div class="footer">
            <p>Generated: ${new Date().toLocaleString()} | Run of Show Application</p>
          </div>
        </body>
        </html>
      `,_e}else{let _e=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Run of Show Report - ${o?.name||"Event"}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              margin: 20px; 
              font-size: 14px;
            }
            .header { 
              text-align: center; 
              margin-bottom: 30px; 
            }
            .header h1 { 
              font-size: 24px; 
              margin: 0; 
            }
            .header h2 { 
              font-size: 18px; 
              margin: 5px 0 0 0; 
              color: #666; 
            }
            .event-info { 
              background: #f5f5f5; 
              padding: 15px; 
              border-radius: 5px; 
              margin-bottom: 20px; 
              font-size: 12px;
            }
            table { 
              width: 100%; 
              border-collapse: collapse; 
              margin-top: 20px; 
            }
            th, td { 
              border: 1px solid #ddd; 
              padding: 8px; 
              text-align: left; 
              font-size: 12px;
            }
            /* Column width specifications */
            th:nth-child(1), td:nth-child(1) { width: 8%; }  /* CUE */
            th:nth-child(2), td:nth-child(2) { width: 8%; } /* START */
            th:nth-child(3), td:nth-child(3) { width: 8%; } /* DURATION */
            th:nth-child(4), td:nth-child(4) { width: 20%; } /* SEGMENT */
            th:nth-child(5), td:nth-child(5) { width: 10%; } /* SHOT/PPT */
            th:nth-child(6), td:nth-child(6) { width: 26%; } /* PARTICIPANTS */
            th:nth-child(7), td:nth-child(7) { width: 20%; } /* NOTES */
            
            /* Speaker subtext styling - smaller font for titles and organizations */
            .speaker-subtext {
              font-size: 10px;
              color: #000;
            }
            th { 
              background-color: #f2f2f2; 
              font-weight: normal; 
            }
            tr { 
              -webkit-print-color-adjust: exact !important;
              color-adjust: exact !important;
              print-color-adjust: exact !important;
            }
            .footer { 
              margin-top: 30px; 
              text-align: center; 
              color: #666; 
              font-size: 12px;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
              @page { 
                size: A4 ${H}; 
                margin: 0.2in; 
              }
              tr { 
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>RUN OF SHOW REPORT</h1>
            <h2>${o?.name||"Event"}${o?.numberOfDays&&o.numberOfDays>1?` - Day ${b}`:""}</h2>
            <h3>ROS CONDENSED</h3>
          </div>
          
          <div class="event-info">
            <p><strong>Event:</strong> ${o?.name||"Current Event"} | 
               <strong>Date:</strong> ${o?.date||"Not specified"} | 
               <strong>Location:</strong> ${o?.location||"Not specified"} | 
               <strong>Start Time:</strong> ${m||"Not set"} | 
               <strong>Total Items:</strong> ${u.length}</p>
          </div>
          
          <table>
            <thead>
              <tr>
                <th>CUE</th>
                <th>START</th>
                <th>DURATION</th>
                <th>SEGMENT</th>
                <th>SHOT/PPT</th>
                <th>PARTICIPANTS</th>
                <th>NOTES</th>
              </tr>
            </thead>
            <tbody>
      `;return oe.forEach((ne,we)=>{const ve=u.findIndex(se=>se.id===ne.id),Me=le(ve),be=`${ne.durationHours.toString().padStart(2,"0")}:${ne.durationMinutes.toString().padStart(2,"0")}:${ne.durationSeconds.toString().padStart(2,"0")}`;W(ne.programType||"");let Ie="";if(ne.speakersText)try{Ie=JSON.parse(ne.speakersText).map(ie=>{const Y=ie.fullName||ie.name||ie,U=ie.title||"",de=ie.org||"",I=ie.location||"Podium",Ee=ie.slot||1;let he=`<strong>${I==="Podium"?"P":I==="Seat"?"S":"V"}${Ee} - ${Y}</strong>`;if(U||de){const Ce=[U,de].filter(Boolean).join(", ");he+=`<br><span class="speaker-subtext">${Ce}</span>`}return he}).join("<br><br>")}catch{Ie=ne.speakersText}let Te="";const Q=ne.shotType||"";let Oe="";ne.hasPPT&&ne.hasQA?Oe="PPT + Q&A":ne.hasPPT?Oe="PPT":ne.hasQA?Oe="Q&A":Oe="",Q&&Oe?Te=`${Q} | ${Oe}`:Q?Te=Q:Oe?Te=Oe:Te="";let me="";if(ne.notes){const se=ne.notes.replace(/<[^>]*>/g,"").trim();se&&se.length>0&&se!=="None"&&se!=="null"&&se!=="undefined"&&(me=se)}_e+=`
          <tr style="background-color: ${ee(ne.programType)};">
            <td>${ne.programType==="Sub Cue"?`<span style="background-color: #9CA3AF; color: white; padding: 2px 6px; border-radius: 4px; font-weight: bold;">${ne.customFields?.cue||""}</span>`:ne.programType==="Podium"||ne.programType==="Podium Transition"?`<span style="background-color: #8B4513; color: white; padding: 2px 6px; border-radius: 4px; font-weight: bold;">${ne.customFields?.cue||""}</span>`:ne.programType==="Panel"||ne.programType==="Panel Transition"?`<span style="background-color: #404040; color: white; padding: 2px 6px; border-radius: 4px; font-weight: bold;">${ne.customFields?.cue||""}</span>`:ne.customFields?.cue||""}</td>
            <td>${Me}</td>
            <td>${be}</td>
            <td>${ne.segmentName||"Untitled Segment"}</td>
            <td>${Te}</td>
            <td style="white-space: pre-line;">${Ie}</td>
            <td style="white-space: pre-line; font-size: 12px;">${me}</td>
          </tr>
        `}),_e+=`
            </tbody>
          </table>
          
          <div class="footer">
            <p>Generated: ${new Date().toLocaleString()} | Run of Show Application</p>
          </div>
        </body>
        </html>
      `,_e}},De=()=>{const B=X(),re=window.open("","_blank");re&&(re.document.write(B),re.document.close(),re.focus(),re.print())},_=()=>{const B=X(),re=new Blob([B],{type:"text/html"}),H=URL.createObjectURL(re),oe=document.createElement("a");oe.href=H,oe.download=`ros-${g==="showfile"?"show-file":g==="speakers"?"speakers":"condensed"}${o?.numberOfDays&&o.numberOfDays>1?`-day-${b}`:""}-${o?.name?.replace(/\s+/g,"-")||"event"}-${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(H)};return a.jsxDEV("div",{className:"min-h-screen bg-slate-900 text-white pt-16",children:[a.jsxDEV("div",{className:"bg-slate-800 border-b border-slate-700",children:a.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV("button",{onClick:()=>{window.close()},className:"text-slate-300 hover:text-white transition-colors mr-6",children:" Back to Run of Show"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1900,columnNumber:15},void 0),a.jsxDEV("h1",{className:"text-xl font-semibold",children:"Reports and Printing"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1909,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1899,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-slate-400",children:o?.name||"Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1911,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1898,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1897,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1896,columnNumber:7},void 0),a.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-8 shadow-2xl",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-6",children:"Generate Reports"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1921,columnNumber:11},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 mb-8",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-4",children:"Report Options"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1925,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative",children:a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Report Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1932,columnNumber:21},void 0),a.jsxDEV("select",{value:g,onChange:B=>v(B.target.value),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsxDEV("option",{value:"showfile",children:"ROS Show File"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1940,columnNumber:23},void 0),a.jsxDEV("option",{value:"condensed",children:"ROS CONDENSED"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1941,columnNumber:23},void 0),a.jsxDEV("option",{value:"speakers",children:"ROS Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1942,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1935,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1931,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Print Orientation"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1948,columnNumber:21},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxDEV("label",{className:`flex items-center justify-center p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 ${k==="portrait"?"border-blue-500 bg-blue-500/20 text-blue-300":"border-slate-500 bg-slate-600/50 text-slate-300 hover:border-slate-400 hover:bg-slate-600/70"}`,children:[a.jsxDEV("input",{type:"radio",name:"orientation",value:"portrait",checked:k==="portrait",onChange:B=>w(B.target.value),className:"sr-only"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1957,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex flex-col items-center",children:[a.jsxDEV("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsxDEV("rect",{x:"3",y:"3",width:"18",height:"24",rx:"2",strokeWidth:"2"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1967,columnNumber:29},void 0),a.jsxDEV("path",{d:"M8 7h8M8 11h8M8 15h4",strokeWidth:"1.5"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1968,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1966,columnNumber:27},void 0),a.jsxDEV("span",{className:"text-sm font-medium",children:"Portrait"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1970,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1965,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1952,columnNumber:23},void 0),a.jsxDEV("label",{className:`flex items-center justify-center p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 ${k==="landscape"?"border-blue-500 bg-blue-500/20 text-blue-300":"border-slate-500 bg-slate-600/50 text-slate-300 hover:border-slate-400 hover:bg-slate-600/70"}`,children:[a.jsxDEV("input",{type:"radio",name:"orientation",value:"landscape",checked:k==="landscape",onChange:B=>w(B.target.value),className:"sr-only"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1979,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex flex-col items-center",children:[a.jsxDEV("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsxDEV("rect",{x:"3",y:"3",width:"24",height:"18",rx:"2",strokeWidth:"2"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1989,columnNumber:29},void 0),a.jsxDEV("path",{d:"M7 8h10M7 12h10M7 16h6",strokeWidth:"1.5"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1990,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1988,columnNumber:27},void 0),a.jsxDEV("span",{className:"text-sm font-medium",children:"Landscape"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1992,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1987,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1974,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1951,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-slate-400 mt-2",children:k==="landscape"?"Recommended for tables and wide content":"Better for text-heavy documents"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1996,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1947,columnNumber:19},void 0),o?.numberOfDays&&o.numberOfDays>1&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Select Day"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2006,columnNumber:23},void 0),a.jsxDEV("select",{value:b,onChange:B=>E(parseInt(B.target.value)),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:o.numberOfDays},(B,re)=>a.jsxDEV("option",{value:re+1,children:["Day ",re+1]},re+1,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2015,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2009,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2005,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1930,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center justify-center h-full",children:a.jsxDEV("div",{className:"bg-slate-600/30 rounded-lg p-4 border border-slate-500 w-full max-w-md",children:[a.jsxDEV("h4",{className:"text-lg font-semibold text-white mb-3 text-center",children:"Report Format Information"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2025,columnNumber:21},void 0),a.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"text-blue-300 text-base",children:" ROS Show File:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2027,columnNumber:26},void 0)," Section-based format with speaker photos"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2027,columnNumber:23},void 0),a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"text-green-300 text-base",children:" ROS CONDENSED:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2028,columnNumber:26},void 0)," Table format with all information"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2028,columnNumber:23},void 0),a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"text-orange-300 text-base",children:" ROS Speakers:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2029,columnNumber:26},void 0)," Table format with dedicated speaker column"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2029,columnNumber:23},void 0),a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"text-purple-300 text-base",children:" Color Coding:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2030,columnNumber:26},void 0)," Sections colored by program type"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2030,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2026,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2024,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2023,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1928,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1927,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1924,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-wrap gap-4",children:[a.jsxDEV("button",{onClick:De,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[a.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2046,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2045,columnNumber:15},void 0),"Print Report"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2041,columnNumber:13},void 0),a.jsxDEV("button",{onClick:_,className:"px-6 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[a.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2056,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2055,columnNumber:15},void 0),"Download Report"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2051,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2040,columnNumber:11},void 0),a.jsxDEV("div",{className:"mt-8",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-4",children:"Report Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2064,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 max-h-96 overflow-y-auto",children:a.jsxDEV("div",{className:"text-slate-300 text-sm",children:[a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Event:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2067,columnNumber:20},void 0)," ",o?.name||"Current Event"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2067,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Total Items:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2068,columnNumber:20},void 0)," ",u.length,o?.numberOfDays&&o.numberOfDays>1?` | <strong>Day ${b} Items:</strong> ${u.filter(B=>(B.day||1)===b).length}`:""]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2068,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Master Start Time:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2069,columnNumber:20},void 0)," ",J(m)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2069,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Report Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2070,columnNumber:20},void 0)," ",g==="showfile"?"ROS Show File":g==="speakers"?"ROS Speakers":"ROS CONDENSED"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2070,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Format:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2071,columnNumber:20},void 0)," ",g==="showfile"?"Section-based with speaker photos":g==="speakers"?"Table format with dedicated speaker column":"Table format"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2071,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Orientation:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2072,columnNumber:20},void 0)," ",k==="landscape"?"Landscape (recommended for tables)":"Portrait"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2072,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Color Coding:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2073,columnNumber:20},void 0)," Sections colored by program type"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2073,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2066,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2065,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:2063,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1920,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1919,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1894,columnNumber:5},void 0)},q9=()=>{const e=sn(),s=new URLSearchParams(e.search),t=s.get("eventId"),i=s.get("eventName"),o=s.get("eventDate"),u=s.get("eventLocation"),c=e.state?.event||{id:t||"",name:i||"Current Event",date:o||"",location:u||"",numberOfDays:1},[m,h]=O.useState([]),[g,v]=O.useState(new Date),[b,E]=O.useState(!0),[k,w]=O.useState(null),[y,T]=O.useState(null),[J,Z]=O.useState("America/New_York"),[R,le]=O.useState({}),[W,ee]=O.useState(null),[X,De]=O.useState({}),_=O.useRef(!0),[B,re]=O.useState({}),[H,oe]=O.useState(0),[_e,ne]=O.useState(null),[we,ve]=O.useState({}),[Me,be]=O.useState(null),[Ie,Te]=O.useState("09:00"),[Q,Oe]=O.useState({}),[me,se]=O.useState(1),[ie,Y]=O.useState(1),[U,de]=O.useState(null),[I,Ee]=O.useState(new Set),[j,he]=O.useState(0),[Ce,Fe]=O.useState(!1),[He,ze]=O.useState(!1),[Ft,Qt]=O.useState(""),[cr,nr]=O.useState(null),[Or,Zt]=O.useState(!1),[xr,Yt]=O.useState(!1);O.useEffect(()=>{const rt=()=>{Yt(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",rt),()=>document.removeEventListener("fullscreenchange",rt)},[]);const Sr=(rt,Ge,qe,bt)=>{const Dt=Ge||m,Tt=Dt[rt];if(!Tt)return console.log(` No current item at index ${rt}`),"";const Ht=Tt.day||1,ur=qe||Q[Ht]||Ie,Kt=bt||we;if(!ur)return"";let Gt=0;for(let L=0;L<rt;L++){const F=Dt[L];if(!F)continue;if((F.day||1)===Ht&&!Kt[F.id]){const A=F.durationHours||0,te=F.durationMinutes||0,Ne=A*60+te;Gt+=Ne}}const[mr,ir]=ur.split(":").map(Number),or=mr*60+ir+Gt,ae=Math.floor(or/60),Ve=or%60,ue=ae>=12?"PM":"AM";let K=ae;return ae>12&&(K=ae-12),ae===0&&(K=12),`${K}:${Ve.toString().padStart(2,"0")} ${ue}`},at=(rt,Ge,qe,bt,Dt,Tt,Ht)=>{const ur=Ge||m,Kt=ur[rt];if(!Kt)return console.log(` No current item at index ${rt}`),"";const Gt=bt||B,mr=Dt!==void 0?Dt||0:H,ir=Tt!==void 0?Tt:_e,pr=Ht||we,or=Sr(rt,Ge,qe,pr);if(!or)return console.log(` No base start time for index ${rt}`),"";let ae=0;const Ve=ir?ur.findIndex(pe=>pe.id===ir):-1,ue=Ve!==-1?Ve:0;for(let pe=ue;pe<rt;pe++){const Se=ur[pe],je=Se.day||1,Qe=Kt.day||1;if(je===Qe&&!pr[Se.id]){const et=Gt[Se.id]||0;ae+=et}}if(mr!==0&&ir!==null&&Ve!==-1&&rt>=Ve&&(ae+=mr),ae===0)return or;const[K,C]=or.split(" "),[L,F]=K.split(":").map(Number);let z=L;C==="PM"&&L!==12&&(z+=12),C==="AM"&&L===12&&(z=0);const A=z*60+F+ae,te=Math.floor(A/60)%24,Ne=A%60,Pe=new Date;return Pe.setHours(te,Ne,0,0),Pe.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};O.useEffect(()=>{if(c?.id){const rt=localStorage.getItem(`masterStartTime_${c.id}`),Ge=localStorage.getItem(`dayStartTimes_${c.id}`);if(rt)Te(rt);else{const qe=Object.keys(localStorage).filter(Tt=>Tt.includes("masterStartTime")).map(Tt=>({key:Tt,value:localStorage.getItem(Tt)}));let bt=null;const Dt=qe.find(Tt=>Tt.value&&Tt.value!=="09:00");Dt?bt=Dt:bt=qe.find(Tt=>Tt.value),bt&&bt.value&&Te(bt.value)}Ge&&Oe(JSON.parse(Ge))}},[c?.id]),O.useEffect(()=>{if(!c?.id)return;const rt=setInterval(async()=>{try{const Ge=await lt.getRunOfShowData(c.id);if(Ge?.schedule_items){const qe=Ge.settings?.masterStartTime||Ge.settings?.dayStartTimes?.["1"]||"09:00";qe!==Ie&&Te(qe);try{const bt=await lt.getOvertimeMinutes(c.id),Dt=await lt.getShowStartOvertime(c.id),Tt=await lt.getIndentedCues(c.id);if(bt&&re(bt),Dt!==null){const Kt=Dt.show_start_overtime||Dt.overtimeMinutes||0,Gt=Dt.item_id||Dt.startCueId;oe(Kt),Gt&&ne(Gt)}if(Tt&&Tt.length>0){const Kt={};Tt.forEach(Gt=>{Kt[Gt.item_id]={parentId:Gt.parent_id,userId:Gt.user_id,userName:Gt.user_name}}),ve(Kt)}const Ht=Ge.schedule_items.map(Kt=>({...Kt,isPublic:Kt.isPublic===!0||Kt.isPublic==="true",durationHours:Math.floor((Kt.duration_seconds||0)/3600),durationMinutes:Math.floor((Kt.duration_seconds||0)%3600/60),durationSeconds:(Kt.duration_seconds||0)%60})),ur=Ht.map((Kt,Gt)=>{if(!Kt)return null;const mr=Kt.durationHours||0,ir=Kt.durationMinutes||0,pr=Kt.durationSeconds||0,or=mr*60+ir+pr/60,ae=or>0?`${Math.round(or)} min`:"0 min",Ve=at(Gt,Ht,qe,bt,overtimeValue,startCueIdValue,indentedCuesMap);let ue=null;if(Ve&&Ve!==""){let K=Gt+1;for(;K<Ht.length;){const C=Ht[K];if(C&&!indentedCuesMap[C.id]){const L=at(K,Ht,qe,bt,overtimeValue,startCueIdValue,indentedCuesMap);if(L&&L!==""){ue=L;break}}K++}if(!ue&&or>0){const C=new Date(`1970-01-01 ${Ve}`);ue=new Date(C.getTime()+or*6e4).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}else ue||(ue="TBD")}else ue="TBD";return{...Kt,startTime:Ve,endTime:ue,duration:ae}});h(ur)}catch(bt){console.error(" GreenRoom: 20s refresh - error loading overtime data:",bt)}}}catch(Ge){console.error(" GreenRoom: 20s refresh failed:",Ge)}},2e4);return()=>{clearInterval(rt)}},[c?.id,Ie]),O.useEffect(()=>{const rt=setInterval(()=>{v(new Date)},1e3);return()=>clearInterval(rt)},[]);const ar=async()=>{if(c?.id)try{const rt=await lt.getActiveTimer(c.id);rt?(T(parseInt(rt.item_id)),ee(rt.timer_state),be(parseInt(rt.item_id)),De({[parseInt(rt.item_id)]:!0}),le({[parseInt(rt.item_id)]:{elapsed:rt.elapsed_seconds||0,total:rt.duration_seconds||0,startedAt:rt.started_at?new Date(rt.started_at):null}})):(T(null),ee(null),De({}),le({}),U&&(clearInterval(U),de(null)))}catch(rt){console.error(" Error loading active timer:",rt)}};O.useEffect(()=>{if(!c?.id)return;ar();const rt={onServerTime:qe=>{const bt=new Date(qe.serverTime).getTime(),Dt=new Date().getTime(),Tt=bt-Dt;he(Tt)},onTimerUpdated:qe=>{qe&&qe.item_id&&(le(bt=>({...bt,[qe.item_id]:{elapsed:qe.elapsed_seconds||0,total:qe.duration_seconds||300,startedAt:qe.started_at?new Date(qe.started_at):null}})),qe.timer_state==="running"?(ee("running"),T(parseInt(qe.item_id)),be(parseInt(qe.item_id)),De({[parseInt(qe.item_id)]:!0})):qe.timer_state==="loaded"&&(ee("loaded"),T(parseInt(qe.item_id)),be(parseInt(qe.item_id)),De({[parseInt(qe.item_id)]:!0})))},onTimerStopped:qe=>{qe&&qe.item_id&&(ee(null),Me?(T(Me),De({[Me]:!0}),console.log(" Green Room: Keeping last loaded cue visible:",Me)):(T(null),De({})),le(bt=>{const Dt={...bt};return delete Dt[qe.item_id],Dt}))},onTimersStopped:qe=>{ee(null),Me?(T(Me),De({[Me]:!0})):(T(null),De({})),le({})},onTimerStarted:qe=>{qe&&qe.item_id&&T(qe.item_id)},onActiveTimersUpdated:qe=>{qe&&qe.item_id&&(qe.timer_state==="running"||qe.timer_state==="loaded"?(T(parseInt(qe.item_id)),ee(qe.timer_state),be(parseInt(qe.item_id)),De({[qe.item_id]:!0})):(ee(null),Me?(T(Me),De({[Me]:!0})):(T(null),De({}))))},onResetAllStates:qe=>{T(null),ee(null),De({}),le({}),be(null)},onScheduleUpdated:qe=>{Vt()},onRunOfShowDataUpdated:qe=>{Vt()},onConnectionChange:qe=>{},onInitialSync:async()=>{try{const qe=await fetch(`https://ros-50-production.up.railway.app/api/active-timers/${c?.id}`);if(qe.ok){const bt=await qe.json();if(bt&&bt.length>0){const Dt=bt[0];T(parseInt(Dt.item_id)),ee(Dt.timer_state),De({[parseInt(Dt.item_id)]:!0}),le({[parseInt(Dt.item_id)]:{elapsed:Dt.elapsed_seconds||0,total:Dt.duration_seconds||300,startedAt:Dt.started_at?new Date(Dt.started_at):null}})}else T(null),ee(null),De({}),le({})}}catch(qe){console.error(" Green Room: Initial sync failed to load active timer:",qe)}}};xt.connect(c.id,rt),Or||(Fe(!0),Zt(!0));const Ge=()=>{document.hidden?xt.disconnect(c.id):xt.isConnected()||(xt.connect(c.id,rt),rt.onInitialSync?.())};return document.addEventListener("visibilitychange",Ge),()=>{xt.disconnect(c.id),document.removeEventListener("visibilitychange",Ge),cr&&clearTimeout(cr)}},[c?.id]),O.useEffect(()=>{if(!y||!R[y])return;const rt=R[y];if(rt.startedAt&&W==="running"){const Ge=rt.startedAt;rt.total;const qe=setInterval(()=>{const bt=new Date(Date.now()+j),Dt=Math.floor((bt.getTime()-Ge.getTime())/1e3);le(Tt=>({...Tt,[y]:{...Tt[y],elapsed:Dt}}))},1e3);return()=>{clearInterval(qe)}}},[y,W]),O.useEffect(()=>()=>{console.log(" Green Room: Cleaning up on component unmount"),U&&clearInterval(U)},[]);const Vt=async()=>{const rt=c?.id||t;if(!rt){w("No event selected"),E(!1);return}try{Jr.cache.delete(`runOfShowData_${rt}`),console.log(" Cleared cache for run of show data");const Ge=await lt.getRunOfShowData(rt);let qe={},bt=0,Dt=null,Tt={};try{console.log(" GreenRoom: Loading overtime data from dedicated endpoints...");const ur=await lt.getOvertimeMinutes(rt),Kt=await lt.getShowStartOvertime(rt),Gt=await lt.getIndentedCues(rt);if(ur&&(qe=ur,re(ur),console.log(" GreenRoom: Loaded overtime data:",ur)),Kt!==null){const mr=Kt.show_start_overtime||Kt.overtimeMinutes||0;bt=mr,oe(mr),mr!==0&&console.log(" GreenRoom: Loaded show start overtime:",mr)}if(Gt&&Gt.length>0){const mr={};Gt.forEach(ir=>{mr[ir.item_id]={parentId:ir.parent_id,userId:ir.user_id,userName:ir.user_name}}),Tt=mr,ve(mr),console.log(" GreenRoom: Loaded indented cues:",Gt.length)}}catch(ur){console.error(" Error loading overtime data from dedicated endpoints:",ur)}let Ht=Ie;if(Ge&&Ge.settings&&Ge.settings.masterStartTime?(console.log(" Found master start time in API data:",Ge.settings.masterStartTime),Ht=Ge.settings.masterStartTime,Te(Ge.settings.masterStartTime)):Ge&&Ge.settings&&Ge.settings.dayStartTimes&&Ge.settings.dayStartTimes[1]?(console.log(" Found day start time for Day 1 in API data:",Ge.settings.dayStartTimes[1]),Ht=Ge.settings.dayStartTimes[1],Te(Ge.settings.dayStartTimes[1]),localStorage.setItem(`masterStartTime_${rt}`,Ge.settings.dayStartTimes[1])):console.log(" No master start time found in API data, using localStorage value:",Ie),Ge.settings?.timezone?(Z(Ge.settings.timezone),console.log(" GreenRoom: Loaded timezone from settings:",Ge.settings.timezone)):console.log(" GreenRoom: No timezone found in settings, using default:",J),Ge&&Ge.settings&&Ge.settings.dayStartTimes&&(console.log(" Loaded day start times from API data:",Ge.settings.dayStartTimes),Oe(Ge.settings.dayStartTimes)),Ge&&Ge.overtime_minutes&&(console.log(" Loaded overtime minutes:",Ge.overtime_minutes),re(Ge.overtime_minutes)),Ge&&Ge.indented_cues&&(console.log(" Loaded indented cues:",Ge.indented_cues),ve(Ge.indented_cues)),Ge&&Ge.show_start_overtime!==void 0&&(console.log(" Loaded show start overtime:",Ge.show_start_overtime),oe(Ge.show_start_overtime)),Ge&&Ge.start_cue_id!==void 0&&(console.log(" Loaded start cue ID:",Ge.start_cue_id),ne(Ge.start_cue_id)),Ge?.schedule_items){console.log(" Total schedule items found:",Ge.schedule_items.length);const ur=Ge.schedule_items.map(ae=>ae.day||1);console.log(" All days in schedule:",ur);const Kt=Math.max(...ur);console.log(" Max day found in schedule:",Kt);const Gt=Ge.settings?.dayStartTimes?Object.keys(Ge.settings.dayStartTimes).map(Number):[],mr=Gt.length>0?Math.max(...Gt):1;console.log(" Day start times keys:",Gt),console.log(" Max day from settings:",mr);const ir=Math.max(Kt,mr);console.log(" Final max day:",ir),console.log(" Schedule items with days:",Ge.schedule_items.map(ae=>({id:ae.id,name:ae.segmentName,day:ae.day}))),Y(ir),ir>1?console.log(" Multiday event detected, numberOfDays set to:",ir):console.log(" Single day event detected, numberOfDays set to:",ir),h(Ge.schedule_items);const pr=Ge.schedule_items.find(ae=>ae.isStartCue===!0);pr?(Dt=pr.id,ne(pr.id)):(Dt=null,ne(null));try{const ae=await lt.getLastLoadedCue(rt);ae?.data&&ae.data.item_id&&(be(ae.data.item_id),T(ae.data.item_id),De({[ae.data.item_id]:!0}))}catch(ae){console.error(" GreenRoom: Error loading last loaded cue:",ae)}const or=Ge.schedule_items.map((ae,Ve)=>{if(!ae)return null;const ue=ae.durationHours||0,K=ae.durationMinutes||0,C=ae.durationSeconds||0,L=ue*60+K+C/60,F=L>0?`${Math.round(L)} min`:"0 min",z=at(Ve,Ge.schedule_items,Ht,qe,bt,Dt,Tt);let A=null;if(z&&z!==""){let te=Ve+1;for(;te<Ge.schedule_items.length;){const Ne=Ge.schedule_items[te];if(Ne&&!Tt[Ne.id]){const Pe=at(te,Ge.schedule_items,Ht,qe,bt,Dt,Tt);if(Pe&&Pe!==""){A=Pe;break}}te++}if(!A&&L>0){const Ne=new Date(`1970-01-01 ${z}`);A=new Date(Ne.getTime()+L*6e4).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}else A||(A="TBD")}else A="TBD";return{...ae,startTime:z,endTime:A,duration:F,isPublic:ae.isPublic===!0||ae.isPublic==="true"}}).filter(ae=>ae!==null);h(or),console.log(" Schedule loaded for Green Room (all items):",or.length,"items"),setTimeout(()=>{_.current=!1},100)}else w("No schedule data found"),_.current=!1}catch(Ge){console.error(" Error loading schedule:",Ge),console.error(" Error details:",{message:Ge.message,stack:Ge.stack,eventId:c?.id,eventName:c?.name}),w(`Failed to load schedule data: ${Ge.message}`),_.current=!1}finally{E(!1)}};O.useEffect(()=>{_.current=!0,Vt()},[c?.id]),O.useEffect(()=>{if(m.length>0&&!_.current){const rt=m.map((Ge,qe)=>{if(!Ge)return null;const bt=Ge.durationHours||0,Dt=Ge.durationMinutes||0,Tt=Ge.durationSeconds||0,Ht=bt*60+Dt+Tt/60,ur=Ht>0?`${Math.round(Ht)} min`:"0 min",Kt=Ge.day||1,Gt=Q[Kt]||Ie,mr=at(qe,m,Gt,B,H,_e,we);let ir=null;if(mr&&mr!==""){let pr=qe+1;for(;pr<m.length;){const or=m[pr];if(or&&!we[or.id]){const ae=or.day||1,Ve=Q[ae]||Ie,ue=at(pr,m,Ve,B,H,_e,we);if(ue&&ue!==""){ir=ue;break}}pr++}if(!ir&&Ht>0){const or=new Date(`1970-01-01 ${mr}`);ir=new Date(or.getTime()+Ht*6e4).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}else ir||(ir="TBD")}else ir="TBD";return{...Ge,startTime:mr,endTime:ir,duration:ur}}).filter(Ge=>Ge!==null);h(rt)}},[B,H,_e,we,Ie,Q]),O.useEffect(()=>{if(!c?.id)return;const rt={onRunOfShowDataUpdated:qe=>{qe&&qe.schedule_items&&h(qe.schedule_items),qe&&qe.settings&&qe.settings.masterStartTime&&Te(qe.settings.masterStartTime),qe&&qe.overtime_minutes&&re(qe.overtime_minutes),qe&&qe.indented_cues&&ve(qe.indented_cues),qe&&qe.show_start_overtime!==void 0&&oe(qe.show_start_overtime),qe&&qe.start_cue_id!==void 0&&ne(qe.start_cue_id)},onOvertimeUpdate:qe=>{qe&&qe.item_id&&qe.overtimeMinutes!==void 0&&re(bt=>({...bt,[qe.item_id]:qe.overtimeMinutes}))},onShowStartOvertimeUpdate:qe=>{qe&&qe.showStartOvertime!==void 0&&oe(qe.showStartOvertime),qe&&qe.item_id&&ne(qe.item_id)},onConnectionChange:qe=>{},onInitialSync:async()=>{try{const qe=await fetch(`https://ros-50-production.up.railway.app/api/run-of-show-data/${c?.id}`);if(qe.ok){const bt=await qe.json();bt&&bt.schedule_items&&h(bt.schedule_items),bt&&bt.settings&&bt.settings.masterStartTime&&Te(bt.settings.masterStartTime)}}catch(qe){console.error(" Green Room: Schedule initial sync failed:",qe)}}};xt.connect(c.id,rt);const Ge=()=>{document.hidden?xt.disconnect(c.id):xt.isConnected()||(xt.connect(c.id,rt),rt.onInitialSync?.())};return document.addEventListener("visibilitychange",Ge),()=>{xt.disconnect(c.id),document.removeEventListener("visibilitychange",Ge)}},[c?.id]);const Ze=O.useMemo(()=>{const rt=m.filter(bt=>bt.day===me);if((y?rt.findIndex(bt=>String(bt.id)===String(y)):-1)>=0){const bt=rt.filter(Ht=>Ht.isPublic===!0),Dt=bt.findIndex(Ht=>String(Ht.id)===String(y));return Dt>=0?bt.slice(Dt):bt}return rt.filter(bt=>bt.isPublic===!0)},[m,me,y,B,H,_e,Q,Ie,we]),it=()=>{if(!y||!R[y])return"No Timer";const rt=R[y];return W==="loaded"?"Ready to Start":W!=="running"?"Timer Stopped":rt.startedAt?new Date(rt.startedAt.getTime()+rt.total*1e3).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"Not Started"},vt=rt=>{const Ge=rt<0,qe=Math.abs(rt),bt=Math.floor(qe/3600),Dt=Math.floor(qe%3600/60),Tt=Math.floor(qe%60),Ht=Ge?"-":"";return bt===0?`${Ht}${Dt.toString().padStart(2,"0")}:${Tt.toString().padStart(2,"0")}`:`${Ht}${bt.toString().padStart(2,"0")}:${Dt.toString().padStart(2,"0")}:${Tt.toString().padStart(2,"0")}`},Rt=()=>{if(!y||!R[y])return"00:00";const rt=R[y];if(W==="loaded")return vt(rt.total);if(W!=="running")return"00:00";const Ge=rt.total-rt.elapsed;return vt(Ge)},Ut=()=>{if(!y||!R[y]||W!=="running")return!1;const rt=R[y];return rt.total-rt.elapsed<0};if(b)return a.jsxDEV("div",{className:"w-full h-screen flex items-center justify-center relative",style:{aspectRatio:"9/16"},children:[a.jsxDEV("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{objectFit:"cover"},children:[a.jsxDEV("source",{src:"/pointed_crop_loop.webm",type:"video/webm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1399,columnNumber:11},void 0),"Your browser does not support the video tag."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1389,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-white text-xl relative z-10 bg-black/50 px-4 py-2 rounded",children:"Loading Green Room..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1402,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1387,columnNumber:7},void 0);if(k)return a.jsxDEV("div",{className:"w-full h-screen flex items-center justify-center relative",style:{aspectRatio:"9/16"},children:[a.jsxDEV("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{objectFit:"cover"},children:[a.jsxDEV("source",{src:"/pointed_crop_loop.webm",type:"video/webm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1421,columnNumber:11},void 0),"Your browser does not support the video tag."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1411,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-red-400 text-xl relative z-10 bg-black/50 px-4 py-2 rounded",children:k},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1424,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1409,columnNumber:7},void 0);const br=(rt,Ge)=>{const qe=rt*60+Ge;if(qe===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}cr&&clearTimeout(cr);const bt=qe*60*1e3,Dt=setTimeout(()=>{let Ht="";rt>0&&(Ht+=`${rt}h `),Ge>0&&(Ht+=`${Ge}m`),console.log(` GreenRoomPage: Auto-disconnect timer expired (${Ht.trim()})`),console.log(" GreenRoomPage: Showing disconnect notification..."),Qt(Ht.trim()),ze(!0),console.log(" GreenRoomPage: Notification state set to true"),setTimeout(()=>{c?.id&&(xt.disconnect(c.id),console.log(" GreenRoomPage: WebSocket disconnected"))},100)},bt);nr(Dt),Fe(!1);let Tt="";rt>0&&(Tt+=`${rt}h `),Ge>0&&(Tt+=`${Ge}m`),console.log(` GreenRoomPage: Disconnect timer set to ${Tt.trim()}`)},Jt=()=>{cr&&clearTimeout(cr),nr(null),Fe(!1),console.log(" GreenRoomPage: Disconnect timer set to Never")},Nr=()=>{ze(!1),c?.id&&((async()=>{try{const Ge=await lt.getRunOfShowData(c.id);Ge&&Ge.schedule_items&&h(Ge.schedule_items),Ge&&Ge.settings&&Ge.settings.masterStartTime&&Te(Ge.settings.masterStartTime)}catch(Ge){console.error(" Error loading schedule:",Ge)}})(),Fe(!0))};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"w-full h-screen text-white overflow-hidden relative",style:{aspectRatio:"9/16"},children:[a.jsxDEV("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{objectFit:"cover"},children:[a.jsxDEV("source",{src:"/pointed_crop_loop.webm",type:"video/webm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1521,columnNumber:9},void 0),"Your browser does not support the video tag."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1511,columnNumber:7},void 0),a.jsxDEV("div",{className:"relative z-10",children:[!xr&&a.jsxDEV("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur-sm rounded-lg p-3 space-y-2",children:[a.jsxDEV("button",{onClick:()=>{document.documentElement.requestFullscreen()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded border border-blue-500 text-lg transition-colors w-full",title:"Enter Fullscreen",children:"Fullscreen"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1531,columnNumber:13},void 0),ie>1&&a.jsxDEV("select",{value:me,onChange:rt=>{const Ge=parseInt(rt.target.value);se(Ge),Q[Ge]&&Te(Q[Ge])},className:"bg-gray-800 text-white px-3 py-2 rounded border border-gray-600 text-lg",children:Array.from({length:ie},(rt,Ge)=>Ge+1).map(rt=>a.jsxDEV("option",{value:rt,children:["Day ",rt]},rt,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1556,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1543,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1529,columnNumber:11},void 0),a.jsxDEV("div",{className:"p-6 flex items-center",children:[a.jsxDEV("div",{className:"text-white font-bold flex-1 text-center",style:{fontSize:"clamp(2rem, 6vw, 4rem)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",lineHeight:"1.1",marginRight:"20px"},children:c?.name||"Current Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1569,columnNumber:11},void 0),a.jsxDEV("div",{className:`rounded-lg p-4 text-center flex-shrink-0 ${Ut()?"bg-red-800":"bg-red-600"}`,children:[a.jsxDEV("div",{className:"text-white text-xl font-semibold mb-2",children:Ut()?"OVER TIME":"Stage Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1585,columnNumber:11},void 0),a.jsxDEV("div",{className:`text-5xl font-bold mb-2 ${Ut()?"text-red-200":"text-white"}`,children:Rt()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1588,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-white text-base",children:["Expected Finish: ",it()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1591,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1584,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1567,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6 max-h-[calc(100vh-200px)] [&::-webkit-scrollbar]:hidden",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:a.jsxDEV("div",{className:"space-y-4",children:Ze.length===0?a.jsxDEV("div",{className:"text-center text-gray-400 text-lg py-12",children:"No public schedule items available"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1606,columnNumber:11},void 0):a.jsxDEV(a.Fragment,{children:Ze.slice(0,8).map((rt,Ge)=>{const qe=X[rt.id],bt=W==="running"&&String(y)===String(rt.id);return String(y),String(rt.id),a.jsxDEV("div",{className:`p-4 rounded-lg transition-all duration-300 ${bt?"bg-red-600 text-white":qe?"bg-green-600 text-white":"bg-gray-300 text-gray-700"}`,children:[a.jsxDEV("div",{className:"font-bold text-xl mb-2 uppercase",children:rt.segmentName},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1629,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-sm space-y-1",children:[a.jsxDEV("div",{children:["Start: ",rt.startTime]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1631,columnNumber:17},void 0),a.jsxDEV("div",{children:["End: ",rt.endTime]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1632,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1630,columnNumber:15},void 0)]},rt.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1619,columnNumber:13},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1610,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1604,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1598,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1526,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1509,columnNumber:7},void 0),Ce&&a.jsxDEV(J9,{onConfirm:br,onNever:Jt},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1645,columnNumber:31},void 0),He&&a.jsxDEV(Q9,{duration:Ft,onReconnect:Nr},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1648,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1508,columnNumber:5},void 0)},J9=({onConfirm:e,onNever:s})=>{const[t,i]=O.useState(2),[o,u]=O.useState(0),c=[0,5,10,15,20,25,30],m=qr.useRef(null),h=qr.useRef(null);qr.useEffect(()=>{m.current&&(m.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const g=()=>{if(!m.current)return;const b=Math.round(m.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1683,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1684,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1688,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1690,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1691,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1692,columnNumber:15},void 0),a.jsxDEV("div",{ref:m,onScroll:g,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,E)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===E?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:E},E,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1695,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1693,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1689,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1687,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1701,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1704,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1706,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1707,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1708,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1711,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1709,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1705,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1703,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1686,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1719,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1720,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1718,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1723,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1682,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1681,columnNumber:5},void 0)},Q9=({duration:e,onReconnect:s})=>(qr.useEffect(()=>(console.log(" GreenRoom DisconnectNotification mounted:",e),()=>console.log(" GreenRoom DisconnectNotification unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1737,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1740,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1742,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1743,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1741,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1745,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1739,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1738,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1736,columnNumber:5},void 0)),Z9=()=>{const e=sn(),s=new URLSearchParams(e.search),t=s.get("eventId"),i=s.get("eventName"),o=s.get("eventDate"),u=s.get("eventLocation"),c=e.state?.event||{id:t||"",name:i||"Current Event",date:o||"",location:u||"",numberOfDays:1},[m,h]=O.useState([]),[g,v]=O.useState(new Date),[b,E]=O.useState("America/New_York"),[k,w]=O.useState(!0),y=ae=>{const Ve=m[ae];if(!Ve||Ee[Ve.id])return"";const ue=Ve.day||1,K=Rt[ue]||re;if(console.log(" PhotoView: calculateStartTime for index",ae,":",{itemDay:ue,dayStartTimes:Rt,masterStartTime:re,startTime:K}),!K)return console.log(" PhotoView: No start time found for day",ue),"";let C=0;for(let pe=0;pe<ae;pe++){const Se=m[pe];(Se.day||1)===ue&&!Ee[Se.id]&&(C+=(Se.durationHours||0)*3600+(Se.durationMinutes||0)*60+(Se.durationSeconds||0))}const[L,F]=K.split(":").map(Number),A=L*3600+F*60+C,te=Math.floor(A/3600)%24,Ne=Math.floor(A%3600/60),Pe=new Date;Pe.setHours(te,Ne,0,0);const ye=Pe.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return console.log(" PhotoView: calculateStartTime result for index",ae,":",{finalHours:te,finalMinutes:Ne,result:ye}),ye},T=ae=>{const Ve=m[ae];if(!Ve||Ee[Ve.id])return"";const ue=y(ae);if(!ue)return console.log(" PhotoView: No base start time for index",ae,"item:",Ve),"";console.log(" PhotoView: Base start time for index",ae,":",ue);let K=0;const C=it?m.findIndex(Qe=>Qe.id===it):-1,L=C!==-1?C:0;for(let Qe=L;Qe<ae;Qe++){const et=m[Qe],ct=et.day||1,dt=Ve.day||1;ct===dt&&!Ee[et.id]&&(K+=at[et.id]||0)}if(Vt!==0&&it!==null&&C!==-1&&ae>=C&&(K+=Vt),K===0)return ue;const[F,z]=ue.split(" "),[A,te]=F.split(":").map(Number);let Ne=A;z==="PM"&&A!==12&&(Ne+=12),z==="AM"&&A===12&&(Ne=0);const Pe=Ne*60+te+K,ye=Math.floor(Pe/60)%24,pe=Pe%60,Se=new Date;Se.setHours(ye,pe,0,0);const je=Se.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return console.log(" PhotoView: calculateStartTimeWithOvertime result for index",ae,":",{totalOvertimeMinutes:K,finalHours:ye,finalMinutes:pe,result:je}),je},[J,Z]=O.useState(null),[R,le]=O.useState(null),[W,ee]=O.useState({}),[X,De]=O.useState(null),[_,B]=O.useState({}),[re,H]=O.useState("09:00"),[oe,_e]=O.useState(20),[ne,we]=O.useState(!1),[ve,Me]=O.useState(!1),[be,Ie]=O.useState(0),[Te,Q]=O.useState({activeTimer:null}),[Oe,me]=O.useState({elapsed:0,total:0}),[se,ie]=O.useState({}),[Y,U]=O.useState({}),[de,I]=O.useState({}),[Ee,j]=O.useState({}),[he,Ce]=O.useState(!0),[Fe,He]=O.useState(null),[ze,Ft]=O.useState(!1),[Qt,cr]=O.useState(!1),[nr,Or]=O.useState(""),[Zt,xr]=O.useState(null),[Yt,Sr]=O.useState(!1),[at,ar]=O.useState({}),[Vt,Ze]=O.useState(0),[it,vt]=O.useState(null),[Rt,Ut]=O.useState({}),br=async()=>{if(console.log(" PhotoView: Resetting all states from RunOfShow reset..."),le(null),De(null),B({}),ee({}),I({}),ie({}),U({}),He(null),ar({}),Ze(0),console.log(" PhotoView: Cleared overtime data from reset"),h(ae=>ae.map(Ve=>({...Ve,isIndented:!1}))),c?.id)try{console.log(" PhotoView: Reloading schedule data after reset...");const ae=await lt.getRunOfShowData(c.id);if(ae?.schedule_items){const Ve=ae.schedule_items.map(ue=>({...ue,isPublic:ue.isPublic||!1,isIndented:!1}));h(Ve),console.log(" PhotoView: Schedule data reloaded and indented state cleared")}}catch(ae){console.warn(" PhotoView: Failed to reload schedule data:",ae),console.log(" PhotoView: Using local fallback to clear indented state")}console.log(" PhotoView: All states and highlights reset successfully")},Jt=ae=>ae?ae.includes("CUE ")?ae:ae.replace(/^CUE(\d+)$/,"CUE $1"):"CUE",Nr=(ae,Ve)=>!ae||ae.length<=Ve?ae:ae.substring(0,Ve)+"...",rt=ae=>{if(ae.trim().length===0)return{html:"",needsSmallText:!1};const Ve=ae.trim(),ue=Ve.split(/\s+/);if(ue.length<=1)return{html:Ve,needsSmallText:!1};const K=["Dr","Dr.","Prof","Prof.","Mr","Mr.","Mrs","Mrs.","Ms","Ms.","Hon","Hon.","Honorable","Sen","Sen.","Senator","Rep","Rep.","Representative","Gov","Gov.","Governor","Mayor","Judge","Ambassador","Amb","Amb.","General","Gen","Gen.","Admiral","Adm","Adm.","Colonel","Col","Col.","Major","Maj","Maj.","Captain","Capt","Capt.","Lieutenant","Lt","Lt.","Sergeant","Sgt","Sgt.","Chief","Commander","Comm"],C=["Jr","Jr.","Sr","Sr.","III","IV","V","Ph.D","PhD","MD","DDS","DVM","Esq","Esq.","CPA","PE","RN","LPN"];let L="",F="",z="",A="",te="";K.includes(ue[0])&&(L=ue[0],ue.shift());const Ne=Ve.match(/\([DR]\)/i);if(Ne){te=Ne[0];const je=ue.findIndex(Qe=>Qe.match(/\([DR]\)/i));je!==-1&&ue.splice(je,1)}if(ue.length>0&&C.includes(ue[ue.length-1])&&(A=ue[ue.length-1],ue.pop()),ue.length===0)return{html:Ve,needsSmallText:!1};if(ue.length===1)F=ue[0];else{const je=ue.length-1;z=ue[je],F=ue.slice(0,je).join(" ")}const Pe=12;let ye=[L,F].filter(Boolean).join(" "),pe=[z,A,te].filter(Boolean).join(" ");if(ye.length>Pe&&F.includes(" ")){const je=F.split(" ");if(je.length>1){const Qe=je.pop(),et=je.join(" ");ye=[L,et].filter(Boolean).join(" "),pe=[Qe,z,A,te].filter(Boolean).join(" ")}}if(ye.length>Pe&&F.includes(" ")){const je=F.split(" ");if(je.length>2){const Qe=je.splice(-2),et=je.join(" ");ye=[L,et].filter(Boolean).join(" "),pe=[Qe.join(" "),z,A,te].filter(Boolean).join(" ")}}const Se=ye.length>Pe||pe.length>Pe;return{html:`${ye}<br/>${pe}`,needsSmallText:Se}},Ge=ae=>{if(isNaN(ae)||ae===void 0||ae===null)return console.warn(" formatTime received invalid value:",ae),"00:00:00";const Ve=ae<0,ue=Math.abs(ae),K=Math.floor(ue/3600),C=Math.floor(ue%3600/60),L=Math.floor(ue%60);return`${Ve?"-":""}${K.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`},qe=()=>{if(Te?.activeTimer){const Ve=Oe;return Ve.total-Ve.elapsed}if(X==="stopped")return 0;const ae=Object.keys(de);if(ae.length>0){const Ve=parseInt(ae[0]);if(W[Ve]){const ue=W[Ve];return ue.total-ue.elapsed}}if(R&&W[R]){const Ve=W[R];return Ve.total-Ve.elapsed}return 0},bt=()=>{if(Te?.activeTimer){const Ve=Oe,ue=Ve.total-Ve.elapsed;return ue<0?0:Ve.total>0?ue/Ve.total*100:0}if(X==="stopped")return 0;const ae=Object.keys(de);if(ae.length>0){const Ve=parseInt(ae[0]);if(W[Ve]){const ue=W[Ve],K=ue.total-ue.elapsed;return ue.total>0?K/ue.total*100:0}}if(R&&W[R]){const Ve=W[R],ue=Ve.total-Ve.elapsed;return Ve.total>0?ue/Ve.total*100:0}return 0},Dt=()=>{if(Te?.activeTimer){const Ve=Oe,ue=Ve.total-Ve.elapsed;return ue<0?"#ef4444":ue>120?"#10b981":ue>30?"#f59e0b":"#ef4444"}const ae=Object.keys(de);if(ae.length>0){const Ve=parseInt(ae[0]);if(W[Ve]){const ue=W[Ve],K=ue.total-ue.elapsed;return K>120?"#10b981":K>30?"#f59e0b":"#ef4444"}}if(R&&W[R]){const Ve=W[R],ue=Ve.total-Ve.elapsed;return ue>120?"#10b981":ue>30?"#f59e0b":"#ef4444"}return"#10b981"},Tt=()=>{if(Te?.activeTimer){const Ve=Oe,ue=Ve.total-Ve.elapsed;return ue>120?"#10b981":ue>30?"#f59e0b":"#ef4444"}if(!R||X==="stopped"||X===null)return"#ffffff";const ae=Object.keys(de);if(ae.length>0){const Ve=parseInt(ae[0]);if(W[Ve]){const ue=W[Ve],K=ue.total-ue.elapsed;return K>120?"#10b981":K>30?"#f59e0b":"#ef4444"}}if(R&&W[R]){const Ve=W[R],ue=Ve.total-Ve.elapsed;return ue>120?"#10b981":ue>30?"#f59e0b":"#ef4444"}return"#10b981"},Ht=ae=>{if(isNaN(ae)||ae===void 0||ae===null)return"00:00";const Ve=ae<0,ue=Math.abs(ae),K=Math.floor(ue/3600),C=Math.floor(ue%3600/60),L=ue%60,F=Ve?"-":"";return K>0?`${F}${K.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`:`${F}${C.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`};O.useEffect(()=>{if(c?.id){const ae=localStorage.getItem(`masterStartTime_${c.id}`);ae&&H(ae)}},[c?.id]),O.useEffect(()=>{const ae=setInterval(()=>{const Ve=new Date(Date.now()+be);v(Ve)},1e3);return()=>clearInterval(ae)},[be]),O.useEffect(()=>{if(!c?.id){console.log(" PhotoView: No event ID, skipping 20-second refresh setup");return}console.log(" PhotoView: Setting up lightweight periodic refresh (20 seconds) for event:",c.id);const ae=setInterval(async()=>{console.log(" PhotoView: 20s refresh - ensuring data is current");try{const Ve=await lt.getRunOfShowData(c.id);if(Ve?.schedule_items){console.log(" PhotoView: 20s refresh - reloaded schedule data");const ue=Ve.settings?.masterStartTime||Ve.settings?.dayStartTimes?.["1"]||"09:00";ue!==re&&(console.log(" PhotoView: 20s refresh - updated master start time to:",ue),H(ue));const K=Ve.schedule_items.map(C=>({...C,isPublic:C.isPublic||!1,durationHours:Math.floor((C.duration_seconds||0)/3600),durationMinutes:Math.floor((C.duration_seconds||0)%3600/60),durationSeconds:(C.duration_seconds||0)%60}));console.log(" PhotoView: 20s refresh - updating schedule with",K.length,"items"),console.log(" PhotoView: 20s refresh - first item duration:",K[0]?.durationMinutes,"minutes"),console.log(" PhotoView: 20s refresh - first item raw data:",{duration_seconds:K[0]?.duration_seconds,durationMinutes:K[0]?.durationMinutes,durationHours:K[0]?.durationHours,durationSeconds:K[0]?.durationSeconds}),console.log(" PhotoView: 20s refresh - BEFORE conversion duration_seconds:",Ve.schedule_items[0]?.duration_seconds),console.log(" PhotoView: 20s refresh - first item should use durationMinutes:",K[0]?.durationMinutes,"minutes"),h(K)}}catch(Ve){console.error(" PhotoView: 20s refresh failed:",Ve)}},2e4);return console.log(" PhotoView: 20-second refresh interval created, will start in 20 seconds"),()=>{console.log(" PhotoView: Cleaning up 20-second refresh timer"),clearInterval(ae)}},[c?.id]),O.useEffect(()=>{if(ve||ne)return;const ae=setInterval(()=>{_e(Ve=>Ve<=1?(we(!0),setTimeout(()=>{we(!1),_e(20)},3e3),0):Ve-1)},1e3);return()=>clearInterval(ae)},[ve,ne]),O.useEffect(()=>{if(!c?.id)return;(async()=>{try{console.log(" PhotoView: Loading active timer state on mount...");const Ve=await fetch(`https://ros-50-production.up.railway.app/api/active-timers/${c.id}`);if(Ve.ok){const ue=await Ve.json();console.log(" PhotoView: Loaded active timer on mount:",ue);let K;Array.isArray(ue)?K=ue.length>0?ue[0]:null:ue.value&&Array.isArray(ue.value)?K=ue.value.length>0?ue.value[0]:null:K=ue,console.log(" PhotoView: Processed active timer data:",K),K&&K.item_id?(le(parseInt(K.item_id)),De(K.timer_state),B({[parseInt(K.item_id)]:!0}),Q({activeTimer:K}),ee({[parseInt(K.item_id)]:{elapsed:K.elapsed_seconds||0,total:K.duration_seconds||0,startedAt:K.started_at?new Date(K.started_at):null}}),console.log(" PhotoView: Active timer state loaded on mount")):(le(null),De(null),B({}),Q({activeTimer:null}),ee({}),console.log(" PhotoView: No active timer found on mount"))}}catch(Ve){console.error(" PhotoView: Error loading active timer on mount:",Ve)}})()},[c?.id]),O.useEffect(()=>{if(!c?.id)return;console.log(" Setting up WebSocket connection for PhotoView timer updates");const ae={onServerTime:ue=>{const K=new Date(ue.serverTime).getTime(),C=new Date().getTime(),L=K-C;Ie(L),console.log(" PhotoView: Clock sync:",{serverTime:ue.serverTime,clientTime:new Date().toISOString(),offsetMs:L,offsetSeconds:Math.floor(L/1e3)})},onTimerUpdated:ue=>{if(console.log(" PhotoView: Timer updated via WebSocket",ue),ue&&ue.item_id){Q(C=>({...C,activeTimer:ue}));const K=parseInt(ue.item_id);ee(C=>({...C,[K]:{elapsed:ue.elapsed_seconds||0,total:ue.duration_seconds||0,startedAt:ue.started_at?new Date(ue.started_at):null}})),ue.timer_state==="running"?(De("running"),le(K),B(C=>({...C,[K]:!0}))):ue.timer_state==="loaded"&&(De("loaded"),le(K),B(C=>({...C,[K]:!0})))}},onTimerStopped:ue=>{console.log(" PhotoView: Timer stopped via WebSocket",ue),ue&&ue.item_id&&(Q({activeTimer:null}),le(null),De(null),B(K=>{const C={...K};return delete C[parseInt(ue.item_id)],C}),ee(K=>{const C={...K};return delete C[parseInt(ue.item_id)],C}))},onTimersStopped:ue=>{console.log(" PhotoView: All timers stopped via WebSocket",ue),Q({activeTimer:null}),le(null),De(null),B({}),ee({})},onTimerStarted:ue=>{console.log(" PhotoView: Timer started via WebSocket",ue),ue&&ue.item_id&&(le(parseInt(ue.item_id)),De("running"),B(K=>({...K,[parseInt(ue.item_id)]:!0})),ee(K=>({...K,[parseInt(ue.item_id)]:{elapsed:0,total:ue.duration_seconds||0,startedAt:ue.started_at?new Date(ue.started_at):new Date}})))},onSubCueTimerStarted:ue=>{if(console.log(" PhotoView: Sub-cue timer started via WebSocket",ue),ue&&ue.item_id){const K=parseInt(ue.item_id),C=m.find(L=>L.id===K);U(L=>({...L,[K]:{elapsed:ue.elapsed_seconds||0,total:ue.duration_seconds||60,startedAt:ue.started_at?new Date(ue.started_at):new Date}})),He({itemId:K,duration:ue.duration_seconds||60,remaining:Math.max(0,(ue.duration_seconds||60)-(ue.elapsed_seconds||0)),isActive:!0,startedAt:ue.started_at?new Date(ue.started_at):new Date,timerState:"running",cue:C?.customFields?.cue||`CUE ${ue.item_id}`,segmentName:C?.segmentName||"Segment"})}},onSubCueTimerStopped:ue=>{if(console.log(" PhotoView: Sub-cue timer stopped via WebSocket",ue),ue&&ue.item_id){const K=parseInt(ue.item_id);U(C=>{const L={...C};return delete L[K],L})}He(null)},onActiveTimersUpdated:ue=>{console.log(" PhotoView: Active timers updated via WebSocket",ue),ue&&ue.item_id&&(ue.timer_state==="running"||ue.timer_state==="loaded"?(le(parseInt(ue.item_id)),De(ue.timer_state),B({[parseInt(ue.item_id)]:!0}),ee({[parseInt(ue.item_id)]:{elapsed:ue.elapsed_seconds||0,total:ue.duration_seconds||0,startedAt:ue.started_at?new Date(ue.started_at):null}})):ue.timer_state==="stopped"&&(le(null),De(null),B({}),ee({})))},onRunOfShowDataUpdated:ue=>{if(console.log(" PhotoView: Run of show data updated via WebSocket",ue),ue&&ue.schedule_items){const K=ue.schedule_items.map(L=>({...L,startTime:L.start_time||"09:00",durationHours:Math.floor((L.duration_seconds||0)/3600),durationMinutes:Math.floor((L.duration_seconds||0)%3600/60),durationSeconds:(L.duration_seconds||0)%60}));h(K);const C=K.find(L=>L.isStartCue===!0);C?(vt(C.id),console.log(" PhotoView: START cue marker updated from WebSocket:",C.id)):(vt(null),console.log(" PhotoView: No START cue marker found in WebSocket update")),c?.id&&(async()=>{try{console.log(" PhotoView: Reloading overtime data after schedule update...");const L=await lt.getOvertimeMinutes(c.id),F=await lt.getShowStartOvertime(c.id);if(console.log(" PhotoView: Reloaded overtime data:",{overtimeData:L,showStartOvertimeData:F}),ar(L),F!==null){const z=F.show_start_overtime||F.overtimeMinutes||0;Ze(z),console.log(" PhotoView: Reloaded show start overtime:",z)}}catch(L){console.error(" PhotoView: Failed to reload overtime data:",L)}})()}},onOvertimeUpdate:ue=>{console.log(" PhotoView: Overtime update received via WebSocket",ue),ue&&ue.event_id===c?.id&&ue.item_id&&typeof ue.overtimeMinutes=="number"&&(console.log(` PhotoView: Updating overtime for item ${ue.item_id} to ${ue.overtimeMinutes} minutes`),ar(K=>{const C={...K,[ue.item_id]:ue.overtimeMinutes};return console.log(" PhotoView: Overtime state updated from WebSocket:",C),console.log(" PhotoView: Previous overtime state:",K),console.log(" PhotoView: New overtime state:",C),C}),ue.item_id===it&&(Ze(ue.overtimeMinutes),console.log(` PhotoView: Show start overtime also updated: ${ue.overtimeMinutes} minutes`)))},onShowStartOvertimeUpdate:ue=>{console.log(" PhotoView: Show start overtime update received via WebSocket",ue),ue.event_id===c?.id&&(Ze(ue.showStartOvertime),vt(ue.item_id),console.log(` PhotoView: Show start overtime updated: ${ue.showStartOvertime} minutes`))},onStartCueSelectionUpdate:ue=>{console.log(" PhotoView: Start cue selection update received via WebSocket",ue),ue.event_id===c?.id&&(vt(ue.item_id),console.log(` PhotoView: Start cue selection updated: item ${ue.item_id}`))},onConnectionChange:ue=>{console.log(` PhotoView WebSocket connection ${ue?"established":"lost"} for event: ${c.id}`)},onResetAllStates:ue=>{console.log(" PhotoView: Reset all states triggered via WebSocket",ue),console.log(" PhotoView: About to call resetAllStates function"),br(),console.log(" PhotoView: resetAllStates function called"),c?.id&&setTimeout(async()=>{try{console.log(" PhotoView: Reloading overtime data after reset...");const K=await lt.getOvertimeMinutes(c.id),C=await lt.getShowStartOvertime(c.id);if(console.log(" PhotoView: Reloaded overtime data after reset:",{overtimeData:K,showStartOvertimeData:C}),ar(K),C!==null){const L=C.show_start_overtime||C.overtimeMinutes||0;Ze(L),console.log(" PhotoView: Reloaded show start overtime after reset:",L)}}catch(K){console.error(" PhotoView: Failed to reload overtime data after reset:",K)}},1e3)},onInitialSync:async()=>{console.log(" PhotoView: WebSocket initial sync triggered - loading current state");try{const ue=await fetch(`https://ros-50-production.up.railway.app/api/active-timers/${c?.id}`);if(ue.ok){const K=await ue.json();console.log(" PhotoView initial sync: Loaded active timer:",K);let C;Array.isArray(K)?C=K.length>0?K[0]:null:K.value&&Array.isArray(K.value)?C=K.value.length>0?K.value[0]:null:C=K,console.log(" PhotoView initial sync: Processed active timer data:",C),C&&C.item_id?(le(parseInt(C.item_id)),De(C.timer_state),B({[parseInt(C.item_id)]:!0}),Q({activeTimer:C}),ee({[parseInt(C.item_id)]:{elapsed:C.elapsed_seconds||0,total:C.duration_seconds||0,startedAt:C.started_at?new Date(C.started_at):null}}),console.log(" PhotoView: Initial sync completed - timer state restored")):(le(null),De(null),B({}),ee({}),console.log(" PhotoView: Initial sync completed - no active timer"))}}catch(ue){console.error(" PhotoView: Initial sync failed to load active timer:",ue)}try{const{data:ue,error:K}=await lt.getActiveSubCueTimers(c?.id);if(K){console.error(" PhotoView: Error loading sub-cue timers:",K),He(null);return}if(ue&&ue.length>0){console.log(" PhotoView initial sync: Loaded sub-cue timers:",ue),console.log(" PhotoView: Sub-cue timer data structure:",ue[0]),console.log(" PhotoView: Available fields:",Object.keys(ue[0])),console.log(' PhotoView: Looking for timer_state === "running"'),console.log(" PhotoView: All timer states:",ue.map(L=>({id:L.item_id,state:L.timer_state,is_running:L.is_running})));const C=ue.find(L=>L.timer_state==="running"||L.is_running===!0);if(console.log(" PhotoView: Found running timer:",C),C){const L=parseInt(C.item_id),F=m.find(z=>z.id===L);U(z=>({...z,[L]:{elapsed:C.elapsed_seconds||0,total:C.duration_seconds||60,startedAt:C.started_at?new Date(C.started_at):new Date}})),He({itemId:L,duration:C.duration_seconds||60,remaining:Math.max(0,(C.duration_seconds||60)-(C.elapsed_seconds||0)),isActive:!0,startedAt:C.started_at?new Date(C.started_at):new Date,timerState:"running",cue:F?.customFields?.cue||`CUE ${C.item_id}`,segmentName:F?.segmentName||"Segment"}),console.log(" PhotoView: Initial sync completed - sub-cue timer restored")}else He(null),console.log(" PhotoView: Initial sync completed - no running sub-cue timer")}else He(null),console.log(" PhotoView: Initial sync completed - no active sub-cue timers")}catch(ue){console.error(" PhotoView: Initial sync failed to load sub-cue timers:",ue),He(null)}}};xt.connect(c.id,ae),Yt||(Ft(!0),Sr(!0));const Ve=()=>{document.hidden?(console.log(" PhotoView: Tab hidden - disconnecting WebSocket to save costs"),xt.disconnect(c.id)):xt.isConnected()||(console.log(" PhotoView: Tab visible - silently reconnecting WebSocket (no modal)"),xt.connect(c.id,ae),ae.onInitialSync?.())};return document.addEventListener("visibilitychange",Ve),()=>{console.log(" Cleaning up PhotoView WebSocket connection"),xt.disconnect(c.id),document.removeEventListener("visibilitychange",Ve),Zt&&clearTimeout(Zt)}},[c?.id,m]),O.useEffect(()=>{const ae=Te?.activeTimer;if((ae?.timer_state==="running"||ae?.is_running&&ae?.is_active)&&ae?.started_at){const ue=new Date(ae.started_at),K=ae.duration_seconds||0;console.log(" PhotoView Hybrid timer - Setup with clock offset:",{started_at:ae.started_at,total:K,clockOffsetMs:be,clockOffsetSeconds:Math.floor(be/1e3),timer_state:ae.timer_state});const C=()=>{const F=new Date(Date.now()+be),z=Math.floor((F.getTime()-ue.getTime())/1e3);me({elapsed:z,total:K})};C();const L=setInterval(C,1e3);return()=>clearInterval(L)}else ae&&ae.timer_state!=="running"&&!ae.is_running?me({elapsed:0,total:ae.duration_seconds||0}):ae||me({elapsed:0,total:0})},[Te?.activeTimer?.timer_state,Te?.activeTimer?.is_running,Te?.activeTimer?.is_active,Te?.activeTimer?.started_at,Te?.activeTimer?.duration_seconds,Te?.activeTimer,be]),O.useEffect(()=>{const ae=Object.keys(Y);if(ae.length===0)return;const Ve=[];return ae.forEach(ue=>{const K=parseInt(ue),C=Y[K];if(C&&C.startedAt){const L=setInterval(()=>{U(F=>{if(F[K]&&F[K].startedAt){const z=F[K].startedAt,A=new Date(Date.now()+be),te=Math.floor((A.getTime()-z.getTime())/1e3);return{...F,[K]:{...F[K],elapsed:te}}}return F}),He(F=>{if(F&&F.itemId===K){const z=Y[K];if(z){const A=Math.max(0,z.total-z.elapsed);return{...F,remaining:A}}}return F})},100);Ve.push(L)}}),()=>{Ve.forEach(ue=>clearInterval(ue))}},[Y,be]),O.useEffect(()=>()=>{console.log(" PhotoView: Cleaning up on component unmount")},[]);const ur=async()=>{if(c?.id)try{console.log(" PhotoView: Loading indented cues from API for event:",c.id);const ae=await lt.getIndentedCues(c.id);if(ae&&ae.length>0){console.log(" PhotoView: Found indented cues:",ae);const Ve={};ae.forEach(ue=>{ue.item_id&&ue.parent_item_id&&(Ve[ue.item_id]={parentId:ue.parent_item_id,userId:ue.user_id||"",userName:ue.user_name||""})}),j(Ve),console.log(" PhotoView: Set indentedCues state:",Ve)}else console.log(" PhotoView: No indented cues found"),j({})}catch(ae){console.error(" PhotoView: Error loading indented cues from API:",ae)}};O.useEffect(()=>{c?.id&&ur()},[c?.id]),O.useEffect(()=>{if(!Fe)return;const ae=setInterval(()=>{He(Ve=>{if(!Ve)return null;const ue=Ve.startedAt?.getTime()||Date.now(),K=Date.now()+be,C=Math.floor((K-ue)/1e3),L=Math.max(0,Ve.duration-C);return{...Ve,remaining:L}})},1e3);return()=>clearInterval(ae)},[Fe]),O.useEffect(()=>{(async()=>{if(console.log("=== PHOTO VIEW PAGE INITIALIZATION ==="),!c?.id&&!t){Z("No event selected"),w(!1);return}try{if(c?.id||t){console.log(" Loading from API for event:",c?.id||t);const ue=await lt.getRunOfShowData(c?.id||t);if(ue?.schedule_items){console.log(" Loaded from API:",ue),ue.settings?.timezone?(E(ue.settings.timezone),console.log(" PhotoView: Loaded timezone from settings:",ue.settings.timezone)):console.log(" PhotoView: No timezone found in settings, using default:",b);const K=ue.settings?.masterStartTime||ue.settings?.dayStartTimes?.["1"]||"09:00";console.log(" PhotoView: Master start time from database:",K),H(K);const C=ue.schedule_items.map(L=>({...L,isPublic:L.isPublic||!1,durationHours:Math.floor((L.duration_seconds||0)/3600),durationMinutes:Math.floor((L.duration_seconds||0)%3600/60),durationSeconds:(L.duration_seconds||0)%60}));console.log(" PhotoView: First item duration from API:",C[0]?.durationMinutes,"minutes"),h(C);try{console.log(" PhotoView: Loading overtime data...");const L=await lt.getOvertimeMinutes(c?.id||t),F=await lt.getShowStartOvertime(c?.id||t);if(console.log(" PhotoView: Loaded overtime data:",{overtimeData:L,showStartOvertimeData:F}),ar(L),console.log(" PhotoView: Set overtime minutes to:",L),F!==null){const A=F.show_start_overtime||F.overtimeMinutes||0;Ze(A),console.log(" PhotoView: Set show start overtime to:",A)}ue.settings?.dayStartTimes&&Ut(ue.settings.dayStartTimes);const z=C.find(A=>A.isStartCue===!0);z?(vt(z.id),console.log(" PhotoView: START cue marker found in schedule:",z.id)):(vt(null),console.log(" PhotoView: No START cue marker found in schedule"))}catch(L){console.error(" PhotoView: Failed to load overtime data:",L)}w(!1);return}}console.log(" Falling back to localStorage...");let Ve=null;if(c?.id||t){const ue=`runOfShowSchedule_${c?.id||t}`;Ve=localStorage.getItem(ue)}if(!Ve){const K=Object.keys(localStorage).filter(C=>C.startsWith("runOfShowSchedule_"));if(K.length>0){const C=K[K.length-1];Ve=localStorage.getItem(C)}}if(Ve){const ue=JSON.parse(Ve);console.log(" Loaded from localStorage:",ue),console.log(" First item duration from localStorage:",ue[0]?.durationMinutes,"minutes"),h(ue)}else console.log(" No schedule data found, creating sample data for testing"),console.log(" This should not happen if API data was loaded successfully"),h([{id:1,day:1,programType:"PreShow/End",shotType:"Wide",segmentName:"Welcome & Opening",durationHours:0,durationMinutes:5,durationSeconds:0,notes:"Welcome everyone to the event",assets:"",speakers:"",speakersText:"",hasPPT:!0,hasQA:!1,timerId:"",customFields:{cue:"CUE1"},isPublic:!0},{id:2,day:1,programType:"Podium Transition",shotType:"Medium",segmentName:"Keynote Speaker",durationHours:0,durationMinutes:15,durationSeconds:0,notes:"Main keynote presentation",assets:"",speakers:"",speakersText:"",hasPPT:!0,hasQA:!0,timerId:"",customFields:{cue:"CUE2"},isPublic:!0},{id:3,day:1,programType:"Panel Transition",shotType:"Two Shot",segmentName:"Panel Discussion",durationHours:0,durationMinutes:30,durationSeconds:0,notes:"Interactive panel discussion",assets:"",speakers:"",speakersText:"",hasPPT:!1,hasQA:!0,timerId:"",customFields:{cue:"CUE3"},isPublic:!0}]),console.log(" Using sample data for testing")}catch(Ve){console.error(" Error loading schedule:",Ve),Z("Failed to load schedule data")}finally{w(!1)}})()},[c?.id,t]);const Gt=(()=>{if(m.length===0)return[];const ae=R?m.findIndex(K=>String(K.id)===String(R)):-1;if(ae===-1)return m.slice(0,3);const Ve=Math.min(ae+3,m.length);return m.slice(ae,Ve)})(),mr={"Podium Transition":"#8B4513","Panel Transition":"#404040","Sub Cue":"#F3F4F6","No Transition":"#059669",Video:"#F59E0B","Panel+Remote":"#1E40AF","Remote Only":"#60A5FA",Break:"#EC4899",TBD:"#6B7280",KILLED:"#DC2626",Podium:"#8B4513",Panel:"#404040","PreShow/End":"#8B5CF6"};if(k)return a.jsxDEV("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:a.jsxDEV("div",{className:"text-white text-xl",children:"Loading PhotoView..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1708,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1707,columnNumber:7},void 0);if(J)return a.jsxDEV("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:a.jsxDEV("div",{className:"text-red-400 text-xl",children:J},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1716,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1715,columnNumber:7},void 0);const ir=(ae,Ve)=>{const ue=ae*60+Ve;if(ue===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}Zt&&clearTimeout(Zt);const K=ue*60*1e3,C=setTimeout(()=>{let F="";ae>0&&(F+=`${ae}h `),Ve>0&&(F+=`${Ve}m`),console.log(` PhotoViewPage: Auto-disconnect timer expired (${F.trim()})`),console.log(" PhotoViewPage: Showing disconnect notification..."),Or(F.trim()),cr(!0),console.log(" PhotoViewPage: Notification state set to true"),setTimeout(()=>{c?.id&&(xt.disconnect(c.id),console.log(" PhotoViewPage: WebSocket disconnected"))},100)},K);xr(C),Ft(!1);let L="";ae>0&&(L+=`${ae}h `),Ve>0&&(L+=`${Ve}m`),console.log(` PhotoViewPage: Disconnect timer set to ${L.trim()}`)},pr=()=>{Zt&&clearTimeout(Zt),xr(null),Ft(!1),console.log(" PhotoViewPage: Disconnect timer set to Never")},or=()=>{cr(!1),c?.id&&Ft(!0)};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"min-h-screen bg-slate-900 text-white p-6",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("div",{className:"flex justify-between items-start mb-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-2xl font-bold",children:c?.name||"Current Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1787,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-sm text-gray-300 mt-1",children:g.toLocaleTimeString()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1788,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>Ce(!he),className:`mt-2 px-2 py-1 text-xs rounded border transition-colors ${he?"bg-blue-600 border-blue-500 text-white":"bg-slate-700 border-slate-600 text-gray-300 hover:bg-slate-600"}`,children:he?"Hide Notes":"Show Notes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1792,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1786,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center space-x-6",children:[a.jsxDEV("div",{className:"text-center",children:X==="running"&&R?a.jsxDEV("div",{className:"text-lg text-green-400 font-bold",children:["RUNNING - ",Jt(m.find(ae=>ae.id===R)?.customFields?.cue),Fe&&Fe.isActive&&a.jsxDEV("div",{className:"text-lg text-orange-400 mt-0.5 font-bold",children:[Jt(Fe.cue)," - ",Ht(Fe.remaining)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1810,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1807,columnNumber:17},void 0):X==="loaded"&&R?a.jsxDEV("div",{className:"text-lg text-yellow-400 font-bold",children:["LOADED - ",Jt(m.find(ae=>ae.id===R)?.customFields?.cue)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1816,columnNumber:17},void 0):a.jsxDEV("div",{className:"text-lg text-slate-300 font-bold",children:"NO CUE SELECTED"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1820,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1805,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative",children:a.jsxDEV("div",{className:"text-3xl font-mono bg-slate-800 px-6 py-3 rounded-lg border border-slate-600",style:{color:Tt()},children:Ge(qe())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1829,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1828,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1803,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1785,columnNumber:7},void 0),R&&W[R]&&a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${bt()}%`,background:Dt()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1840,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1839,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1784,columnNumber:5},void 0),a.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[a.jsxDEV("div",{className:"bg-slate-700 border border-slate-600",children:a.jsxDEV("div",{className:"grid grid-cols-11 gap-0",children:[a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1856,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1859,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-2 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SEGMENT INFO"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1862,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1865,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 2"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1868,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 3"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1871,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 4"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1874,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 5"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1877,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 6"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1880,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 7"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1883,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1855,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1854,columnNumber:9},void 0),Gt.length===0?a.jsxDEV("div",{className:"text-center text-gray-400 text-xl py-12 bg-slate-800 border border-slate-600 border-t-0",children:"No schedule items available"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1891,columnNumber:11},void 0):Gt.map((ae,Ve)=>{const ue=String(R)===String(ae.id);_[ae.id];const K=X==="running"&&ue,C=Ee[ae.id]||!1;let L=!1;if(C){const ye=Ee[ae.id].parentId,pe=_[ye]||!1,Se=de[ye]||!1;L=pe||Se}const F=m.findIndex(ye=>ye.id===ae.id),z=T(F);Ve===0&&console.log(" PhotoView: Calculating start time for first item:",{itemId:ae.id,itemIndex:F,startTime:z,overtimeMinutes:at[ae.id]||0,showStartOvertime:Vt,startCueId:it});const A=`${ae.durationHours.toString().padStart(2,"0")}:${ae.durationMinutes.toString().padStart(2,"0")}:${ae.durationSeconds.toString().padStart(2,"0")}`,te=[];ae.hasPPT&&te.push("PPT"),ae.hasQA&&te.push("Q&A");const Ne=te.length>0?te.join("/"):"None";let Pe="";return L?Pe="border-4 border-orange-400":ue?Pe=K?"border-4 border-green-400":"border-4 border-blue-400":Pe="border border-slate-600",a.jsxDEV("div",{className:Pe,style:{textDecoration:ae.programType==="KILLED"?"line-through":"none",textDecorationThickness:ae.programType==="KILLED"?"4px":"auto",textDecorationColor:ae.programType==="KILLED"?"#DC2626":"auto",color:ae.programType==="KILLED"?"#9CA3AF":"inherit",opacity:ae.programType==="KILLED"?.7:1},children:[a.jsxDEV("div",{className:`grid grid-cols-11 gap-0 ${L?"bg-amber-950":ue?K?"bg-green-950":"bg-blue-950":"bg-slate-900"}`,style:{minHeight:"200px"},children:[a.jsxDEV("div",{className:"col-span-1 border-r border-slate-600 p-3 flex flex-col justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:`text-lg font-bold mb-3 ${ae.programType==="KILLED"?"text-gray-400":"text-white"}`,children:ae.customFields?.cue||`CUE ${F+1}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1968,columnNumber:23},void 0),a.jsxDEV("div",{className:"inline-block px-2 py-1 rounded text-xs font-medium text-white border shadow-lg",style:{backgroundColor:mr[ae.programType]||"#6B7280",color:ae.programType==="Sub Cue"||ae.programType==="KILLED"?"black":"white",borderColor:ae.programType==="Sub Cue"?"black":"transparent",textDecoration:ae.programType==="KILLED"?"line-through":"none"},children:ae.programType||"Unknown"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1971,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1967,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1966,columnNumber:19},void 0),a.jsxDEV("div",{className:"col-span-1 border-r border-slate-600 p-3 flex flex-col justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"mb-4",children:[a.jsxDEV("div",{className:"text-gray-400 text-xs mb-1",children:"START TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1989,columnNumber:25},void 0),a.jsxDEV("div",{className:`text-lg font-bold ${ae.programType==="KILLED"?"text-gray-400":"text-white"}`,children:Ee[ae.id]?"":z||"No Time"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1990,columnNumber:25},void 0),!Ee[ae.id]&&(at[ae.id]||ae.id===it&&Vt!==0||y(F)!==T(F))&&a.jsxDEV("div",{className:`text-xs font-bold px-2 py-1 rounded mt-1 ${(()=>{if(ae.id===it)return Vt>0?"text-red-400 bg-red-900/30":"text-green-400 bg-green-900/30";let ye=0;for(let pe=0;pe<m.findIndex(Se=>Se.id===ae.id);pe++){const Se=m[pe],je=Se.day||1,Qe=ae.day||1;je===Qe&&!Ee[Se.id]&&(ye+=at[Se.id]||0)}if(Vt!==0&&it!==null){const pe=m.findIndex(je=>je.id===it),Se=m.findIndex(je=>je.id===ae.id);pe!==-1&&Se>pe&&(ye+=Vt)}return ye>0?"text-red-400 bg-red-900/30":"text-green-400 bg-green-900/30"})()}`,title:"Time adjusted due to overtime",children:(()=>{if(ae.id===it){const pe=Vt||0;if(pe>0){const Se=Math.floor(pe/60),je=pe%60;return`+${Se>0?`${Se}h ${je}m`:`${je}m`} late`}else if(pe<0){const Se=Math.floor(Math.abs(pe)/60),je=Math.abs(pe)%60;return`-${Se>0?`${Se}h ${je}m`:`${je}m`} early`}return"On time"}let ye=0;for(let pe=0;pe<m.findIndex(Se=>Se.id===ae.id);pe++){const Se=m[pe],je=Se.day||1,Qe=ae.day||1;je===Qe&&!Ee[Se.id]&&(ye+=at[Se.id]||0)}if(Vt!==0&&it!==null){const pe=m.findIndex(je=>je.id===it),Se=m.findIndex(je=>je.id===ae.id);pe!==-1&&Se>pe&&(ye+=Vt)}if(ye>0){const pe=Math.floor(ye/60),Se=ye%60;return`+${pe>0?`${pe}h ${Se}m`:`${Se}m`}`}else if(ye<0){const pe=Math.floor(Math.abs(ye)/60),Se=Math.abs(ye)%60;return`-${pe>0?`${pe}h ${Se}m`:`${Se}m`}`}return"0m"})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1995,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1988,columnNumber:23},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-gray-400 text-xs mb-1",children:"DURATION"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2077,columnNumber:25},void 0),a.jsxDEV("div",{className:`text-base font-bold ${ae.programType==="KILLED"?"text-gray-400":"text-white"}`,children:A},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2078,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2076,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1987,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1986,columnNumber:19},void 0),a.jsxDEV("div",{className:"col-span-2 border-r border-slate-600 p-3 flex flex-col justify-center",children:a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-gray-400 text-xs mb-1",children:"SEGMENT NAME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2087,columnNumber:25},void 0),a.jsxDEV("div",{className:`text-lg font-bold ${ae.programType==="KILLED"?"text-gray-400":"text-white"}`,children:ae.segmentName||"Untitled Segment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2088,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2086,columnNumber:23},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-gray-400 text-xs mb-1",children:"SHOT TYPE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2091,columnNumber:25},void 0),a.jsxDEV("div",{className:`text-sm font-bold ${ae.programType==="KILLED"?"text-gray-400":"text-white"}`,children:ae.shotType||"Not specified"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2092,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2090,columnNumber:23},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-gray-400 text-xs mb-1",children:"PPT/Q&A"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2095,columnNumber:25},void 0),a.jsxDEV("div",{className:`text-sm font-bold ${ae.programType==="KILLED"?"text-gray-400":"text-white"}`,children:Ne},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2096,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2094,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2085,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2084,columnNumber:19},void 0),[1,2,3,4,5,6,7].map(ye=>{let pe=null;if(ae.speakersText)try{const Se=JSON.parse(ae.speakersText);Array.isArray(Se)&&(pe=Se.find(je=>je.slot===ye))}catch(Se){console.log("Error parsing speakers:",Se)}return a.jsxDEV("div",{className:`col-span-1 ${ye<7?"border-r border-slate-600":""} p-3 flex flex-col justify-center`,children:pe?a.jsxDEV("div",{className:"text-center h-full flex flex-col justify-center",children:[pe.photoLink&&a.jsxDEV("div",{className:"mb-3 flex justify-center",children:a.jsxDEV("img",{src:pe.photoLink,alt:pe.fullName,className:"w-24 h-32 rounded-lg object-cover border-2 border-slate-400 shadow-lg",style:{objectFit:"cover",objectPosition:"center top"},onError:Se=>{Se.currentTarget.style.display="none"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2123,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2122,columnNumber:31},void 0),(()=>{const Se=rt(pe.fullName||"Unnamed");return a.jsxDEV("div",{className:`font-bold ${ae.programType==="KILLED"?"text-gray-400":"text-white"} mb-2 leading-tight ${Se.needsSmallText?"text-sm":"text-base"}`,dangerouslySetInnerHTML:{__html:Se.html}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2141,columnNumber:33},void 0)})(),(pe.title||pe.org)&&a.jsxDEV("div",{className:"text-xs text-gray-300 mb-1 leading-tight",children:(()=>{const Se=pe.title||"",je=pe.org||"",Qe=Se&&je?`${Se}, ${je}`:Se||je;return Nr(Qe,20)})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2151,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-xs text-gray-300 font-medium bg-slate-700 px-2 py-1 rounded",children:pe.location==="Podium"?"Podium":pe.location==="Seat"?"Seat":pe.location==="Virtual"?"Virtual":pe.location==="Moderator"?"Moderator":pe.location||"Unknown"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2161,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2119,columnNumber:27},void 0):a.jsxDEV("div",{className:"text-center text-xs text-gray-500 h-full flex items-center justify-center",children:a.jsxDEV("div",{className:"text-gray-600",children:"Empty"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2172,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2170,columnNumber:27},void 0)},ye,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2117,columnNumber:23},void 0)})]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1958,columnNumber:25},void 0),he&&(()=>{const ye=ae.notes?ae.notes.replace(/<[^>]*>/g,"").trim():"";return ye&&ye.length>0&&ye!=="None"&&ye!=="null"&&ye!=="undefined"})()&&a.jsxDEV("div",{className:`border-t border-slate-600 p-4 ${C?"bg-amber-950":ue?K?"bg-green-950":"bg-blue-950":"bg-slate-800"}`,children:[a.jsxDEV("div",{className:"text-gray-400 text-sm mb-2 font-bold",children:"NOTES:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2207,columnNumber:29},void 0),a.jsxDEV("div",{className:`text-sm ${ae.programType==="KILLED"?"text-gray-400":"text-white"} break-words leading-relaxed`,style:{whiteSpace:"pre-line"},dangerouslySetInnerHTML:{__html:ae.notes.replace(/\n/g,"<br>").replace(/\r\n/g,"<br>").replace(/\r/g,"<br>").replace(/<(?!\/?(?:br|b|strong|i|em|u|font|span|div|p|h[1-6])\b)[^>]*>/g,"")}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2208,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2202,columnNumber:27},void 0),Ve<Gt.length-1&&a.jsxDEV("div",{className:"border-t-2 border-slate-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2224,columnNumber:19},void 0)]},ae.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1946,columnNumber:15},void 0)})]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1852,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1782,columnNumber:5},void 0),ze&&a.jsxDEV(e$,{onConfirm:ir,onNever:pr},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2234,columnNumber:29},void 0),Qt&&a.jsxDEV(t$,{duration:nr,onReconnect:or},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2237,columnNumber:36},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1781,columnNumber:5},void 0)},e$=({onConfirm:e,onNever:s})=>{const[t,i]=O.useState(2),[o,u]=O.useState(0),c=[0,5,10,15,20,25,30],m=qr.useRef(null),h=qr.useRef(null);qr.useEffect(()=>{m.current&&(m.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const g=()=>{if(!m.current)return;const b=Math.round(m.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2272,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2273,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2277,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2279,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2280,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2281,columnNumber:15},void 0),a.jsxDEV("div",{ref:m,onScroll:g,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,E)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===E?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:E},E,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2284,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2282,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2278,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2276,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2290,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2293,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2295,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2296,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2297,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2300,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2298,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2294,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2292,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2275,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2308,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2309,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2307,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2312,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2271,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2270,columnNumber:5},void 0)},t$=({duration:e,onReconnect:s})=>(qr.useEffect(()=>(console.log(" PhotoView DisconnectNotification mounted:",e),()=>console.log(" PhotoView DisconnectNotification unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2326,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2329,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2331,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2332,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2330,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2334,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2328,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2327,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:2325,columnNumber:5},void 0)),gi={GENERAL:{label:"General",color:"text-slate-300",bgColor:"bg-slate-600",icon:""},CUE:{label:"Cue",color:"text-yellow-300",bgColor:"bg-yellow-600",icon:""},AUDIO:{label:"Audio",color:"text-green-300",bgColor:"bg-green-600",icon:""},GFX:{label:"GFX",color:"text-purple-300",bgColor:"bg-purple-600",icon:""},VIDEO:{label:"Video",color:"text-red-300",bgColor:"bg-red-600",icon:""},LIGHTING:{label:"Lighting",color:"text-orange-300",bgColor:"bg-orange-600",icon:""}},r$=()=>{const[e]=Ao(),s=Ki(),t=sn(),{user:i}=Lo(),o=e.get("eventId"),u=e.get("eventName"),c=t.state?.scriptText||"",m=t.state?.comments||[],h=t.state?.scriptId||null,g=t.state?.scriptName||"",[v,b]=O.useState(c),[E,k]=O.useState(m),[w,y]=O.useState("VIEWER"),[T,J]=O.useState(0),[Z,R]=O.useState(!1),[le,W]=O.useState(!1),[ee,X]=O.useState(""),[De,_]=O.useState([]),B=O.useRef(null),re=O.useRef(null),H=O.useRef(""),[oe,_e]=O.useState(null),[ne,we]=O.useState(""),ve=i?.displayName||i?.primaryEmail||"User",[Me,be]=O.useState(14),[Ie,Te]=O.useState(0),[Q,Oe]=O.useState({start:0,end:20}),[me,se]=O.useState(!1),[ie,Y]=O.useState(null),[U,de]=O.useState(""),[I,Ee]=O.useState(!1),[j,he]=O.useState(h),[Ce,Fe]=O.useState(g),[He,ze]=O.useState([]),[Ft,Qt]=O.useState(!1),[cr,nr]=O.useState(!1),[Or,Zt]=O.useState("GENERAL"),[xr,Yt]=O.useState(!1),[Sr,at]=O.useState(!1),[ar,Vt]=O.useState(""),[Ze,it]=O.useState(null),[vt,Rt]=O.useState(!1),Ut=O.useRef(null),br=O.useRef(null),Jt=O.useRef(0),Nr=(A,te)=>{const Ne=A*60+te;if(Ne===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}Yt(!1),Ze&&clearTimeout(Ze);const Pe=setTimeout(()=>{console.log(" Scripts Follow: Auto-disconnecting after timer"),xt.disconnect(o),Ee(!1),at(!0)},Ne*60*1e3);it(Pe);let ye="";A>0&&(ye+=`${A}h `),te>0&&(ye+=`${te}m`),console.log(` Scripts Follow: Disconnect timer set to ${ye.trim()}`)},rt=()=>{Ze&&clearTimeout(Ze),it(null),Yt(!1),console.log(" Scripts Follow: Disconnect timer set to Never")},Ge=()=>{at(!1),console.log(" Scripts Follow: Reconnecting..."),xt.connect(o,{})};O.useEffect(()=>{if(!o){console.error("No event ID provided");return}(async()=>{try{console.log("Loading script data for event:",o)}catch(te){console.error("Error loading script data:",te)}})()},[o]),O.useEffect(()=>{o&&!vt&&(Yt(!0),Rt(!0))},[o,vt]),O.useEffect(()=>{Ut.current&&setTimeout(()=>{if(!Ut.current)return;const A=Ut.current.scrollTop,te=Ut.current.clientHeight,Ne=Ut.current.querySelectorAll("[data-line-number]");if(Ne.length>0){let Pe=0;const ye=Math.min(5,Ne.length);for(let et=0;et<ye;et++)Pe+=Ne[et].offsetHeight;const pe=Pe/ye,Se=Math.max(0,Math.floor(A/pe)),je=Math.ceil(te/pe),Qe=Se+je;Te(Se),Oe({start:Se,end:Qe})}},50)},[Me]),O.useEffect(()=>{if(!o)return;console.log(" Setting up WebSocket for Scripts Follow, role:",w),xt.connect(o,{});const A=xt.getSocket();if(!A){console.error(" Socket not available");return}const te=()=>{console.log(" Scripts Follow WebSocket connected"),Ee(!0)},Ne=()=>{console.log(" Scripts Follow WebSocket disconnected"),Ee(!1)};if(A.on("connect",te),A.on("disconnect",Ne),Ee(A.connected),A.off("scriptScrollSync"),w==="VIEWER"){console.log(" Viewer: Setting up scroll sync listener");const pe=Se=>{if(console.log(" ===== SCROLL SYNC RECEIVED ====="),console.log(" Data:",Se),console.log(" Current eventId:",o),console.log(" scriptRef exists:",!!Ut.current),console.log(" Current userRole:",w),Se.eventId&&Se.eventId!==o){console.log("  SKIPPING - Different event:",Se.eventId,"vs",o);return}console.log("  Event ID matches - processing scroll sync"),J(Se.scrollPosition),Se.fontSize&&Se.fontSize!==Me&&(console.log(` Syncing font size from ${Me}px to ${Se.fontSize}px`),be(Se.fontSize)),Ut.current?(console.log(" Scrolling to position:",Se.scrollPosition),console.log(" Current scroll position:",Ut.current.scrollTop),setTimeout(()=>{if(!Ut.current){console.log("  scriptRef lost after timeout");return}Ut.current.scrollTop=Se.scrollPosition,console.log("  Scroll applied - new position:",Ut.current.scrollTop),setTimeout(()=>{if(!Ut.current)return;const je=Ut.current.clientHeight,Qe=Ut.current.querySelectorAll("[data-line-number]");if(Qe.length>0){let et=0;const ct=Math.min(5,Qe.length);for(let zr=0;zr<ct;zr++)et+=Qe[zr].offsetHeight;const dt=et/ct,mt=Math.max(0,Math.floor(Se.scrollPosition/dt)),Nt=Math.ceil(je/dt),hr=mt+Nt;Te(mt),Oe({start:mt,end:hr}),console.log(" Updated visible range:",{start:mt,end:hr})}},50)},Se.fontSize!==Me?100:0)):console.log("  scriptRef is null - cannot scroll")};A.on("scriptScrollSync",pe),console.log(" Viewer: Scroll sync listener attached")}else console.log(" Scroller: No listener needed (broadcasting mode)");const Pe=pe=>{switch(console.log(" Received comment sync:",pe.action,pe.commentId||pe.comment?.id),pe.action){case"add":if(pe.comment){const Se={...pe.comment,timestamp:typeof pe.comment.timestamp=="string"?new Date(pe.comment.timestamp):pe.comment.timestamp};k(je=>je.some(Qe=>Qe.id===Se.id)?(console.log(" Comment already exists, skipping:",Se.id),je):(console.log(" Adding comment:",Se.id),[...je,Se]))}break;case"edit":if(pe.comment){const Se={...pe.comment,timestamp:typeof pe.comment.timestamp=="string"?new Date(pe.comment.timestamp):pe.comment.timestamp};k(je=>je.map(Qe=>Qe.id===Se.id?Se:Qe))}break;case"delete":pe.commentId&&k(Se=>Se.filter(je=>je.id!==pe.commentId));break}};A.on("scriptCommentSync",Pe),console.log(" Comment sync listener attached");const ye=()=>{if(document.hidden)console.log(" Scripts Follow: Tab hidden - disconnecting WebSocket to save costs"),xt.disconnect(o);else if(!xt.isConnected()){console.log(" Scripts Follow: Tab visible - silently reconnecting WebSocket (no modal)"),xt.connect(o,{});const pe=xt.getSocket();pe&&(pe.on("connect",te),pe.on("disconnect",Ne),Ee(pe.connected))}};return document.addEventListener("visibilitychange",ye),()=>{console.log(" Cleaning up Scripts Follow WebSocket");const pe=xt.getSocket();pe&&(pe.off("scriptScrollSync"),pe.off("scriptCommentSync"),pe.off("connect",te),pe.off("disconnect",Ne),console.log(" Removed Scripts Follow socket listeners")),document.removeEventListener("visibilitychange",ye)}},[o,w]);const qe=()=>{if(!Ut.current)return;const A=Ut.current.scrollTop,te=Ut.current.clientHeight,Ne=Ut.current.querySelectorAll("[data-line-number]");if(Ne.length>0){let Pe=0;const ye=Math.min(5,Ne.length);for(let et=0;et<ye;et++)Pe+=Ne[et].offsetHeight;const pe=Pe/ye,Se=Math.max(0,Math.floor(A/pe)),je=Math.ceil(te/pe),Qe=Se+je;Te(Se),Oe({start:Se,end:Qe})}else{const Pe=Me*2,ye=Math.max(0,Math.floor(A/Pe)),pe=Math.ceil(te/Pe),Se=ye+pe;Te(ye),Oe({start:ye,end:Se})}if(w==="SCROLLER"&&(J(A),o)){const Pe=Date.now();if(Pe-Jt.current>=100){const pe=Math.max(0,Math.floor(A/(Me*2)));xt.emitScriptScroll(A,pe,Me),Jt.current=Pe,console.log(" Broadcasting scroll position:",A,"line:",pe,"fontSize:",Me)}}},bt=async A=>{const te=A.target.files?.[0];if(te){R(!0);try{const Ne=await te.text();b(Ne),console.log(" Script imported successfully"),o&&console.log(" Saving script to database...")}catch(Ne){console.error(" Error importing script:",Ne)}finally{R(!1)}}},Dt=()=>{if(!ne.trim()||oe===null)return;const A={id:Date.now().toString(),lineNumber:oe,text:ne.trim(),author:ve,timestamp:new Date,type:Or};k(te=>[...te,A]),we(""),_e(null),o&&(console.log(" Broadcasting new comment"),xt.emitScriptComment("add",A)),o&&console.log(" Saving comment to database...")},Tt=A=>E.filter(te=>te.lineNumber===A),Ht=()=>{if(me)return E.sort((te,Ne)=>te.lineNumber-Ne.lineNumber);const A=1;return E.filter(te=>te.lineNumber>=Math.max(0,Q.start-A)&&te.lineNumber<=Q.end+A).sort((te,Ne)=>te.lineNumber-Ne.lineNumber)},ur=A=>{Y(A.id),de(A.text)},Kt=A=>{if(U.trim()){const te=E.find(Ne=>Ne.id===A);if(te){const Ne={...te,text:U.trim()};k(E.map(Pe=>Pe.id===A?Ne:Pe)),o&&(console.log(" Broadcasting comment edit"),xt.emitScriptComment("edit",Ne,A))}}Y(null),de("")},Gt=()=>{Y(null),de("")},mr=A=>{k(E.filter(te=>te.id!==A)),o&&(console.log(" Broadcasting comment delete"),xt.emitScriptComment("delete",void 0,A))},ir=()=>{X(v),H.current=v,_(E),W(!0)},pr=(A,te,Ne=E)=>{const Pe=A.split(`
`),ye=te.split(`
`);if(A===te)return Ne;const pe=new Map;for(let je=0;je<Pe.length;je++){const Qe=Pe[je].trim();if(Qe){for(let et=0;et<ye.length;et++)if(ye[et].trim()===Qe&&!pe.has(je)){pe.set(je,et);break}}}const Se=Ne.map(je=>{const Qe=je.lineNumber;if(pe.has(Qe))return{...je,lineNumber:pe.get(Qe)};let et=-1,ct=-1;for(let Nt=Qe-1;Nt>=0;Nt--)if(pe.has(Nt)){et=Nt,ct=pe.get(Nt);break}let dt=Pe.length,mt=ye.length;for(let Nt=Qe+1;Nt<Pe.length;Nt++)if(pe.has(Nt)){dt=Nt,mt=pe.get(Nt);break}if(et>=0&&dt<Pe.length){const Nt=Qe-et,hr=ct+Nt;return{...je,lineNumber:Math.min(hr,ye.length-1)}}else if(et>=0){const Nt=Qe-et,hr=ct+Nt;return{...je,lineNumber:Math.min(hr,ye.length-1)}}else if(dt<Pe.length){const Nt=dt-Qe,hr=Math.max(0,mt-Nt);return{...je,lineNumber:hr}}return je});return console.log(" Adjusted comment line numbers:",{oldCount:Ne.length,newCount:Se.length,changes:Se.filter((je,Qe)=>je.lineNumber!==Ne[Qe].lineNumber).length}),Se},or=async()=>{const A=pr(v,ee);if(k(A),b(ee),W(!1),j)try{if((await fetch(`https://ros-50-production.up.railway.app/api/scripts/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({script_text:ee,script_name:Ce})})).ok){console.log(" Script updated in database");for(const Ne of A){const Pe=E.find(ye=>ye.id===Ne.id);Pe&&Pe.lineNumber!==Ne.lineNumber&&await fetch(`https://ros-50-production.up.railway.app/api/script-comments/${Ne.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_number:Ne.lineNumber,comment_text:Ne.text,comment_type:Ne.type})})}console.log(" Comment line numbers updated in database")}else throw new Error("Failed to update script")}catch(te){console.error(" Error saving script:",te),alert("Failed to save script changes")}},ae=()=>{X(""),W(!1)},Ve=A=>{X(A);const te=pr(H.current,A);_(te)},ue=A=>{B.current&&(B.current.scrollTop=A.currentTarget.scrollTop)},K=async()=>{try{const te=await(await fetch("https://ros-50-production.up.railway.app/api/scripts")).json();ze(te)}catch(A){console.error("Error loading saved scripts:",A)}},C=async()=>{if(!v.trim()){alert("No script to save!");return}const A=prompt("Enter a name for this script:",Ce||"Untitled Script");if(A){nr(!0);try{const te=j?`https://ros-50-production.up.railway.app/api/scripts/${j}`:"https://ros-50-production.up.railway.app/api/scripts",ye=await(await fetch(te,{method:j?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({script_name:A,script_text:v,created_by:ve})})).json();he(ye.id),Fe(ye.script_name),console.log(" Saving comments for script:",ye.id,"- Total comments:",E.length),await fetch(`https://ros-50-production.up.railway.app/api/script-comments/script/${ye.id}`,{method:"DELETE"}),console.log(" Deleted existing comments");for(const pe of E)await fetch("https://ros-50-production.up.railway.app/api/script-comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({script_id:ye.id,line_number:pe.lineNumber,comment_text:pe.text,comment_type:pe.type,author:pe.author})});console.log(" Saved",E.length,"comments"),alert(`Script "${A}" saved successfully!`),K()}catch(te){console.error("Error saving script:",te),alert("Failed to save script")}finally{nr(!1)}}},L=async A=>{try{const Ne=await(await fetch(`https://ros-50-production.up.railway.app/api/scripts/${A}`)).json();b(Ne.script.script_text),he(Ne.script.id),Fe(Ne.script.script_name);const Pe=Ne.comments.map(ye=>({id:ye.id,lineNumber:ye.line_number,text:ye.comment_text,author:ye.author,timestamp:new Date(ye.created_at),type:ye.comment_type||"GENERAL"}));k(Pe),Qt(!1),alert(`Script "${Ne.script.script_name}" loaded!`)}catch(te){console.error("Error loading script:",te),alert("Failed to load script")}},F=async(A,te)=>{if(confirm(`Delete script "${te}"? This cannot be undone.`))try{await fetch(`https://ros-50-production.up.railway.app/api/scripts/${A}`,{method:"DELETE"}),alert(`Script "${te}" deleted!`),K(),j===A&&(he(null),Fe(""),b(""),k([]))}catch(Ne){console.error("Error deleting script:",Ne),alert("Failed to delete script")}},z=v.split(`
`);return a.jsxDEV("div",{className:"min-h-screen bg-slate-900 text-white",children:[a.jsxDEV("div",{className:"bg-slate-800 border-b border-slate-700 px-6 py-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("button",{onClick:()=>s(-1),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded text-sm font-medium transition-colors",children:" Back"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:901,columnNumber:13},void 0),a.jsxDEV("h1",{className:"text-2xl font-bold",children:"Scripts Follow"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:907,columnNumber:13},void 0),Ce&&a.jsxDEV("span",{className:"px-3 py-1 bg-green-600 rounded text-sm font-medium",children:[" ",Ce]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:909,columnNumber:15},void 0),u&&a.jsxDEV("span",{className:"text-slate-400",children:["- ",u]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:913,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:900,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-sm text-slate-400",children:"Role:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:919,columnNumber:15},void 0),a.jsxDEV("select",{value:w,onChange:A=>y(A.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsxDEV("option",{value:"SCROLLER",children:"Scroller"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:925,columnNumber:17},void 0),a.jsxDEV("option",{value:"VIEWER",children:"Viewer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:926,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:920,columnNumber:15},void 0),a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${w==="SCROLLER"?"bg-green-500":"bg-blue-500"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:928,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:918,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>br.current?.click(),disabled:Z,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded text-sm font-medium transition-colors",children:Z?"Importing...":" Import"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:932,columnNumber:13},void 0),a.jsxDEV("input",{ref:br,type:"file",accept:".txt,.pdf,.doc,.docx",onChange:bt,className:"hidden"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:939,columnNumber:13},void 0),a.jsxDEV("button",{onClick:C,disabled:cr||!v,className:"px-4 py-2 bg-green-600 hover:bg-green-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded text-sm font-medium transition-colors",children:cr?"Saving...":" Save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:948,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>{K(),Qt(!0)},className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded text-sm font-medium transition-colors",children:" Load"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:957,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>{s(`/teleprompter?eventId=${o}&eventName=${encodeURIComponent(u||"")}`,{state:{scriptText:v,comments:E,scriptId:j}})},disabled:!v,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded text-sm font-medium transition-colors",children:" Teleprompter"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:968,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:916,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:899,columnNumber:9},void 0),a.jsxDEV("div",{className:`mt-3 px-6 py-4 rounded-lg text-base flex items-center justify-between shadow-lg border-2 ${w==="SCROLLER"?"bg-gradient-to-r from-green-900 to-green-800 border-green-600":"bg-gradient-to-r from-blue-900 to-blue-800 border-blue-600"}`,children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:`text-3xl ${w==="SCROLLER"?"animate-pulse":""}`,children:w==="SCROLLER"?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:993,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-bold text-lg text-white",children:w==="SCROLLER"?"SCROLLER MODE":"VIEWER MODE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:997,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-sm text-slate-200 mt-1",children:w==="SCROLLER"?a.jsxDEV("span",{children:["Broadcasting your scroll position to all viewers for event: ",a.jsxDEV("strong",{children:u},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1002,columnNumber:85},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1002,columnNumber:19},void 0):a.jsxDEV("span",{children:["Auto-following the scroller for event: ",a.jsxDEV("strong",{children:u},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1004,columnNumber:64},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1004,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1e3,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:996,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:992,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg ${I?"bg-green-600":"bg-red-600"}`,children:[a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${I?"bg-white animate-pulse":"bg-white"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1013,columnNumber:15},void 0),a.jsxDEV("span",{className:"text-sm font-bold text-white",children:I?"Connected":"Disconnected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1014,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1010,columnNumber:13},void 0),w==="VIEWER"&&a.jsxDEV("div",{className:"px-4 py-2 bg-blue-600 rounded-lg",children:a.jsxDEV("span",{className:"text-sm font-bold text-white",children:["Event: ",o?.slice(0,8)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1020,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1019,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1009,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:987,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:898,columnNumber:7},void 0),a.jsxDEV("div",{className:"flex h-[calc(100vh-140px)]",children:[a.jsxDEV("div",{className:"w-1/3 bg-slate-800 border-r border-slate-700 p-6 overflow-y-auto",children:[a.jsxDEV("div",{className:"mb-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("h2",{className:"text-xl font-bold flex items-center gap-2",children:[" Comments",a.jsxDEV("span",{className:"text-sm font-normal text-slate-400",children:["(",E.length," total)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1035,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1033,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>se(!me),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${me?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-900 hover:bg-green-800 text-green-300"}`,children:me?" Show All":" Visible Only"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1039,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1032,columnNumber:13},void 0),!me&&a.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[a.jsxDEV("div",{className:"text-xs bg-green-900 text-green-300 px-2 py-1 rounded font-medium",children:" Showing visible only"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1053,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400",children:["Lines ",Math.max(1,Q.start)," - ",Q.end+1]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1056,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1052,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1031,columnNumber:11},void 0),oe!==null&&a.jsxDEV("div",{className:"mb-6 p-4 bg-gradient-to-br from-blue-900 to-blue-800 rounded-lg border-2 border-blue-500 shadow-lg animate-in fade-in duration-200",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-lg font-bold text-white flex items-center gap-2",children:[gi[Or].icon," Add Comment"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1068,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-sm text-blue-300",children:["Line ",oe+1]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1071,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1067,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{_e(null),we(""),Zt("GENERAL")},className:"text-slate-300 hover:text-white text-xl font-bold",title:"Cancel",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1075,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1066,columnNumber:15},void 0),a.jsxDEV("div",{className:"mb-4",children:[a.jsxDEV("label",{className:"text-base font-bold text-white mb-3 block",children:" Comment Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1090,columnNumber:17},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(gi).map(A=>a.jsxDEV("button",{onClick:()=>Zt(A),className:`px-4 py-3 rounded-lg text-base font-bold transition-all duration-200 shadow-lg ${Or===A?`${gi[A].bgColor} text-white ring-2 ring-yellow-400 transform scale-105`:"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:scale-102"}`,children:[a.jsxDEV("span",{className:"text-lg",children:gi[A].icon},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1102,columnNumber:23},void 0)," ",gi[A].label]},A,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1093,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1091,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1089,columnNumber:15},void 0),a.jsxDEV("textarea",{value:ne,onChange:A=>we(A.target.value),placeholder:"Type your comment here...",className:"w-full px-3 py-3 bg-slate-700 border-2 border-slate-600 rounded text-white text-base resize-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400",rows:4,autoFocus:!0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1108,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex gap-2 mt-3",children:[a.jsxDEV("button",{onClick:Dt,disabled:!ne.trim(),className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded text-base font-bold transition-colors",children:" Save Comment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1117,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{_e(null),we("")},className:"px-4 py-3 bg-slate-600 hover:bg-slate-500 rounded text-base font-medium transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1124,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1116,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1065,columnNumber:13},void 0),oe===null&&a.jsxDEV("div",{className:"mb-6 p-4 bg-slate-700 rounded-lg border-2 border-dashed border-slate-600 text-center",children:a.jsxDEV("div",{className:"text-slate-400 text-sm",children:[" Click a ",a.jsxDEV("span",{className:"text-blue-400 font-bold",children:"line number"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1141,columnNumber:28},void 0)," on the script to add a comment"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1140,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1139,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-3",children:E.length===0?a.jsxDEV("p",{className:"text-slate-400 text-sm text-center py-8",children:"No comments yet. Click on a line number to add a comment."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1149,columnNumber:15},void 0):Ht().length===0?a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("p",{className:"text-slate-400 text-sm mb-2",children:"No comments visible on screen"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1154,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-slate-500 text-xs",children:"Scroll to lines with  to see their comments"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1157,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1153,columnNumber:15},void 0):Ht().map(A=>{const te=A.lineNumber-Q.start,Ne=Q.end-Q.start,Pe=te/Ne*100,ye=A.lineNumber>=Q.start&&A.lineNumber<=Q.end;let pe="",Se="bg-slate-600";me?pe="":ye?Pe<25?(pe="Top",Se="bg-blue-600"):Pe<75?(pe="Middle",Se="bg-green-600"):(pe="Bottom",Se="bg-purple-600"):A.lineNumber<Q.start?(pe="Above",Se="bg-gray-600"):(pe="Below",Se="bg-gray-600");const je=ie===A.id;return a.jsxDEV("div",{className:`p-3 rounded-lg transition-all ${me?"bg-slate-700 border-l-4 border-blue-500 hover:bg-slate-600":ye?"bg-slate-700 border-l-4 border-green-500 hover:bg-slate-600":"bg-slate-800 border-l-4 border-gray-500 opacity-75 hover:bg-slate-700"}`,children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[a.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxDEV("span",{className:`text-sm px-3 py-2 rounded-md font-bold shadow-md ${gi[A.type||"GENERAL"].bgColor} text-white flex items-center gap-1`,children:[a.jsxDEV("span",{className:"text-base",children:gi[A.type||"GENERAL"].icon},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1215,columnNumber:27},void 0),a.jsxDEV("span",{children:gi[A.type||"GENERAL"].label},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1216,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1214,columnNumber:25},void 0),a.jsxDEV("div",{className:"bg-slate-600 px-3 py-2 rounded-md",children:a.jsxDEV("span",{className:"text-sm font-bold text-blue-300",children:[" Line ",A.lineNumber+1]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1220,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1219,columnNumber:25},void 0),pe&&a.jsxDEV("span",{className:`text-sm ${Se} text-white px-3 py-2 rounded-md font-bold shadow-sm`,children:pe},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1226,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1212,columnNumber:23},void 0),!je&&a.jsxDEV("div",{className:"flex items-center gap-1",children:[a.jsxDEV("button",{onClick:()=>ur(A),className:"p-1 hover:bg-slate-600 rounded transition-colors",title:"Edit comment",children:a.jsxDEV("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1241,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1240,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1235,columnNumber:27},void 0),a.jsxDEV("button",{onClick:()=>{confirm("Delete this comment?")&&mr(A.id)},className:"p-1 hover:bg-slate-600 rounded transition-colors",title:"Delete comment",children:a.jsxDEV("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1254,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1253,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1244,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1234,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1211,columnNumber:21},void 0),je?a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("textarea",{value:U,onChange:Qe=>de(Qe.target.value),className:"w-full p-2 bg-slate-800 text-white rounded border border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,autoFocus:!0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1263,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>Kt(A.id),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm transition-colors",children:" Save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1271,columnNumber:27},void 0),a.jsxDEV("button",{onClick:Gt,className:"px-3 py-1 bg-slate-600 hover:bg-slate-700 text-white rounded text-sm transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1277,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1270,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1262,columnNumber:23},void 0):a.jsxDEV("div",{className:"space-y-3",children:a.jsxDEV("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-600",children:a.jsxDEV("p",{className:"text-sm text-white leading-relaxed",children:A.text},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1288,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1287,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1286,columnNumber:23},void 0)]},A.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1201,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1147,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1030,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex-1 bg-slate-900 p-6 overflow-hidden",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-bold",children:" Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1302,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"flex items-center gap-2 bg-slate-800 rounded px-3 py-1",children:[a.jsxDEV("span",{className:"text-sm text-slate-400",children:"Text Size:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1307,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>be(A=>Math.max(10,A-2)),disabled:w==="VIEWER",className:`w-8 h-8 rounded text-white font-bold transition-colors ${w==="VIEWER"?"bg-slate-600 cursor-not-allowed opacity-50":"bg-slate-700 hover:bg-slate-600"}`,title:w==="VIEWER"?"Synced with Scroller":"Decrease font size",children:"A-"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1308,columnNumber:17},void 0),a.jsxDEV("span",{className:"text-sm text-white w-8 text-center",children:[Me,"px"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1320,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>be(A=>Math.min(32,A+2)),disabled:w==="VIEWER",className:`w-8 h-8 rounded text-white font-bold transition-colors ${w==="VIEWER"?"bg-slate-600 cursor-not-allowed opacity-50":"bg-slate-700 hover:bg-slate-600"}`,title:w==="VIEWER"?"Synced with Scroller":"Increase font size",children:"A+"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1321,columnNumber:17},void 0),w==="VIEWER"&&a.jsxDEV("span",{className:"text-xs text-blue-400 ml-2",children:" Synced"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1334,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1306,columnNumber:15},void 0),w==="SCROLLER"&&a.jsxDEV("button",{onClick:le?or:ir,className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm transition-colors",title:le?"Save script changes":"Edit script text",children:le?" Save":" Edit"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1340,columnNumber:17},void 0),w==="VIEWER"&&a.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-600 rounded text-sm",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1351,columnNumber:19},void 0),"Following Scroller"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1350,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1304,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1301,columnNumber:11},void 0),v?a.jsxDEV("div",{ref:Ut,onScroll:qe,className:`h-[calc(100%-60px)] overflow-y-auto bg-slate-800 rounded-lg p-6 ${w==="VIEWER"?"cursor-default":""}`,style:{scrollBehavior:w==="VIEWER"?"smooth":"auto"},children:le?a.jsxDEV("div",{className:"flex flex-col h-full",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-slate-600",children:[a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white",children:" Edit Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1373,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-sm text-slate-400 mt-1",children:" Lines with yellow markers have comments  Comments stay on their line numbers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1374,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1372,columnNumber:21},void 0),a.jsxDEV("button",{onClick:ae,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white rounded text-sm transition-colors",children:" Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1378,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1371,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex flex-1 gap-2 overflow-hidden",children:[a.jsxDEV("div",{ref:B,className:"bg-slate-900/50 rounded-lg p-4 overflow-y-auto border border-slate-700 scrollbar-hide",style:{minWidth:"60px",overflowY:"scroll"},children:a.jsxDEV("div",{className:"font-mono leading-relaxed text-right pr-2",style:{fontSize:`${Me}px`},children:ee.split(`
`).map((A,te)=>{const Ne=De.filter(ye=>ye.lineNumber===te),Pe=Ne.length>0;return a.jsxDEV("div",{className:`relative ${Pe?"text-yellow-400 font-bold":"text-slate-500"}`,children:[Pe&&a.jsxDEV("div",{className:"absolute left-0 w-1 h-full bg-yellow-400 rounded-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1402,columnNumber:33},void 0),a.jsxDEV("span",{className:"relative",children:te+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1404,columnNumber:31},void 0),Pe&&a.jsxDEV("span",{className:"ml-1 text-xs",children:["(",Ne.length,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1406,columnNumber:33},void 0)]},te,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1397,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1392,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1387,columnNumber:21},void 0),a.jsxDEV("textarea",{ref:re,value:ee,onChange:A=>Ve(A.target.value),onScroll:ue,className:"flex-1 bg-slate-900 text-white p-4 rounded-lg border border-slate-600 focus:outline-none focus:ring-2 focus:ring-green-500 resize-none font-mono leading-relaxed",style:{fontSize:`${Me}px`},placeholder:"Enter your script text here..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1415,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1385,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1370,columnNumber:17},void 0):a.jsxDEV("div",{className:"font-mono leading-relaxed",style:{fontSize:`${Me}px`},children:z.map((A,te)=>{const Ne=Tt(te),Pe=Ne.length>0;return a.jsxDEV("div",{"data-line-number":te,className:`relative flex items-start gap-3 py-2 transition-colors ${oe===te?"bg-blue-900 ring-2 ring-blue-500":"hover:bg-slate-700"}`,children:[Pe&&a.jsxDEV("div",{className:"absolute left-0 top-2 w-1 bg-yellow-400 rounded-full shadow-lg",style:{height:"calc(100% - 1rem)"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1444,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex-shrink-0 w-16 text-right pr-2 relative z-10",children:a.jsxDEV("button",{onClick:()=>_e(te),className:`font-bold select-none cursor-pointer transition-colors ${Pe?"text-blue-400 hover:text-blue-300":"text-slate-500 hover:text-slate-400"}`,style:{fontSize:`${Math.max(12,Me-2)}px`},title:Pe?`${Ne.length} comment(s) - Click to add more`:"Click to add comment",children:te+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1449,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1448,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex-1 flex items-start justify-between relative z-10",children:[a.jsxDEV("div",{className:`whitespace-pre-wrap break-words ${Pe?"text-white font-medium bg-blue-900 rounded-md px-2 py-1":"text-white"}`,children:A||""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1465,columnNumber:25},void 0),Pe&&a.jsxDEV("div",{className:"flex items-center gap-1 flex-shrink-0 ml-4 bg-slate-800 px-2 py-1 rounded-lg",children:[[...new Set(Ne.map(ye=>ye.type||"GENERAL"))].map(ye=>a.jsxDEV("span",{className:`text-lg px-1 rounded-full ${gi[ye].bgColor} shadow-md`,title:gi[ye].label,children:gi[ye].icon},ye,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1476,columnNumber:31},void 0)),a.jsxDEV("span",{className:"text-sm bg-yellow-500 text-white rounded-full px-2 min-w-[24px] text-center font-bold shadow-md",children:Ne.length},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1484,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1473,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1464,columnNumber:23},void 0)]},te,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1433,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1427,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1359,columnNumber:13},void 0):a.jsxDEV("div",{className:"h-[calc(100%-60px)] flex items-center justify-center bg-slate-800 rounded-lg",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1499,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-slate-400 text-lg mb-4",children:"No script loaded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1500,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>br.current?.click(),className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded font-medium transition-colors",children:"Import Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1501,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1498,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1497,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1300,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1028,columnNumber:7},void 0),Ft&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[a.jsxDEV("h2",{className:"text-2xl font-bold",children:" Saved Scripts"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1518,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>Qt(!1),className:"text-slate-400 hover:text-white transition-colors",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1519,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1517,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:!Array.isArray(He)||He.length===0?a.jsxDEV("div",{className:"text-center py-12 text-slate-400",children:[a.jsxDEV("p",{className:"text-lg mb-2",children:"No saved scripts yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1530,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-sm",children:"Import a script and click Save to get started"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1531,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1529,columnNumber:17},void 0):a.jsxDEV("div",{className:"space-y-3",children:He.map(A=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 hover:bg-slate-650 transition-colors",children:a.jsxDEV("div",{className:"flex items-start justify-between",children:[a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h3",{className:"font-bold text-lg mb-1",children:A.script_name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1542,columnNumber:27},void 0),a.jsxDEV("div",{className:"text-sm text-slate-400",children:[a.jsxDEV("p",{children:["Created: ",new Date(A.created_at).toLocaleDateString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1544,columnNumber:29},void 0),A.created_by&&a.jsxDEV("p",{children:["By: ",A.created_by]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1545,columnNumber:51},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1543,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1541,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex gap-2 ml-4",children:[a.jsxDEV("button",{onClick:()=>L(A.id),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded text-sm font-medium transition-colors",children:"Load"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1550,columnNumber:27},void 0),a.jsxDEV("button",{onClick:()=>F(A.id,A.script_name),className:"px-4 py-2 bg-red-600 hover:bg-red-500 rounded text-sm font-medium transition-colors",children:"Delete"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1556,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1549,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1540,columnNumber:23},void 0)},A.id,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1536,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1534,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1527,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1516,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1515,columnNumber:9},void 0),xr&&a.jsxDEV(s$,{onConfirm:Nr,onNever:rt},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1574,columnNumber:31},void 0),Sr&&a.jsxDEV(n$,{duration:ar,onReconnect:Ge},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1577,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:896,columnNumber:5},void 0)},s$=({onConfirm:e,onNever:s})=>{const[t,i]=O.useState(2),[o,u]=O.useState(0),c=[0,5,10,15,20,25,30],m=qr.useRef(null),h=qr.useRef(null);qr.useEffect(()=>{m.current&&(m.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const g=()=>{if(!m.current)return;const b=Math.round(m.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1611,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1612,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1616,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1618,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1619,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1620,columnNumber:15},void 0),a.jsxDEV("div",{ref:m,onScroll:g,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,E)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===E?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:E},E,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1623,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1621,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1617,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1615,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1629,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1632,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1634,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1635,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1636,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1639,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1637,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1633,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1631,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1614,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1647,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1648,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1646,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1651,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1610,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1609,columnNumber:5},void 0)},n$=({duration:e,onReconnect:s})=>(qr.useEffect(()=>(console.log(" Scripts Follow DisconnectNotification mounted:",e),()=>console.log(" Scripts Follow DisconnectNotification unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1665,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1668,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1670,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1671,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1669,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1673,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1667,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1666,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1664,columnNumber:5},void 0)),a$={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_API_BASE_URL:"https://ros-50-production.up.railway.app",VITE_STACK_PROJECT_ID:"d3a5668a-2fa9-4880-b72f-fff9f003d465",VITE_STACK_PUBLISHABLE_CLIENT_KEY:"pck_scmsr0fg066qpx8h20ject6r39cfpy3ygg65md9cvjvc8",VITE_USER_NODE_ENV:"development"},oC={GENERAL:{label:"General",color:"text-slate-300",bgColor:"bg-slate-700",icon:""},CUE:{label:"Cue",color:"text-yellow-300",bgColor:"bg-yellow-700",icon:""},AUDIO:{label:"Audio",color:"text-green-300",bgColor:"bg-green-700",icon:""},GFX:{label:"GFX",color:"text-purple-300",bgColor:"bg-purple-700",icon:""},VIDEO:{label:"Video",color:"text-red-300",bgColor:"bg-red-700",icon:""},LIGHTING:{label:"Lighting",color:"text-orange-300",bgColor:"bg-orange-700",icon:""}},i$=()=>{const[e]=Ao(),s=Ki(),t=sn(),{user:i}=Lo(),o=e.get("eventId"),u=e.get("eventName")||"Teleprompter",c=e.get("scriptId"),m=t.state?.scriptText||"",h=t.state?.comments||[],g=t.state?.scriptId||c,v=t.state?.scriptName||"",[b,E]=O.useState(m),[k,w]=O.useState(h),[y,T]=O.useState(g),[J,Z]=O.useState(v),[R,le]=O.useState("VIEWER"),[W,ee]=O.useState(!0),[X,De]=O.useState(!1),[_,B]=O.useState(!1),[re,H]=O.useState(1),[oe,_e]=O.useState(1),[ne,we]=O.useState(!1),[ve,Me]=O.useState(!1),[be,Ie]=O.useState(.6),[Te,Q]=O.useState(.6),[Oe,me]=O.useState(50),[se,ie]=O.useState(1),[Y,U]=O.useState(!1),[de,I]=O.useState(!1),[Ee,j]=O.useState(!0),[he,Ce]=O.useState(!1),[Fe,He]=O.useState(!0),[ze,Ft]=O.useState(!1),[Qt,cr]=O.useState(!1),[nr,Or]=O.useState(""),[Zt,xr]=O.useState(null),[Yt,Sr]=O.useState(!1),[at,ar]=O.useState({scrollSpeed:50,fontSize:48,textAlign:"center",isMirroredHorizontal:!1,isMirroredVertical:!1,backgroundColor:"#000000",textColor:"#FFFFFF",lineHeight:1.8,showComments:!0,showReadingGuide:!0,readingGuideMode:"arrows-with-lines",readingGuideColor:"#FF0000"}),Vt=O.useRef(null),Ze=O.useRef(0);O.useRef(0);const it=O.useRef(null),vt=O.useRef(null),Rt=O.useRef(null),Ut=O.useRef(0),br=O.useRef(new Map),Jt=O.useRef(null),Nr=O.useRef(null),rt=(ae,Ve)=>{const ue=ae*60+Ve;if(ue===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}Ft(!1),Zt&&clearTimeout(Zt);const K=setTimeout(()=>{console.log(" Teleprompter: Auto-disconnecting after timer"),xt.disconnect(o||""),I(!1),cr(!0)},ue*60*1e3);xr(K);let C="";ae>0&&(C+=`${ae}h `),Ve>0&&(C+=`${Ve}m`),console.log(` Teleprompter: Disconnect timer set to ${C.trim()}`)},Ge=()=>{Zt&&clearTimeout(Zt),xr(null),Ft(!1),console.log(" Teleprompter: Disconnect timer set to Never")},qe=()=>{cr(!1),console.log(" Teleprompter: Reconnecting..."),xt.connect(o||"",{})};O.useEffect(()=>{const ae=()=>{const Ve=window.devicePixelRatio||1;console.log(" Device pixel ratio:",Ve);let ue=1;Ve>=2?ue=.8:Ve>=1.5?ue=.9:Ve<1&&(ue=1.2),console.log(" Zoom compensation:",ue),H(ue),_e(ue)};return ae(),window.addEventListener("resize",ae),()=>{window.removeEventListener("resize",ae)}},[]),O.useEffect(()=>{const ae=()=>{const Ve=Math.min(window.innerWidth*.9/1920,window.innerHeight*.8/1080);Ie(Ve),console.log(" Scroller scale:",Ve)};return ae(),window.addEventListener("resize",ae),()=>{window.removeEventListener("resize",ae)}},[]),O.useEffect(()=>{const ae=()=>{const Ve=he?Math.min(window.innerWidth/1920,window.innerHeight/1080):Math.min(window.innerWidth*.9/1920,window.innerHeight*.8/1080);Q(Ve),console.log(" Viewer scale:",Ve)};return ae(),window.addEventListener("resize",ae),()=>{window.removeEventListener("resize",ae)}},[he]),O.useEffect(()=>{!b&&o&&bt()},[o]),O.useEffect(()=>{o&&!Yt&&(Ft(!0),Sr(!0))},[o,Yt]);const bt=async()=>{if(o)try{const ae=await fetch(`${a$?.VITE_API_URL||"http://localhost:3001"}/api/scripts/${o}`);if(ae.ok){const Ve=await ae.json();Ve.script_text&&E(Ve.script_text),Ve.comments&&w(Ve.comments)}}catch(ae){console.error("Error loading script:",ae)}};O.useEffect(()=>{if(!o)return;console.log(" Connecting to WebSocket for teleprompter...");const ae={onConnectionChange:ue=>{console.log(ue?" WebSocket connected for teleprompter":" WebSocket disconnected"),I(ue)}};xt.connect(o,ae);const Ve=()=>{document.hidden?(console.log(" Teleprompter: Tab hidden - disconnecting WebSocket to save costs"),xt.disconnect(o)):xt.isConnected()||(console.log(" Teleprompter: Tab visible - silently reconnecting WebSocket (no modal)"),xt.connect(o,ae))};return document.addEventListener("visibilitychange",Ve),()=>{console.log(" Cleaning up Teleprompter WebSocket connection"),xt.disconnect(o),document.removeEventListener("visibilitychange",Ve)}},[o]),O.useEffect(()=>{if(R!=="VIEWER"||!o)return;const ae=xt.getSocket();if(!ae)return;console.log(" Viewer: Setting up teleprompter scroll sync listener");const Ve=ue=>{if(console.log(" Teleprompter: Received scroll sync - line:",ue.lineNumber,"position:",ue.scrollPosition),ue.eventId&&ue.eventId!==o){console.log(" Skipping scroll sync - different event");return}if(ue.fontSize&&ue.fontSize!==at.fontSize&&Dt({fontSize:ue.fontSize}),R==="VIEWER"){const K=ue.scrollPosition;if(it.current=K,console.log(" Setting target scroll position for viewer:",K),!vt.current){const C=()=>{if(Jt.current&&it.current!==null){const L=Jt.current.scrollTop,F=it.current,z=F-L;Math.abs(z)>2?(Jt.current.scrollTop=L+z*.6,vt.current=requestAnimationFrame(C)):(Jt.current.scrollTop=F,vt.current=null,it.current=null)}else vt.current=null};vt.current=requestAnimationFrame(C)}}else console.log(" Scroll sync ignored for scroller mode")};return ae.on("scriptScrollSync",Ve),console.log(" Viewer: Teleprompter scroll sync listener attached"),()=>{ae.off("scriptScrollSync",Ve)}},[R,o,de]),O.useEffect(()=>{if(R!=="VIEWER"){vt.current&&(cancelAnimationFrame(vt.current),vt.current=null),it.current=null;return}const ae=()=>{if(Jt.current&&it.current!==null){const Ve=Jt.current.scrollTop,ue=it.current,K=ue-Ve;console.log(" Viewer scroll sync:",{current:Ve,target:ue,diff:K}),Math.abs(K)>2?(Jt.current.scrollTop=Ve+K*.6,vt.current=requestAnimationFrame(ae)):(Jt.current.scrollTop=ue,vt.current=null,it.current=null)}else vt.current=null};return it.current!==null&&!vt.current&&(vt.current=requestAnimationFrame(ae)),()=>{vt.current&&(cancelAnimationFrame(vt.current),vt.current=null)}},[R]),O.useEffect(()=>{if(R!=="VIEWER"||!o)return;const ae=xt.getSocket();if(!ae)return;const Ve=K=>{if(console.log(" Teleprompter: Received settings sync:",K),K.eventId&&K.eventId!==o){console.log(" Skipping settings sync - different event");return}ar(K.settings)},ue=K=>{if(console.log(" Teleprompter: Received guide line sync:",K),K.eventId&&K.eventId!==o){console.log(" Skipping guide line sync - different event");return}me(K.guideLinePosition)};return ae.on("teleprompterSettingsUpdated",Ve),ae.on("teleprompterGuideLineUpdated",ue),()=>{ae.off("teleprompterSettingsUpdated",Ve),ae.off("teleprompterGuideLineUpdated",ue)}},[R,o]),O.useEffect(()=>{if(console.log(" Auto-play useEffect triggered:",{isAutoPlaying:X,isPaused:_,isManualMode:W,userRole:R}),!X||_||W||R!=="SCROLLER"){Rt.current&&(console.log(" Stopping auto-play animation"),cancelAnimationFrame(Rt.current),Rt.current=null);return}console.log(" Starting auto-play");const ae=Ve=>{if(Ut.current){const ue=(Ve-Ut.current)/1e3,K=at.scrollSpeed*ue;if(Nr.current&&(Nr.current.scrollTop+=K),Vt.current&&Nr.current&&(Vt.current.scrollTop=Nr.current.scrollTop),o&&Nr.current){const C=Date.now();if(C-Ze.current>=50){const L=at.fontSize*at.lineHeight,F=Math.floor(Nr.current.scrollTop/L);xt.emitScriptScroll(Nr.current.scrollTop,F,at.fontSize),Ze.current=C}}}Ut.current=Ve,Rt.current=requestAnimationFrame(ae)};return Rt.current=requestAnimationFrame(ae),()=>{Rt.current&&(cancelAnimationFrame(Rt.current),Rt.current=null)}},[X,_,W,R,at.scrollSpeed,at.fontSize,at.lineHeight,o]);const Dt=ae=>{const Ve={...at,...ae};if(ar(Ve),R==="SCROLLER"&&o){const ue=xt.getSocket();ue&&ue.emit("teleprompterSettingsUpdate",{eventId:o,settings:Ve})}},Tt=ae=>{if(me(ae),R==="SCROLLER"&&o){const Ve=xt.getSocket();Ve&&Ve.emit("teleprompterGuideLineUpdate",{eventId:o,guideLinePosition:ae})}};O.useEffect(()=>{if(Y&&Vt.current){const ae=Vt.current.scrollTop;requestAnimationFrame(()=>{Vt.current&&(Vt.current.scrollTop=ae)}),U(!1)}},[se,Y]);const Ht=()=>{if(!(R!=="SCROLLER"||!Vt.current)&&!(X&&!_)&&o){const ae=Date.now();if(ae-Ze.current>=50){const ue=at.fontSize*at.lineHeight,K=Math.floor(Vt.current.scrollTop/ue);xt.emitScriptScroll(Vt.current.scrollTop,K,at.fontSize),Ze.current=ae}}},ur=b.split(`
`),Kt=ae=>k.filter(Ve=>Ve.lineNumber===ae),Gt=()=>{const ae=!W;console.log(` Manual mode: ${ae?"ON":"OFF"}`),ee(ae)},mr=()=>{!W&&R==="SCROLLER"&&(X&&_?(console.log(" Resuming auto-play"),B(!1)):X||(console.log(" Starting auto-play"),De(!0),B(!1),Ut.current=0))},ir=()=>{X&&(console.log(" Pausing auto-play"),console.log(" Preview scroll position:",Nr.current?.scrollTop),console.log(" Script scroll position:",Vt.current?.scrollTop),B(!0))},pr=()=>{console.log(" Reset - scrolling to top"),console.log(" Current user role:",R),console.log(" scriptRef.current:",Vt.current),console.log(" viewerScrollRef.current:",Jt.current),console.log(" previewScrollRef.current:",Nr.current),De(!1),B(!1),Rt.current&&(cancelAnimationFrame(Rt.current),Rt.current=null),R==="VIEWER"&&Jt.current?(console.log(" Resetting viewer scroll to top"),Jt.current.scrollTop=0):R==="SCROLLER"?(console.log(" Resetting scroller scroll to top"),Vt.current&&(Vt.current.scrollTop=0),Nr.current&&(Nr.current.scrollTop=0)):console.log(" No valid scroll container found for reset"),vt.current&&(cancelAnimationFrame(vt.current),vt.current=null),it.current=null},or=async()=>{try{he?(document.fullscreenElement&&await document.exitFullscreen(),Ce(!1),console.log(" Exited fullscreen mode")):(await document.documentElement.requestFullscreen(),Ce(!0),console.log(" Entered fullscreen mode"))}catch(ae){console.error(" Fullscreen error:",ae)}};return O.useEffect(()=>{const ae=()=>{const Ve=!!document.fullscreenElement;Ce(Ve),console.log(" Fullscreen state changed:",Ve)};return document.addEventListener("fullscreenchange",ae),()=>{document.removeEventListener("fullscreenchange",ae),document.fullscreenElement&&document.exitFullscreen().catch(Ve=>console.log("Fullscreen exit error:",Ve))}},[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("style",{children:`
          .scrollbar-hide {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
          }
          .scrollbar-hide::-webkit-scrollbar {
            display: none;  /* Chrome, Safari and Opera */
          }
        `},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:772,columnNumber:7},void 0),a.jsxDEV("div",{className:"min-h-screen",style:{backgroundColor:at.backgroundColor},children:[a.jsxDEV("div",{className:"bg-slate-800 border-b border-slate-700 p-4",style:{display:he?"none":"block"},children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("button",{onClick:()=>{s(`/scripts-follow?eventId=${o}&eventName=${encodeURIComponent(u)}`,{state:{scriptText:b,comments:k,scriptId:y,scriptName:J}})},className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded text-sm font-medium transition-colors",children:" Back to Scripts Follow"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:788,columnNumber:15},void 0),a.jsxDEV("h1",{className:"text-xl font-bold text-white",children:[u," - Teleprompter"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:804,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:787,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>le("SCROLLER"),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${R==="SCROLLER"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" Scroller"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:810,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>le("VIEWER"),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${R==="VIEWER"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" Viewer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:820,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:809,columnNumber:13},void 0),R==="VIEWER"&&a.jsxDEV("button",{onClick:or,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded text-sm font-medium transition-colors",title:he?"Exit Fullscreen (ESC)":"Enter Fullscreen",children:he?" Exit Fullscreen":" Fullscreen"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:834,columnNumber:15},void 0),a.jsxDEV("div",{className:`flex items-center gap-2 px-3 py-2 rounded ${de?"bg-green-600":"bg-red-600"}`,children:[a.jsxDEV("div",{className:`w-2 h-2 rounded-full ${de?"bg-white animate-pulse":"bg-white"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:847,columnNumber:15},void 0),a.jsxDEV("span",{className:"text-xs font-bold text-white",children:de?"Connected":"Disconnected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:848,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:844,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:807,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:786,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:785,columnNumber:7},void 0),a.jsxDEV("div",{className:"flex flex-1",style:{height:he?"100vh":"calc(100vh - 72px)"},children:[R==="SCROLLER"&&a.jsxDEV("div",{className:`bg-slate-800 border-r border-slate-700 transition-all duration-300 overflow-y-auto flex-shrink-0 ${Ee?"w-80":"w-12"}`,children:a.jsxDEV("div",{className:"p-3",children:[a.jsxDEV("div",{className:"flex gap-2 mb-4",children:[a.jsxDEV("button",{onClick:()=>j(!Ee),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded text-xs font-medium transition-colors",children:Ee?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:866,columnNumber:17},void 0),Ee&&a.jsxDEV("div",{className:"flex-1 bg-slate-700 px-3 py-2 rounded-lg flex items-center justify-between",children:[a.jsxDEV("label",{className:"text-xs text-slate-300 font-medium",children:"Manual"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:875,columnNumber:21},void 0),a.jsxDEV("button",{onClick:Gt,className:`relative h-6 w-12 items-center rounded-full transition-colors flex ${W?"bg-blue-600":"bg-slate-500"}`,children:a.jsxDEV("span",{className:`inline-block h-4 w-4 ml-1 transform rounded-full bg-white transition-transform ${W?"translate-x-6":""}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:882,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:876,columnNumber:21},void 0),a.jsxDEV("span",{className:`text-xs font-bold ${W?"text-blue-300":"text-slate-400"}`,children:W?"ON":"OFF"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:887,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:874,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:865,columnNumber:15},void 0),Ee&&a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-2 block",children:"Playback:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:899,columnNumber:21},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:mr,disabled:W||R!=="SCROLLER",className:`px-3 py-2 rounded text-xs font-bold transition-colors ${W||R!=="SCROLLER"?"bg-slate-600 text-slate-400 cursor-not-allowed opacity-50":X&&!_?"bg-green-600 text-white animate-pulse":"bg-green-600 text-white hover:bg-green-500"}`,children:" Play"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:901,columnNumber:23},void 0),a.jsxDEV("button",{onClick:ir,disabled:!X,className:`px-3 py-2 rounded text-xs font-bold transition-colors ${X?"bg-yellow-600 text-white hover:bg-yellow-500":"bg-slate-600 text-slate-400 cursor-not-allowed opacity-50"}`,children:" Pause"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:915,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:900,columnNumber:21},void 0),a.jsxDEV("div",{className:"mt-3",children:a.jsxDEV("button",{onClick:pr,className:"w-full px-3 py-2 rounded text-sm font-bold bg-purple-600 text-white hover:bg-purple-500 transition-colors",children:" Reset to Top"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:930,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:929,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:898,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-xs text-slate-300 mb-1",children:["Speed: ",at.scrollSpeed," px/s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:941,columnNumber:21},void 0),a.jsxDEV("input",{type:"range",min:"10",max:"1000",step:"10",value:at.scrollSpeed,onChange:ae=>Dt({scrollSpeed:Number(ae.target.value)}),className:"w-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:944,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:940,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-xs text-slate-300 mb-1",children:["Zoom: ",(re*100).toFixed(0),"%"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:957,columnNumber:21},void 0),a.jsxDEV("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:re,onChange:ae=>H(Number(ae.target.value)),className:"w-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:960,columnNumber:21},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400 mt-1",children:["Auto: ",window.devicePixelRatio?.toFixed(1),"x DPI"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:969,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:956,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-xs text-slate-300 mb-1",children:["Guide Line: ",Oe,"%"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:976,columnNumber:21},void 0),a.jsxDEV("input",{type:"range",min:"20",max:"80",step:"5",value:Oe,onChange:ae=>Tt(Number(ae.target.value)),className:"w-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:979,columnNumber:21},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400 mt-1",children:"Position from top"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:988,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:975,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-xs text-slate-300 mb-1",children:["Comment Size: ",se,"x"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:995,columnNumber:21},void 0),a.jsxDEV("input",{type:"range",min:"0.5",max:"4.0",step:"0.1",value:se,onChange:ae=>{U(!0),ie(Number(ae.target.value))},className:"w-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:998,columnNumber:21},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400 mt-1",children:"Text size multiplier"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1010,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:994,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-xs text-slate-300 mb-1",children:["Font: ",at.fontSize,"px"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1017,columnNumber:21},void 0),a.jsxDEV("input",{type:"range",min:"24",max:"96",step:"2",value:at.fontSize,onChange:ae=>Dt({fontSize:Number(ae.target.value)}),className:"w-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1020,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1016,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-xs text-slate-300 mb-1",children:["Line Height: ",at.lineHeight]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1033,columnNumber:21},void 0),a.jsxDEV("input",{type:"range",min:"1.2",max:"2.5",step:"0.1",value:at.lineHeight,onChange:ae=>Dt({lineHeight:Number(ae.target.value)}),className:"w-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1036,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1032,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-2 block",children:"Text Align:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1049,columnNumber:21},void 0),a.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:["left","center","right"].map(ae=>a.jsxDEV("button",{onClick:()=>Dt({textAlign:ae}),className:`px-2 py-2 rounded text-xl transition-colors ${at.textAlign===ae?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:ae==="left"?"":ae==="center"?"":""},ae,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1052,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1050,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1048,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-2 block",children:"Colors:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1069,columnNumber:21},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-xs text-slate-400",children:"Background:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1072,columnNumber:25},void 0),a.jsxDEV("input",{type:"color",value:at.backgroundColor,onChange:ae=>Dt({backgroundColor:ae.target.value}),className:"w-12 h-8 rounded cursor-pointer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1073,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1071,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-xs text-slate-400",children:"Text:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1081,columnNumber:25},void 0),a.jsxDEV("input",{type:"color",value:at.textColor,onChange:ae=>Dt({textColor:ae.target.value}),className:"w-12 h-8 rounded cursor-pointer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1082,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1080,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-xs text-slate-400",children:"Guide:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1090,columnNumber:25},void 0),a.jsxDEV("input",{type:"color",value:at.readingGuideColor,onChange:ae=>Dt({readingGuideColor:ae.target.value}),className:"w-12 h-8 rounded cursor-pointer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1091,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1089,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1070,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1068,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-2 block",children:"Flip/Mirror:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1103,columnNumber:21},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:()=>Dt({isMirroredHorizontal:!at.isMirroredHorizontal}),className:`px-2 py-2 rounded text-xs font-medium transition-colors ${at.isMirroredHorizontal?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" H-Flip"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1105,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>Dt({isMirroredVertical:!at.isMirroredVertical}),className:`px-2 py-2 rounded text-xs font-medium transition-colors ${at.isMirroredVertical?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" V-Flip"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1114,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1104,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1102,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-2 block",children:"Features:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1127,columnNumber:21},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:()=>{const ae=["arrows-with-lines","arrows","off"],Ve=ae.indexOf(at.readingGuideMode),ue=ae[(Ve+1)%ae.length];Dt({readingGuideMode:ue,showReadingGuide:ue!=="off"})},className:`px-2 py-2 rounded text-xs font-medium transition-colors ${at.readingGuideMode==="arrows-with-lines"?"bg-red-600 text-white":at.readingGuideMode==="arrows"?"bg-orange-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,title:"Click to cycle guide modes",children:[" ",at.readingGuideMode==="arrows-with-lines"?"Lines":at.readingGuideMode==="arrows"?"Arrows":"Off"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1129,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>Dt({showComments:!at.showComments}),className:`px-2 py-2 rounded text-xs font-medium transition-colors ${at.showComments?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" Comments"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1149,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1128,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1126,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:895,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:863,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:860,columnNumber:11},void 0),a.jsxDEV("div",{ref:Vt,onScroll:Ht,className:"flex-1 overflow-y-auto",style:{height:he?"100vh":"calc(100vh - 72px)",transform:`${at.isMirroredHorizontal?"scaleX(-1)":"scaleX(1)"} ${at.isMirroredVertical?"scaleY(-1)":"scaleY(1)"}`,padding:R==="SCROLLER"?"20px":"0 5vw",scrollBehavior:R==="SCROLLER"&&W?"smooth":"auto",display:R==="SCROLLER"?"flex":"block",justifyContent:R==="SCROLLER"?"center":"flex-start",alignItems:R==="SCROLLER"?"center":"stretch",backgroundColor:R==="SCROLLER"?"#1a1a1a":"transparent",overflow:R==="SCROLLER"?"hidden":"auto"},children:R==="SCROLLER"?a.jsxDEV("div",{style:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",position:"relative"},children:a.jsxDEV("div",{style:{width:"1920px",height:"1080px",backgroundColor:at.backgroundColor,borderRadius:"12px",overflow:"hidden",position:"relative",transform:`scale(${be*re})`,transformOrigin:"center center",border:"3px solid #333",boxShadow:"0 0 20px rgba(0,0,0,0.5)",flexShrink:0},children:[a.jsxDEV("div",{style:{width:"100%",height:"100%",overflow:"auto",position:"relative"},ref:ae=>{ae&&(Nr.current=ae),ae&&Vt.current&&!X&&(ae.scrollTop=Vt.current.scrollTop,Vt.current.scrollTop!==ae.scrollTop&&(Vt.current.scrollTop=ae.scrollTop))},onScroll:ae=>{if(Vt.current&&(Vt.current.scrollTop=ae.currentTarget.scrollTop),R==="SCROLLER"&&o){const Ve=Date.now();if(Ve-Ze.current>=50){const K=at.fontSize*at.lineHeight,C=Math.floor(ae.currentTarget.scrollTop/K);xt.emitScriptScroll(ae.currentTarget.scrollTop,C,at.fontSize),Ze.current=Ve}}},onWheel:ae=>{Vt.current&&(Vt.current.scrollTop+=ae.deltaY)},children:a.jsxDEV("div",{style:{minHeight:"100%",paddingTop:"540px",paddingBottom:"540px",display:"flex",flexDirection:"column",justifyContent:"center"},children:a.jsxDEV("div",{style:{fontSize:`${at.fontSize*1.35}px`,lineHeight:at.lineHeight,textAlign:at.textAlign,color:at.textColor,fontFamily:"Arial, sans-serif",fontWeight:500,width:"95%",margin:"0 auto"},children:ur.map((ae,Ve)=>{const ue=at.showComments&&Ve>0?Kt(Ve-1):[];return a.jsxDEV("div",{className:"mb-2","data-line-number":Ve,children:[ue.length>0&&a.jsxDEV("div",{className:"mb-2 space-y-2",children:ue.map(K=>{const C=oC[K.type];return a.jsxDEV("div",{className:`${C.bgColor} px-4 py-3 rounded-lg border-l-4 border-${K.type.toLowerCase()}-400`,style:{fontSize:`${at.fontSize*.6}px`,transform:at.isMirroredHorizontal?"scaleX(-1)":"none"},children:a.jsxDEV("div",{className:"flex items-start gap-2",children:[a.jsxDEV("span",{className:"text-3xl",children:C.icon},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1317,columnNumber:37},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:`font-bold ${C.color} text-base`,children:C.label},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1319,columnNumber:39},void 0),a.jsxDEV("div",{className:"text-white mt-1",style:{fontSize:`${se}em`},children:K.text},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1322,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1318,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1316,columnNumber:35},void 0)},K.id,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1308,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1304,columnNumber:27},void 0),a.jsxDEV("div",{children:ae||""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1337,columnNumber:25},void 0)]},Ve,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1297,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1281,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1271,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1213,columnNumber:15},void 0),at.readingGuideMode!=="off"&&a.jsxDEV("div",{className:"absolute pointer-events-none",style:{left:"0",right:"0",top:`${Oe}%`,transform:"translateY(-50%)",zIndex:50,width:"100%",height:"60px"},children:[at.readingGuideMode==="arrows-with-lines"&&a.jsxDEV("svg",{width:"100%",height:"60",style:{position:"absolute",top:0,left:0},children:[a.jsxDEV("line",{x1:"0",y1:"0",x2:"100%",y2:"0",stroke:at.readingGuideColor,strokeWidth:"3",opacity:"0.7"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1362,columnNumber:23},void 0),a.jsxDEV("line",{x1:"0",y1:"60",x2:"100%",y2:"60",stroke:at.readingGuideColor,strokeWidth:"3",opacity:"0.7"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1371,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1361,columnNumber:21},void 0),a.jsxDEV("div",{className:"absolute left-0 top-1/2 -translate-y-1/2",children:a.jsxDEV("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:a.jsxDEV("polygon",{points:"15,10 45,30 15,50",fill:at.readingGuideColor,stroke:at.readingGuideColor,strokeWidth:"4",opacity:"0.75"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1386,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1385,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1384,columnNumber:19},void 0),a.jsxDEV("div",{className:"absolute right-0 top-1/2 -translate-y-1/2",children:a.jsxDEV("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:a.jsxDEV("polygon",{points:"45,10 15,30 45,50",fill:at.readingGuideColor,stroke:at.readingGuideColor,strokeWidth:"4",opacity:"0.75"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1399,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1398,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1397,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1347,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1197,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1186,columnNumber:9},void 0):a.jsxDEV("div",{style:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",position:"relative",backgroundColor:he?"transparent":"#1a1a1a"},children:a.jsxDEV("div",{style:{width:"1920px",height:"1080px",backgroundColor:at.backgroundColor,overflow:"hidden",position:"relative",transform:`scale(${Te*oe})`,transformOrigin:"center center",flexShrink:0,border:he?"none":"3px solid #333",borderRadius:he?"0":"12px",boxShadow:he?"none":"0 0 20px rgba(0,0,0,0.5)"},children:[a.jsxDEV("div",{ref:ae=>{ae&&R==="VIEWER"&&(Jt.current=ae)},style:{width:"100%",height:"100%",overflow:"auto",position:"relative",scrollbarWidth:ne?"none":"auto",msOverflowStyle:ne?"none":"auto"},className:ne?"scrollbar-hide":"",children:a.jsxDEV("div",{style:{minHeight:"100%",paddingTop:"540px",paddingBottom:"540px",display:"flex",flexDirection:"column",justifyContent:"center"},children:a.jsxDEV("div",{style:{fontSize:`${at.fontSize*1.35}px`,lineHeight:at.lineHeight,textAlign:at.textAlign,color:at.textColor,fontFamily:"Arial, sans-serif",fontWeight:500,width:"95%",margin:"0 auto"},children:ur.map((ae,Ve)=>{const ue=at.showComments&&Ve>0?Kt(Ve-1):[];return a.jsxDEV("div",{className:"mb-2","data-line-number":Ve,ref:K=>{K&&br.current.set(Ve,K)},children:[ue.length>0&&a.jsxDEV("div",{className:"mb-2 space-y-2",children:ue.map(K=>{const C=oC[K.type];return a.jsxDEV("div",{className:`${C.bgColor} px-4 py-3 rounded-lg border-l-4 border-${K.type.toLowerCase()}-400`,style:{fontSize:`${at.fontSize*.6}px`,transform:at.isMirroredHorizontal?"scaleX(-1)":"none"},children:a.jsxDEV("div",{className:"flex items-start gap-2",children:[a.jsxDEV("span",{className:"text-3xl",children:C.icon},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1509,columnNumber:29},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:`font-bold ${C.color} text-base`,children:C.label},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1511,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-white mt-1",style:{fontSize:`${se}em`},children:K.text},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1514,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1510,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1508,columnNumber:27},void 0)},K.id,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1500,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1496,columnNumber:19},void 0),a.jsxDEV("div",{children:ae||""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1529,columnNumber:17},void 0)]},Ve,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1486,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1468,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1458,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1441,columnNumber:15},void 0),at.readingGuideMode!=="off"&&a.jsxDEV("div",{style:{position:"absolute",left:"0",right:"0",top:`${Oe}%`,transform:"translateY(-50%)",width:"100%",height:"60px",pointerEvents:"none",zIndex:50},children:[at.readingGuideMode==="arrows-with-lines"&&a.jsxDEV("svg",{width:"100%",height:"60",style:{position:"absolute",top:0,left:0},children:[a.jsxDEV("line",{x1:"0",y1:"0",x2:"100%",y2:"0",stroke:at.readingGuideColor,strokeWidth:"3",opacity:"0.7"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1555,columnNumber:23},void 0),a.jsxDEV("line",{x1:"0",y1:"60",x2:"100%",y2:"60",stroke:at.readingGuideColor,strokeWidth:"3",opacity:"0.7"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1564,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1554,columnNumber:21},void 0),a.jsxDEV("div",{className:"absolute left-0 top-1/2 -translate-y-1/2",children:a.jsxDEV("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:a.jsxDEV("polygon",{points:"15,10 45,30 15,50",fill:at.readingGuideColor,stroke:at.readingGuideColor,strokeWidth:"4",opacity:"0.75"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1579,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1578,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1577,columnNumber:19},void 0),a.jsxDEV("div",{className:"absolute right-0 top-1/2 -translate-y-1/2",children:a.jsxDEV("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:a.jsxDEV("polygon",{points:"45,10 15,30 45,50",fill:at.readingGuideColor,stroke:at.readingGuideColor,strokeWidth:"4",opacity:"0.75"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1592,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1591,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1590,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1539,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1425,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1414,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1168,columnNumber:7},void 0),R==="VIEWER"&&a.jsxDEV("div",{className:"fixed top-4 right-4 z-50",children:[a.jsxDEV("button",{onClick:()=>Me(!ve),className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-full shadow-lg transition-colors",title:"Viewer Settings",children:a.jsxDEV("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1617,columnNumber:15},void 0),a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1618,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1616,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1611,columnNumber:11},void 0),ve&&a.jsxDEV("div",{className:"absolute top-14 right-0 bg-slate-800 rounded-lg shadow-xl border border-slate-700 p-4 w-64",children:[a.jsxDEV("h3",{className:"text-white text-sm font-semibold mb-3",children:"Viewer Settings"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1625,columnNumber:15},void 0),a.jsxDEV("div",{className:"mb-4",children:[a.jsxDEV("label",{className:"block text-xs text-slate-300 mb-2",children:["Zoom: ",(oe*100).toFixed(0),"%"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1629,columnNumber:17},void 0),a.jsxDEV("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:oe,onChange:ae=>_e(Number(ae.target.value)),className:"w-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1632,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400 mt-1",children:["Auto: ",window.devicePixelRatio?.toFixed(1),"x DPI"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1641,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1628,columnNumber:15},void 0),a.jsxDEV("div",{className:"mb-4",children:a.jsxDEV("label",{className:"flex items-center justify-between text-xs text-slate-300",children:[a.jsxDEV("span",{children:"Hide Scrollbar"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1649,columnNumber:19},void 0),a.jsxDEV("button",{onClick:()=>we(!ne),className:`relative h-6 w-12 items-center rounded-full transition-colors flex ${ne?"bg-blue-600":"bg-slate-500"}`,children:a.jsxDEV("span",{className:`inline-block h-4 w-4 ml-1 transform rounded-full bg-white transition-transform ${ne?"translate-x-6":""}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1656,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1650,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1648,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1647,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>Me(!1),className:"w-full px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded text-xs font-medium text-white transition-colors",children:"Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1665,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1624,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1610,columnNumber:9},void 0),ze&&a.jsxDEV(o$,{onConfirm:rt,onNever:Ge},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1677,columnNumber:31},void 0),Qt&&a.jsxDEV(l$,{duration:nr,onReconnect:qe},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1680,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:857,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:783,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:770,columnNumber:5},void 0)},o$=({onConfirm:e,onNever:s})=>{const[t,i]=O.useState(2),[o,u]=O.useState(0),c=[0,5,10,15,20,25,30],m=qr.useRef(null),h=qr.useRef(null);qr.useEffect(()=>{m.current&&(m.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const g=()=>{if(!m.current)return;const b=Math.round(m.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1717,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1718,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1722,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1724,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1725,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1726,columnNumber:15},void 0),a.jsxDEV("div",{ref:m,onScroll:g,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,E)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===E?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:E},E,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1729,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1727,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1723,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1721,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1735,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1738,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1740,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1741,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1742,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1745,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1743,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1739,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1737,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1720,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1753,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1754,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1752,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1757,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1716,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1715,columnNumber:5},void 0)},l$=({duration:e,onReconnect:s})=>(qr.useEffect(()=>(console.log(" Teleprompter DisconnectNotification mounted:",e),()=>console.log(" Teleprompter DisconnectNotification unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1771,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1774,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1776,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1777,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1775,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1779,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1773,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1772,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1770,columnNumber:5},void 0));function c$(){const e=sn(),s=e.pathname==="/fullscreen-timer",t=e.pathname==="/clock",i=e.pathname==="/green-room",o=e.pathname==="/photo-view",u=e.pathname==="/scripts-follow",c=e.pathname==="/teleprompter",m=e.pathname==="/google-sheets-vmix",h=e.pathname==="/lower-thirds-xml"||e.pathname==="/schedule-xml"||e.pathname==="/custom-columns-xml",g=e.pathname==="/netlify-lower-thirds-xml"||e.pathname==="/netlify-schedule-xml"||e.pathname==="/netlify-custom-columns-xml";return a.jsxDEV("div",{className:`App ${t?"clock-page":""}`,children:[!s&&!i&&!o&&!u&&!c&&!m&&!h&&!g&&a.jsxDEV(nN,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:40,columnNumber:152},this),a.jsxDEV(p4,{children:a.jsxDEV(Wy,{children:[a.jsxDEV(en,{path:"/",element:a.jsxDEV(g4,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:44,columnNumber:36},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:44,columnNumber:11},this),a.jsxDEV(en,{path:"/run-of-show",element:a.jsxDEV(_9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:45,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:45,columnNumber:11},this),a.jsxDEV(en,{path:"/fullscreen-timer",element:a.jsxDEV(V9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:46,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:46,columnNumber:11},this),a.jsxDEV(en,{path:"/graphics-links",element:a.jsxDEV(Y9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:47,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:47,columnNumber:11},this),a.jsxDEV(en,{path:"/reports",element:a.jsxDEV(K9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:48,columnNumber:43},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:48,columnNumber:11},this),a.jsxDEV(en,{path:"/green-room",element:a.jsxDEV(q9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:49,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:49,columnNumber:11},this),a.jsxDEV(en,{path:"/photo-view",element:a.jsxDEV(Z9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:50,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:50,columnNumber:11},this),a.jsxDEV(en,{path:"/scripts-follow",element:a.jsxDEV(r$,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:51,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:51,columnNumber:11},this),a.jsxDEV(en,{path:"/teleprompter",element:a.jsxDEV(i$,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:52,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:52,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:43,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:42,columnNumber:7},this),a.jsxDEV(Wy,{children:[a.jsxDEV(en,{path:"/clock",element:a.jsxDEV(M9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:58,columnNumber:39},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:58,columnNumber:9},this),a.jsxDEV(en,{path:"/lower-thirds-xml",element:a.jsxDEV($9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:59,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:59,columnNumber:9},this),a.jsxDEV(en,{path:"/netlify-lower-thirds-xml",element:a.jsxDEV(B9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:60,columnNumber:58},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:60,columnNumber:9},this),a.jsxDEV(en,{path:"/schedule-xml",element:a.jsxDEV(G9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:61,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:61,columnNumber:9},this),a.jsxDEV(en,{path:"/netlify-schedule-xml",element:a.jsxDEV(X9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:62,columnNumber:54},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:62,columnNumber:9},this),a.jsxDEV(en,{path:"/custom-columns-xml",element:a.jsxDEV(W9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:63,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:63,columnNumber:9},this),a.jsxDEV(en,{path:"/netlify-custom-columns-xml",element:a.jsxDEV(H9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:64,columnNumber:60},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:64,columnNumber:9},this),a.jsxDEV(en,{path:"/google-sheets-vmix",element:a.jsxDEV(z9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:65,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:65,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:57,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:38,columnNumber:5},this)}function u$(){return a.jsxDEV(d4,{children:a.jsxDEV(t4,{children:a.jsxDEV(c$,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:75,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:74,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:73,columnNumber:5},this)}const d$=BU.createRoot(document.getElementById("root"));d$.render(a.jsxDEV(qr.StrictMode,{children:a.jsxDEV(u$,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/index.tsx",lineNumber:11,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/index.tsx",lineNumber:10,columnNumber:3},void 0));
