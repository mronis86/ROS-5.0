(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function zE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mb={exports:{}},mp={},pb={exports:{}},Df={exports:{}};Df.exports;var Dy;function SU(){return Dy||(Dy=1,(function(e,s){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t="18.3.1",i=Symbol.for("react.element"),o=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),x=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),R=Symbol.iterator,X="@@iterator";function G(B){if(B===null||typeof B!="object")return null;var Oe=R&&B[R]||B[X];return typeof Oe=="function"?Oe:null}var k={current:null},ie={transition:null},K={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},z={current:null},A={},ce=null;function T(B){ce=B}A.setExtraStackFrame=function(B){ce=B},A.getCurrentStack=null,A.getStackAddendum=function(){var B="";ce&&(B+=ce);var Oe=A.getCurrentStack;return Oe&&(B+=Oe()||""),B};var H=!1,Z=!1,W=!1,M=!1,Ce=!1,De={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:ie,ReactCurrentOwner:z};De.ReactDebugCurrentFrame=A,De.ReactCurrentActQueue=K;function we(B){{for(var Oe=arguments.length,Me=new Array(Oe>1?Oe-1:0),Ye=1;Ye<Oe;Ye++)Me[Ye-1]=arguments[Ye];He("warn",B,Me)}}function ge(B){{for(var Oe=arguments.length,Me=new Array(Oe>1?Oe-1:0),Ye=1;Ye<Oe;Ye++)Me[Ye-1]=arguments[Ye];He("error",B,Me)}}function He(B,Oe,Me){{var Ye=De.ReactDebugCurrentFrame,gt=Ye.getStackAddendum();gt!==""&&(Oe+="%s",Me=Me.concat([gt]));var $t=Me.map(function(jt){return String(jt)});$t.unshift("Warning: "+Oe),Function.prototype.apply.call(console[B],console,$t)}}var ue={};function ke(B,Oe){{var Me=B.constructor,Ye=Me&&(Me.displayName||Me.name)||"ReactClass",gt=Ye+"."+Oe;if(ue[gt])return;ge("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",Oe,Ye),ue[gt]=!0}}var Ue={isMounted:function(B){return!1},enqueueForceUpdate:function(B,Oe,Me){ke(B,"forceUpdate")},enqueueReplaceState:function(B,Oe,Me,Ye){ke(B,"replaceState")},enqueueSetState:function(B,Oe,Me,Ye){ke(B,"setState")}},te=Object.assign,le={};Object.freeze(le);function pe(B,Oe,Me){this.props=B,this.context=Oe,this.refs=le,this.updater=Me||Ue}pe.prototype.isReactComponent={},pe.prototype.setState=function(B,Oe){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Oe,"setState")},pe.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};{var de={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},oe=function(B,Oe){Object.defineProperty(pe.prototype,B,{get:function(){we("%s(...) is deprecated in plain JavaScript React classes. %s",Oe[0],Oe[1])}})};for(var Q in de)de.hasOwnProperty(Q)&&oe(Q,de[Q])}function _(){}_.prototype=pe.prototype;function J(B,Oe,Me){this.props=B,this.context=Oe,this.refs=le,this.updater=Me||Ue}var L=J.prototype=new _;L.constructor=J,te(L,pe.prototype),L.isPureReactComponent=!0;function he(){var B={current:null};return Object.seal(B),B}var q=Array.isArray;function Xe(B){return q(B)}function Ke(B){{var Oe=typeof Symbol=="function"&&Symbol.toStringTag,Me=Oe&&B[Symbol.toStringTag]||B.constructor.name||"Object";return Me}}function Dt(B){try{return St(B),!1}catch{return!0}}function St(B){return""+B}function it(B){if(Dt(B))return ge("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Ke(B)),St(B)}function tr(B,Oe,Me){var Ye=B.displayName;if(Ye)return Ye;var gt=Oe.displayName||Oe.name||"";return gt!==""?Me+"("+gt+")":Me}function Jt(B){return B.displayName||"Context"}function et(B){if(B==null)return null;if(typeof B.tag=="number"&&ge("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof B=="function")return B.displayName||B.name||null;if(typeof B=="string")return B;switch(B){case u:return"Fragment";case o:return"Portal";case f:return"Profiler";case c:return"StrictMode";case b:return"Suspense";case O:return"SuspenseList"}if(typeof B=="object")switch(B.$$typeof){case x:var Oe=B;return Jt(Oe)+".Consumer";case h:var Me=B;return Jt(Me._context)+".Provider";case v:return tr(B,B.render,"ForwardRef");case w:var Ye=B.displayName||null;return Ye!==null?Ye:et(B.type)||"Memo";case C:{var gt=B,$t=gt._payload,jt=gt._init;try{return et(jt($t))}catch{return null}}}return null}var ft=Object.prototype.hasOwnProperty,Fe={key:!0,ref:!0,__self:!0,__source:!0},ct,vt,mt;mt={};function At(B){if(ft.call(B,"ref")){var Oe=Object.getOwnPropertyDescriptor(B,"ref").get;if(Oe&&Oe.isReactWarning)return!1}return B.ref!==void 0}function hr(B){if(ft.call(B,"key")){var Oe=Object.getOwnPropertyDescriptor(B,"key").get;if(Oe&&Oe.isReactWarning)return!1}return B.key!==void 0}function pr(B,Oe){var Me=function(){ct||(ct=!0,ge("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Oe))};Me.isReactWarning=!0,Object.defineProperty(B,"key",{get:Me,configurable:!0})}function rr(B,Oe){var Me=function(){vt||(vt=!0,ge("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Oe))};Me.isReactWarning=!0,Object.defineProperty(B,"ref",{get:Me,configurable:!0})}function qe(B){if(typeof B.ref=="string"&&z.current&&B.__self&&z.current.stateNode!==B.__self){var Oe=et(z.current.type);mt[Oe]||(ge('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',Oe,B.ref),mt[Oe]=!0)}}var ut=function(B,Oe,Me,Ye,gt,$t,jt){var Ht={$$typeof:i,type:B,key:Oe,ref:Me,props:jt,_owner:$t};return Ht._store={},Object.defineProperty(Ht._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ht,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ye}),Object.defineProperty(Ht,"_source",{configurable:!1,enumerable:!1,writable:!1,value:gt}),Object.freeze&&(Object.freeze(Ht.props),Object.freeze(Ht)),Ht};function Ct(B,Oe,Me){var Ye,gt={},$t=null,jt=null,Ht=null,mr=null;if(Oe!=null){At(Oe)&&(jt=Oe.ref,qe(Oe)),hr(Oe)&&(it(Oe.key),$t=""+Oe.key),Ht=Oe.__self===void 0?null:Oe.__self,mr=Oe.__source===void 0?null:Oe.__source;for(Ye in Oe)ft.call(Oe,Ye)&&!Fe.hasOwnProperty(Ye)&&(gt[Ye]=Oe[Ye])}var Er=arguments.length-2;if(Er===1)gt.children=Me;else if(Er>1){for(var Hr=Array(Er),Gr=0;Gr<Er;Gr++)Hr[Gr]=arguments[Gr+2];Object.freeze&&Object.freeze(Hr),gt.children=Hr}if(B&&B.defaultProps){var or=B.defaultProps;for(Ye in or)gt[Ye]===void 0&&(gt[Ye]=or[Ye])}if($t||jt){var cr=typeof B=="function"?B.displayName||B.name||"Unknown":B;$t&&pr(gt,cr),jt&&rr(gt,cr)}return ut(B,$t,jt,Ht,mr,z.current,gt)}function $e(B,Oe){var Me=ut(B.type,Oe,B.ref,B._self,B._source,B._owner,B.props);return Me}function nt(B,Oe,Me){if(B==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ye,gt=te({},B.props),$t=B.key,jt=B.ref,Ht=B._self,mr=B._source,Er=B._owner;if(Oe!=null){At(Oe)&&(jt=Oe.ref,Er=z.current),hr(Oe)&&(it(Oe.key),$t=""+Oe.key);var Hr;B.type&&B.type.defaultProps&&(Hr=B.type.defaultProps);for(Ye in Oe)ft.call(Oe,Ye)&&!Fe.hasOwnProperty(Ye)&&(Oe[Ye]===void 0&&Hr!==void 0?gt[Ye]=Hr[Ye]:gt[Ye]=Oe[Ye])}var Gr=arguments.length-2;if(Gr===1)gt.children=Me;else if(Gr>1){for(var or=Array(Gr),cr=0;cr<Gr;cr++)or[cr]=arguments[cr+2];gt.children=or}return ut(B.type,$t,jt,Ht,mr,Er,gt)}function yt(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}var It=".",_e=":";function Ze(B){var Oe=/[=:]/g,Me={"=":"=0",":":"=2"},Ye=B.replace(Oe,function(gt){return Me[gt]});return"$"+Ye}var be=!1,Ge=/\/+/g;function We(B){return B.replace(Ge,"$&/")}function Ot(B,Oe){return typeof B=="object"&&B!==null&&B.key!=null?(it(B.key),Ze(""+B.key)):Oe.toString(36)}function Pt(B,Oe,Me,Ye,gt){var $t=typeof B;($t==="undefined"||$t==="boolean")&&(B=null);var jt=!1;if(B===null)jt=!0;else switch($t){case"string":case"number":jt=!0;break;case"object":switch(B.$$typeof){case i:case o:jt=!0}}if(jt){var Ht=B,mr=gt(Ht),Er=Ye===""?It+Ot(Ht,0):Ye;if(Xe(mr)){var Hr="";Er!=null&&(Hr=We(Er)+"/"),Pt(mr,Oe,Hr,"",function(Lu){return Lu})}else mr!=null&&(yt(mr)&&(mr.key&&(!Ht||Ht.key!==mr.key)&&it(mr.key),mr=$e(mr,Me+(mr.key&&(!Ht||Ht.key!==mr.key)?We(""+mr.key)+"/":"")+Er)),Oe.push(mr));return 1}var Gr,or,cr=0,Yr=Ye===""?It:Ye+_e;if(Xe(B))for(var Yn=0;Yn<B.length;Yn++)Gr=B[Yn],or=Yr+Ot(Gr,Yn),cr+=Pt(Gr,Oe,Me,or,gt);else{var hi=G(B);if(typeof hi=="function"){var Aa=B;hi===Aa.entries&&(be||we("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),be=!0);for(var vi=hi.call(Aa),Dl,Po=0;!(Dl=vi.next()).done;)Gr=Dl.value,or=Yr+Ot(Gr,Po++),cr+=Pt(Gr,Oe,Me,or,gt)}else if($t==="object"){var Ma=String(B);throw new Error("Objects are not valid as a React child (found: "+(Ma==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Ma)+"). If you meant to render a collection of children, use an array instead.")}}return cr}function xr(B,Oe,Me){if(B==null)return B;var Ye=[],gt=0;return Pt(B,Ye,"","",function($t){return Oe.call(Me,$t,gt++)}),Ye}function Sr(B){var Oe=0;return xr(B,function(){Oe++}),Oe}function Or(B,Oe,Me){xr(B,function(){Oe.apply(this,arguments)},Me)}function ws(B){return xr(B,function(Oe){return Oe})||[]}function lr(B){if(!yt(B))throw new Error("React.Children.only expected to receive a single React element child.");return B}function Mt(B){var Oe={$$typeof:x,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};Oe.Provider={$$typeof:h,_context:Oe};var Me=!1,Ye=!1,gt=!1;{var $t={$$typeof:x,_context:Oe};Object.defineProperties($t,{Provider:{get:function(){return Ye||(Ye=!0,ge("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),Oe.Provider},set:function(jt){Oe.Provider=jt}},_currentValue:{get:function(){return Oe._currentValue},set:function(jt){Oe._currentValue=jt}},_currentValue2:{get:function(){return Oe._currentValue2},set:function(jt){Oe._currentValue2=jt}},_threadCount:{get:function(){return Oe._threadCount},set:function(jt){Oe._threadCount=jt}},Consumer:{get:function(){return Me||(Me=!0,ge("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),Oe.Consumer}},displayName:{get:function(){return Oe.displayName},set:function(jt){gt||(we("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",jt),gt=!0)}}}),Oe.Consumer=$t}return Oe._currentRenderer=null,Oe._currentRenderer2=null,Oe}var sr=-1,Ut=0,ar=1,zr=2;function Xs(B){if(B._status===sr){var Oe=B._result,Me=Oe();if(Me.then(function($t){if(B._status===Ut||B._status===sr){var jt=B;jt._status=ar,jt._result=$t}},function($t){if(B._status===Ut||B._status===sr){var jt=B;jt._status=zr,jt._result=$t}}),B._status===sr){var Ye=B;Ye._status=Ut,Ye._result=Me}}if(B._status===ar){var gt=B._result;return gt===void 0&&ge(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,gt),"default"in gt||ge(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,gt),gt.default}else throw B._result}function Se(B){var Oe={_status:sr,_result:B},Me={$$typeof:C,_payload:Oe,_init:Xs};{var Ye,gt;Object.defineProperties(Me,{defaultProps:{configurable:!0,get:function(){return Ye},set:function($t){ge("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Ye=$t,Object.defineProperty(Me,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return gt},set:function($t){ge("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),gt=$t,Object.defineProperty(Me,"propTypes",{enumerable:!0})}}})}return Me}function V(B){B!=null&&B.$$typeof===w?ge("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof B!="function"?ge("forwardRef requires a render function but was given %s.",B===null?"null":typeof B):B.length!==0&&B.length!==2&&ge("forwardRef render functions accept exactly two parameters: props and ref. %s",B.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),B!=null&&(B.defaultProps!=null||B.propTypes!=null)&&ge("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var Oe={$$typeof:v,render:B};{var Me;Object.defineProperty(Oe,"displayName",{enumerable:!1,configurable:!0,get:function(){return Me},set:function(Ye){Me=Ye,!B.name&&!B.displayName&&(B.displayName=Ye)}})}return Oe}var re;re=Symbol.for("react.module.reference");function ee(B){return!!(typeof B=="string"||typeof B=="function"||B===u||B===f||Ce||B===c||B===b||B===O||M||B===S||H||Z||W||typeof B=="object"&&B!==null&&(B.$$typeof===C||B.$$typeof===w||B.$$typeof===h||B.$$typeof===x||B.$$typeof===v||B.$$typeof===re||B.getModuleId!==void 0))}function ae(B,Oe){ee(B)||ge("memo: The first argument must be a component. Instead received: %s",B===null?"null":typeof B);var Me={$$typeof:w,type:B,compare:Oe===void 0?null:Oe};{var Ye;Object.defineProperty(Me,"displayName",{enumerable:!1,configurable:!0,get:function(){return Ye},set:function(gt){Ye=gt,!B.name&&!B.displayName&&(B.displayName=gt)}})}return Me}function I(){var B=k.current;return B===null&&ge(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),B}function F(B){var Oe=I();if(B._context!==void 0){var Me=B._context;Me.Consumer===B?ge("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Me.Provider===B&&ge("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return Oe.useContext(B)}function me(B){var Oe=I();return Oe.useState(B)}function Ee(B,Oe,Me){var Ye=I();return Ye.useReducer(B,Oe,Me)}function xe(B){var Oe=I();return Oe.useRef(B)}function Ne(B,Oe){var Me=I();return Me.useEffect(B,Oe)}function ye(B,Oe){var Me=I();return Me.useInsertionEffect(B,Oe)}function ze(B,Oe){var Me=I();return Me.useLayoutEffect(B,Oe)}function tt(B,Oe){var Me=I();return Me.useCallback(B,Oe)}function Ve(B,Oe){var Me=I();return Me.useMemo(B,Oe)}function at(B,Oe,Me){var Ye=I();return Ye.useImperativeHandle(B,Oe,Me)}function pt(B,Oe){{var Me=I();return Me.useDebugValue(B,Oe)}}function ht(){var B=I();return B.useTransition()}function Xt(B){var Oe=I();return Oe.useDeferredValue(B)}function vr(){var B=I();return B.useId()}function Kr(B,Oe,Me){var Ye=I();return Ye.useSyncExternalStore(B,Oe,Me)}var Vn=0,ba,is,pn,ss,$r,Nc,Oo;function yo(){}yo.__reactDisabledLog=!0;function bl(){{if(Vn===0){ba=console.log,is=console.info,pn=console.warn,ss=console.error,$r=console.group,Nc=console.groupCollapsed,Oo=console.groupEnd;var B={configurable:!0,enumerable:!0,value:yo,writable:!0};Object.defineProperties(console,{info:B,log:B,warn:B,error:B,group:B,groupCollapsed:B,groupEnd:B})}Vn++}}function jn(){{if(Vn--,Vn===0){var B={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:te({},B,{value:ba}),info:te({},B,{value:is}),warn:te({},B,{value:pn}),error:te({},B,{value:ss}),group:te({},B,{value:$r}),groupCollapsed:te({},B,{value:Nc}),groupEnd:te({},B,{value:Oo})})}Vn<0&&ge("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ln=De.ReactCurrentDispatcher,sa;function Fi(B,Oe,Me){{if(sa===void 0)try{throw Error()}catch(gt){var Ye=gt.stack.trim().match(/\n( *(at )?)/);sa=Ye&&Ye[1]||""}return`
`+sa+B}}var di=!1,Eo;{var $i=typeof WeakMap=="function"?WeakMap:Map;Eo=new $i}function Dc(B,Oe){if(!B||di)return"";{var Me=Eo.get(B);if(Me!==void 0)return Me}var Ye;di=!0;var gt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var $t;$t=Ln.current,Ln.current=null,bl();try{if(Oe){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(Yr){Ye=Yr}Reflect.construct(B,[],jt)}else{try{jt.call()}catch(Yr){Ye=Yr}B.call(jt.prototype)}}else{try{throw Error()}catch(Yr){Ye=Yr}B()}}catch(Yr){if(Yr&&Ye&&typeof Yr.stack=="string"){for(var Ht=Yr.stack.split(`
`),mr=Ye.stack.split(`
`),Er=Ht.length-1,Hr=mr.length-1;Er>=1&&Hr>=0&&Ht[Er]!==mr[Hr];)Hr--;for(;Er>=1&&Hr>=0;Er--,Hr--)if(Ht[Er]!==mr[Hr]){if(Er!==1||Hr!==1)do if(Er--,Hr--,Hr<0||Ht[Er]!==mr[Hr]){var Gr=`
`+Ht[Er].replace(" at new "," at ");return B.displayName&&Gr.includes("<anonymous>")&&(Gr=Gr.replace("<anonymous>",B.displayName)),typeof B=="function"&&Eo.set(B,Gr),Gr}while(Er>=1&&Hr>=0);break}}}finally{di=!1,Ln.current=$t,jn(),Error.prepareStackTrace=gt}var or=B?B.displayName||B.name:"",cr=or?Fi(or):"";return typeof B=="function"&&Eo.set(B,cr),cr}function Co(B,Oe,Me){return Dc(B,!1)}function ju(B){var Oe=B.prototype;return!!(Oe&&Oe.isReactComponent)}function fi(B,Oe,Me){if(B==null)return"";if(typeof B=="function")return Dc(B,ju(B));if(typeof B=="string")return Fi(B);switch(B){case b:return Fi("Suspense");case O:return Fi("SuspenseList")}if(typeof B=="object")switch(B.$$typeof){case v:return Co(B.render);case w:return fi(B.type,Oe,Me);case C:{var Ye=B,gt=Ye._payload,$t=Ye._init;try{return fi($t(gt),Oe,Me)}catch{}}}return""}var Bi={},Xi=De.ReactDebugCurrentFrame;function yr(B){if(B){var Oe=B._owner,Me=fi(B.type,B._source,Oe?Oe.type:null);Xi.setExtraStackFrame(Me)}else Xi.setExtraStackFrame(null)}function Sc(B,Oe,Me,Ye,gt){{var $t=Function.call.bind(ft);for(var jt in B)if($t(B,jt)){var Ht=void 0;try{if(typeof B[jt]!="function"){var mr=Error((Ye||"React class")+": "+Me+" type `"+jt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof B[jt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw mr.name="Invariant Violation",mr}Ht=B[jt](Oe,jt,Ye,Me,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Er){Ht=Er}Ht&&!(Ht instanceof Error)&&(yr(gt),ge("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ye||"React class",Me,jt,typeof Ht),yr(null)),Ht instanceof Error&&!(Ht.message in Bi)&&(Bi[Ht.message]=!0,yr(gt),ge("Failed %s type: %s",Me,Ht.message),yr(null))}}}function Na(B){if(B){var Oe=B._owner,Me=fi(B.type,B._source,Oe?Oe.type:null);T(Me)}else T(null)}var Kt;Kt=!1;function Oc(){if(z.current){var B=et(z.current.type);if(B)return`

Check the render method of \``+B+"`."}return""}function ks(B){if(B!==void 0){var Oe=B.fileName.replace(/^.*[\\\/]/,""),Me=B.lineNumber;return`

Check your code at `+Oe+":"+Me+"."}return""}function Hi(B){return B!=null?ks(B.__source):""}var na={};function hn(B){var Oe=Oc();if(!Oe){var Me=typeof B=="string"?B:B.displayName||B.name;Me&&(Oe=`

Check the top-level render call using <`+Me+">.")}return Oe}function vs(B,Oe){if(!(!B._store||B._store.validated||B.key!=null)){B._store.validated=!0;var Me=hn(Oe);if(!na[Me]){na[Me]=!0;var Ye="";B&&B._owner&&B._owner!==z.current&&(Ye=" It was passed a child from "+et(B._owner.type)+"."),Na(B),ge('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Me,Ye),Na(null)}}}function jr(B,Oe){if(typeof B=="object"){if(Xe(B))for(var Me=0;Me<B.length;Me++){var Ye=B[Me];yt(Ye)&&vs(Ye,Oe)}else if(yt(B))B._store&&(B._store.validated=!0);else if(B){var gt=G(B);if(typeof gt=="function"&&gt!==B.entries)for(var $t=gt.call(B),jt;!(jt=$t.next()).done;)yt(jt.value)&&vs(jt.value,Oe)}}}function yc(B){{var Oe=B.type;if(Oe==null||typeof Oe=="string")return;var Me;if(typeof Oe=="function")Me=Oe.propTypes;else if(typeof Oe=="object"&&(Oe.$$typeof===v||Oe.$$typeof===w))Me=Oe.propTypes;else return;if(Me){var Ye=et(Oe);Sc(Me,B.props,"prop",Ye,B)}else if(Oe.PropTypes!==void 0&&!Kt){Kt=!0;var gt=et(Oe);ge("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",gt||"Unknown")}typeof Oe.getDefaultProps=="function"&&!Oe.getDefaultProps.isReactClassApproved&&ge("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function vn(B){{for(var Oe=Object.keys(B.props),Me=0;Me<Oe.length;Me++){var Ye=Oe[Me];if(Ye!=="children"&&Ye!=="key"){Na(B),ge("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ye),Na(null);break}}B.ref!==null&&(Na(B),ge("Invalid attribute `ref` supplied to `React.Fragment`."),Na(null))}}function Qs(B,Oe,Me){var Ye=ee(B);if(!Ye){var gt="";(B===void 0||typeof B=="object"&&B!==null&&Object.keys(B).length===0)&&(gt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var $t=Hi(Oe);$t?gt+=$t:gt+=Oc();var jt;B===null?jt="null":Xe(B)?jt="array":B!==void 0&&B.$$typeof===i?(jt="<"+(et(B.type)||"Unknown")+" />",gt=" Did you accidentally export a JSX literal instead of a component?"):jt=typeof B,ge("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",jt,gt)}var Ht=Ct.apply(this,arguments);if(Ht==null)return Ht;if(Ye)for(var mr=2;mr<arguments.length;mr++)jr(arguments[mr],B);return B===u?vn(Ht):yc(Ht),Ht}var zt=!1;function gn(B){var Oe=Qs.bind(null,B);return Oe.type=B,zt||(zt=!0,we("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(Oe,"type",{enumerable:!1,get:function(){return we("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:B}),B}}),Oe}function mi(B,Oe,Me){for(var Ye=nt.apply(this,arguments),gt=2;gt<arguments.length;gt++)jr(arguments[gt],Ye.type);return yc(Ye),Ye}function wo(B,Oe){var Me=ie.transition;ie.transition={};var Ye=ie.transition;ie.transition._updatedFibers=new Set;try{B()}finally{if(ie.transition=Me,Me===null&&Ye._updatedFibers){var gt=Ye._updatedFibers.size;gt>10&&we("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),Ye._updatedFibers.clear()}}}var fr=!1,ko=null;function Ro(B){if(ko===null)try{var Oe=("require"+Math.random()).slice(0,7),Me=e&&e[Oe];ko=Me.call(e,"timers").setImmediate}catch{ko=function(gt){fr===!1&&(fr=!0,typeof MessageChannel>"u"&&ge("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var $t=new MessageChannel;$t.port1.onmessage=gt,$t.port2.postMessage(void 0)}}return ko(B)}var pi=0,Rs=!1;function To(B){{var Oe=pi;pi++,K.current===null&&(K.current=[]);var Me=K.isBatchingLegacy,Ye;try{if(K.isBatchingLegacy=!0,Ye=B(),!Me&&K.didScheduleLegacyUpdate){var gt=K.current;gt!==null&&(K.didScheduleLegacyUpdate=!1,Gi(gt))}}catch(or){throw Da(Oe),or}finally{K.isBatchingLegacy=Me}if(Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var $t=Ye,jt=!1,Ht={then:function(or,cr){jt=!0,$t.then(function(Yr){Da(Oe),pi===0?Zs(Yr,or,cr):or(Yr)},function(Yr){Da(Oe),cr(Yr)})}};return!Rs&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){jt||(Rs=!0,ge("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),Ht}else{var mr=Ye;if(Da(Oe),pi===0){var Er=K.current;Er!==null&&(Gi(Er),K.current=null);var Hr={then:function(or,cr){K.current===null?(K.current=[],Zs(mr,or,cr)):or(mr)}};return Hr}else{var Gr={then:function(or,cr){or(mr)}};return Gr}}}}function Da(B){B!==pi-1&&ge("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),pi=B}function Zs(B,Oe,Me){{var Ye=K.current;if(Ye!==null)try{Gi(Ye),Ro(function(){Ye.length===0?(K.current=null,Oe(B)):Zs(B,Oe,Me)})}catch(gt){Me(gt)}else Oe(B)}}var cs=!1;function Gi(B){if(!cs){cs=!0;var Oe=0;try{for(;Oe<B.length;Oe++){var Me=B[Oe];do Me=Me(!0);while(Me!==null)}B.length=0}catch(Ye){throw B=B.slice(Oe+1),Ye}finally{cs=!1}}}var aa=Qs,Nl=mi,ia=gn,Ec={map:xr,forEach:Or,count:Sr,toArray:ws,only:lr};s.Children=Ec,s.Component=pe,s.Fragment=u,s.Profiler=f,s.PureComponent=J,s.StrictMode=c,s.Suspense=b,s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=De,s.act=To,s.cloneElement=Nl,s.createContext=Mt,s.createElement=aa,s.createFactory=ia,s.createRef=he,s.forwardRef=V,s.isValidElement=yt,s.lazy=Se,s.memo=ae,s.startTransition=wo,s.unstable_act=To,s.useCallback=tt,s.useContext=F,s.useDebugValue=pt,s.useDeferredValue=Xt,s.useEffect=Ne,s.useId=vr,s.useImperativeHandle=at,s.useInsertionEffect=ye,s.useLayoutEffect=ze,s.useMemo=Ve,s.useReducer=Ee,s.useRef=xe,s.useState=me,s.useSyncExternalStore=Kr,s.useTransition=ht,s.version=t,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(Df,Df.exports)),Df.exports}var Sy;function Zb(){return Sy||(Sy=1,pb.exports=SU()),pb.exports}var Oy;function OU(){if(Oy)return mp;Oy=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){var e=Zb(),s=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),C=Symbol.iterator,S="@@iterator";function R(Se){if(Se===null||typeof Se!="object")return null;var V=C&&Se[C]||Se[S];return typeof V=="function"?V:null}var X=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function G(Se){{for(var V=arguments.length,re=new Array(V>1?V-1:0),ee=1;ee<V;ee++)re[ee-1]=arguments[ee];k("error",Se,re)}}function k(Se,V,re){{var ee=X.ReactDebugCurrentFrame,ae=ee.getStackAddendum();ae!==""&&(V+="%s",re=re.concat([ae]));var I=re.map(function(F){return String(F)});I.unshift("Warning: "+V),Function.prototype.apply.call(console[Se],console,I)}}var ie=!1,K=!1,z=!1,A=!1,ce=!1,T;T=Symbol.for("react.module.reference");function H(Se){return!!(typeof Se=="string"||typeof Se=="function"||Se===i||Se===u||ce||Se===o||Se===x||Se===v||A||Se===w||ie||K||z||typeof Se=="object"&&Se!==null&&(Se.$$typeof===O||Se.$$typeof===b||Se.$$typeof===c||Se.$$typeof===f||Se.$$typeof===h||Se.$$typeof===T||Se.getModuleId!==void 0))}function Z(Se,V,re){var ee=Se.displayName;if(ee)return ee;var ae=V.displayName||V.name||"";return ae!==""?re+"("+ae+")":re}function W(Se){return Se.displayName||"Context"}function M(Se){if(Se==null)return null;if(typeof Se.tag=="number"&&G("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof Se=="function")return Se.displayName||Se.name||null;if(typeof Se=="string")return Se;switch(Se){case i:return"Fragment";case t:return"Portal";case u:return"Profiler";case o:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof Se=="object")switch(Se.$$typeof){case f:var V=Se;return W(V)+".Consumer";case c:var re=Se;return W(re._context)+".Provider";case h:return Z(Se,Se.render,"ForwardRef");case b:var ee=Se.displayName||null;return ee!==null?ee:M(Se.type)||"Memo";case O:{var ae=Se,I=ae._payload,F=ae._init;try{return M(F(I))}catch{return null}}}return null}var Ce=Object.assign,De=0,we,ge,He,ue,ke,Ue,te;function le(){}le.__reactDisabledLog=!0;function pe(){{if(De===0){we=console.log,ge=console.info,He=console.warn,ue=console.error,ke=console.group,Ue=console.groupCollapsed,te=console.groupEnd;var Se={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:Se,log:Se,warn:Se,error:Se,group:Se,groupCollapsed:Se,groupEnd:Se})}De++}}function de(){{if(De--,De===0){var Se={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Ce({},Se,{value:we}),info:Ce({},Se,{value:ge}),warn:Ce({},Se,{value:He}),error:Ce({},Se,{value:ue}),group:Ce({},Se,{value:ke}),groupCollapsed:Ce({},Se,{value:Ue}),groupEnd:Ce({},Se,{value:te})})}De<0&&G("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var oe=X.ReactCurrentDispatcher,Q;function _(Se,V,re){{if(Q===void 0)try{throw Error()}catch(ae){var ee=ae.stack.trim().match(/\n( *(at )?)/);Q=ee&&ee[1]||""}return`
`+Q+Se}}var J=!1,L;{var he=typeof WeakMap=="function"?WeakMap:Map;L=new he}function q(Se,V){if(!Se||J)return"";{var re=L.get(Se);if(re!==void 0)return re}var ee;J=!0;var ae=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var I;I=oe.current,oe.current=null,pe();try{if(V){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(Ve){ee=Ve}Reflect.construct(Se,[],F)}else{try{F.call()}catch(Ve){ee=Ve}Se.call(F.prototype)}}else{try{throw Error()}catch(Ve){ee=Ve}Se()}}catch(Ve){if(Ve&&ee&&typeof Ve.stack=="string"){for(var me=Ve.stack.split(`
`),Ee=ee.stack.split(`
`),xe=me.length-1,Ne=Ee.length-1;xe>=1&&Ne>=0&&me[xe]!==Ee[Ne];)Ne--;for(;xe>=1&&Ne>=0;xe--,Ne--)if(me[xe]!==Ee[Ne]){if(xe!==1||Ne!==1)do if(xe--,Ne--,Ne<0||me[xe]!==Ee[Ne]){var ye=`
`+me[xe].replace(" at new "," at ");return Se.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",Se.displayName)),typeof Se=="function"&&L.set(Se,ye),ye}while(xe>=1&&Ne>=0);break}}}finally{J=!1,oe.current=I,de(),Error.prepareStackTrace=ae}var ze=Se?Se.displayName||Se.name:"",tt=ze?_(ze):"";return typeof Se=="function"&&L.set(Se,tt),tt}function Xe(Se,V,re){return q(Se,!1)}function Ke(Se){var V=Se.prototype;return!!(V&&V.isReactComponent)}function Dt(Se,V,re){if(Se==null)return"";if(typeof Se=="function")return q(Se,Ke(Se));if(typeof Se=="string")return _(Se);switch(Se){case x:return _("Suspense");case v:return _("SuspenseList")}if(typeof Se=="object")switch(Se.$$typeof){case h:return Xe(Se.render);case b:return Dt(Se.type,V,re);case O:{var ee=Se,ae=ee._payload,I=ee._init;try{return Dt(I(ae),V,re)}catch{}}}return""}var St=Object.prototype.hasOwnProperty,it={},tr=X.ReactDebugCurrentFrame;function Jt(Se){if(Se){var V=Se._owner,re=Dt(Se.type,Se._source,V?V.type:null);tr.setExtraStackFrame(re)}else tr.setExtraStackFrame(null)}function et(Se,V,re,ee,ae){{var I=Function.call.bind(St);for(var F in Se)if(I(Se,F)){var me=void 0;try{if(typeof Se[F]!="function"){var Ee=Error((ee||"React class")+": "+re+" type `"+F+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof Se[F]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ee.name="Invariant Violation",Ee}me=Se[F](V,F,ee,re,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(xe){me=xe}me&&!(me instanceof Error)&&(Jt(ae),G("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ee||"React class",re,F,typeof me),Jt(null)),me instanceof Error&&!(me.message in it)&&(it[me.message]=!0,Jt(ae),G("Failed %s type: %s",re,me.message),Jt(null))}}}var ft=Array.isArray;function Fe(Se){return ft(Se)}function ct(Se){{var V=typeof Symbol=="function"&&Symbol.toStringTag,re=V&&Se[Symbol.toStringTag]||Se.constructor.name||"Object";return re}}function vt(Se){try{return mt(Se),!1}catch{return!0}}function mt(Se){return""+Se}function At(Se){if(vt(Se))return G("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ct(Se)),mt(Se)}var hr=X.ReactCurrentOwner,pr={key:!0,ref:!0,__self:!0,__source:!0},rr,qe,ut;ut={};function Ct(Se){if(St.call(Se,"ref")){var V=Object.getOwnPropertyDescriptor(Se,"ref").get;if(V&&V.isReactWarning)return!1}return Se.ref!==void 0}function $e(Se){if(St.call(Se,"key")){var V=Object.getOwnPropertyDescriptor(Se,"key").get;if(V&&V.isReactWarning)return!1}return Se.key!==void 0}function nt(Se,V){if(typeof Se.ref=="string"&&hr.current&&V&&hr.current.stateNode!==V){var re=M(hr.current.type);ut[re]||(G('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',M(hr.current.type),Se.ref),ut[re]=!0)}}function yt(Se,V){{var re=function(){rr||(rr=!0,G("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",V))};re.isReactWarning=!0,Object.defineProperty(Se,"key",{get:re,configurable:!0})}}function It(Se,V){{var re=function(){qe||(qe=!0,G("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",V))};re.isReactWarning=!0,Object.defineProperty(Se,"ref",{get:re,configurable:!0})}}var _e=function(Se,V,re,ee,ae,I,F){var me={$$typeof:s,type:Se,key:V,ref:re,props:F,_owner:I};return me._store={},Object.defineProperty(me._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(me,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ee}),Object.defineProperty(me,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ae}),Object.freeze&&(Object.freeze(me.props),Object.freeze(me)),me};function Ze(Se,V,re,ee,ae){{var I,F={},me=null,Ee=null;re!==void 0&&(At(re),me=""+re),$e(V)&&(At(V.key),me=""+V.key),Ct(V)&&(Ee=V.ref,nt(V,ae));for(I in V)St.call(V,I)&&!pr.hasOwnProperty(I)&&(F[I]=V[I]);if(Se&&Se.defaultProps){var xe=Se.defaultProps;for(I in xe)F[I]===void 0&&(F[I]=xe[I])}if(me||Ee){var Ne=typeof Se=="function"?Se.displayName||Se.name||"Unknown":Se;me&&yt(F,Ne),Ee&&It(F,Ne)}return _e(Se,me,Ee,ae,ee,hr.current,F)}}var be=X.ReactCurrentOwner,Ge=X.ReactDebugCurrentFrame;function We(Se){if(Se){var V=Se._owner,re=Dt(Se.type,Se._source,V?V.type:null);Ge.setExtraStackFrame(re)}else Ge.setExtraStackFrame(null)}var Ot;Ot=!1;function Pt(Se){return typeof Se=="object"&&Se!==null&&Se.$$typeof===s}function xr(){{if(be.current){var Se=M(be.current.type);if(Se)return`

Check the render method of \``+Se+"`."}return""}}function Sr(Se){{if(Se!==void 0){var V=Se.fileName.replace(/^.*[\\\/]/,""),re=Se.lineNumber;return`

Check your code at `+V+":"+re+"."}return""}}var Or={};function ws(Se){{var V=xr();if(!V){var re=typeof Se=="string"?Se:Se.displayName||Se.name;re&&(V=`

Check the top-level render call using <`+re+">.")}return V}}function lr(Se,V){{if(!Se._store||Se._store.validated||Se.key!=null)return;Se._store.validated=!0;var re=ws(V);if(Or[re])return;Or[re]=!0;var ee="";Se&&Se._owner&&Se._owner!==be.current&&(ee=" It was passed a child from "+M(Se._owner.type)+"."),We(Se),G('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',re,ee),We(null)}}function Mt(Se,V){{if(typeof Se!="object")return;if(Fe(Se))for(var re=0;re<Se.length;re++){var ee=Se[re];Pt(ee)&&lr(ee,V)}else if(Pt(Se))Se._store&&(Se._store.validated=!0);else if(Se){var ae=R(Se);if(typeof ae=="function"&&ae!==Se.entries)for(var I=ae.call(Se),F;!(F=I.next()).done;)Pt(F.value)&&lr(F.value,V)}}}function sr(Se){{var V=Se.type;if(V==null||typeof V=="string")return;var re;if(typeof V=="function")re=V.propTypes;else if(typeof V=="object"&&(V.$$typeof===h||V.$$typeof===b))re=V.propTypes;else return;if(re){var ee=M(V);et(re,Se.props,"prop",ee,Se)}else if(V.PropTypes!==void 0&&!Ot){Ot=!0;var ae=M(V);G("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ae||"Unknown")}typeof V.getDefaultProps=="function"&&!V.getDefaultProps.isReactClassApproved&&G("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ut(Se){{for(var V=Object.keys(Se.props),re=0;re<V.length;re++){var ee=V[re];if(ee!=="children"&&ee!=="key"){We(Se),G("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ee),We(null);break}}Se.ref!==null&&(We(Se),G("Invalid attribute `ref` supplied to `React.Fragment`."),We(null))}}var ar={};function zr(Se,V,re,ee,ae,I){{var F=H(Se);if(!F){var me="";(Se===void 0||typeof Se=="object"&&Se!==null&&Object.keys(Se).length===0)&&(me+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ee=Sr(ae);Ee?me+=Ee:me+=xr();var xe;Se===null?xe="null":Fe(Se)?xe="array":Se!==void 0&&Se.$$typeof===s?(xe="<"+(M(Se.type)||"Unknown")+" />",me=" Did you accidentally export a JSX literal instead of a component?"):xe=typeof Se,G("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",xe,me)}var Ne=Ze(Se,V,re,ae,I);if(Ne==null)return Ne;if(F){var ye=V.children;if(ye!==void 0)if(ee)if(Fe(ye)){for(var ze=0;ze<ye.length;ze++)Mt(ye[ze],Se);Object.freeze&&Object.freeze(ye)}else G("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Mt(ye,Se)}if(St.call(V,"key")){var tt=M(Se),Ve=Object.keys(V).filter(function(ht){return ht!=="key"}),at=Ve.length>0?"{key: someKey, "+Ve.join(": ..., ")+": ...}":"{key: someKey}";if(!ar[tt+at]){var pt=Ve.length>0?"{"+Ve.join(": ..., ")+": ...}":"{}";G(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,at,tt,pt,tt),ar[tt+at]=!0}}return Se===i?Ut(Ne):sr(Ne),Ne}}var Xs=zr;mp.Fragment=i,mp.jsxDEV=Xs})(),mp}var yy;function yU(){return yy||(yy=1,mb.exports=OU()),mb.exports}var a=yU(),E=Zb();const Wr=zE(E);var pp={},hb={exports:{}},ta={},vb={exports:{}},gb={},Ey;function EU(){return Ey||(Ey=1,(function(e){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var s=!1,t=5;function i(qe,ut){var Ct=qe.length;qe.push(ut),c(qe,ut,Ct)}function o(qe){return qe.length===0?null:qe[0]}function u(qe){if(qe.length===0)return null;var ut=qe[0],Ct=qe.pop();return Ct!==ut&&(qe[0]=Ct,f(qe,Ct,0)),ut}function c(qe,ut,Ct){for(var $e=Ct;$e>0;){var nt=$e-1>>>1,yt=qe[nt];if(h(yt,ut)>0)qe[nt]=ut,qe[$e]=yt,$e=nt;else return}}function f(qe,ut,Ct){for(var $e=Ct,nt=qe.length,yt=nt>>>1;$e<yt;){var It=($e+1)*2-1,_e=qe[It],Ze=It+1,be=qe[Ze];if(h(_e,ut)<0)Ze<nt&&h(be,_e)<0?(qe[$e]=be,qe[Ze]=ut,$e=Ze):(qe[$e]=_e,qe[It]=ut,$e=It);else if(Ze<nt&&h(be,ut)<0)qe[$e]=be,qe[Ze]=ut,$e=Ze;else return}}function h(qe,ut){var Ct=qe.sortIndex-ut.sortIndex;return Ct!==0?Ct:qe.id-ut.id}var x=1,v=2,b=3,O=4,w=5;function C(qe,ut){}var S=typeof performance=="object"&&typeof performance.now=="function";if(S){var R=performance;e.unstable_now=function(){return R.now()}}else{var X=Date,G=X.now();e.unstable_now=function(){return X.now()-G}}var k=1073741823,ie=-1,K=250,z=5e3,A=1e4,ce=k,T=[],H=[],Z=1,W=null,M=b,Ce=!1,De=!1,we=!1,ge=typeof setTimeout=="function"?setTimeout:null,He=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ke(qe){for(var ut=o(H);ut!==null;){if(ut.callback===null)u(H);else if(ut.startTime<=qe)u(H),ut.sortIndex=ut.expirationTime,i(T,ut);else return;ut=o(H)}}function Ue(qe){if(we=!1,ke(qe),!De)if(o(T)!==null)De=!0,mt(te);else{var ut=o(H);ut!==null&&At(Ue,ut.startTime-qe)}}function te(qe,ut){De=!1,we&&(we=!1,hr()),Ce=!0;var Ct=M;try{var $e;if(!s)return le(qe,ut)}finally{W=null,M=Ct,Ce=!1}}function le(qe,ut){var Ct=ut;for(ke(Ct),W=o(T);W!==null&&!(W.expirationTime>Ct&&(!qe||tr()));){var $e=W.callback;if(typeof $e=="function"){W.callback=null,M=W.priorityLevel;var nt=W.expirationTime<=Ct,yt=$e(nt);Ct=e.unstable_now(),typeof yt=="function"?W.callback=yt:W===o(T)&&u(T),ke(Ct)}else u(T);W=o(T)}if(W!==null)return!0;var It=o(H);return It!==null&&At(Ue,It.startTime-Ct),!1}function pe(qe,ut){switch(qe){case x:case v:case b:case O:case w:break;default:qe=b}var Ct=M;M=qe;try{return ut()}finally{M=Ct}}function de(qe){var ut;switch(M){case x:case v:case b:ut=b;break;default:ut=M;break}var Ct=M;M=ut;try{return qe()}finally{M=Ct}}function oe(qe){var ut=M;return function(){var Ct=M;M=ut;try{return qe.apply(this,arguments)}finally{M=Ct}}}function Q(qe,ut,Ct){var $e=e.unstable_now(),nt;if(typeof Ct=="object"&&Ct!==null){var yt=Ct.delay;typeof yt=="number"&&yt>0?nt=$e+yt:nt=$e}else nt=$e;var It;switch(qe){case x:It=ie;break;case v:It=K;break;case w:It=ce;break;case O:It=A;break;case b:default:It=z;break}var _e=nt+It,Ze={id:Z++,callback:ut,priorityLevel:qe,startTime:nt,expirationTime:_e,sortIndex:-1};return nt>$e?(Ze.sortIndex=nt,i(H,Ze),o(T)===null&&Ze===o(H)&&(we?hr():we=!0,At(Ue,nt-$e))):(Ze.sortIndex=_e,i(T,Ze),!De&&!Ce&&(De=!0,mt(te))),Ze}function _(){}function J(){!De&&!Ce&&(De=!0,mt(te))}function L(){return o(T)}function he(qe){qe.callback=null}function q(){return M}var Xe=!1,Ke=null,Dt=-1,St=t,it=-1;function tr(){var qe=e.unstable_now()-it;return!(qe<St)}function Jt(){}function et(qe){if(qe<0||qe>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}qe>0?St=Math.floor(1e3/qe):St=t}var ft=function(){if(Ke!==null){var qe=e.unstable_now();it=qe;var ut=!0,Ct=!0;try{Ct=Ke(ut,qe)}finally{Ct?Fe():(Xe=!1,Ke=null)}}else Xe=!1},Fe;if(typeof ue=="function")Fe=function(){ue(ft)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,vt=ct.port2;ct.port1.onmessage=ft,Fe=function(){vt.postMessage(null)}}else Fe=function(){ge(ft,0)};function mt(qe){Ke=qe,Xe||(Xe=!0,Fe())}function At(qe,ut){Dt=ge(function(){qe(e.unstable_now())},ut)}function hr(){He(Dt),Dt=-1}var pr=Jt,rr=null;e.unstable_IdlePriority=w,e.unstable_ImmediatePriority=x,e.unstable_LowPriority=O,e.unstable_NormalPriority=b,e.unstable_Profiling=rr,e.unstable_UserBlockingPriority=v,e.unstable_cancelCallback=he,e.unstable_continueExecution=J,e.unstable_forceFrameRate=et,e.unstable_getCurrentPriorityLevel=q,e.unstable_getFirstCallbackNode=L,e.unstable_next=de,e.unstable_pauseExecution=_,e.unstable_requestPaint=pr,e.unstable_runWithPriority=pe,e.unstable_scheduleCallback=Q,e.unstable_shouldYield=tr,e.unstable_wrapCallback=oe,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(gb)),gb}var Cy;function CU(){return Cy||(Cy=1,vb.exports=EU()),vb.exports}var wy;function wU(){if(wy)return ta;wy=1;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=Zb(),s=CU(),t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=!1;function o(r){i=r}function u(r){if(!i){for(var n=arguments.length,l=new Array(n>1?n-1:0),d=1;d<n;d++)l[d-1]=arguments[d];f("warn",r,l)}}function c(r){if(!i){for(var n=arguments.length,l=new Array(n>1?n-1:0),d=1;d<n;d++)l[d-1]=arguments[d];f("error",r,l)}}function f(r,n,l){{var d=t.ReactDebugCurrentFrame,m=d.getStackAddendum();m!==""&&(n+="%s",l=l.concat([m]));var g=l.map(function(N){return String(N)});g.unshift("Warning: "+n),Function.prototype.apply.call(console[r],console,g)}}var h=0,x=1,v=2,b=3,O=4,w=5,C=6,S=7,R=8,X=9,G=10,k=11,ie=12,K=13,z=14,A=15,ce=16,T=17,H=18,Z=19,W=21,M=22,Ce=23,De=24,we=25,ge=!0,He=!1,ue=!1,ke=!1,Ue=!1,te=!0,le=!0,pe=!0,de=!0,oe=new Set,Q={},_={};function J(r,n){L(r,n),L(r+"Capture",n)}function L(r,n){Q[r]&&c("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",r),Q[r]=n;{var l=r.toLowerCase();_[l]=r,r==="onDoubleClick"&&(_.ondblclick=r)}for(var d=0;d<n.length;d++)oe.add(n[d])}var he=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q=Object.prototype.hasOwnProperty;function Xe(r){{var n=typeof Symbol=="function"&&Symbol.toStringTag,l=n&&r[Symbol.toStringTag]||r.constructor.name||"Object";return l}}function Ke(r){try{return Dt(r),!1}catch{return!0}}function Dt(r){return""+r}function St(r,n){if(Ke(r))return c("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",n,Xe(r)),Dt(r)}function it(r){if(Ke(r))return c("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Xe(r)),Dt(r)}function tr(r,n){if(Ke(r))return c("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",n,Xe(r)),Dt(r)}function Jt(r,n){if(Ke(r))return c("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",n,Xe(r)),Dt(r)}function et(r){if(Ke(r))return c("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",Xe(r)),Dt(r)}function ft(r){if(Ke(r))return c("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",Xe(r)),Dt(r)}var Fe=0,ct=1,vt=2,mt=3,At=4,hr=5,pr=6,rr=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",qe=rr+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",ut=new RegExp("^["+rr+"]["+qe+"]*$"),Ct={},$e={};function nt(r){return q.call($e,r)?!0:q.call(Ct,r)?!1:ut.test(r)?($e[r]=!0,!0):(Ct[r]=!0,c("Invalid attribute name: `%s`",r),!1)}function yt(r,n,l){return n!==null?n.type===Fe:l?!1:r.length>2&&(r[0]==="o"||r[0]==="O")&&(r[1]==="n"||r[1]==="N")}function It(r,n,l,d){if(l!==null&&l.type===Fe)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":{if(d)return!1;if(l!==null)return!l.acceptsBooleans;var m=r.toLowerCase().slice(0,5);return m!=="data-"&&m!=="aria-"}default:return!1}}function _e(r,n,l,d){if(n===null||typeof n>"u"||It(r,n,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case mt:return!n;case At:return n===!1;case hr:return isNaN(n);case pr:return isNaN(n)||n<1}return!1}function Ze(r){return Ge.hasOwnProperty(r)?Ge[r]:null}function be(r,n,l,d,m,g,N){this.acceptsBooleans=n===vt||n===mt||n===At,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=n,this.sanitizeURL=g,this.removeEmptyString=N}var Ge={},We=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];We.forEach(function(r){Ge[r]=new be(r,Fe,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var n=r[0],l=r[1];Ge[n]=new be(n,ct,!1,l,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){Ge[r]=new be(r,vt,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Ge[r]=new be(r,vt,!1,r,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(r){Ge[r]=new be(r,mt,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){Ge[r]=new be(r,mt,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){Ge[r]=new be(r,At,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){Ge[r]=new be(r,pr,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){Ge[r]=new be(r,hr,!1,r.toLowerCase(),null,!1,!1)});var Ot=/[\-\:]([a-z])/g,Pt=function(r){return r[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(r){var n=r.replace(Ot,Pt);Ge[n]=new be(n,ct,!1,r,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(r){var n=r.replace(Ot,Pt);Ge[n]=new be(n,ct,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var n=r.replace(Ot,Pt);Ge[n]=new be(n,ct,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){Ge[r]=new be(r,ct,!1,r.toLowerCase(),null,!1,!1)});var xr="xlinkHref";Ge[xr]=new be("xlinkHref",ct,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){Ge[r]=new be(r,ct,!1,r.toLowerCase(),null,!0,!0)});var Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Or=!1;function ws(r){!Or&&Sr.test(r)&&(Or=!0,c("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(r)))}function lr(r,n,l,d){if(d.mustUseProperty){var m=d.propertyName;return r[m]}else{St(l,n),d.sanitizeURL&&ws(""+l);var g=d.attributeName,N=null;if(d.type===At){if(r.hasAttribute(g)){var P=r.getAttribute(g);return P===""?!0:_e(n,l,d,!1)?P:P===""+l?l:P}}else if(r.hasAttribute(g)){if(_e(n,l,d,!1))return r.getAttribute(g);if(d.type===mt)return l;N=r.getAttribute(g)}return _e(n,l,d,!1)?N===null?l:N:N===""+l?l:N}}function Mt(r,n,l,d){{if(!nt(n))return;if(!r.hasAttribute(n))return l===void 0?void 0:null;var m=r.getAttribute(n);return St(l,n),m===""+l?l:m}}function sr(r,n,l,d){var m=Ze(n);if(!yt(n,m,d)){if(_e(n,l,m,d)&&(l=null),d||m===null){if(nt(n)){var g=n;l===null?r.removeAttribute(g):(St(l,n),r.setAttribute(g,""+l))}return}var N=m.mustUseProperty;if(N){var P=m.propertyName;if(l===null){var j=m.type;r[P]=j===mt?!1:""}else r[P]=l;return}var ne=m.attributeName,fe=m.attributeNamespace;if(l===null)r.removeAttribute(ne);else{var Te=m.type,Re;Te===mt||Te===At&&l===!0?Re="":(St(l,ne),Re=""+l,m.sanitizeURL&&ws(Re.toString())),fe?r.setAttributeNS(fe,ne,Re):r.setAttribute(ne,Re)}}}var Ut=Symbol.for("react.element"),ar=Symbol.for("react.portal"),zr=Symbol.for("react.fragment"),Xs=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),re=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),Ee=Symbol.for("react.scope"),xe=Symbol.for("react.debug_trace_mode"),Ne=Symbol.for("react.offscreen"),ye=Symbol.for("react.legacy_hidden"),ze=Symbol.for("react.cache"),tt=Symbol.for("react.tracing_marker"),Ve=Symbol.iterator,at="@@iterator";function pt(r){if(r===null||typeof r!="object")return null;var n=Ve&&r[Ve]||r[at];return typeof n=="function"?n:null}var ht=Object.assign,Xt=0,vr,Kr,Vn,ba,is,pn,ss;function $r(){}$r.__reactDisabledLog=!0;function Nc(){{if(Xt===0){vr=console.log,Kr=console.info,Vn=console.warn,ba=console.error,is=console.group,pn=console.groupCollapsed,ss=console.groupEnd;var r={configurable:!0,enumerable:!0,value:$r,writable:!0};Object.defineProperties(console,{info:r,log:r,warn:r,error:r,group:r,groupCollapsed:r,groupEnd:r})}Xt++}}function Oo(){{if(Xt--,Xt===0){var r={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:ht({},r,{value:vr}),info:ht({},r,{value:Kr}),warn:ht({},r,{value:Vn}),error:ht({},r,{value:ba}),group:ht({},r,{value:is}),groupCollapsed:ht({},r,{value:pn}),groupEnd:ht({},r,{value:ss})})}Xt<0&&c("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var yo=t.ReactCurrentDispatcher,bl;function jn(r,n,l){{if(bl===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);bl=d&&d[1]||""}return`
`+bl+r}}var Ln=!1,sa;{var Fi=typeof WeakMap=="function"?WeakMap:Map;sa=new Fi}function di(r,n){if(!r||Ln)return"";{var l=sa.get(r);if(l!==void 0)return l}var d;Ln=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var g;g=yo.current,yo.current=null,Nc();try{if(n){var N=function(){throw Error()};if(Object.defineProperty(N.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(N,[])}catch(Be){d=Be}Reflect.construct(r,[],N)}else{try{N.call()}catch(Be){d=Be}r.call(N.prototype)}}else{try{throw Error()}catch(Be){d=Be}r()}}catch(Be){if(Be&&d&&typeof Be.stack=="string"){for(var P=Be.stack.split(`
`),j=d.stack.split(`
`),ne=P.length-1,fe=j.length-1;ne>=1&&fe>=0&&P[ne]!==j[fe];)fe--;for(;ne>=1&&fe>=0;ne--,fe--)if(P[ne]!==j[fe]){if(ne!==1||fe!==1)do if(ne--,fe--,fe<0||P[ne]!==j[fe]){var Te=`
`+P[ne].replace(" at new "," at ");return r.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",r.displayName)),typeof r=="function"&&sa.set(r,Te),Te}while(ne>=1&&fe>=0);break}}}finally{Ln=!1,yo.current=g,Oo(),Error.prepareStackTrace=m}var Re=r?r.displayName||r.name:"",Ie=Re?jn(Re):"";return typeof r=="function"&&sa.set(r,Ie),Ie}function Eo(r,n,l){return di(r,!0)}function $i(r,n,l){return di(r,!1)}function Dc(r){var n=r.prototype;return!!(n&&n.isReactComponent)}function Co(r,n,l){if(r==null)return"";if(typeof r=="function")return di(r,Dc(r));if(typeof r=="string")return jn(r);switch(r){case ae:return jn("Suspense");case I:return jn("SuspenseList")}if(typeof r=="object")switch(r.$$typeof){case ee:return $i(r.render);case F:return Co(r.type,n,l);case me:{var d=r,m=d._payload,g=d._init;try{return Co(g(m),n,l)}catch{}}}return""}function ju(r){switch(r._debugOwner&&r._debugOwner.type,r._debugSource,r.tag){case w:return jn(r.type);case ce:return jn("Lazy");case K:return jn("Suspense");case Z:return jn("SuspenseList");case h:case v:case A:return $i(r.type);case k:return $i(r.type.render);case x:return Eo(r.type);default:return""}}function fi(r){try{var n="",l=r;do n+=ju(l),l=l.return;while(l);return n}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Bi(r,n,l){var d=r.displayName;if(d)return d;var m=n.displayName||n.name||"";return m!==""?l+"("+m+")":l}function Xi(r){return r.displayName||"Context"}function yr(r){if(r==null)return null;if(typeof r.tag=="number"&&c("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case zr:return"Fragment";case ar:return"Portal";case Se:return"Profiler";case Xs:return"StrictMode";case ae:return"Suspense";case I:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case re:var n=r;return Xi(n)+".Consumer";case V:var l=r;return Xi(l._context)+".Provider";case ee:return Bi(r,r.render,"ForwardRef");case F:var d=r.displayName||null;return d!==null?d:yr(r.type)||"Memo";case me:{var m=r,g=m._payload,N=m._init;try{return yr(N(g))}catch{return null}}}return null}function Sc(r,n,l){var d=n.displayName||n.name||"";return r.displayName||(d!==""?l+"("+d+")":l)}function Na(r){return r.displayName||"Context"}function Kt(r){var n=r.tag,l=r.type;switch(n){case De:return"Cache";case X:var d=l;return Na(d)+".Consumer";case G:var m=l;return Na(m._context)+".Provider";case H:return"DehydratedFragment";case k:return Sc(l,l.render,"ForwardRef");case S:return"Fragment";case w:return l;case O:return"Portal";case b:return"Root";case C:return"Text";case ce:return yr(l);case R:return l===Xs?"StrictMode":"Mode";case M:return"Offscreen";case ie:return"Profiler";case W:return"Scope";case K:return"Suspense";case Z:return"SuspenseList";case we:return"TracingMarker";case x:case h:case T:case v:case z:case A:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;break}return null}var Oc=t.ReactDebugCurrentFrame,ks=null,Hi=!1;function na(){{if(ks===null)return null;var r=ks._debugOwner;if(r!==null&&typeof r<"u")return Kt(r)}return null}function hn(){return ks===null?"":fi(ks)}function vs(){Oc.getCurrentStack=null,ks=null,Hi=!1}function jr(r){Oc.getCurrentStack=r===null?null:hn,ks=r,Hi=!1}function yc(){return ks}function vn(r){Hi=r}function Qs(r){return""+r}function zt(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return ft(r),r;default:return""}}var gn={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function mi(r,n){gn[n.type]||n.onChange||n.onInput||n.readOnly||n.disabled||n.value==null||c("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),n.onChange||n.readOnly||n.disabled||n.checked==null||c("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function wo(r){var n=r.type,l=r.nodeName;return l&&l.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fr(r){return r._valueTracker}function ko(r){r._valueTracker=null}function Ro(r){var n="";return r&&(wo(r)?n=r.checked?"true":"false":n=r.value),n}function pi(r){var n=wo(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,n);ft(r[n]);var d=""+r[n];if(!(r.hasOwnProperty(n)||typeof l>"u"||typeof l.get!="function"||typeof l.set!="function")){var m=l.get,g=l.set;Object.defineProperty(r,n,{configurable:!0,get:function(){return m.call(this)},set:function(P){ft(P),d=""+P,g.call(this,P)}}),Object.defineProperty(r,n,{enumerable:l.enumerable});var N={getValue:function(){return d},setValue:function(P){ft(P),d=""+P},stopTracking:function(){ko(r),delete r[n]}};return N}}function Rs(r){fr(r)||(r._valueTracker=pi(r))}function To(r){if(!r)return!1;var n=fr(r);if(!n)return!0;var l=n.getValue(),d=Ro(r);return d!==l?(n.setValue(d),!0):!1}function Da(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Zs=!1,cs=!1,Gi=!1,aa=!1;function Nl(r){var n=r.type==="checkbox"||r.type==="radio";return n?r.checked!=null:r.value!=null}function ia(r,n){var l=r,d=n.checked,m=ht({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??l._wrapperState.initialChecked});return m}function Ec(r,n){mi("input",n),n.checked!==void 0&&n.defaultChecked!==void 0&&!cs&&(c("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",na()||"A component",n.type),cs=!0),n.value!==void 0&&n.defaultValue!==void 0&&!Zs&&(c("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",na()||"A component",n.type),Zs=!0);var l=r,d=n.defaultValue==null?"":n.defaultValue;l._wrapperState={initialChecked:n.checked!=null?n.checked:n.defaultChecked,initialValue:zt(n.value!=null?n.value:d),controlled:Nl(n)}}function B(r,n){var l=r,d=n.checked;d!=null&&sr(l,"checked",d,!1)}function Oe(r,n){var l=r;{var d=Nl(n);!l._wrapperState.controlled&&d&&!aa&&(c("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),aa=!0),l._wrapperState.controlled&&!d&&!Gi&&(c("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),Gi=!0)}B(r,n);var m=zt(n.value),g=n.type;if(m!=null)g==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=Qs(m)):l.value!==Qs(m)&&(l.value=Qs(m));else if(g==="submit"||g==="reset"){l.removeAttribute("value");return}n.hasOwnProperty("value")?$t(l,n.type,m):n.hasOwnProperty("defaultValue")&&$t(l,n.type,zt(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(l.defaultChecked=!!n.defaultChecked)}function Me(r,n,l){var d=r;if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var m=n.type,g=m==="submit"||m==="reset";if(g&&(n.value===void 0||n.value===null))return;var N=Qs(d._wrapperState.initialValue);l||N!==d.value&&(d.value=N),d.defaultValue=N}var P=d.name;P!==""&&(d.name=""),d.defaultChecked=!d.defaultChecked,d.defaultChecked=!!d._wrapperState.initialChecked,P!==""&&(d.name=P)}function Ye(r,n){var l=r;Oe(l,n),gt(l,n)}function gt(r,n){var l=n.name;if(n.type==="radio"&&l!=null){for(var d=r;d.parentNode;)d=d.parentNode;St(l,"name");for(var m=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),g=0;g<m.length;g++){var N=m[g];if(!(N===r||N.form!==r.form)){var P=Zm(N);if(!P)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");To(N),Oe(N,P)}}}}function $t(r,n,l){(n!=="number"||Da(r.ownerDocument)!==r)&&(l==null?r.defaultValue=Qs(r._wrapperState.initialValue):r.defaultValue!==Qs(l)&&(r.defaultValue=Qs(l)))}var jt=!1,Ht=!1,mr=!1;function Er(r,n){n.value==null&&(typeof n.children=="object"&&n.children!==null?e.Children.forEach(n.children,function(l){l!=null&&(typeof l=="string"||typeof l=="number"||Ht||(Ht=!0,c("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):n.dangerouslySetInnerHTML!=null&&(mr||(mr=!0,c("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),n.selected!=null&&!jt&&(c("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),jt=!0)}function Hr(r,n){n.value!=null&&r.setAttribute("value",Qs(zt(n.value)))}var Gr=Array.isArray;function or(r){return Gr(r)}var cr;cr=!1;function Yr(){var r=na();return r?`

Check the render method of \``+r+"`.":""}var Yn=["value","defaultValue"];function hi(r){{mi("select",r);for(var n=0;n<Yn.length;n++){var l=Yn[n];if(r[l]!=null){var d=or(r[l]);r.multiple&&!d?c("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",l,Yr()):!r.multiple&&d&&c("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",l,Yr())}}}}function Aa(r,n,l,d){var m=r.options;if(n){for(var g=l,N={},P=0;P<g.length;P++)N["$"+g[P]]=!0;for(var j=0;j<m.length;j++){var ne=N.hasOwnProperty("$"+m[j].value);m[j].selected!==ne&&(m[j].selected=ne),ne&&d&&(m[j].defaultSelected=!0)}}else{for(var fe=Qs(zt(l)),Te=null,Re=0;Re<m.length;Re++){if(m[Re].value===fe){m[Re].selected=!0,d&&(m[Re].defaultSelected=!0);return}Te===null&&!m[Re].disabled&&(Te=m[Re])}Te!==null&&(Te.selected=!0)}}function vi(r,n){return ht({},n,{value:void 0})}function Dl(r,n){var l=r;hi(n),l._wrapperState={wasMultiple:!!n.multiple},n.value!==void 0&&n.defaultValue!==void 0&&!cr&&(c("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),cr=!0)}function Po(r,n){var l=r;l.multiple=!!n.multiple;var d=n.value;d!=null?Aa(l,!!n.multiple,d,!1):n.defaultValue!=null&&Aa(l,!!n.multiple,n.defaultValue,!0)}function Ma(r,n){var l=r,d=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!n.multiple;var m=n.value;m!=null?Aa(l,!!n.multiple,m,!1):d!==!!n.multiple&&(n.defaultValue!=null?Aa(l,!!n.multiple,n.defaultValue,!0):Aa(l,!!n.multiple,n.multiple?[]:"",!1))}function Lu(r,n){var l=r,d=n.value;d!=null&&Aa(l,!!n.multiple,d,!1)}var Cc=!1;function gs(r,n){var l=r;if(n.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var d=ht({},n,{value:void 0,defaultValue:void 0,children:Qs(l._wrapperState.initialValue)});return d}function Br(r,n){var l=r;mi("textarea",n),n.value!==void 0&&n.defaultValue!==void 0&&!Cc&&(c("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",na()||"A component"),Cc=!0);var d=n.value;if(d==null){var m=n.children,g=n.defaultValue;if(m!=null){c("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(g!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(or(m)){if(m.length>1)throw new Error("<textarea> can only have at most one child.");m=m[0]}g=m}}g==null&&(g=""),d=g}l._wrapperState={initialValue:zt(d)}}function xn(r,n){var l=r,d=zt(n.value),m=zt(n.defaultValue);if(d!=null){var g=Qs(d);g!==l.value&&(l.value=g),n.defaultValue==null&&l.defaultValue!==g&&(l.defaultValue=g)}m!=null&&(l.defaultValue=Qs(m))}function Sl(r,n){var l=r,d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function tm(r,n){xn(r,n)}var es="http://www.w3.org/1999/xhtml",sh="http://www.w3.org/1998/Math/MathML",Ol="http://www.w3.org/2000/svg";function yl(r){switch(r){case"svg":return Ol;case"math":return sh;default:return es}}function Au(r,n){return r==null||r===es?yl(n):r===Ol&&n==="foreignObject"?es:r}var rm=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,d,m){MSApp.execUnsafeLocalFunction(function(){return r(n,l,d,m)})}:r},wc,sm=rm(function(r,n){if(r.namespaceURI===Ol&&!("innerHTML"in r)){wc=wc||document.createElement("div"),wc.innerHTML="<svg>"+n.valueOf().toString()+"</svg>";for(var l=wc.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;l.firstChild;)r.appendChild(l.firstChild);return}r.innerHTML=n}),bn=1,Ia=3,us=8,Fa=9,Mu=11,kc=function(r,n){if(n){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===Ia){l.nodeValue=n;return}}r.textContent=n},Rc={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function nh(r,n){return r+n.charAt(0).toUpperCase()+n.substring(1)}var ah=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(r){ah.forEach(function(n){El[nh(n,r)]=El[r]})});function Iu(r,n,l){var d=n==null||typeof n=="boolean"||n==="";return d?"":!l&&typeof n=="number"&&n!==0&&!(El.hasOwnProperty(r)&&El[r])?n+"px":(Jt(n,r),(""+n).trim())}var Fu=/([A-Z])/g,$u=/^ms-/;function Bu(r){return r.replace(Fu,"-$1").toLowerCase().replace($u,"-ms-")}var nm=function(){};{var ih=/^(?:webkit|moz|o)[A-Z]/,Ar=/^-ms-/,Ts=/-(.)/g,Xu=/;\s*$/,$a={},Nn={},Hu=!1,am=!1,im=function(r){return r.replace(Ts,function(n,l){return l.toUpperCase()})},Xr=function(r){$a.hasOwnProperty(r)&&$a[r]||($a[r]=!0,c("Unsupported style property %s. Did you mean %s?",r,im(r.replace(Ar,"ms-"))))},oh=function(r){$a.hasOwnProperty(r)&&$a[r]||($a[r]=!0,c("Unsupported vendor-prefixed style property %s. Did you mean %s?",r,r.charAt(0).toUpperCase()+r.slice(1)))},lh=function(r,n){Nn.hasOwnProperty(n)&&Nn[n]||(Nn[n]=!0,c(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,r,n.replace(Xu,"")))},ch=function(r,n){Hu||(Hu=!0,c("`NaN` is an invalid value for the `%s` css style property.",r))},om=function(r,n){am||(am=!0,c("`Infinity` is an invalid value for the `%s` css style property.",r))};nm=function(r,n){r.indexOf("-")>-1?Xr(r):ih.test(r)?oh(r):Xu.test(n)&&lh(r,n),typeof n=="number"&&(isNaN(n)?ch(r,n):isFinite(n)||om(r,n))}}var lm=nm;function uh(r){{var n="",l="";for(var d in r)if(r.hasOwnProperty(d)){var m=r[d];if(m!=null){var g=d.indexOf("--")===0;n+=l+(g?d:Bu(d))+":",n+=Iu(d,m,g),l=";"}}return n||null}}function Wi(r,n){var l=r.style;for(var d in n)if(n.hasOwnProperty(d)){var m=d.indexOf("--")===0;m||lm(d,n[d]);var g=Iu(d,n[d],m);d==="float"&&(d="cssFloat"),m?l.setProperty(d,g):l[d]=g}}function dh(r){return r==null||typeof r=="boolean"||r===""}function cm(r){var n={};for(var l in r)for(var d=Rc[l]||[l],m=0;m<d.length;m++)n[d[m]]=l;return n}function fh(r,n){{if(!n)return;var l=cm(r),d=cm(n),m={};for(var g in l){var N=l[g],P=d[g];if(P&&N!==P){var j=N+","+P;if(m[j])continue;m[j]=!0,c("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",dh(r[N])?"Removing":"Updating",N,P)}}}}var zi={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},mh=ht({menuitem:!0},zi),ph="__html";function Tc(r,n){if(n){if(mh[r]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw new Error(r+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof n.dangerouslySetInnerHTML!="object"||!(ph in n.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!n.suppressContentEditableWarning&&n.contentEditable&&n.children!=null&&c("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),n.style!=null&&typeof n.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function Ba(r,n){if(r.indexOf("-")===-1)return typeof n.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},um={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},gi={},wl=new RegExp("^(aria)-["+qe+"]*$"),hh=new RegExp("^(aria)[A-Z]["+qe+"]*$");function vh(r,n){{if(q.call(gi,n)&&gi[n])return!0;if(hh.test(n)){var l="aria-"+n.slice(4).toLowerCase(),d=um.hasOwnProperty(l)?l:null;if(d==null)return c("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",n),gi[n]=!0,!0;if(n!==d)return c("Invalid ARIA attribute `%s`. Did you mean `%s`?",n,d),gi[n]=!0,!0}if(wl.test(n)){var m=n.toLowerCase(),g=um.hasOwnProperty(m)?m:null;if(g==null)return gi[n]=!0,!1;if(n!==g)return c("Unknown ARIA attribute `%s`. Did you mean `%s`?",n,g),gi[n]=!0,!0}}return!0}function gh(r,n){{var l=[];for(var d in n){var m=vh(r,d);m||l.push(d)}var g=l.map(function(N){return"`"+N+"`"}).join(", ");l.length===1?c("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",g,r):l.length>1&&c("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",g,r)}}function xh(r,n){Ba(r,n)||gh(r,n)}var kl=!1;function bh(r,n){{if(r!=="input"&&r!=="textarea"&&r!=="select")return;n!=null&&n.value===null&&!kl&&(kl=!0,r==="select"&&n.multiple?c("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",r):c("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",r))}}var dm=function(){};{var en={},fm=/^on./,Sa=/^on[^A-Z]/,Nh=new RegExp("^(aria)-["+qe+"]*$"),Dh=new RegExp("^(aria)[A-Z]["+qe+"]*$");dm=function(r,n,l,d){if(q.call(en,n)&&en[n])return!0;var m=n.toLowerCase();if(m==="onfocusin"||m==="onfocusout")return c("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),en[n]=!0,!0;if(d!=null){var g=d.registrationNameDependencies,N=d.possibleRegistrationNames;if(g.hasOwnProperty(n))return!0;var P=N.hasOwnProperty(m)?N[m]:null;if(P!=null)return c("Invalid event handler property `%s`. Did you mean `%s`?",n,P),en[n]=!0,!0;if(fm.test(n))return c("Unknown event handler property `%s`. It will be ignored.",n),en[n]=!0,!0}else if(fm.test(n))return Sa.test(n)&&c("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",n),en[n]=!0,!0;if(Nh.test(n)||Dh.test(n))return!0;if(m==="innerhtml")return c("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),en[n]=!0,!0;if(m==="aria")return c("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),en[n]=!0,!0;if(m==="is"&&l!==null&&l!==void 0&&typeof l!="string")return c("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof l),en[n]=!0,!0;if(typeof l=="number"&&isNaN(l))return c("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",n),en[n]=!0,!0;var j=Ze(n),ne=j!==null&&j.type===Fe;if(Cl.hasOwnProperty(m)){var fe=Cl[m];if(fe!==n)return c("Invalid DOM property `%s`. Did you mean `%s`?",n,fe),en[n]=!0,!0}else if(!ne&&n!==m)return c("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",n,m),en[n]=!0,!0;return typeof l=="boolean"&&It(n,l,j,!1)?(l?c('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',l,n,n,l,n):c('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',l,n,n,l,n,n,n),en[n]=!0,!0):ne?!0:It(n,l,j,!1)?(en[n]=!0,!1):((l==="false"||l==="true")&&j!==null&&j.type===mt&&(c("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",l,n,l==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',n,l),en[n]=!0),!0)}}var mm=function(r,n,l){{var d=[];for(var m in n){var g=dm(r,m,n[m],l);g||d.push(m)}var N=d.map(function(P){return"`"+P+"`"}).join(", ");d.length===1?c("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",N,r):d.length>1&&c("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",N,r)}};function Gu(r,n,l){Ba(r,n)||mm(r,n,l)}var pm=1,Wu=2,Rl=4,Sh=pm|Wu|Rl,Tl=null;function Oh(r){Tl!==null&&c("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Tl=r}function hm(){Tl===null&&c("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Tl=null}function yh(r){return r===Tl}function Jr(r){var n=r.target||r.srcElement||window;return n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===Ia?n.parentNode:n}var Pc=null,_o=null,Uo=null;function _c(r){var n=Wo(r);if(n){if(typeof Pc!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var l=n.stateNode;if(l){var d=Zm(l);Pc(n.stateNode,n.type,d)}}}function Eh(r){Pc=r}function vm(r){_o?Uo?Uo.push(r):Uo=[r]:_o=r}function Ch(){return _o!==null||Uo!==null}function gm(){if(_o){var r=_o,n=Uo;if(_o=null,Uo=null,_c(r),n)for(var l=0;l<n.length;l++)_c(n[l])}}var zu=function(r,n){return r(n)},xm=function(){},Vo=!1;function bm(){var r=Ch();r&&(xm(),gm())}function oa(r,n,l){if(Vo)return r(n,l);Vo=!0;try{return zu(r,n,l)}finally{Vo=!1,bm()}}function p(r,n,l){zu=r,xm=l}function y(r){return r==="button"||r==="input"||r==="select"||r==="textarea"}function D(r,n,l){switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(l.disabled&&y(n));default:return!1}}function U(r,n){var l=r.stateNode;if(l===null)return null;var d=Zm(l);if(d===null)return null;var m=d[n];if(D(n,r.type,d))return null;if(m&&typeof m!="function")throw new Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof m+"` type.");return m}var Y=!1;if(he)try{var se={};Object.defineProperty(se,"passive",{get:function(){Y=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{Y=!1}function ve(r,n,l,d,m,g,N,P,j){var ne=Array.prototype.slice.call(arguments,3);try{n.apply(l,ne)}catch(fe){this.onError(fe)}}var Pe=ve;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var je=document.createElement("react");Pe=function(n,l,d,m,g,N,P,j,ne){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var fe=document.createEvent("Event"),Te=!1,Re=!0,Ie=window.event,Be=Object.getOwnPropertyDescriptor(window,"event");function Je(){je.removeEventListener(Qe,Wt,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Ie)}var wt=Array.prototype.slice.call(arguments,3);function Wt(){Te=!0,Je(),l.apply(d,wt),Re=!1}var Ft,Dr=!1,gr=!1;function Le(Ae){if(Ft=Ae.error,Dr=!0,Ft===null&&Ae.colno===0&&Ae.lineno===0&&(gr=!0),Ae.defaultPrevented&&Ft!=null&&typeof Ft=="object")try{Ft._suppressLogging=!0}catch{}}var Qe="react-"+(n||"invokeguardedcallback");if(window.addEventListener("error",Le),je.addEventListener(Qe,Wt,!1),fe.initEvent(Qe,!1,!1),je.dispatchEvent(fe),Be&&Object.defineProperty(window,"event",Be),Te&&Re&&(Dr?gr&&(Ft=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):Ft=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(Ft)),window.removeEventListener("error",Le),!Te)return Je(),ve.apply(this,arguments)}}var st=Pe,ot=!1,xt=null,Vt=!1,Bt=null,ns={onError:function(r){ot=!0,xt=r}};function ts(r,n,l,d,m,g,N,P,j){ot=!1,xt=null,st.apply(ns,arguments)}function qn(r,n,l,d,m,g,N,P,j){if(ts.apply(this,arguments),ot){var ne=jo();Vt||(Vt=!0,Bt=ne)}}function Oa(){if(Vt){var r=Bt;throw Vt=!1,Bt=null,r}}function Yu(){return ot}function jo(){if(ot){var r=xt;return ot=!1,xt=null,r}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function Lo(r){return r._reactInternals}function wh(r){return r._reactInternals!==void 0}function kh(r,n){r._reactInternals=n}var Gt=0,Ao=1,ds=2,Cr=4,Pl=16,qu=32,AN=64,Ur=128,Yi=256,_l=512,Uc=1024,Mo=2048,qi=4096,Ul=8192,Rh=16384,lk=32767,Nm=32768,An=65536,Th=131072,MN=1048576,Ph=2097152,Vl=4194304,_h=8388608,Io=16777216,Uh=33554432,Vh=Cr|Uc|0,jh=ds|Cr|Pl|qu|_l|qi|Ul,Ku=Cr|AN|_l|Ul,Vc=Mo|Pl,Ki=Vl|_h|Ph,ck=t.ReactCurrentOwner;function jl(r){var n=r,l=r;if(r.alternate)for(;n.return;)n=n.return;else{var d=n;do n=d,(n.flags&(ds|qi))!==Gt&&(l=n.return),d=n.return;while(d)}return n.tag===b?l:null}function IN(r){if(r.tag===K){var n=r.memoizedState;if(n===null){var l=r.alternate;l!==null&&(n=l.memoizedState)}if(n!==null)return n.dehydrated}return null}function FN(r){return r.tag===b?r.stateNode.containerInfo:null}function uk(r){return jl(r)===r}function dk(r){{var n=ck.current;if(n!==null&&n.tag===x){var l=n,d=l.stateNode;d._warnedAboutRefsInRender||c("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Kt(l)||"A component"),d._warnedAboutRefsInRender=!0}}var m=Lo(r);return m?jl(m)===m:!1}function $N(r){if(jl(r)!==r)throw new Error("Unable to find node on an unmounted component.")}function BN(r){var n=r.alternate;if(!n){var l=jl(r);if(l===null)throw new Error("Unable to find node on an unmounted component.");return l!==r?null:r}for(var d=r,m=n;;){var g=d.return;if(g===null)break;var N=g.alternate;if(N===null){var P=g.return;if(P!==null){d=m=P;continue}break}if(g.child===N.child){for(var j=g.child;j;){if(j===d)return $N(g),r;if(j===m)return $N(g),n;j=j.sibling}throw new Error("Unable to find node on an unmounted component.")}if(d.return!==m.return)d=g,m=N;else{for(var ne=!1,fe=g.child;fe;){if(fe===d){ne=!0,d=g,m=N;break}if(fe===m){ne=!0,m=g,d=N;break}fe=fe.sibling}if(!ne){for(fe=N.child;fe;){if(fe===d){ne=!0,d=N,m=g;break}if(fe===m){ne=!0,m=N,d=g;break}fe=fe.sibling}if(!ne)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(d.alternate!==m)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(d.tag!==b)throw new Error("Unable to find node on an unmounted component.");return d.stateNode.current===d?r:n}function XN(r){var n=BN(r);return n!==null?HN(n):null}function HN(r){if(r.tag===w||r.tag===C)return r;for(var n=r.child;n!==null;){var l=HN(n);if(l!==null)return l;n=n.sibling}return null}function fk(r){var n=BN(r);return n!==null?GN(n):null}function GN(r){if(r.tag===w||r.tag===C)return r;for(var n=r.child;n!==null;){if(n.tag!==O){var l=GN(n);if(l!==null)return l}n=n.sibling}return null}var WN=s.unstable_scheduleCallback,mk=s.unstable_cancelCallback,pk=s.unstable_shouldYield,hk=s.unstable_requestPaint,Hs=s.unstable_now,vk=s.unstable_getCurrentPriorityLevel,Dm=s.unstable_ImmediatePriority,Lh=s.unstable_UserBlockingPriority,Ll=s.unstable_NormalPriority,gk=s.unstable_LowPriority,Ah=s.unstable_IdlePriority,xk=s.unstable_yieldValue,bk=s.unstable_setDisableYieldValue,jc=null,Dn=null,Rt=null,xi=!1,Xa=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function Nk(r){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled)return!0;if(!n.supportsFiber)return c("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{le&&(r=ht({},r,{getLaneLabelMap:Ck,injectProfilingHooks:Ek})),jc=n.inject(r),Dn=n}catch(l){c("React instrumentation encountered an error: %s.",l)}return!!n.checkDCE}function Dk(r,n){if(Dn&&typeof Dn.onScheduleFiberRoot=="function")try{Dn.onScheduleFiberRoot(jc,r,n)}catch(l){xi||(xi=!0,c("React instrumentation encountered an error: %s",l))}}function Sk(r,n){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{var l=(r.current.flags&Ur)===Ur;if(pe){var d;switch(n){case ua:d=Dm;break;case Qi:d=Lh;break;case Zi:d=Ll;break;case km:d=Ah;break;default:d=Ll;break}Dn.onCommitFiberRoot(jc,r,d,l)}}catch(m){xi||(xi=!0,c("React instrumentation encountered an error: %s",m))}}function Ok(r){if(Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(jc,r)}catch(n){xi||(xi=!0,c("React instrumentation encountered an error: %s",n))}}function yk(r){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(jc,r)}catch(n){xi||(xi=!0,c("React instrumentation encountered an error: %s",n))}}function Gs(r){if(typeof xk=="function"&&(bk(r),o(r)),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(jc,r)}catch(n){xi||(xi=!0,c("React instrumentation encountered an error: %s",n))}}function Ek(r){Rt=r}function Ck(){{for(var r=new Map,n=1,l=0;l<Ih;l++){var d=Wk(n);r.set(n,d),n*=2}return r}}function wk(r){Rt!==null&&typeof Rt.markCommitStarted=="function"&&Rt.markCommitStarted(r)}function zN(){Rt!==null&&typeof Rt.markCommitStopped=="function"&&Rt.markCommitStopped()}function Ju(r){Rt!==null&&typeof Rt.markComponentRenderStarted=="function"&&Rt.markComponentRenderStarted(r)}function Lc(){Rt!==null&&typeof Rt.markComponentRenderStopped=="function"&&Rt.markComponentRenderStopped()}function kk(r){Rt!==null&&typeof Rt.markComponentPassiveEffectMountStarted=="function"&&Rt.markComponentPassiveEffectMountStarted(r)}function Rk(){Rt!==null&&typeof Rt.markComponentPassiveEffectMountStopped=="function"&&Rt.markComponentPassiveEffectMountStopped()}function Tk(r){Rt!==null&&typeof Rt.markComponentPassiveEffectUnmountStarted=="function"&&Rt.markComponentPassiveEffectUnmountStarted(r)}function Pk(){Rt!==null&&typeof Rt.markComponentPassiveEffectUnmountStopped=="function"&&Rt.markComponentPassiveEffectUnmountStopped()}function _k(r){Rt!==null&&typeof Rt.markComponentLayoutEffectMountStarted=="function"&&Rt.markComponentLayoutEffectMountStarted(r)}function Uk(){Rt!==null&&typeof Rt.markComponentLayoutEffectMountStopped=="function"&&Rt.markComponentLayoutEffectMountStopped()}function YN(r){Rt!==null&&typeof Rt.markComponentLayoutEffectUnmountStarted=="function"&&Rt.markComponentLayoutEffectUnmountStarted(r)}function qN(){Rt!==null&&typeof Rt.markComponentLayoutEffectUnmountStopped=="function"&&Rt.markComponentLayoutEffectUnmountStopped()}function Vk(r,n,l){Rt!==null&&typeof Rt.markComponentErrored=="function"&&Rt.markComponentErrored(r,n,l)}function jk(r,n,l){Rt!==null&&typeof Rt.markComponentSuspended=="function"&&Rt.markComponentSuspended(r,n,l)}function Lk(r){Rt!==null&&typeof Rt.markLayoutEffectsStarted=="function"&&Rt.markLayoutEffectsStarted(r)}function Ak(){Rt!==null&&typeof Rt.markLayoutEffectsStopped=="function"&&Rt.markLayoutEffectsStopped()}function Mk(r){Rt!==null&&typeof Rt.markPassiveEffectsStarted=="function"&&Rt.markPassiveEffectsStarted(r)}function Ik(){Rt!==null&&typeof Rt.markPassiveEffectsStopped=="function"&&Rt.markPassiveEffectsStopped()}function KN(r){Rt!==null&&typeof Rt.markRenderStarted=="function"&&Rt.markRenderStarted(r)}function Fk(){Rt!==null&&typeof Rt.markRenderYielded=="function"&&Rt.markRenderYielded()}function JN(){Rt!==null&&typeof Rt.markRenderStopped=="function"&&Rt.markRenderStopped()}function $k(r){Rt!==null&&typeof Rt.markRenderScheduled=="function"&&Rt.markRenderScheduled(r)}function Bk(r,n){Rt!==null&&typeof Rt.markForceUpdateScheduled=="function"&&Rt.markForceUpdateScheduled(r,n)}function Mh(r,n){Rt!==null&&typeof Rt.markStateUpdateScheduled=="function"&&Rt.markStateUpdateScheduled(r,n)}var Yt=0,br=1,Mr=2,fs=8,bi=16,QN=Math.clz32?Math.clz32:Gk,Xk=Math.log,Hk=Math.LN2;function Gk(r){var n=r>>>0;return n===0?32:31-(Xk(n)/Hk|0)|0}var Ih=31,lt=0,Ws=0,Qt=1,Ac=2,Ji=4,Al=8,Ni=16,Qu=32,Mc=4194240,Zu=64,Fh=128,$h=256,Bh=512,Xh=1024,Hh=2048,Gh=4096,Wh=8192,zh=16384,Yh=32768,qh=65536,Kh=131072,Jh=262144,Qh=524288,Zh=1048576,ev=2097152,Sm=130023424,Ic=4194304,tv=8388608,rv=16777216,sv=33554432,nv=67108864,ZN=Ic,ed=134217728,eD=268435455,td=268435456,Ml=536870912,la=1073741824;function Wk(r){{if(r&Qt)return"Sync";if(r&Ac)return"InputContinuousHydration";if(r&Ji)return"InputContinuous";if(r&Al)return"DefaultHydration";if(r&Ni)return"Default";if(r&Qu)return"TransitionHydration";if(r&Mc)return"Transition";if(r&Sm)return"Retry";if(r&ed)return"SelectiveHydration";if(r&td)return"IdleHydration";if(r&Ml)return"Idle";if(r&la)return"Offscreen"}}var Qr=-1,Om=Zu,ym=Ic;function rd(r){switch(Il(r)){case Qt:return Qt;case Ac:return Ac;case Ji:return Ji;case Al:return Al;case Ni:return Ni;case Qu:return Qu;case Zu:case Fh:case $h:case Bh:case Xh:case Hh:case Gh:case Wh:case zh:case Yh:case qh:case Kh:case Jh:case Qh:case Zh:case ev:return r&Mc;case Ic:case tv:case rv:case sv:case nv:return r&Sm;case ed:return ed;case td:return td;case Ml:return Ml;case la:return la;default:return c("Should have found matching lanes. This is a bug in React."),r}}function Em(r,n){var l=r.pendingLanes;if(l===lt)return lt;var d=lt,m=r.suspendedLanes,g=r.pingedLanes,N=l&eD;if(N!==lt){var P=N&~m;if(P!==lt)d=rd(P);else{var j=N&g;j!==lt&&(d=rd(j))}}else{var ne=l&~m;ne!==lt?d=rd(ne):g!==lt&&(d=rd(g))}if(d===lt)return lt;if(n!==lt&&n!==d&&(n&m)===lt){var fe=Il(d),Te=Il(n);if(fe>=Te||fe===Ni&&(Te&Mc)!==lt)return n}(d&Ji)!==lt&&(d|=l&Ni);var Re=r.entangledLanes;if(Re!==lt)for(var Ie=r.entanglements,Be=d&Re;Be>0;){var Je=Fl(Be),wt=1<<Je;d|=Ie[Je],Be&=~wt}return d}function zk(r,n){for(var l=r.eventTimes,d=Qr;n>0;){var m=Fl(n),g=1<<m,N=l[m];N>d&&(d=N),n&=~g}return d}function Yk(r,n){switch(r){case Qt:case Ac:case Ji:return n+250;case Al:case Ni:case Qu:case Zu:case Fh:case $h:case Bh:case Xh:case Hh:case Gh:case Wh:case zh:case Yh:case qh:case Kh:case Jh:case Qh:case Zh:case ev:return n+5e3;case Ic:case tv:case rv:case sv:case nv:return Qr;case ed:case td:case Ml:case la:return Qr;default:return c("Should have found matching lanes. This is a bug in React."),Qr}}function qk(r,n){for(var l=r.pendingLanes,d=r.suspendedLanes,m=r.pingedLanes,g=r.expirationTimes,N=l;N>0;){var P=Fl(N),j=1<<P,ne=g[P];ne===Qr?((j&d)===lt||(j&m)!==lt)&&(g[P]=Yk(j,n)):ne<=n&&(r.expiredLanes|=j),N&=~j}}function Kk(r){return rd(r.pendingLanes)}function av(r){var n=r.pendingLanes&~la;return n!==lt?n:n&la?la:lt}function Jk(r){return(r&Qt)!==lt}function iv(r){return(r&eD)!==lt}function tD(r){return(r&Sm)===r}function Qk(r){var n=Qt|Ji|Ni;return(r&n)===lt}function Zk(r){return(r&Mc)===r}function Cm(r,n){var l=Ac|Ji|Al|Ni;return(n&l)!==lt}function eR(r,n){return(n&r.expiredLanes)!==lt}function rD(r){return(r&Mc)!==lt}function sD(){var r=Om;return Om<<=1,(Om&Mc)===lt&&(Om=Zu),r}function tR(){var r=ym;return ym<<=1,(ym&Sm)===lt&&(ym=Ic),r}function Il(r){return r&-r}function sd(r){return Il(r)}function Fl(r){return 31-QN(r)}function ov(r){return Fl(r)}function ca(r,n){return(r&n)!==lt}function Fc(r,n){return(r&n)===n}function ur(r,n){return r|n}function wm(r,n){return r&~n}function nD(r,n){return r&n}function $9(r){return r}function rR(r,n){return r!==Ws&&r<n?r:n}function lv(r){for(var n=[],l=0;l<Ih;l++)n.push(r);return n}function nd(r,n,l){r.pendingLanes|=n,n!==Ml&&(r.suspendedLanes=lt,r.pingedLanes=lt);var d=r.eventTimes,m=ov(n);d[m]=l}function sR(r,n){r.suspendedLanes|=n,r.pingedLanes&=~n;for(var l=r.expirationTimes,d=n;d>0;){var m=Fl(d),g=1<<m;l[m]=Qr,d&=~g}}function aD(r,n,l){r.pingedLanes|=r.suspendedLanes&n}function nR(r,n){var l=r.pendingLanes&~n;r.pendingLanes=n,r.suspendedLanes=lt,r.pingedLanes=lt,r.expiredLanes&=n,r.mutableReadLanes&=n,r.entangledLanes&=n;for(var d=r.entanglements,m=r.eventTimes,g=r.expirationTimes,N=l;N>0;){var P=Fl(N),j=1<<P;d[P]=lt,m[P]=Qr,g[P]=Qr,N&=~j}}function cv(r,n){for(var l=r.entangledLanes|=n,d=r.entanglements,m=l;m;){var g=Fl(m),N=1<<g;N&n|d[g]&n&&(d[g]|=n),m&=~N}}function aR(r,n){var l=Il(n),d;switch(l){case Ji:d=Ac;break;case Ni:d=Al;break;case Zu:case Fh:case $h:case Bh:case Xh:case Hh:case Gh:case Wh:case zh:case Yh:case qh:case Kh:case Jh:case Qh:case Zh:case ev:case Ic:case tv:case rv:case sv:case nv:d=Qu;break;case Ml:d=td;break;default:d=Ws;break}return(d&(r.suspendedLanes|n))!==Ws?Ws:d}function iD(r,n,l){if(Xa)for(var d=r.pendingUpdatersLaneMap;l>0;){var m=ov(l),g=1<<m,N=d[m];N.add(n),l&=~g}}function oD(r,n){if(Xa)for(var l=r.pendingUpdatersLaneMap,d=r.memoizedUpdaters;n>0;){var m=ov(n),g=1<<m,N=l[m];N.size>0&&(N.forEach(function(P){var j=P.alternate;(j===null||!d.has(j))&&d.add(P)}),N.clear()),n&=~g}}function lD(r,n){return null}var ua=Qt,Qi=Ji,Zi=Ni,km=Ml,ad=Ws;function Ha(){return ad}function zs(r){ad=r}function iR(r,n){var l=ad;try{return ad=r,n()}finally{ad=l}}function oR(r,n){return r!==0&&r<n?r:n}function lR(r,n){return r>n?r:n}function uv(r,n){return r!==0&&r<n}function cD(r){var n=Il(r);return uv(ua,n)?uv(Qi,n)?iv(n)?Zi:km:Qi:ua}function Rm(r){var n=r.current.memoizedState;return n.isDehydrated}var uD;function cR(r){uD=r}function uR(r){uD(r)}var dv;function dR(r){dv=r}var dD;function fR(r){dD=r}var fD;function mR(r){fD=r}var mD;function pR(r){mD=r}var fv=!1,Tm=[],Fo=null,$o=null,Bo=null,id=new Map,od=new Map,Xo=[],hR=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function vR(r){return hR.indexOf(r)>-1}function gR(r,n,l,d,m){return{blockedOn:r,domEventName:n,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]}}function pD(r,n){switch(r){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":{var l=n.pointerId;id.delete(l);break}case"gotpointercapture":case"lostpointercapture":{var d=n.pointerId;od.delete(d);break}}}function ld(r,n,l,d,m,g){if(r===null||r.nativeEvent!==g){var N=gR(n,l,d,m,g);if(n!==null){var P=Wo(n);P!==null&&dv(P)}return N}r.eventSystemFlags|=d;var j=r.targetContainers;return m!==null&&j.indexOf(m)===-1&&j.push(m),r}function xR(r,n,l,d,m){switch(n){case"focusin":{var g=m;return Fo=ld(Fo,r,n,l,d,g),!0}case"dragenter":{var N=m;return $o=ld($o,r,n,l,d,N),!0}case"mouseover":{var P=m;return Bo=ld(Bo,r,n,l,d,P),!0}case"pointerover":{var j=m,ne=j.pointerId;return id.set(ne,ld(id.get(ne)||null,r,n,l,d,j)),!0}case"gotpointercapture":{var fe=m,Te=fe.pointerId;return od.set(Te,ld(od.get(Te)||null,r,n,l,d,fe)),!0}}return!1}function hD(r){var n=Xl(r.target);if(n!==null){var l=jl(n);if(l!==null){var d=l.tag;if(d===K){var m=IN(l);if(m!==null){r.blockedOn=m,mD(r.priority,function(){dD(l)});return}}else if(d===b){var g=l.stateNode;if(Rm(g)){r.blockedOn=FN(l);return}}}}r.blockedOn=null}function bR(r){for(var n=fD(),l={blockedOn:null,target:r,priority:n},d=0;d<Xo.length&&uv(n,Xo[d].priority);d++);Xo.splice(d,0,l),d===0&&hD(l)}function Pm(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;n.length>0;){var l=n[0],d=hv(r.domEventName,r.eventSystemFlags,l,r.nativeEvent);if(d===null){var m=r.nativeEvent,g=new m.constructor(m.type,m);Oh(g),m.target.dispatchEvent(g),hm()}else{var N=Wo(d);return N!==null&&dv(N),r.blockedOn=d,!1}n.shift()}return!0}function vD(r,n,l){Pm(r)&&l.delete(n)}function NR(){fv=!1,Fo!==null&&Pm(Fo)&&(Fo=null),$o!==null&&Pm($o)&&($o=null),Bo!==null&&Pm(Bo)&&(Bo=null),id.forEach(vD),od.forEach(vD)}function cd(r,n){r.blockedOn===n&&(r.blockedOn=null,fv||(fv=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,NR)))}function ud(r){if(Tm.length>0){cd(Tm[0],r);for(var n=1;n<Tm.length;n++){var l=Tm[n];l.blockedOn===r&&(l.blockedOn=null)}}Fo!==null&&cd(Fo,r),$o!==null&&cd($o,r),Bo!==null&&cd(Bo,r);var d=function(P){return cd(P,r)};id.forEach(d),od.forEach(d);for(var m=0;m<Xo.length;m++){var g=Xo[m];g.blockedOn===r&&(g.blockedOn=null)}for(;Xo.length>0;){var N=Xo[0];if(N.blockedOn!==null)break;hD(N),N.blockedOn===null&&Xo.shift()}}var $c=t.ReactCurrentBatchConfig,mv=!0;function gD(r){mv=!!r}function DR(){return mv}function SR(r,n,l){var d=xD(n),m;switch(d){case ua:m=OR;break;case Qi:m=yR;break;case Zi:default:m=pv;break}return m.bind(null,n,l,r)}function OR(r,n,l,d){var m=Ha(),g=$c.transition;$c.transition=null;try{zs(ua),pv(r,n,l,d)}finally{zs(m),$c.transition=g}}function yR(r,n,l,d){var m=Ha(),g=$c.transition;$c.transition=null;try{zs(Qi),pv(r,n,l,d)}finally{zs(m),$c.transition=g}}function pv(r,n,l,d){mv&&ER(r,n,l,d)}function ER(r,n,l,d){var m=hv(r,n,l,d);if(m===null){Rv(r,n,d,_m,l),pD(r,d);return}if(xR(m,r,n,l,d)){d.stopPropagation();return}if(pD(r,d),n&Rl&&vR(r)){for(;m!==null;){var g=Wo(m);g!==null&&uR(g);var N=hv(r,n,l,d);if(N===null&&Rv(r,n,d,_m,l),N===m)break;m=N}m!==null&&d.stopPropagation();return}Rv(r,n,d,null,l)}var _m=null;function hv(r,n,l,d){_m=null;var m=Jr(d),g=Xl(m);if(g!==null){var N=jl(g);if(N===null)g=null;else{var P=N.tag;if(P===K){var j=IN(N);if(j!==null)return j;g=null}else if(P===b){var ne=N.stateNode;if(Rm(ne))return FN(N);g=null}else N!==g&&(g=null)}}return _m=g,null}function xD(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return ua;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Qi;case"message":{var n=vk();switch(n){case Dm:return ua;case Lh:return Qi;case Ll:case gk:return Zi;case Ah:return km;default:return Zi}}default:return Zi}}function CR(r,n,l){return r.addEventListener(n,l,!1),l}function wR(r,n,l){return r.addEventListener(n,l,!0),l}function kR(r,n,l,d){return r.addEventListener(n,l,{capture:!0,passive:d}),l}function RR(r,n,l,d){return r.addEventListener(n,l,{passive:d}),l}var dd=null,vv=null,fd=null;function TR(r){return dd=r,vv=ND(),!0}function PR(){dd=null,vv=null,fd=null}function bD(){if(fd)return fd;var r,n=vv,l=n.length,d,m=ND(),g=m.length;for(r=0;r<l&&n[r]===m[r];r++);var N=l-r;for(d=1;d<=N&&n[l-d]===m[g-d];d++);var P=d>1?1-d:void 0;return fd=m.slice(r,P),fd}function ND(){return"value"in dd?dd.value:dd.textContent}function Um(r){var n,l=r.keyCode;return"charCode"in r?(n=r.charCode,n===0&&l===13&&(n=13)):n=l,n===10&&(n=13),n>=32||n===13?n:0}function Vm(){return!0}function DD(){return!1}function da(r){function n(l,d,m,g,N){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var P in r)if(r.hasOwnProperty(P)){var j=r[P];j?this[P]=j(g):this[P]=g[P]}var ne=g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1;return ne?this.isDefaultPrevented=Vm:this.isDefaultPrevented=DD,this.isPropagationStopped=DD,this}return ht(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vm)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vm)},persist:function(){},isPersistent:Vm}),n}var Bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gv=da(Bc),md=ht({},Bc,{view:0,detail:0}),_R=da(md),xv,bv,pd;function UR(r){r!==pd&&(pd&&r.type==="mousemove"?(xv=r.screenX-pd.screenX,bv=r.screenY-pd.screenY):(xv=0,bv=0),pd=r)}var jm=ht({},md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dv,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(UR(r),xv)},movementY:function(r){return"movementY"in r?r.movementY:bv}}),SD=da(jm),VR=ht({},jm,{dataTransfer:0}),jR=da(VR),LR=ht({},md,{relatedTarget:0}),Nv=da(LR),AR=ht({},Bc,{animationName:0,elapsedTime:0,pseudoElement:0}),MR=da(AR),IR=ht({},Bc,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),FR=da(IR),$R=ht({},Bc,{data:0}),OD=da($R),BR=OD,XR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function GR(r){if(r.key){var n=XR[r.key]||r.key;if(n!=="Unidentified")return n}if(r.type==="keypress"){var l=Um(r);return l===13?"Enter":String.fromCharCode(l)}return r.type==="keydown"||r.type==="keyup"?HR[r.keyCode]||"Unidentified":""}var WR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zR(r){var n=this,l=n.nativeEvent;if(l.getModifierState)return l.getModifierState(r);var d=WR[r];return d?!!l[d]:!1}function Dv(r){return zR}var YR=ht({},md,{key:GR,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dv,charCode:function(r){return r.type==="keypress"?Um(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Um(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qR=da(YR),KR=ht({},jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yD=da(KR),JR=ht({},md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dv}),QR=da(JR),ZR=ht({},Bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),e5=da(ZR),t5=ht({},jm,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),r5=da(t5),s5=[9,13,27,32],ED=229,Sv=he&&"CompositionEvent"in window,hd=null;he&&"documentMode"in document&&(hd=document.documentMode);var n5=he&&"TextEvent"in window&&!hd,CD=he&&(!Sv||hd&&hd>8&&hd<=11),wD=32,kD=String.fromCharCode(wD);function a5(){J("onBeforeInput",["compositionend","keypress","textInput","paste"]),J("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),J("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),J("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var RD=!1;function i5(r){return(r.ctrlKey||r.altKey||r.metaKey)&&!(r.ctrlKey&&r.altKey)}function o5(r){switch(r){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function l5(r,n){return r==="keydown"&&n.keyCode===ED}function TD(r,n){switch(r){case"keyup":return s5.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==ED;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PD(r){var n=r.detail;return typeof n=="object"&&"data"in n?n.data:null}function _D(r){return r.locale==="ko"}var Xc=!1;function c5(r,n,l,d,m){var g,N;if(Sv?g=o5(n):Xc?TD(n,d)&&(g="onCompositionEnd"):l5(n,d)&&(g="onCompositionStart"),!g)return null;CD&&!_D(d)&&(!Xc&&g==="onCompositionStart"?Xc=TR(m):g==="onCompositionEnd"&&Xc&&(N=bD()));var P=Fm(l,g);if(P.length>0){var j=new OD(g,n,null,d,m);if(r.push({event:j,listeners:P}),N)j.data=N;else{var ne=PD(d);ne!==null&&(j.data=ne)}}}function u5(r,n){switch(r){case"compositionend":return PD(n);case"keypress":var l=n.which;return l!==wD?null:(RD=!0,kD);case"textInput":var d=n.data;return d===kD&&RD?null:d;default:return null}}function d5(r,n){if(Xc){if(r==="compositionend"||!Sv&&TD(r,n)){var l=bD();return PR(),Xc=!1,l}return null}switch(r){case"paste":return null;case"keypress":if(!i5(n)){if(n.char&&n.char.length>1)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return CD&&!_D(n)?null:n.data;default:return null}}function f5(r,n,l,d,m){var g;if(n5?g=u5(n,d):g=d5(n,d),!g)return null;var N=Fm(l,"onBeforeInput");if(N.length>0){var P=new BR("onBeforeInput","beforeinput",null,d,m);r.push({event:P,listeners:N}),P.data=g}}function m5(r,n,l,d,m,g,N){c5(r,n,l,d,m),f5(r,n,l,d,m)}var p5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UD(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!p5[r.type]:n==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function h5(r){if(!he)return!1;var n="on"+r,l=n in document;if(!l){var d=document.createElement("div");d.setAttribute(n,"return;"),l=typeof d[n]=="function"}return l}function v5(){J("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function VD(r,n,l,d){vm(d);var m=Fm(n,"onChange");if(m.length>0){var g=new gv("onChange","change",null,l,d);r.push({event:g,listeners:m})}}var vd=null,gd=null;function g5(r){var n=r.nodeName&&r.nodeName.toLowerCase();return n==="select"||n==="input"&&r.type==="file"}function x5(r){var n=[];VD(n,gd,r,Jr(r)),oa(b5,n)}function b5(r){QD(r,0)}function Lm(r){var n=qc(r);if(To(n))return r}function N5(r,n){if(r==="change")return n}var jD=!1;he&&(jD=h5("input")&&(!document.documentMode||document.documentMode>9));function D5(r,n){vd=r,gd=n,vd.attachEvent("onpropertychange",AD)}function LD(){vd&&(vd.detachEvent("onpropertychange",AD),vd=null,gd=null)}function AD(r){r.propertyName==="value"&&Lm(gd)&&x5(r)}function S5(r,n,l){r==="focusin"?(LD(),D5(n,l)):r==="focusout"&&LD()}function O5(r,n){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lm(gd)}function y5(r){var n=r.nodeName;return n&&n.toLowerCase()==="input"&&(r.type==="checkbox"||r.type==="radio")}function E5(r,n){if(r==="click")return Lm(n)}function C5(r,n){if(r==="input"||r==="change")return Lm(n)}function w5(r){var n=r._wrapperState;!n||!n.controlled||r.type!=="number"||$t(r,"number",r.value)}function k5(r,n,l,d,m,g,N){var P=l?qc(l):window,j,ne;if(g5(P)?j=N5:UD(P)?jD?j=C5:(j=O5,ne=S5):y5(P)&&(j=E5),j){var fe=j(n,l);if(fe){VD(r,fe,d,m);return}}ne&&ne(n,P,l),n==="focusout"&&w5(P)}function R5(){L("onMouseEnter",["mouseout","mouseover"]),L("onMouseLeave",["mouseout","mouseover"]),L("onPointerEnter",["pointerout","pointerover"]),L("onPointerLeave",["pointerout","pointerover"])}function T5(r,n,l,d,m,g,N){var P=n==="mouseover"||n==="pointerover",j=n==="mouseout"||n==="pointerout";if(P&&!yh(d)){var ne=d.relatedTarget||d.fromElement;if(ne&&(Xl(ne)||_d(ne)))return}if(!(!j&&!P)){var fe;if(m.window===m)fe=m;else{var Te=m.ownerDocument;Te?fe=Te.defaultView||Te.parentWindow:fe=window}var Re,Ie;if(j){var Be=d.relatedTarget||d.toElement;if(Re=l,Ie=Be?Xl(Be):null,Ie!==null){var Je=jl(Ie);(Ie!==Je||Ie.tag!==w&&Ie.tag!==C)&&(Ie=null)}}else Re=null,Ie=l;if(Re!==Ie){var wt=SD,Wt="onMouseLeave",Ft="onMouseEnter",Dr="mouse";(n==="pointerout"||n==="pointerover")&&(wt=yD,Wt="onPointerLeave",Ft="onPointerEnter",Dr="pointer");var gr=Re==null?fe:qc(Re),Le=Ie==null?fe:qc(Ie),Qe=new wt(Wt,Dr+"leave",Re,d,m);Qe.target=gr,Qe.relatedTarget=Le;var Ae=null,dt=Xl(m);if(dt===l){var _t=new wt(Ft,Dr+"enter",Ie,d,m);_t.target=Le,_t.relatedTarget=gr,Ae=_t}eT(r,Qe,Ae,Re,Ie)}}}function P5(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var fa=typeof Object.is=="function"?Object.is:P5;function xd(r,n){if(fa(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var l=Object.keys(r),d=Object.keys(n);if(l.length!==d.length)return!1;for(var m=0;m<l.length;m++){var g=l[m];if(!q.call(n,g)||!fa(r[g],n[g]))return!1}return!0}function MD(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _5(r){for(;r;){if(r.nextSibling)return r.nextSibling;r=r.parentNode}}function ID(r,n){for(var l=MD(r),d=0,m=0;l;){if(l.nodeType===Ia){if(m=d+l.textContent.length,d<=n&&m>=n)return{node:l,offset:n-d};d=m}l=MD(_5(l))}}function U5(r){var n=r.ownerDocument,l=n&&n.defaultView||window,d=l.getSelection&&l.getSelection();if(!d||d.rangeCount===0)return null;var m=d.anchorNode,g=d.anchorOffset,N=d.focusNode,P=d.focusOffset;try{m.nodeType,N.nodeType}catch{return null}return V5(r,m,g,N,P)}function V5(r,n,l,d,m){var g=0,N=-1,P=-1,j=0,ne=0,fe=r,Te=null;e:for(;;){for(var Re=null;fe===n&&(l===0||fe.nodeType===Ia)&&(N=g+l),fe===d&&(m===0||fe.nodeType===Ia)&&(P=g+m),fe.nodeType===Ia&&(g+=fe.nodeValue.length),(Re=fe.firstChild)!==null;)Te=fe,fe=Re;for(;;){if(fe===r)break e;if(Te===n&&++j===l&&(N=g),Te===d&&++ne===m&&(P=g),(Re=fe.nextSibling)!==null)break;fe=Te,Te=fe.parentNode}fe=Re}return N===-1||P===-1?null:{start:N,end:P}}function j5(r,n){var l=r.ownerDocument||document,d=l&&l.defaultView||window;if(d.getSelection){var m=d.getSelection(),g=r.textContent.length,N=Math.min(n.start,g),P=n.end===void 0?N:Math.min(n.end,g);if(!m.extend&&N>P){var j=P;P=N,N=j}var ne=ID(r,N),fe=ID(r,P);if(ne&&fe){if(m.rangeCount===1&&m.anchorNode===ne.node&&m.anchorOffset===ne.offset&&m.focusNode===fe.node&&m.focusOffset===fe.offset)return;var Te=l.createRange();Te.setStart(ne.node,ne.offset),m.removeAllRanges(),N>P?(m.addRange(Te),m.extend(fe.node,fe.offset)):(Te.setEnd(fe.node,fe.offset),m.addRange(Te))}}}function FD(r){return r&&r.nodeType===Ia}function $D(r,n){return!r||!n?!1:r===n?!0:FD(r)?!1:FD(n)?$D(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1}function L5(r){return r&&r.ownerDocument&&$D(r.ownerDocument.documentElement,r)}function A5(r){try{return typeof r.contentWindow.location.href=="string"}catch{return!1}}function BD(){for(var r=window,n=Da();n instanceof r.HTMLIFrameElement;){if(A5(n))r=n.contentWindow;else return n;n=Da(r.document)}return n}function Ov(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}function M5(){var r=BD();return{focusedElem:r,selectionRange:Ov(r)?F5(r):null}}function I5(r){var n=BD(),l=r.focusedElem,d=r.selectionRange;if(n!==l&&L5(l)){d!==null&&Ov(l)&&$5(l,d);for(var m=[],g=l;g=g.parentNode;)g.nodeType===bn&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});typeof l.focus=="function"&&l.focus();for(var N=0;N<m.length;N++){var P=m[N];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}}function F5(r){var n;return"selectionStart"in r?n={start:r.selectionStart,end:r.selectionEnd}:n=U5(r),n||{start:0,end:0}}function $5(r,n){var l=n.start,d=n.end;d===void 0&&(d=l),"selectionStart"in r?(r.selectionStart=l,r.selectionEnd=Math.min(d,r.value.length)):j5(r,n)}var B5=he&&"documentMode"in document&&document.documentMode<=11;function X5(){J("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Hc=null,yv=null,bd=null,Ev=!1;function H5(r){if("selectionStart"in r&&Ov(r))return{start:r.selectionStart,end:r.selectionEnd};var n=r.ownerDocument&&r.ownerDocument.defaultView||window,l=n.getSelection();return{anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}}function G5(r){return r.window===r?r.document:r.nodeType===Fa?r:r.ownerDocument}function XD(r,n,l){var d=G5(l);if(!(Ev||Hc==null||Hc!==Da(d))){var m=H5(Hc);if(!bd||!xd(bd,m)){bd=m;var g=Fm(yv,"onSelect");if(g.length>0){var N=new gv("onSelect","select",null,n,l);r.push({event:N,listeners:g}),N.target=Hc}}}}function W5(r,n,l,d,m,g,N){var P=l?qc(l):window;switch(n){case"focusin":(UD(P)||P.contentEditable==="true")&&(Hc=P,yv=l,bd=null);break;case"focusout":Hc=null,yv=null,bd=null;break;case"mousedown":Ev=!0;break;case"contextmenu":case"mouseup":case"dragend":Ev=!1,XD(r,d,m);break;case"selectionchange":if(B5)break;case"keydown":case"keyup":XD(r,d,m)}}function Am(r,n){var l={};return l[r.toLowerCase()]=n.toLowerCase(),l["Webkit"+r]="webkit"+n,l["Moz"+r]="moz"+n,l}var Gc={animationend:Am("Animation","AnimationEnd"),animationiteration:Am("Animation","AnimationIteration"),animationstart:Am("Animation","AnimationStart"),transitionend:Am("Transition","TransitionEnd")},Cv={},HD={};he&&(HD=document.createElement("div").style,"AnimationEvent"in window||(delete Gc.animationend.animation,delete Gc.animationiteration.animation,delete Gc.animationstart.animation),"TransitionEvent"in window||delete Gc.transitionend.transition);function Mm(r){if(Cv[r])return Cv[r];if(!Gc[r])return r;var n=Gc[r];for(var l in n)if(n.hasOwnProperty(l)&&l in HD)return Cv[r]=n[l];return r}var GD=Mm("animationend"),WD=Mm("animationiteration"),zD=Mm("animationstart"),YD=Mm("transitionend"),qD=new Map,KD=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function Ho(r,n){qD.set(r,n),J(n,[r])}function z5(){for(var r=0;r<KD.length;r++){var n=KD[r],l=n.toLowerCase(),d=n[0].toUpperCase()+n.slice(1);Ho(l,"on"+d)}Ho(GD,"onAnimationEnd"),Ho(WD,"onAnimationIteration"),Ho(zD,"onAnimationStart"),Ho("dblclick","onDoubleClick"),Ho("focusin","onFocus"),Ho("focusout","onBlur"),Ho(YD,"onTransitionEnd")}function Y5(r,n,l,d,m,g,N){var P=qD.get(n);if(P!==void 0){var j=gv,ne=n;switch(n){case"keypress":if(Um(d)===0)return;case"keydown":case"keyup":j=qR;break;case"focusin":ne="focus",j=Nv;break;case"focusout":ne="blur",j=Nv;break;case"beforeblur":case"afterblur":j=Nv;break;case"click":if(d.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=SD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=jR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=QR;break;case GD:case WD:case zD:j=MR;break;case YD:j=e5;break;case"scroll":j=_R;break;case"wheel":j=r5;break;case"copy":case"cut":case"paste":j=FR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=yD;break}var fe=(g&Rl)!==0;{var Te=!fe&&n==="scroll",Re=Q5(l,P,d.type,fe,Te);if(Re.length>0){var Ie=new j(P,ne,null,d,m);r.push({event:Ie,listeners:Re})}}}}z5(),R5(),v5(),X5(),a5();function q5(r,n,l,d,m,g,N){Y5(r,n,l,d,m,g);var P=(g&Sh)===0;P&&(T5(r,n,l,d,m),k5(r,n,l,d,m),W5(r,n,l,d,m),m5(r,n,l,d,m))}var Nd=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],wv=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Nd));function JD(r,n,l){var d=r.type||"unknown-event";r.currentTarget=l,qn(d,n,void 0,r),r.currentTarget=null}function K5(r,n,l){var d;if(l)for(var m=n.length-1;m>=0;m--){var g=n[m],N=g.instance,P=g.currentTarget,j=g.listener;if(N!==d&&r.isPropagationStopped())return;JD(r,j,P),d=N}else for(var ne=0;ne<n.length;ne++){var fe=n[ne],Te=fe.instance,Re=fe.currentTarget,Ie=fe.listener;if(Te!==d&&r.isPropagationStopped())return;JD(r,Ie,Re),d=Te}}function QD(r,n){for(var l=(n&Rl)!==0,d=0;d<r.length;d++){var m=r[d],g=m.event,N=m.listeners;K5(g,N,l)}Oa()}function J5(r,n,l,d,m){var g=Jr(l),N=[];q5(N,r,d,l,g,n),QD(N,n)}function rs(r,n){wv.has(r)||c('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',r);var l=!1,d=w2(n),m=tT(r);d.has(m)||(ZD(n,r,Wu,l),d.add(m))}function kv(r,n,l){wv.has(r)&&!n&&c('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',r);var d=0;n&&(d|=Rl),ZD(l,r,d,n)}var Im="_reactListening"+Math.random().toString(36).slice(2);function Dd(r){if(!r[Im]){r[Im]=!0,oe.forEach(function(l){l!=="selectionchange"&&(wv.has(l)||kv(l,!1,r),kv(l,!0,r))});var n=r.nodeType===Fa?r:r.ownerDocument;n!==null&&(n[Im]||(n[Im]=!0,kv("selectionchange",!1,n)))}}function ZD(r,n,l,d,m){var g=SR(r,n,l),N=void 0;Y&&(n==="touchstart"||n==="touchmove"||n==="wheel")&&(N=!0),r=r,d?N!==void 0?kR(r,n,g,N):wR(r,n,g):N!==void 0?RR(r,n,g,N):CR(r,n,g)}function e1(r,n){return r===n||r.nodeType===us&&r.parentNode===n}function Rv(r,n,l,d,m){var g=d;if((n&pm)===0&&(n&Wu)===0){var N=m;if(d!==null){var P=d;e:for(;;){if(P===null)return;var j=P.tag;if(j===b||j===O){var ne=P.stateNode.containerInfo;if(e1(ne,N))break;if(j===O)for(var fe=P.return;fe!==null;){var Te=fe.tag;if(Te===b||Te===O){var Re=fe.stateNode.containerInfo;if(e1(Re,N))return}fe=fe.return}for(;ne!==null;){var Ie=Xl(ne);if(Ie===null)return;var Be=Ie.tag;if(Be===w||Be===C){P=g=Ie;continue e}ne=ne.parentNode}}P=P.return}}}oa(function(){return J5(r,n,l,g)})}function Sd(r,n,l){return{instance:r,listener:n,currentTarget:l}}function Q5(r,n,l,d,m,g){for(var N=n!==null?n+"Capture":null,P=d?N:n,j=[],ne=r,fe=null;ne!==null;){var Te=ne,Re=Te.stateNode,Ie=Te.tag;if(Ie===w&&Re!==null&&(fe=Re,P!==null)){var Be=U(ne,P);Be!=null&&j.push(Sd(ne,Be,fe))}if(m)break;ne=ne.return}return j}function Fm(r,n){for(var l=n+"Capture",d=[],m=r;m!==null;){var g=m,N=g.stateNode,P=g.tag;if(P===w&&N!==null){var j=N,ne=U(m,l);ne!=null&&d.unshift(Sd(m,ne,j));var fe=U(m,n);fe!=null&&d.push(Sd(m,fe,j))}m=m.return}return d}function Wc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==w);return r||null}function Z5(r,n){for(var l=r,d=n,m=0,g=l;g;g=Wc(g))m++;for(var N=0,P=d;P;P=Wc(P))N++;for(;m-N>0;)l=Wc(l),m--;for(;N-m>0;)d=Wc(d),N--;for(var j=m;j--;){if(l===d||d!==null&&l===d.alternate)return l;l=Wc(l),d=Wc(d)}return null}function t1(r,n,l,d,m){for(var g=n._reactName,N=[],P=l;P!==null&&P!==d;){var j=P,ne=j.alternate,fe=j.stateNode,Te=j.tag;if(ne!==null&&ne===d)break;if(Te===w&&fe!==null){var Re=fe;if(m){var Ie=U(P,g);Ie!=null&&N.unshift(Sd(P,Ie,Re))}else if(!m){var Be=U(P,g);Be!=null&&N.push(Sd(P,Be,Re))}}P=P.return}N.length!==0&&r.push({event:n,listeners:N})}function eT(r,n,l,d,m){var g=d&&m?Z5(d,m):null;d!==null&&t1(r,n,d,g,!1),m!==null&&l!==null&&t1(r,l,m,g,!0)}function tT(r,n){return r+"__bubble"}var Kn=!1,Od="dangerouslySetInnerHTML",$m="suppressContentEditableWarning",Go="suppressHydrationWarning",r1="autoFocus",$l="children",Bl="style",Bm="__html",Tv,Xm,yd,s1,Hm,n1,a1;Tv={dialog:!0,webview:!0},Xm=function(r,n){xh(r,n),bh(r,n),Gu(r,n,{registrationNameDependencies:Q,possibleRegistrationNames:_})},n1=he&&!document.documentMode,yd=function(r,n,l){if(!Kn){var d=Gm(l),m=Gm(n);m!==d&&(Kn=!0,c("Prop `%s` did not match. Server: %s Client: %s",r,JSON.stringify(m),JSON.stringify(d)))}},s1=function(r){if(!Kn){Kn=!0;var n=[];r.forEach(function(l){n.push(l)}),c("Extra attributes from the server: %s",n)}},Hm=function(r,n){n===!1?c("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",r,r,r):c("Expected `%s` listener to be a function, instead got a value of `%s` type.",r,typeof n)},a1=function(r,n){var l=r.namespaceURI===es?r.ownerDocument.createElement(r.tagName):r.ownerDocument.createElementNS(r.namespaceURI,r.tagName);return l.innerHTML=n,l.innerHTML};var rT=/\r\n?/g,sT=/\u0000|\uFFFD/g;function Gm(r){et(r);var n=typeof r=="string"?r:""+r;return n.replace(rT,`
`).replace(sT,"")}function Wm(r,n,l,d){var m=Gm(n),g=Gm(r);if(g!==m&&(d&&(Kn||(Kn=!0,c('Text content did not match. Server: "%s" Client: "%s"',g,m))),l&&ge))throw new Error("Text content does not match server-rendered HTML.")}function i1(r){return r.nodeType===Fa?r:r.ownerDocument}function nT(){}function zm(r){r.onclick=nT}function aT(r,n,l,d,m){for(var g in d)if(d.hasOwnProperty(g)){var N=d[g];if(g===Bl)N&&Object.freeze(N),Wi(n,N);else if(g===Od){var P=N?N[Bm]:void 0;P!=null&&sm(n,P)}else if(g===$l)if(typeof N=="string"){var j=r!=="textarea"||N!=="";j&&kc(n,N)}else typeof N=="number"&&kc(n,""+N);else g===$m||g===Go||g===r1||(Q.hasOwnProperty(g)?N!=null&&(typeof N!="function"&&Hm(g,N),g==="onScroll"&&rs("scroll",n)):N!=null&&sr(n,g,N,m))}}function iT(r,n,l,d){for(var m=0;m<n.length;m+=2){var g=n[m],N=n[m+1];g===Bl?Wi(r,N):g===Od?sm(r,N):g===$l?kc(r,N):sr(r,g,N,d)}}function oT(r,n,l,d){var m,g=i1(l),N,P=d;if(P===es&&(P=yl(r)),P===es){if(m=Ba(r,n),!m&&r!==r.toLowerCase()&&c("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",r),r==="script"){var j=g.createElement("div");j.innerHTML="<script><\/script>";var ne=j.firstChild;N=j.removeChild(ne)}else if(typeof n.is=="string")N=g.createElement(r,{is:n.is});else if(N=g.createElement(r),r==="select"){var fe=N;n.multiple?fe.multiple=!0:n.size&&(fe.size=n.size)}}else N=g.createElementNS(P,r);return P===es&&!m&&Object.prototype.toString.call(N)==="[object HTMLUnknownElement]"&&!q.call(Tv,r)&&(Tv[r]=!0,c("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",r)),N}function lT(r,n){return i1(n).createTextNode(r)}function cT(r,n,l,d){var m=Ba(n,l);Xm(n,l);var g;switch(n){case"dialog":rs("cancel",r),rs("close",r),g=l;break;case"iframe":case"object":case"embed":rs("load",r),g=l;break;case"video":case"audio":for(var N=0;N<Nd.length;N++)rs(Nd[N],r);g=l;break;case"source":rs("error",r),g=l;break;case"img":case"image":case"link":rs("error",r),rs("load",r),g=l;break;case"details":rs("toggle",r),g=l;break;case"input":Ec(r,l),g=ia(r,l),rs("invalid",r);break;case"option":Er(r,l),g=l;break;case"select":Dl(r,l),g=vi(r,l),rs("invalid",r);break;case"textarea":Br(r,l),g=gs(r,l),rs("invalid",r);break;default:g=l}switch(Tc(n,g),aT(n,r,d,g,m),n){case"input":Rs(r),Me(r,l,!1);break;case"textarea":Rs(r),Sl(r);break;case"option":Hr(r,l);break;case"select":Po(r,l);break;default:typeof g.onClick=="function"&&zm(r);break}}function uT(r,n,l,d,m){Xm(n,d);var g=null,N,P;switch(n){case"input":N=ia(r,l),P=ia(r,d),g=[];break;case"select":N=vi(r,l),P=vi(r,d),g=[];break;case"textarea":N=gs(r,l),P=gs(r,d),g=[];break;default:N=l,P=d,typeof N.onClick!="function"&&typeof P.onClick=="function"&&zm(r);break}Tc(n,P);var j,ne,fe=null;for(j in N)if(!(P.hasOwnProperty(j)||!N.hasOwnProperty(j)||N[j]==null))if(j===Bl){var Te=N[j];for(ne in Te)Te.hasOwnProperty(ne)&&(fe||(fe={}),fe[ne]="")}else j===Od||j===$l||j===$m||j===Go||j===r1||(Q.hasOwnProperty(j)?g||(g=[]):(g=g||[]).push(j,null));for(j in P){var Re=P[j],Ie=N?.[j];if(!(!P.hasOwnProperty(j)||Re===Ie||Re==null&&Ie==null))if(j===Bl)if(Re&&Object.freeze(Re),Ie){for(ne in Ie)Ie.hasOwnProperty(ne)&&(!Re||!Re.hasOwnProperty(ne))&&(fe||(fe={}),fe[ne]="");for(ne in Re)Re.hasOwnProperty(ne)&&Ie[ne]!==Re[ne]&&(fe||(fe={}),fe[ne]=Re[ne])}else fe||(g||(g=[]),g.push(j,fe)),fe=Re;else if(j===Od){var Be=Re?Re[Bm]:void 0,Je=Ie?Ie[Bm]:void 0;Be!=null&&Je!==Be&&(g=g||[]).push(j,Be)}else j===$l?(typeof Re=="string"||typeof Re=="number")&&(g=g||[]).push(j,""+Re):j===$m||j===Go||(Q.hasOwnProperty(j)?(Re!=null&&(typeof Re!="function"&&Hm(j,Re),j==="onScroll"&&rs("scroll",r)),!g&&Ie!==Re&&(g=[])):(g=g||[]).push(j,Re))}return fe&&(fh(fe,P[Bl]),(g=g||[]).push(Bl,fe)),g}function dT(r,n,l,d,m){l==="input"&&m.type==="radio"&&m.name!=null&&B(r,m);var g=Ba(l,d),N=Ba(l,m);switch(iT(r,n,g,N),l){case"input":Oe(r,m);break;case"textarea":xn(r,m);break;case"select":Ma(r,m);break}}function fT(r){{var n=r.toLowerCase();return Cl.hasOwnProperty(n)&&Cl[n]||null}}function mT(r,n,l,d,m,g,N){var P,j;switch(P=Ba(n,l),Xm(n,l),n){case"dialog":rs("cancel",r),rs("close",r);break;case"iframe":case"object":case"embed":rs("load",r);break;case"video":case"audio":for(var ne=0;ne<Nd.length;ne++)rs(Nd[ne],r);break;case"source":rs("error",r);break;case"img":case"image":case"link":rs("error",r),rs("load",r);break;case"details":rs("toggle",r);break;case"input":Ec(r,l),rs("invalid",r);break;case"option":Er(r,l);break;case"select":Dl(r,l),rs("invalid",r);break;case"textarea":Br(r,l),rs("invalid",r);break}Tc(n,l);{j=new Set;for(var fe=r.attributes,Te=0;Te<fe.length;Te++){var Re=fe[Te].name.toLowerCase();switch(Re){case"value":break;case"checked":break;case"selected":break;default:j.add(fe[Te].name)}}}var Ie=null;for(var Be in l)if(l.hasOwnProperty(Be)){var Je=l[Be];if(Be===$l)typeof Je=="string"?r.textContent!==Je&&(l[Go]!==!0&&Wm(r.textContent,Je,g,N),Ie=[$l,Je]):typeof Je=="number"&&r.textContent!==""+Je&&(l[Go]!==!0&&Wm(r.textContent,Je,g,N),Ie=[$l,""+Je]);else if(Q.hasOwnProperty(Be))Je!=null&&(typeof Je!="function"&&Hm(Be,Je),Be==="onScroll"&&rs("scroll",r));else if(N&&typeof P=="boolean"){var wt=void 0,Wt=Ze(Be);if(l[Go]!==!0){if(!(Be===$m||Be===Go||Be==="value"||Be==="checked"||Be==="selected")){if(Be===Od){var Ft=r.innerHTML,Dr=Je?Je[Bm]:void 0;if(Dr!=null){var gr=a1(r,Dr);gr!==Ft&&yd(Be,Ft,gr)}}else if(Be===Bl){if(j.delete(Be),n1){var Le=uh(Je);wt=r.getAttribute("style"),Le!==wt&&yd(Be,wt,Le)}}else if(P&&!Ue)j.delete(Be.toLowerCase()),wt=Mt(r,Be,Je),Je!==wt&&yd(Be,wt,Je);else if(!yt(Be,Wt,P)&&!_e(Be,Je,Wt,P)){var Qe=!1;if(Wt!==null)j.delete(Wt.attributeName),wt=lr(r,Be,Je,Wt);else{var Ae=d;if(Ae===es&&(Ae=yl(n)),Ae===es)j.delete(Be.toLowerCase());else{var dt=fT(Be);dt!==null&&dt!==Be&&(Qe=!0,j.delete(dt)),j.delete(Be)}wt=Mt(r,Be,Je)}var _t=Ue;!_t&&Je!==wt&&!Qe&&yd(Be,wt,Je)}}}}}switch(N&&j.size>0&&l[Go]!==!0&&s1(j),n){case"input":Rs(r),Me(r,l,!0);break;case"textarea":Rs(r),Sl(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&zm(r);break}return Ie}function pT(r,n,l){var d=r.nodeValue!==n;return d}function Pv(r,n){{if(Kn)return;Kn=!0,c("Did not expect server HTML to contain a <%s> in <%s>.",n.nodeName.toLowerCase(),r.nodeName.toLowerCase())}}function _v(r,n){{if(Kn)return;Kn=!0,c('Did not expect server HTML to contain the text node "%s" in <%s>.',n.nodeValue,r.nodeName.toLowerCase())}}function Uv(r,n,l){{if(Kn)return;Kn=!0,c("Expected server HTML to contain a matching <%s> in <%s>.",n,r.nodeName.toLowerCase())}}function Vv(r,n){{if(n===""||Kn)return;Kn=!0,c('Expected server HTML to contain a matching text node for "%s" in <%s>.',n,r.nodeName.toLowerCase())}}function hT(r,n,l){switch(n){case"input":Ye(r,l);return;case"textarea":tm(r,l);return;case"select":Lu(r,l);return}}var Ed=function(){},Cd=function(){};{var vT=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],o1=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],gT=o1.concat(["button"]),xT=["dd","dt","li","option","optgroup","p","rp","rt"],l1={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Cd=function(r,n){var l=ht({},r||l1),d={tag:n};return o1.indexOf(n)!==-1&&(l.aTagInScope=null,l.buttonTagInScope=null,l.nobrTagInScope=null),gT.indexOf(n)!==-1&&(l.pTagInButtonScope=null),vT.indexOf(n)!==-1&&n!=="address"&&n!=="div"&&n!=="p"&&(l.listItemTagAutoclosing=null,l.dlItemTagAutoclosing=null),l.current=d,n==="form"&&(l.formTag=d),n==="a"&&(l.aTagInScope=d),n==="button"&&(l.buttonTagInScope=d),n==="nobr"&&(l.nobrTagInScope=d),n==="p"&&(l.pTagInButtonScope=d),n==="li"&&(l.listItemTagAutoclosing=d),(n==="dd"||n==="dt")&&(l.dlItemTagAutoclosing=d),l};var bT=function(r,n){switch(n){case"select":return r==="option"||r==="optgroup"||r==="#text";case"optgroup":return r==="option"||r==="#text";case"option":return r==="#text";case"tr":return r==="th"||r==="td"||r==="style"||r==="script"||r==="template";case"tbody":case"thead":case"tfoot":return r==="tr"||r==="style"||r==="script"||r==="template";case"colgroup":return r==="col"||r==="template";case"table":return r==="caption"||r==="colgroup"||r==="tbody"||r==="tfoot"||r==="thead"||r==="style"||r==="script"||r==="template";case"head":return r==="base"||r==="basefont"||r==="bgsound"||r==="link"||r==="meta"||r==="title"||r==="noscript"||r==="noframes"||r==="style"||r==="script"||r==="template";case"html":return r==="head"||r==="body"||r==="frameset";case"frameset":return r==="frame";case"#document":return r==="html"}switch(r){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return n!=="h1"&&n!=="h2"&&n!=="h3"&&n!=="h4"&&n!=="h5"&&n!=="h6";case"rp":case"rt":return xT.indexOf(n)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return n==null}return!0},NT=function(r,n){switch(r){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return n.pTagInButtonScope;case"form":return n.formTag||n.pTagInButtonScope;case"li":return n.listItemTagAutoclosing;case"dd":case"dt":return n.dlItemTagAutoclosing;case"button":return n.buttonTagInScope;case"a":return n.aTagInScope;case"nobr":return n.nobrTagInScope}return null},c1={};Ed=function(r,n,l){l=l||l1;var d=l.current,m=d&&d.tag;n!=null&&(r!=null&&c("validateDOMNesting: when childText is passed, childTag should be null"),r="#text");var g=bT(r,m)?null:d,N=g?null:NT(r,l),P=g||N;if(P){var j=P.tag,ne=!!g+"|"+r+"|"+j;if(!c1[ne]){c1[ne]=!0;var fe=r,Te="";if(r==="#text"?/\S/.test(n)?fe="Text nodes":(fe="Whitespace text nodes",Te=" Make sure you don't have any extra whitespace between tags on each line of your source code."):fe="<"+r+">",g){var Re="";j==="table"&&r==="tr"&&(Re+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),c("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",fe,j,Te,Re)}else c("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",fe,j)}}}}var Ym="suppressHydrationWarning",qm="$",Km="/$",wd="$?",kd="$!",DT="style",jv=null,Lv=null;function ST(r){var n,l,d=r.nodeType;switch(d){case Fa:case Mu:{n=d===Fa?"#document":"#fragment";var m=r.documentElement;l=m?m.namespaceURI:Au(null,"");break}default:{var g=d===us?r.parentNode:r,N=g.namespaceURI||null;n=g.tagName,l=Au(N,n);break}}{var P=n.toLowerCase(),j=Cd(null,P);return{namespace:l,ancestorInfo:j}}}function OT(r,n,l){{var d=r,m=Au(d.namespace,n),g=Cd(d.ancestorInfo,n);return{namespace:m,ancestorInfo:g}}}function B9(r){return r}function yT(r){jv=DR(),Lv=M5();var n=null;return gD(!1),n}function ET(r){I5(Lv),gD(jv),jv=null,Lv=null}function CT(r,n,l,d,m){var g;{var N=d;if(Ed(r,null,N.ancestorInfo),typeof n.children=="string"||typeof n.children=="number"){var P=""+n.children,j=Cd(N.ancestorInfo,r);Ed(null,P,j)}g=N.namespace}var ne=oT(r,n,l,g);return Pd(m,ne),Hv(ne,n),ne}function wT(r,n){r.appendChild(n)}function kT(r,n,l,d,m){switch(cT(r,n,l,d),n){case"button":case"input":case"select":case"textarea":return!!l.autoFocus;case"img":return!0;default:return!1}}function RT(r,n,l,d,m,g){{var N=g;if(typeof d.children!=typeof l.children&&(typeof d.children=="string"||typeof d.children=="number")){var P=""+d.children,j=Cd(N.ancestorInfo,n);Ed(null,P,j)}}return uT(r,n,l,d)}function Av(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}function TT(r,n,l,d){{var m=l;Ed(null,r,m.ancestorInfo)}var g=lT(r,n);return Pd(d,g),g}function PT(){var r=window.event;return r===void 0?Zi:xD(r.type)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,_T=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=-1,u1=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(r){return u1.resolve(null).then(r).catch(VT)}:Mv;function VT(r){setTimeout(function(){throw r})}function jT(r,n,l,d){switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();return;case"img":{l.src&&(r.src=l.src);return}}}function LT(r,n,l,d,m,g){dT(r,n,l,d,m),Hv(r,m)}function d1(r){kc(r,"")}function AT(r,n,l){r.nodeValue=l}function MT(r,n){r.appendChild(n)}function IT(r,n){var l;r.nodeType===us?(l=r.parentNode,l.insertBefore(n,r)):(l=r,l.appendChild(n));var d=r._reactRootContainer;d==null&&l.onclick===null&&zm(l)}function FT(r,n,l){r.insertBefore(n,l)}function $T(r,n,l){r.nodeType===us?r.parentNode.insertBefore(n,l):r.insertBefore(n,l)}function BT(r,n){r.removeChild(n)}function XT(r,n){r.nodeType===us?r.parentNode.removeChild(n):r.removeChild(n)}function Fv(r,n){var l=n,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===us){var g=m.data;if(g===Km)if(d===0){r.removeChild(m),ud(n);return}else d--;else(g===qm||g===wd||g===kd)&&d++}l=m}while(l);ud(n)}function HT(r,n){r.nodeType===us?Fv(r.parentNode,n):r.nodeType===bn&&Fv(r,n),ud(r)}function GT(r){r=r;var n=r.style;typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none"}function WT(r){r.nodeValue=""}function zT(r,n){r=r;var l=n[DT],d=l!=null&&l.hasOwnProperty("display")?l.display:null;r.style.display=Iu("display",d)}function YT(r,n){r.nodeValue=n}function qT(r){r.nodeType===bn?r.textContent="":r.nodeType===Fa&&r.documentElement&&r.removeChild(r.documentElement)}function KT(r,n,l){return r.nodeType!==bn||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r}function JT(r,n){return n===""||r.nodeType!==Ia?null:r}function QT(r){return r.nodeType!==us?null:r}function f1(r){return r.data===wd}function $v(r){return r.data===kd}function ZT(r){var n=r.nextSibling&&r.nextSibling.dataset,l,d,m;return n&&(l=n.dgst,d=n.msg,m=n.stck),{message:d,digest:l,stack:m}}function e2(r,n){r._reactRetry=n}function Jm(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===bn||n===Ia)break;if(n===us){var l=r.data;if(l===qm||l===kd||l===wd)break;if(l===Km)return null}}return r}function Rd(r){return Jm(r.nextSibling)}function t2(r){return Jm(r.firstChild)}function r2(r){return Jm(r.firstChild)}function s2(r){return Jm(r.nextSibling)}function n2(r,n,l,d,m,g,N){Pd(g,r),Hv(r,l);var P;{var j=m;P=j.namespace}var ne=(g.mode&br)!==Yt;return mT(r,n,l,P,d,ne,N)}function a2(r,n,l,d){return Pd(l,r),l.mode&br,pT(r,n)}function i2(r,n){Pd(n,r)}function o2(r){for(var n=r.nextSibling,l=0;n;){if(n.nodeType===us){var d=n.data;if(d===Km){if(l===0)return Rd(n);l--}else(d===qm||d===kd||d===wd)&&l++}n=n.nextSibling}return null}function m1(r){for(var n=r.previousSibling,l=0;n;){if(n.nodeType===us){var d=n.data;if(d===qm||d===kd||d===wd){if(l===0)return n;l--}else d===Km&&l++}n=n.previousSibling}return null}function l2(r){ud(r)}function c2(r){ud(r)}function u2(r){return r!=="head"&&r!=="body"}function d2(r,n,l,d){var m=!0;Wm(n.nodeValue,l,d,m)}function f2(r,n,l,d,m,g){if(n[Ym]!==!0){var N=!0;Wm(d.nodeValue,m,g,N)}}function m2(r,n){n.nodeType===bn?Pv(r,n):n.nodeType===us||_v(r,n)}function p2(r,n){{var l=r.parentNode;l!==null&&(n.nodeType===bn?Pv(l,n):n.nodeType===us||_v(l,n))}}function h2(r,n,l,d,m){(m||n[Ym]!==!0)&&(d.nodeType===bn?Pv(l,d):d.nodeType===us||_v(l,d))}function v2(r,n,l){Uv(r,n)}function g2(r,n){Vv(r,n)}function x2(r,n,l){{var d=r.parentNode;d!==null&&Uv(d,n)}}function b2(r,n){{var l=r.parentNode;l!==null&&Vv(l,n)}}function N2(r,n,l,d,m,g){(g||n[Ym]!==!0)&&Uv(l,d)}function D2(r,n,l,d,m){(m||n[Ym]!==!0)&&Vv(l,d)}function S2(r){c("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",r.nodeName.toLowerCase())}function O2(r){Dd(r)}var zc=Math.random().toString(36).slice(2),Yc="__reactFiber$"+zc,Bv="__reactProps$"+zc,Td="__reactContainer$"+zc,Xv="__reactEvents$"+zc,y2="__reactListeners$"+zc,E2="__reactHandles$"+zc;function C2(r){delete r[Yc],delete r[Bv],delete r[Xv],delete r[y2],delete r[E2]}function Pd(r,n){n[Yc]=r}function Qm(r,n){n[Td]=r}function p1(r){r[Td]=null}function _d(r){return!!r[Td]}function Xl(r){var n=r[Yc];if(n)return n;for(var l=r.parentNode;l;){if(n=l[Td]||l[Yc],n){var d=n.alternate;if(n.child!==null||d!==null&&d.child!==null)for(var m=m1(r);m!==null;){var g=m[Yc];if(g)return g;m=m1(m)}return n}r=l,l=r.parentNode}return null}function Wo(r){var n=r[Yc]||r[Td];return n&&(n.tag===w||n.tag===C||n.tag===K||n.tag===b)?n:null}function qc(r){if(r.tag===w||r.tag===C)return r.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function Zm(r){return r[Bv]||null}function Hv(r,n){r[Bv]=n}function w2(r){var n=r[Xv];return n===void 0&&(n=r[Xv]=new Set),n}var h1={},v1=t.ReactDebugCurrentFrame;function e0(r){if(r){var n=r._owner,l=Co(r.type,r._source,n?n.type:null);v1.setExtraStackFrame(l)}else v1.setExtraStackFrame(null)}function Ga(r,n,l,d,m){{var g=Function.call.bind(q);for(var N in r)if(g(r,N)){var P=void 0;try{if(typeof r[N]!="function"){var j=Error((d||"React class")+": "+l+" type `"+N+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof r[N]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw j.name="Invariant Violation",j}P=r[N](n,N,d,l,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ne){P=ne}P&&!(P instanceof Error)&&(e0(m),c("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",d||"React class",l,N,typeof P),e0(null)),P instanceof Error&&!(P.message in h1)&&(h1[P.message]=!0,e0(m),c("Failed %s type: %s",l,P.message),e0(null))}}}var Gv=[],t0;t0=[];var eo=-1;function zo(r){return{current:r}}function Sn(r,n){if(eo<0){c("Unexpected pop.");return}n!==t0[eo]&&c("Unexpected Fiber popped."),r.current=Gv[eo],Gv[eo]=null,t0[eo]=null,eo--}function On(r,n,l){eo++,Gv[eo]=r.current,t0[eo]=l,r.current=n}var Wv;Wv={};var ma={};Object.freeze(ma);var to=zo(ma),Di=zo(!1),zv=ma;function Kc(r,n,l){return l&&Si(n)?zv:to.current}function g1(r,n,l){{var d=r.stateNode;d.__reactInternalMemoizedUnmaskedChildContext=n,d.__reactInternalMemoizedMaskedChildContext=l}}function Jc(r,n){{var l=r.type,d=l.contextTypes;if(!d)return ma;var m=r.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===n)return m.__reactInternalMemoizedMaskedChildContext;var g={};for(var N in d)g[N]=n[N];{var P=Kt(r)||"Unknown";Ga(d,g,"context",P)}return m&&g1(r,n,g),g}}function r0(){return Di.current}function Si(r){{var n=r.childContextTypes;return n!=null}}function s0(r){Sn(Di,r),Sn(to,r)}function Yv(r){Sn(Di,r),Sn(to,r)}function x1(r,n,l){{if(to.current!==ma)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");On(to,n,r),On(Di,l,r)}}function b1(r,n,l){{var d=r.stateNode,m=n.childContextTypes;if(typeof d.getChildContext!="function"){{var g=Kt(r)||"Unknown";Wv[g]||(Wv[g]=!0,c("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",g,g))}return l}var N=d.getChildContext();for(var P in N)if(!(P in m))throw new Error((Kt(r)||"Unknown")+'.getChildContext(): key "'+P+'" is not defined in childContextTypes.');{var j=Kt(r)||"Unknown";Ga(m,N,"child context",j)}return ht({},l,N)}}function n0(r){{var n=r.stateNode,l=n&&n.__reactInternalMemoizedMergedChildContext||ma;return zv=to.current,On(to,l,r),On(Di,Di.current,r),!0}}function N1(r,n,l){{var d=r.stateNode;if(!d)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(l){var m=b1(r,n,zv);d.__reactInternalMemoizedMergedChildContext=m,Sn(Di,r),Sn(to,r),On(to,m,r),On(Di,l,r)}else Sn(Di,r),On(Di,l,r)}}function k2(r){{if(!uk(r)||r.tag!==x)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var n=r;do{switch(n.tag){case b:return n.stateNode.context;case x:{var l=n.type;if(Si(l))return n.stateNode.__reactInternalMemoizedMergedChildContext;break}}n=n.return}while(n!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var Yo=0,a0=1,ro=null,qv=!1,Kv=!1;function D1(r){ro===null?ro=[r]:ro.push(r)}function R2(r){qv=!0,D1(r)}function S1(){qv&&qo()}function qo(){if(!Kv&&ro!==null){Kv=!0;var r=0,n=Ha();try{var l=!0,d=ro;for(zs(ua);r<d.length;r++){var m=d[r];do m=m(l);while(m!==null)}ro=null,qv=!1}catch(g){throw ro!==null&&(ro=ro.slice(r+1)),WN(Dm,qo),g}finally{zs(n),Kv=!1}}return null}var Qc=[],Zc=0,i0=null,o0=0,ya=[],Ea=0,Hl=null,so=1,no="";function T2(r){return Wl(),(r.flags&MN)!==Gt}function P2(r){return Wl(),o0}function _2(){var r=no,n=so,l=n&~U2(n);return l.toString(32)+r}function Gl(r,n){Wl(),Qc[Zc++]=o0,Qc[Zc++]=i0,i0=r,o0=n}function O1(r,n,l){Wl(),ya[Ea++]=so,ya[Ea++]=no,ya[Ea++]=Hl,Hl=r;var d=so,m=no,g=l0(d)-1,N=d&~(1<<g),P=l+1,j=l0(n)+g;if(j>30){var ne=g-g%5,fe=(1<<ne)-1,Te=(N&fe).toString(32),Re=N>>ne,Ie=g-ne,Be=l0(n)+Ie,Je=P<<Ie,wt=Je|Re,Wt=Te+m;so=1<<Be|wt,no=Wt}else{var Ft=P<<g,Dr=Ft|N,gr=m;so=1<<j|Dr,no=gr}}function Jv(r){Wl();var n=r.return;if(n!==null){var l=1,d=0;Gl(r,l),O1(r,l,d)}}function l0(r){return 32-QN(r)}function U2(r){return 1<<l0(r)-1}function Qv(r){for(;r===i0;)i0=Qc[--Zc],Qc[Zc]=null,o0=Qc[--Zc],Qc[Zc]=null;for(;r===Hl;)Hl=ya[--Ea],ya[Ea]=null,no=ya[--Ea],ya[Ea]=null,so=ya[--Ea],ya[Ea]=null}function V2(){return Wl(),Hl!==null?{id:so,overflow:no}:null}function j2(r,n){Wl(),ya[Ea++]=so,ya[Ea++]=no,ya[Ea++]=Hl,so=n.id,no=n.overflow,Hl=r}function Wl(){rn()||c("Expected to be hydrating. This is a bug in React. Please file an issue.")}var tn=null,Ca=null,Wa=!1,zl=!1,Ko=null;function L2(){Wa&&c("We should not be hydrating here. This is a bug in React. Please file a bug.")}function y1(){zl=!0}function A2(){return zl}function M2(r){var n=r.stateNode.containerInfo;return Ca=r2(n),tn=r,Wa=!0,Ko=null,zl=!1,!0}function I2(r,n,l){return Ca=s2(n),tn=r,Wa=!0,Ko=null,zl=!1,l!==null&&j2(r,l),!0}function E1(r,n){switch(r.tag){case b:{m2(r.stateNode.containerInfo,n);break}case w:{var l=(r.mode&br)!==Yt;h2(r.type,r.memoizedProps,r.stateNode,n,l);break}case K:{var d=r.memoizedState;d.dehydrated!==null&&p2(d.dehydrated,n);break}}}function C1(r,n){E1(r,n);var l=X3();l.stateNode=n,l.return=r;var d=r.deletions;d===null?(r.deletions=[l],r.flags|=Pl):d.push(l)}function Zv(r,n){{if(zl)return;switch(r.tag){case b:{var l=r.stateNode.containerInfo;switch(n.tag){case w:var d=n.type;n.pendingProps,v2(l,d);break;case C:var m=n.pendingProps;g2(l,m);break}break}case w:{var g=r.type,N=r.memoizedProps,P=r.stateNode;switch(n.tag){case w:{var j=n.type,ne=n.pendingProps,fe=(r.mode&br)!==Yt;N2(g,N,P,j,ne,fe);break}case C:{var Te=n.pendingProps,Re=(r.mode&br)!==Yt;D2(g,N,P,Te,Re);break}}break}case K:{var Ie=r.memoizedState,Be=Ie.dehydrated;if(Be!==null)switch(n.tag){case w:var Je=n.type;n.pendingProps,x2(Be,Je);break;case C:var wt=n.pendingProps;b2(Be,wt);break}break}default:return}}}function w1(r,n){n.flags=n.flags&~qi|ds,Zv(r,n)}function k1(r,n){switch(r.tag){case w:{var l=r.type;r.pendingProps;var d=KT(n,l);return d!==null?(r.stateNode=d,tn=r,Ca=t2(d),!0):!1}case C:{var m=r.pendingProps,g=JT(n,m);return g!==null?(r.stateNode=g,tn=r,Ca=null,!0):!1}case K:{var N=QT(n);if(N!==null){var P={dehydrated:N,treeContext:V2(),retryLane:la};r.memoizedState=P;var j=H3(N);return j.return=r,r.child=j,tn=r,Ca=null,!0}return!1}default:return!1}}function eg(r){return(r.mode&br)!==Yt&&(r.flags&Ur)===Gt}function tg(r){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function rg(r){if(Wa){var n=Ca;if(!n){eg(r)&&(Zv(tn,r),tg()),w1(tn,r),Wa=!1,tn=r;return}var l=n;if(!k1(r,n)){eg(r)&&(Zv(tn,r),tg()),n=Rd(l);var d=tn;if(!n||!k1(r,n)){w1(tn,r),Wa=!1,tn=r;return}C1(d,l)}}}function F2(r,n,l){var d=r.stateNode,m=!zl,g=n2(d,r.type,r.memoizedProps,n,l,r,m);return r.updateQueue=g,g!==null}function $2(r){var n=r.stateNode,l=r.memoizedProps,d=a2(n,l,r);if(d){var m=tn;if(m!==null)switch(m.tag){case b:{var g=m.stateNode.containerInfo,N=(m.mode&br)!==Yt;d2(g,n,l,N);break}case w:{var P=m.type,j=m.memoizedProps,ne=m.stateNode,fe=(m.mode&br)!==Yt;f2(P,j,ne,n,l,fe);break}}}return d}function B2(r){var n=r.memoizedState,l=n!==null?n.dehydrated:null;if(!l)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");i2(l,r)}function X2(r){var n=r.memoizedState,l=n!==null?n.dehydrated:null;if(!l)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return o2(l)}function R1(r){for(var n=r.return;n!==null&&n.tag!==w&&n.tag!==b&&n.tag!==K;)n=n.return;tn=n}function c0(r){if(r!==tn)return!1;if(!Wa)return R1(r),Wa=!0,!1;if(r.tag!==b&&(r.tag!==w||u2(r.type)&&!Av(r.type,r.memoizedProps))){var n=Ca;if(n)if(eg(r))T1(r),tg();else for(;n;)C1(r,n),n=Rd(n)}return R1(r),r.tag===K?Ca=X2(r):Ca=tn?Rd(r.stateNode):null,!0}function H2(){return Wa&&Ca!==null}function T1(r){for(var n=Ca;n;)E1(r,n),n=Rd(n)}function eu(){tn=null,Ca=null,Wa=!1,zl=!1}function P1(){Ko!==null&&(yO(Ko),Ko=null)}function rn(){return Wa}function sg(r){Ko===null?Ko=[r]:Ko.push(r)}var G2=t.ReactCurrentBatchConfig,W2=null;function z2(){return G2.transition}var za={recordUnsafeLifecycleWarnings:function(r,n){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(r,n){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var Y2=function(r){for(var n=null,l=r;l!==null;)l.mode&fs&&(n=l),l=l.return;return n},Yl=function(r){var n=[];return r.forEach(function(l){n.push(l)}),n.sort().join(", ")},Ud=[],Vd=[],jd=[],Ld=[],Ad=[],Md=[],ql=new Set;za.recordUnsafeLifecycleWarnings=function(r,n){ql.has(r.type)||(typeof n.componentWillMount=="function"&&n.componentWillMount.__suppressDeprecationWarning!==!0&&Ud.push(r),r.mode&fs&&typeof n.UNSAFE_componentWillMount=="function"&&Vd.push(r),typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&jd.push(r),r.mode&fs&&typeof n.UNSAFE_componentWillReceiveProps=="function"&&Ld.push(r),typeof n.componentWillUpdate=="function"&&n.componentWillUpdate.__suppressDeprecationWarning!==!0&&Ad.push(r),r.mode&fs&&typeof n.UNSAFE_componentWillUpdate=="function"&&Md.push(r))},za.flushPendingUnsafeLifecycleWarnings=function(){var r=new Set;Ud.length>0&&(Ud.forEach(function(Re){r.add(Kt(Re)||"Component"),ql.add(Re.type)}),Ud=[]);var n=new Set;Vd.length>0&&(Vd.forEach(function(Re){n.add(Kt(Re)||"Component"),ql.add(Re.type)}),Vd=[]);var l=new Set;jd.length>0&&(jd.forEach(function(Re){l.add(Kt(Re)||"Component"),ql.add(Re.type)}),jd=[]);var d=new Set;Ld.length>0&&(Ld.forEach(function(Re){d.add(Kt(Re)||"Component"),ql.add(Re.type)}),Ld=[]);var m=new Set;Ad.length>0&&(Ad.forEach(function(Re){m.add(Kt(Re)||"Component"),ql.add(Re.type)}),Ad=[]);var g=new Set;if(Md.length>0&&(Md.forEach(function(Re){g.add(Kt(Re)||"Component"),ql.add(Re.type)}),Md=[]),n.size>0){var N=Yl(n);c(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,N)}if(d.size>0){var P=Yl(d);c(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,P)}if(g.size>0){var j=Yl(g);c(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,j)}if(r.size>0){var ne=Yl(r);u(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ne)}if(l.size>0){var fe=Yl(l);u(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,fe)}if(m.size>0){var Te=Yl(m);u(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Te)}};var u0=new Map,_1=new Set;za.recordLegacyContextWarning=function(r,n){var l=Y2(r);if(l===null){c("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!_1.has(r.type)){var d=u0.get(l);(r.type.contextTypes!=null||r.type.childContextTypes!=null||n!==null&&typeof n.getChildContext=="function")&&(d===void 0&&(d=[],u0.set(l,d)),d.push(r))}},za.flushLegacyContextWarning=function(){u0.forEach(function(r,n){if(r.length!==0){var l=r[0],d=new Set;r.forEach(function(g){d.add(Kt(g)||"Component"),_1.add(g.type)});var m=Yl(d);try{jr(l),c(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,m)}finally{vs()}}})},za.discardPendingWarnings=function(){Ud=[],Vd=[],jd=[],Ld=[],Ad=[],Md=[],u0=new Map}}var ng,ag,ig,og,lg,U1=function(r,n){};ng=!1,ag=!1,ig={},og={},lg={},U1=function(r,n){if(!(r===null||typeof r!="object")&&!(!r._store||r._store.validated||r.key!=null)){if(typeof r._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");r._store.validated=!0;var l=Kt(n)||"Component";og[l]||(og[l]=!0,c('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function q2(r){return r.prototype&&r.prototype.isReactComponent}function Id(r,n,l){var d=l.ref;if(d!==null&&typeof d!="function"&&typeof d!="object"){if((r.mode&fs||te)&&!(l._owner&&l._self&&l._owner.stateNode!==l._self)&&!(l._owner&&l._owner.tag!==x)&&!(typeof l.type=="function"&&!q2(l.type))&&l._owner){var m=Kt(r)||"Component";ig[m]||(c('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',m,d),ig[m]=!0)}if(l._owner){var g=l._owner,N;if(g){var P=g;if(P.tag!==x)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");N=P.stateNode}if(!N)throw new Error("Missing owner for string ref "+d+". This error is likely caused by a bug in React. Please file an issue.");var j=N;tr(d,"ref");var ne=""+d;if(n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===ne)return n.ref;var fe=function(Te){var Re=j.refs;Te===null?delete Re[ne]:Re[ne]=Te};return fe._stringRef=ne,fe}else{if(typeof d!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!l._owner)throw new Error("Element ref was specified as a string ("+d+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return d}function d0(r,n){var l=Object.prototype.toString.call(n);throw new Error("Objects are not valid as a React child (found: "+(l==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.")}function f0(r){{var n=Kt(r)||"Component";if(lg[n])return;lg[n]=!0,c("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function V1(r){var n=r._payload,l=r._init;return l(n)}function j1(r){function n(Le,Qe){if(r){var Ae=Le.deletions;Ae===null?(Le.deletions=[Qe],Le.flags|=Pl):Ae.push(Qe)}}function l(Le,Qe){if(!r)return null;for(var Ae=Qe;Ae!==null;)n(Le,Ae),Ae=Ae.sibling;return null}function d(Le,Qe){for(var Ae=new Map,dt=Qe;dt!==null;)dt.key!==null?Ae.set(dt.key,dt):Ae.set(dt.index,dt),dt=dt.sibling;return Ae}function m(Le,Qe){var Ae=nc(Le,Qe);return Ae.index=0,Ae.sibling=null,Ae}function g(Le,Qe,Ae){if(Le.index=Ae,!r)return Le.flags|=MN,Qe;var dt=Le.alternate;if(dt!==null){var _t=dt.index;return _t<Qe?(Le.flags|=ds,Qe):_t}else return Le.flags|=ds,Qe}function N(Le){return r&&Le.alternate===null&&(Le.flags|=ds),Le}function P(Le,Qe,Ae,dt){if(Qe===null||Qe.tag!==C){var _t=sb(Ae,Le.mode,dt);return _t.return=Le,_t}else{var kt=m(Qe,Ae);return kt.return=Le,kt}}function j(Le,Qe,Ae,dt){var _t=Ae.type;if(_t===zr)return fe(Le,Qe,Ae.props.children,dt,Ae.key);if(Qe!==null&&(Qe.elementType===_t||FO(Qe,Ae)||typeof _t=="object"&&_t!==null&&_t.$$typeof===me&&V1(_t)===Qe.type)){var kt=m(Qe,Ae.props);return kt.ref=Id(Le,Qe,Ae),kt.return=Le,kt._debugSource=Ae._source,kt._debugOwner=Ae._owner,kt}var qt=rb(Ae,Le.mode,dt);return qt.ref=Id(Le,Qe,Ae),qt.return=Le,qt}function ne(Le,Qe,Ae,dt){if(Qe===null||Qe.tag!==O||Qe.stateNode.containerInfo!==Ae.containerInfo||Qe.stateNode.implementation!==Ae.implementation){var _t=nb(Ae,Le.mode,dt);return _t.return=Le,_t}else{var kt=m(Qe,Ae.children||[]);return kt.return=Le,kt}}function fe(Le,Qe,Ae,dt,_t){if(Qe===null||Qe.tag!==S){var kt=ol(Ae,Le.mode,dt,_t);return kt.return=Le,kt}else{var qt=m(Qe,Ae);return qt.return=Le,qt}}function Te(Le,Qe,Ae){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"){var dt=sb(""+Qe,Le.mode,Ae);return dt.return=Le,dt}if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case Ut:{var _t=rb(Qe,Le.mode,Ae);return _t.ref=Id(Le,null,Qe),_t.return=Le,_t}case ar:{var kt=nb(Qe,Le.mode,Ae);return kt.return=Le,kt}case me:{var qt=Qe._payload,nr=Qe._init;return Te(Le,nr(qt),Ae)}}if(or(Qe)||pt(Qe)){var Fr=ol(Qe,Le.mode,Ae,null);return Fr.return=Le,Fr}d0(Le,Qe)}return typeof Qe=="function"&&f0(Le),null}function Re(Le,Qe,Ae,dt){var _t=Qe!==null?Qe.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return _t!==null?null:P(Le,Qe,""+Ae,dt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case Ut:return Ae.key===_t?j(Le,Qe,Ae,dt):null;case ar:return Ae.key===_t?ne(Le,Qe,Ae,dt):null;case me:{var kt=Ae._payload,qt=Ae._init;return Re(Le,Qe,qt(kt),dt)}}if(or(Ae)||pt(Ae))return _t!==null?null:fe(Le,Qe,Ae,dt,null);d0(Le,Ae)}return typeof Ae=="function"&&f0(Le),null}function Ie(Le,Qe,Ae,dt,_t){if(typeof dt=="string"&&dt!==""||typeof dt=="number"){var kt=Le.get(Ae)||null;return P(Qe,kt,""+dt,_t)}if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case Ut:{var qt=Le.get(dt.key===null?Ae:dt.key)||null;return j(Qe,qt,dt,_t)}case ar:{var nr=Le.get(dt.key===null?Ae:dt.key)||null;return ne(Qe,nr,dt,_t)}case me:var Fr=dt._payload,Rr=dt._init;return Ie(Le,Qe,Ae,Rr(Fr),_t)}if(or(dt)||pt(dt)){var xs=Le.get(Ae)||null;return fe(Qe,xs,dt,_t,null)}d0(Qe,dt)}return typeof dt=="function"&&f0(Qe),null}function Be(Le,Qe,Ae){{if(typeof Le!="object"||Le===null)return Qe;switch(Le.$$typeof){case Ut:case ar:U1(Le,Ae);var dt=Le.key;if(typeof dt!="string")break;if(Qe===null){Qe=new Set,Qe.add(dt);break}if(!Qe.has(dt)){Qe.add(dt);break}c("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",dt);break;case me:var _t=Le._payload,kt=Le._init;Be(kt(_t),Qe,Ae);break}}return Qe}function Je(Le,Qe,Ae,dt){for(var _t=null,kt=0;kt<Ae.length;kt++){var qt=Ae[kt];_t=Be(qt,_t,Le)}for(var nr=null,Fr=null,Rr=Qe,xs=0,Tr=0,ms=null;Rr!==null&&Tr<Ae.length;Tr++){Rr.index>Tr?(ms=Rr,Rr=null):ms=Rr.sibling;var En=Re(Le,Rr,Ae[Tr],dt);if(En===null){Rr===null&&(Rr=ms);break}r&&Rr&&En.alternate===null&&n(Le,Rr),xs=g(En,xs,Tr),Fr===null?nr=En:Fr.sibling=En,Fr=En,Rr=ms}if(Tr===Ae.length){if(l(Le,Rr),rn()){var un=Tr;Gl(Le,un)}return nr}if(Rr===null){for(;Tr<Ae.length;Tr++){var ha=Te(Le,Ae[Tr],dt);ha!==null&&(xs=g(ha,xs,Tr),Fr===null?nr=ha:Fr.sibling=ha,Fr=ha)}if(rn()){var $n=Tr;Gl(Le,$n)}return nr}for(var Bn=d(Le,Rr);Tr<Ae.length;Tr++){var Cn=Ie(Bn,Le,Tr,Ae[Tr],dt);Cn!==null&&(r&&Cn.alternate!==null&&Bn.delete(Cn.key===null?Tr:Cn.key),xs=g(Cn,xs,Tr),Fr===null?nr=Cn:Fr.sibling=Cn,Fr=Cn)}if(r&&Bn.forEach(function(bu){return n(Le,bu)}),rn()){var fo=Tr;Gl(Le,fo)}return nr}function wt(Le,Qe,Ae,dt){var _t=pt(Ae);if(typeof _t!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&Ae[Symbol.toStringTag]==="Generator"&&(ag||c("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),ag=!0),Ae.entries===_t&&(ng||c("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),ng=!0);var kt=_t.call(Ae);if(kt)for(var qt=null,nr=kt.next();!nr.done;nr=kt.next()){var Fr=nr.value;qt=Be(Fr,qt,Le)}}var Rr=_t.call(Ae);if(Rr==null)throw new Error("An iterable object provided no iterator.");for(var xs=null,Tr=null,ms=Qe,En=0,un=0,ha=null,$n=Rr.next();ms!==null&&!$n.done;un++,$n=Rr.next()){ms.index>un?(ha=ms,ms=null):ha=ms.sibling;var Bn=Re(Le,ms,$n.value,dt);if(Bn===null){ms===null&&(ms=ha);break}r&&ms&&Bn.alternate===null&&n(Le,ms),En=g(Bn,En,un),Tr===null?xs=Bn:Tr.sibling=Bn,Tr=Bn,ms=ha}if($n.done){if(l(Le,ms),rn()){var Cn=un;Gl(Le,Cn)}return xs}if(ms===null){for(;!$n.done;un++,$n=Rr.next()){var fo=Te(Le,$n.value,dt);fo!==null&&(En=g(fo,En,un),Tr===null?xs=fo:Tr.sibling=fo,Tr=fo)}if(rn()){var bu=un;Gl(Le,bu)}return xs}for(var xf=d(Le,ms);!$n.done;un++,$n=Rr.next()){var Ti=Ie(xf,Le,un,$n.value,dt);Ti!==null&&(r&&Ti.alternate!==null&&xf.delete(Ti.key===null?un:Ti.key),En=g(Ti,En,un),Tr===null?xs=Ti:Tr.sibling=Ti,Tr=Ti)}if(r&&xf.forEach(function(DU){return n(Le,DU)}),rn()){var NU=un;Gl(Le,NU)}return xs}function Wt(Le,Qe,Ae,dt){if(Qe!==null&&Qe.tag===C){l(Le,Qe.sibling);var _t=m(Qe,Ae);return _t.return=Le,_t}l(Le,Qe);var kt=sb(Ae,Le.mode,dt);return kt.return=Le,kt}function Ft(Le,Qe,Ae,dt){for(var _t=Ae.key,kt=Qe;kt!==null;){if(kt.key===_t){var qt=Ae.type;if(qt===zr){if(kt.tag===S){l(Le,kt.sibling);var nr=m(kt,Ae.props.children);return nr.return=Le,nr._debugSource=Ae._source,nr._debugOwner=Ae._owner,nr}}else if(kt.elementType===qt||FO(kt,Ae)||typeof qt=="object"&&qt!==null&&qt.$$typeof===me&&V1(qt)===kt.type){l(Le,kt.sibling);var Fr=m(kt,Ae.props);return Fr.ref=Id(Le,kt,Ae),Fr.return=Le,Fr._debugSource=Ae._source,Fr._debugOwner=Ae._owner,Fr}l(Le,kt);break}else n(Le,kt);kt=kt.sibling}if(Ae.type===zr){var Rr=ol(Ae.props.children,Le.mode,dt,Ae.key);return Rr.return=Le,Rr}else{var xs=rb(Ae,Le.mode,dt);return xs.ref=Id(Le,Qe,Ae),xs.return=Le,xs}}function Dr(Le,Qe,Ae,dt){for(var _t=Ae.key,kt=Qe;kt!==null;){if(kt.key===_t)if(kt.tag===O&&kt.stateNode.containerInfo===Ae.containerInfo&&kt.stateNode.implementation===Ae.implementation){l(Le,kt.sibling);var qt=m(kt,Ae.children||[]);return qt.return=Le,qt}else{l(Le,kt);break}else n(Le,kt);kt=kt.sibling}var nr=nb(Ae,Le.mode,dt);return nr.return=Le,nr}function gr(Le,Qe,Ae,dt){var _t=typeof Ae=="object"&&Ae!==null&&Ae.type===zr&&Ae.key===null;if(_t&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case Ut:return N(Ft(Le,Qe,Ae,dt));case ar:return N(Dr(Le,Qe,Ae,dt));case me:var kt=Ae._payload,qt=Ae._init;return gr(Le,Qe,qt(kt),dt)}if(or(Ae))return Je(Le,Qe,Ae,dt);if(pt(Ae))return wt(Le,Qe,Ae,dt);d0(Le,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?N(Wt(Le,Qe,""+Ae,dt)):(typeof Ae=="function"&&f0(Le),l(Le,Qe))}return gr}var tu=j1(!0),L1=j1(!1);function K2(r,n){if(r!==null&&n.child!==r.child)throw new Error("Resuming work not yet implemented.");if(n.child!==null){var l=n.child,d=nc(l,l.pendingProps);for(n.child=d,d.return=n;l.sibling!==null;)l=l.sibling,d=d.sibling=nc(l,l.pendingProps),d.return=n;d.sibling=null}}function J2(r,n){for(var l=r.child;l!==null;)M3(l,n),l=l.sibling}var cg=zo(null),ug;ug={};var m0=null,ru=null,dg=null,p0=!1;function h0(){m0=null,ru=null,dg=null,p0=!1}function A1(){p0=!0}function M1(){p0=!1}function I1(r,n,l){On(cg,n._currentValue,r),n._currentValue=l,n._currentRenderer!==void 0&&n._currentRenderer!==null&&n._currentRenderer!==ug&&c("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),n._currentRenderer=ug}function fg(r,n){var l=cg.current;Sn(cg,n),r._currentValue=l}function mg(r,n,l){for(var d=r;d!==null;){var m=d.alternate;if(Fc(d.childLanes,n)?m!==null&&!Fc(m.childLanes,n)&&(m.childLanes=ur(m.childLanes,n)):(d.childLanes=ur(d.childLanes,n),m!==null&&(m.childLanes=ur(m.childLanes,n))),d===l)break;d=d.return}d!==l&&c("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function Q2(r,n,l){Z2(r,n,l)}function Z2(r,n,l){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var m=void 0,g=d.dependencies;if(g!==null){m=d.child;for(var N=g.firstContext;N!==null;){if(N.context===n){if(d.tag===x){var P=sd(l),j=ao(Qr,P);j.tag=g0;var ne=d.updateQueue;if(ne!==null){var fe=ne.shared,Te=fe.pending;Te===null?j.next=j:(j.next=Te.next,Te.next=j),fe.pending=j}}d.lanes=ur(d.lanes,l);var Re=d.alternate;Re!==null&&(Re.lanes=ur(Re.lanes,l)),mg(d.return,l,r),g.lanes=ur(g.lanes,l);break}N=N.next}}else if(d.tag===G)m=d.type===r.type?null:d.child;else if(d.tag===H){var Ie=d.return;if(Ie===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");Ie.lanes=ur(Ie.lanes,l);var Be=Ie.alternate;Be!==null&&(Be.lanes=ur(Be.lanes,l)),mg(Ie,l,r),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===r){m=null;break}var Je=m.sibling;if(Je!==null){Je.return=m.return,m=Je;break}m=m.return}d=m}}function su(r,n){m0=r,ru=null,dg=null;var l=r.dependencies;if(l!==null){var d=l.firstContext;d!==null&&(ca(l.lanes,n)&&ef(),l.firstContext=null)}}function Ds(r){p0&&c("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var n=r._currentValue;if(dg!==r){var l={context:r,memoizedValue:n,next:null};if(ru===null){if(m0===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");ru=l,m0.dependencies={lanes:lt,firstContext:l}}else ru=ru.next=l}return n}var Kl=null;function pg(r){Kl===null?Kl=[r]:Kl.push(r)}function eP(){if(Kl!==null){for(var r=0;r<Kl.length;r++){var n=Kl[r],l=n.interleaved;if(l!==null){n.interleaved=null;var d=l.next,m=n.pending;if(m!==null){var g=m.next;m.next=d,l.next=g}n.pending=l}}Kl=null}}function F1(r,n,l,d){var m=n.interleaved;return m===null?(l.next=l,pg(n)):(l.next=m.next,m.next=l),n.interleaved=l,v0(r,d)}function tP(r,n,l,d){var m=n.interleaved;m===null?(l.next=l,pg(n)):(l.next=m.next,m.next=l),n.interleaved=l}function rP(r,n,l,d){var m=n.interleaved;return m===null?(l.next=l,pg(n)):(l.next=m.next,m.next=l),n.interleaved=l,v0(r,d)}function Jn(r,n){return v0(r,n)}var sP=v0;function v0(r,n){r.lanes=ur(r.lanes,n);var l=r.alternate;l!==null&&(l.lanes=ur(l.lanes,n)),l===null&&(r.flags&(ds|qi))!==Gt&&LO(r);for(var d=r,m=r.return;m!==null;)m.childLanes=ur(m.childLanes,n),l=m.alternate,l!==null?l.childLanes=ur(l.childLanes,n):(m.flags&(ds|qi))!==Gt&&LO(r),d=m,m=m.return;if(d.tag===b){var g=d.stateNode;return g}else return null}var $1=0,B1=1,g0=2,hg=3,x0=!1,vg,b0;vg=!1,b0=null;function gg(r){var n={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:lt},effects:null};r.updateQueue=n}function X1(r,n){var l=n.updateQueue,d=r.updateQueue;if(l===d){var m={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects};n.updateQueue=m}}function ao(r,n){var l={eventTime:r,lane:n,tag:$1,payload:null,callback:null,next:null};return l}function Jo(r,n,l){var d=r.updateQueue;if(d===null)return null;var m=d.shared;if(b0===m&&!vg&&(c("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),vg=!0),t3()){var g=m.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),m.pending=n,sP(r,l)}else return rP(r,m,n,l)}function N0(r,n,l){var d=n.updateQueue;if(d!==null){var m=d.shared;if(rD(l)){var g=m.lanes;g=nD(g,r.pendingLanes);var N=ur(g,l);m.lanes=N,cv(r,N)}}}function xg(r,n){var l=r.updateQueue,d=r.alternate;if(d!==null){var m=d.updateQueue;if(l===m){var g=null,N=null,P=l.firstBaseUpdate;if(P!==null){var j=P;do{var ne={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};N===null?g=N=ne:(N.next=ne,N=ne),j=j.next}while(j!==null);N===null?g=N=n:(N.next=n,N=n)}else g=N=n;l={baseState:m.baseState,firstBaseUpdate:g,lastBaseUpdate:N,shared:m.shared,effects:m.effects},r.updateQueue=l;return}}var fe=l.lastBaseUpdate;fe===null?l.firstBaseUpdate=n:fe.next=n,l.lastBaseUpdate=n}function nP(r,n,l,d,m,g){switch(l.tag){case B1:{var N=l.payload;if(typeof N=="function"){A1();var P=N.call(g,d,m);{if(r.mode&fs){Gs(!0);try{N.call(g,d,m)}finally{Gs(!1)}}M1()}return P}return N}case hg:r.flags=r.flags&~An|Ur;case $1:{var j=l.payload,ne;if(typeof j=="function"){A1(),ne=j.call(g,d,m);{if(r.mode&fs){Gs(!0);try{j.call(g,d,m)}finally{Gs(!1)}}M1()}}else ne=j;return ne==null?d:ht({},d,ne)}case g0:return x0=!0,d}return d}function D0(r,n,l,d){var m=r.updateQueue;x0=!1,b0=m.shared;var g=m.firstBaseUpdate,N=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var j=P,ne=j.next;j.next=null,N===null?g=ne:N.next=ne,N=j;var fe=r.alternate;if(fe!==null){var Te=fe.updateQueue,Re=Te.lastBaseUpdate;Re!==N&&(Re===null?Te.firstBaseUpdate=ne:Re.next=ne,Te.lastBaseUpdate=j)}}if(g!==null){var Ie=m.baseState,Be=lt,Je=null,wt=null,Wt=null,Ft=g;do{var Dr=Ft.lane,gr=Ft.eventTime;if(Fc(d,Dr)){if(Wt!==null){var Qe={eventTime:gr,lane:Ws,tag:Ft.tag,payload:Ft.payload,callback:Ft.callback,next:null};Wt=Wt.next=Qe}Ie=nP(r,m,Ft,Ie,n,l);var Ae=Ft.callback;if(Ae!==null&&Ft.lane!==Ws){r.flags|=AN;var dt=m.effects;dt===null?m.effects=[Ft]:dt.push(Ft)}}else{var Le={eventTime:gr,lane:Dr,tag:Ft.tag,payload:Ft.payload,callback:Ft.callback,next:null};Wt===null?(wt=Wt=Le,Je=Ie):Wt=Wt.next=Le,Be=ur(Be,Dr)}if(Ft=Ft.next,Ft===null){if(P=m.shared.pending,P===null)break;var _t=P,kt=_t.next;_t.next=null,Ft=kt,m.lastBaseUpdate=_t,m.shared.pending=null}}while(!0);Wt===null&&(Je=Ie),m.baseState=Je,m.firstBaseUpdate=wt,m.lastBaseUpdate=Wt;var qt=m.shared.interleaved;if(qt!==null){var nr=qt;do Be=ur(Be,nr.lane),nr=nr.next;while(nr!==qt)}else g===null&&(m.shared.lanes=lt);mf(Be),r.lanes=Be,r.memoizedState=Ie}b0=null}function aP(r,n){if(typeof r!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+r));r.call(n)}function H1(){x0=!1}function S0(){return x0}function G1(r,n,l){var d=n.effects;if(n.effects=null,d!==null)for(var m=0;m<d.length;m++){var g=d[m],N=g.callback;N!==null&&(g.callback=null,aP(N,l))}}var Fd={},Qo=zo(Fd),$d=zo(Fd),O0=zo(Fd);function y0(r){if(r===Fd)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return r}function W1(){var r=y0(O0.current);return r}function bg(r,n){On(O0,n,r),On($d,r,r),On(Qo,Fd,r);var l=ST(n);Sn(Qo,r),On(Qo,l,r)}function nu(r){Sn(Qo,r),Sn($d,r),Sn(O0,r)}function Ng(){var r=y0(Qo.current);return r}function z1(r){y0(O0.current);var n=y0(Qo.current),l=OT(n,r.type);n!==l&&(On($d,r,r),On(Qo,l,r))}function Dg(r){$d.current===r&&(Sn(Qo,r),Sn($d,r))}var iP=0,Y1=1,q1=1,Bd=2,Ya=zo(iP);function Sg(r,n){return(r&n)!==0}function au(r){return r&Y1}function Og(r,n){return r&Y1|n}function oP(r,n){return r|n}function Zo(r,n){On(Ya,n,r)}function iu(r){Sn(Ya,r)}function lP(r,n){var l=r.memoizedState;return l!==null?l.dehydrated!==null:(r.memoizedProps,!0)}function E0(r){for(var n=r;n!==null;){if(n.tag===K){var l=n.memoizedState;if(l!==null){var d=l.dehydrated;if(d===null||f1(d)||$v(d))return n}}else if(n.tag===Z&&n.memoizedProps.revealOrder!==void 0){var m=(n.flags&Ur)!==Gt;if(m)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)return null;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qn=0,Ps=1,Oi=2,_s=4,sn=8,yg=[];function Eg(){for(var r=0;r<yg.length;r++){var n=yg[r];n._workInProgressVersionPrimary=null}yg.length=0}function cP(r,n){var l=n._getVersion,d=l(n._source);r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,d]:r.mutableSourceEagerHydrationData.push(n,d)}var Tt=t.ReactCurrentDispatcher,Xd=t.ReactCurrentBatchConfig,Cg,ou;Cg=new Set;var Jl=lt,Ir=null,Us=null,Vs=null,C0=!1,Hd=!1,Gd=0,uP=0,dP=25,rt=null,wa=null,el=-1,wg=!1;function Lr(){{var r=rt;wa===null?wa=[r]:wa.push(r)}}function Et(){{var r=rt;wa!==null&&(el++,wa[el]!==r&&fP(r))}}function lu(r){r!=null&&!or(r)&&c("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",rt,typeof r)}function fP(r){{var n=Kt(Ir);if(!Cg.has(n)&&(Cg.add(n),wa!==null)){for(var l="",d=30,m=0;m<=el;m++){for(var g=wa[m],N=m===el?r:g,P=m+1+". "+g;P.length<d;)P+=" ";P+=N+`
`,l+=P}c(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,n,l)}}}function yn(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function kg(r,n){if(wg)return!1;if(n===null)return c("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",rt),!1;r.length!==n.length&&c(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,rt,"["+n.join(", ")+"]","["+r.join(", ")+"]");for(var l=0;l<n.length&&l<r.length;l++)if(!fa(r[l],n[l]))return!1;return!0}function cu(r,n,l,d,m,g){Jl=g,Ir=n,wa=r!==null?r._debugHookTypes:null,el=-1,wg=r!==null&&r.type!==n.type,n.memoizedState=null,n.updateQueue=null,n.lanes=lt,r!==null&&r.memoizedState!==null?Tt.current=gS:wa!==null?Tt.current=vS:Tt.current=hS;var N=l(d,m);if(Hd){var P=0;do{if(Hd=!1,Gd=0,P>=dP)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");P+=1,wg=!1,Us=null,Vs=null,n.updateQueue=null,el=-1,Tt.current=xS,N=l(d,m)}while(Hd)}Tt.current=I0,n._debugHookTypes=wa;var j=Us!==null&&Us.next!==null;if(Jl=lt,Ir=null,Us=null,Vs=null,rt=null,wa=null,el=-1,r!==null&&(r.flags&Ki)!==(n.flags&Ki)&&(r.mode&br)!==Yt&&c("Internal React error: Expected static flag was missing. Please notify the React team."),C0=!1,j)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return N}function uu(){var r=Gd!==0;return Gd=0,r}function K1(r,n,l){n.updateQueue=r.updateQueue,(n.mode&bi)!==Yt?n.flags&=-50333701:n.flags&=-2053,r.lanes=wm(r.lanes,l)}function J1(){if(Tt.current=I0,C0){for(var r=Ir.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}C0=!1}Jl=lt,Ir=null,Us=null,Vs=null,wa=null,el=-1,rt=null,uS=!1,Hd=!1,Gd=0}function yi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vs===null?Ir.memoizedState=Vs=r:Vs=Vs.next=r,Vs}function ka(){var r;if(Us===null){var n=Ir.alternate;n!==null?r=n.memoizedState:r=null}else r=Us.next;var l;if(Vs===null?l=Ir.memoizedState:l=Vs.next,l!==null)Vs=l,l=Vs.next,Us=r;else{if(r===null)throw new Error("Rendered more hooks than during the previous render.");Us=r;var d={memoizedState:Us.memoizedState,baseState:Us.baseState,baseQueue:Us.baseQueue,queue:Us.queue,next:null};Vs===null?Ir.memoizedState=Vs=d:Vs=Vs.next=d}return Vs}function Q1(){return{lastEffect:null,stores:null}}function Rg(r,n){return typeof n=="function"?n(r):n}function Tg(r,n,l){var d=yi(),m;l!==void 0?m=l(n):m=n,d.memoizedState=d.baseState=m;var g={pending:null,interleaved:null,lanes:lt,dispatch:null,lastRenderedReducer:r,lastRenderedState:m};d.queue=g;var N=g.dispatch=vP.bind(null,Ir,g);return[d.memoizedState,N]}function Pg(r,n,l){var d=ka(),m=d.queue;if(m===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");m.lastRenderedReducer=r;var g=Us,N=g.baseQueue,P=m.pending;if(P!==null){if(N!==null){var j=N.next,ne=P.next;N.next=ne,P.next=j}g.baseQueue!==N&&c("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),g.baseQueue=N=P,m.pending=null}if(N!==null){var fe=N.next,Te=g.baseState,Re=null,Ie=null,Be=null,Je=fe;do{var wt=Je.lane;if(Fc(Jl,wt)){if(Be!==null){var Ft={lane:Ws,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null};Be=Be.next=Ft}if(Je.hasEagerState)Te=Je.eagerState;else{var Dr=Je.action;Te=r(Te,Dr)}}else{var Wt={lane:wt,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null};Be===null?(Ie=Be=Wt,Re=Te):Be=Be.next=Wt,Ir.lanes=ur(Ir.lanes,wt),mf(wt)}Je=Je.next}while(Je!==null&&Je!==fe);Be===null?Re=Te:Be.next=Ie,fa(Te,d.memoizedState)||ef(),d.memoizedState=Te,d.baseState=Re,d.baseQueue=Be,m.lastRenderedState=Te}var gr=m.interleaved;if(gr!==null){var Le=gr;do{var Qe=Le.lane;Ir.lanes=ur(Ir.lanes,Qe),mf(Qe),Le=Le.next}while(Le!==gr)}else N===null&&(m.lanes=lt);var Ae=m.dispatch;return[d.memoizedState,Ae]}function _g(r,n,l){var d=ka(),m=d.queue;if(m===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");m.lastRenderedReducer=r;var g=m.dispatch,N=m.pending,P=d.memoizedState;if(N!==null){m.pending=null;var j=N.next,ne=j;do{var fe=ne.action;P=r(P,fe),ne=ne.next}while(ne!==j);fa(P,d.memoizedState)||ef(),d.memoizedState=P,d.baseQueue===null&&(d.baseState=P),m.lastRenderedState=P}return[P,g]}function X9(r,n,l){}function H9(r,n,l){}function Ug(r,n,l){var d=Ir,m=yi(),g,N=rn();if(N){if(l===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");g=l(),ou||g!==l()&&(c("The result of getServerSnapshot should be cached to avoid an infinite loop"),ou=!0)}else{if(g=n(),!ou){var P=n();fa(g,P)||(c("The result of getSnapshot should be cached to avoid an infinite loop"),ou=!0)}var j=np();if(j===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Cm(j,Jl)||Z1(d,n,g)}m.memoizedState=g;var ne={value:g,getSnapshot:n};return m.queue=ne,P0(tS.bind(null,d,ne,r),[r]),d.flags|=Mo,Wd(Ps|sn,eS.bind(null,d,ne,g,n),void 0,null),g}function w0(r,n,l){var d=Ir,m=ka(),g=n();if(!ou){var N=n();fa(g,N)||(c("The result of getSnapshot should be cached to avoid an infinite loop"),ou=!0)}var P=m.memoizedState,j=!fa(P,g);j&&(m.memoizedState=g,ef());var ne=m.queue;if(Yd(tS.bind(null,d,ne,r),[r]),ne.getSnapshot!==n||j||Vs!==null&&Vs.memoizedState.tag&Ps){d.flags|=Mo,Wd(Ps|sn,eS.bind(null,d,ne,g,n),void 0,null);var fe=np();if(fe===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Cm(fe,Jl)||Z1(d,n,g)}return g}function Z1(r,n,l){r.flags|=Rh;var d={getSnapshot:n,value:l},m=Ir.updateQueue;if(m===null)m=Q1(),Ir.updateQueue=m,m.stores=[d];else{var g=m.stores;g===null?m.stores=[d]:g.push(d)}}function eS(r,n,l,d){n.value=l,n.getSnapshot=d,rS(n)&&sS(r)}function tS(r,n,l){var d=function(){rS(n)&&sS(r)};return l(d)}function rS(r){var n=r.getSnapshot,l=r.value;try{var d=n();return!fa(l,d)}catch{return!0}}function sS(r){var n=Jn(r,Qt);n!==null&&Ms(n,r,Qt,Qr)}function k0(r){var n=yi();typeof r=="function"&&(r=r()),n.memoizedState=n.baseState=r;var l={pending:null,interleaved:null,lanes:lt,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:r};n.queue=l;var d=l.dispatch=gP.bind(null,Ir,l);return[n.memoizedState,d]}function Vg(r){return Pg(Rg)}function jg(r){return _g(Rg)}function Wd(r,n,l,d){var m={tag:r,create:n,destroy:l,deps:d,next:null},g=Ir.updateQueue;if(g===null)g=Q1(),Ir.updateQueue=g,g.lastEffect=m.next=m;else{var N=g.lastEffect;if(N===null)g.lastEffect=m.next=m;else{var P=N.next;N.next=m,m.next=P,g.lastEffect=m}}return m}function Lg(r){var n=yi();{var l={current:r};return n.memoizedState=l,l}}function R0(r){var n=ka();return n.memoizedState}function zd(r,n,l,d){var m=yi(),g=d===void 0?null:d;Ir.flags|=r,m.memoizedState=Wd(Ps|n,l,void 0,g)}function T0(r,n,l,d){var m=ka(),g=d===void 0?null:d,N=void 0;if(Us!==null){var P=Us.memoizedState;if(N=P.destroy,g!==null){var j=P.deps;if(kg(g,j)){m.memoizedState=Wd(n,l,N,g);return}}}Ir.flags|=r,m.memoizedState=Wd(Ps|n,l,N,g)}function P0(r,n){return(Ir.mode&bi)!==Yt?zd(Uh|Mo|_h,sn,r,n):zd(Mo|_h,sn,r,n)}function Yd(r,n){return T0(Mo,sn,r,n)}function Ag(r,n){return zd(Cr,Oi,r,n)}function _0(r,n){return T0(Cr,Oi,r,n)}function Mg(r,n){var l=Cr;return l|=Vl,(Ir.mode&bi)!==Yt&&(l|=Io),zd(l,_s,r,n)}function U0(r,n){return T0(Cr,_s,r,n)}function nS(r,n){if(typeof n=="function"){var l=n,d=r();return l(d),function(){l(null)}}else if(n!=null){var m=n;m.hasOwnProperty("current")||c("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(m).join(", ")+"}");var g=r();return m.current=g,function(){m.current=null}}}function Ig(r,n,l){typeof n!="function"&&c("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",n!==null?typeof n:"null");var d=l!=null?l.concat([r]):null,m=Cr;return m|=Vl,(Ir.mode&bi)!==Yt&&(m|=Io),zd(m,_s,nS.bind(null,n,r),d)}function V0(r,n,l){typeof n!="function"&&c("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",n!==null?typeof n:"null");var d=l!=null?l.concat([r]):null;return T0(Cr,_s,nS.bind(null,n,r),d)}function mP(r,n){}var j0=mP;function Fg(r,n){var l=yi(),d=n===void 0?null:n;return l.memoizedState=[r,d],r}function L0(r,n){var l=ka(),d=n===void 0?null:n,m=l.memoizedState;if(m!==null&&d!==null){var g=m[1];if(kg(d,g))return m[0]}return l.memoizedState=[r,d],r}function $g(r,n){var l=yi(),d=n===void 0?null:n,m=r();return l.memoizedState=[m,d],m}function A0(r,n){var l=ka(),d=n===void 0?null:n,m=l.memoizedState;if(m!==null&&d!==null){var g=m[1];if(kg(d,g))return m[0]}var N=r();return l.memoizedState=[N,d],N}function Bg(r){var n=yi();return n.memoizedState=r,r}function aS(r){var n=ka(),l=Us,d=l.memoizedState;return oS(n,d,r)}function iS(r){var n=ka();if(Us===null)return n.memoizedState=r,r;var l=Us.memoizedState;return oS(n,l,r)}function oS(r,n,l){var d=!Qk(Jl);if(d){if(!fa(l,n)){var m=sD();Ir.lanes=ur(Ir.lanes,m),mf(m),r.baseState=!0}return n}else return r.baseState&&(r.baseState=!1,ef()),r.memoizedState=l,l}function pP(r,n,l){var d=Ha();zs(oR(d,Qi)),r(!0);var m=Xd.transition;Xd.transition={};var g=Xd.transition;Xd.transition._updatedFibers=new Set;try{r(!1),n()}finally{if(zs(d),Xd.transition=m,m===null&&g._updatedFibers){var N=g._updatedFibers.size;N>10&&u("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),g._updatedFibers.clear()}}}function Xg(){var r=k0(!1),n=r[0],l=r[1],d=pP.bind(null,l),m=yi();return m.memoizedState=d,[n,d]}function lS(){var r=Vg(),n=r[0],l=ka(),d=l.memoizedState;return[n,d]}function cS(){var r=jg(),n=r[0],l=ka(),d=l.memoizedState;return[n,d]}var uS=!1;function hP(){return uS}function Hg(){var r=yi(),n=np(),l=n.identifierPrefix,d;if(rn()){var m=_2();d=":"+l+"R"+m;var g=Gd++;g>0&&(d+="H"+g.toString(32)),d+=":"}else{var N=uP++;d=":"+l+"r"+N.toString(32)+":"}return r.memoizedState=d,d}function M0(){var r=ka(),n=r.memoizedState;return n}function vP(r,n,l){typeof arguments[3]=="function"&&c("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var d=al(r),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(dS(r))fS(n,m);else{var g=F1(r,n,m,d);if(g!==null){var N=Fn();Ms(g,r,d,N),mS(g,n,d)}}pS(r,d)}function gP(r,n,l){typeof arguments[3]=="function"&&c("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var d=al(r),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(dS(r))fS(n,m);else{var g=r.alternate;if(r.lanes===lt&&(g===null||g.lanes===lt)){var N=n.lastRenderedReducer;if(N!==null){var P;P=Tt.current,Tt.current=qa;try{var j=n.lastRenderedState,ne=N(j,l);if(m.hasEagerState=!0,m.eagerState=ne,fa(ne,j)){tP(r,n,m,d);return}}catch{}finally{Tt.current=P}}}var fe=F1(r,n,m,d);if(fe!==null){var Te=Fn();Ms(fe,r,d,Te),mS(fe,n,d)}}pS(r,d)}function dS(r){var n=r.alternate;return r===Ir||n!==null&&n===Ir}function fS(r,n){Hd=C0=!0;var l=r.pending;l===null?n.next=n:(n.next=l.next,l.next=n),r.pending=n}function mS(r,n,l){if(rD(l)){var d=n.lanes;d=nD(d,r.pendingLanes);var m=ur(d,l);n.lanes=m,cv(r,m)}}function pS(r,n,l){Mh(r,n)}var I0={readContext:Ds,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:He},hS=null,vS=null,gS=null,xS=null,Ei=null,qa=null,F0=null;{var Gg=function(){c("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Zt=function(){c("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};hS={readContext:function(r){return Ds(r)},useCallback:function(r,n){return rt="useCallback",Lr(),lu(n),Fg(r,n)},useContext:function(r){return rt="useContext",Lr(),Ds(r)},useEffect:function(r,n){return rt="useEffect",Lr(),lu(n),P0(r,n)},useImperativeHandle:function(r,n,l){return rt="useImperativeHandle",Lr(),lu(l),Ig(r,n,l)},useInsertionEffect:function(r,n){return rt="useInsertionEffect",Lr(),lu(n),Ag(r,n)},useLayoutEffect:function(r,n){return rt="useLayoutEffect",Lr(),lu(n),Mg(r,n)},useMemo:function(r,n){rt="useMemo",Lr(),lu(n);var l=Tt.current;Tt.current=Ei;try{return $g(r,n)}finally{Tt.current=l}},useReducer:function(r,n,l){rt="useReducer",Lr();var d=Tt.current;Tt.current=Ei;try{return Tg(r,n,l)}finally{Tt.current=d}},useRef:function(r){return rt="useRef",Lr(),Lg(r)},useState:function(r){rt="useState",Lr();var n=Tt.current;Tt.current=Ei;try{return k0(r)}finally{Tt.current=n}},useDebugValue:function(r,n){return rt="useDebugValue",Lr(),void 0},useDeferredValue:function(r){return rt="useDeferredValue",Lr(),Bg(r)},useTransition:function(){return rt="useTransition",Lr(),Xg()},useMutableSource:function(r,n,l){return rt="useMutableSource",Lr(),void 0},useSyncExternalStore:function(r,n,l){return rt="useSyncExternalStore",Lr(),Ug(r,n,l)},useId:function(){return rt="useId",Lr(),Hg()},unstable_isNewReconciler:He},vS={readContext:function(r){return Ds(r)},useCallback:function(r,n){return rt="useCallback",Et(),Fg(r,n)},useContext:function(r){return rt="useContext",Et(),Ds(r)},useEffect:function(r,n){return rt="useEffect",Et(),P0(r,n)},useImperativeHandle:function(r,n,l){return rt="useImperativeHandle",Et(),Ig(r,n,l)},useInsertionEffect:function(r,n){return rt="useInsertionEffect",Et(),Ag(r,n)},useLayoutEffect:function(r,n){return rt="useLayoutEffect",Et(),Mg(r,n)},useMemo:function(r,n){rt="useMemo",Et();var l=Tt.current;Tt.current=Ei;try{return $g(r,n)}finally{Tt.current=l}},useReducer:function(r,n,l){rt="useReducer",Et();var d=Tt.current;Tt.current=Ei;try{return Tg(r,n,l)}finally{Tt.current=d}},useRef:function(r){return rt="useRef",Et(),Lg(r)},useState:function(r){rt="useState",Et();var n=Tt.current;Tt.current=Ei;try{return k0(r)}finally{Tt.current=n}},useDebugValue:function(r,n){return rt="useDebugValue",Et(),void 0},useDeferredValue:function(r){return rt="useDeferredValue",Et(),Bg(r)},useTransition:function(){return rt="useTransition",Et(),Xg()},useMutableSource:function(r,n,l){return rt="useMutableSource",Et(),void 0},useSyncExternalStore:function(r,n,l){return rt="useSyncExternalStore",Et(),Ug(r,n,l)},useId:function(){return rt="useId",Et(),Hg()},unstable_isNewReconciler:He},gS={readContext:function(r){return Ds(r)},useCallback:function(r,n){return rt="useCallback",Et(),L0(r,n)},useContext:function(r){return rt="useContext",Et(),Ds(r)},useEffect:function(r,n){return rt="useEffect",Et(),Yd(r,n)},useImperativeHandle:function(r,n,l){return rt="useImperativeHandle",Et(),V0(r,n,l)},useInsertionEffect:function(r,n){return rt="useInsertionEffect",Et(),_0(r,n)},useLayoutEffect:function(r,n){return rt="useLayoutEffect",Et(),U0(r,n)},useMemo:function(r,n){rt="useMemo",Et();var l=Tt.current;Tt.current=qa;try{return A0(r,n)}finally{Tt.current=l}},useReducer:function(r,n,l){rt="useReducer",Et();var d=Tt.current;Tt.current=qa;try{return Pg(r,n,l)}finally{Tt.current=d}},useRef:function(r){return rt="useRef",Et(),R0()},useState:function(r){rt="useState",Et();var n=Tt.current;Tt.current=qa;try{return Vg(r)}finally{Tt.current=n}},useDebugValue:function(r,n){return rt="useDebugValue",Et(),j0()},useDeferredValue:function(r){return rt="useDeferredValue",Et(),aS(r)},useTransition:function(){return rt="useTransition",Et(),lS()},useMutableSource:function(r,n,l){return rt="useMutableSource",Et(),void 0},useSyncExternalStore:function(r,n,l){return rt="useSyncExternalStore",Et(),w0(r,n)},useId:function(){return rt="useId",Et(),M0()},unstable_isNewReconciler:He},xS={readContext:function(r){return Ds(r)},useCallback:function(r,n){return rt="useCallback",Et(),L0(r,n)},useContext:function(r){return rt="useContext",Et(),Ds(r)},useEffect:function(r,n){return rt="useEffect",Et(),Yd(r,n)},useImperativeHandle:function(r,n,l){return rt="useImperativeHandle",Et(),V0(r,n,l)},useInsertionEffect:function(r,n){return rt="useInsertionEffect",Et(),_0(r,n)},useLayoutEffect:function(r,n){return rt="useLayoutEffect",Et(),U0(r,n)},useMemo:function(r,n){rt="useMemo",Et();var l=Tt.current;Tt.current=F0;try{return A0(r,n)}finally{Tt.current=l}},useReducer:function(r,n,l){rt="useReducer",Et();var d=Tt.current;Tt.current=F0;try{return _g(r,n,l)}finally{Tt.current=d}},useRef:function(r){return rt="useRef",Et(),R0()},useState:function(r){rt="useState",Et();var n=Tt.current;Tt.current=F0;try{return jg(r)}finally{Tt.current=n}},useDebugValue:function(r,n){return rt="useDebugValue",Et(),j0()},useDeferredValue:function(r){return rt="useDeferredValue",Et(),iS(r)},useTransition:function(){return rt="useTransition",Et(),cS()},useMutableSource:function(r,n,l){return rt="useMutableSource",Et(),void 0},useSyncExternalStore:function(r,n,l){return rt="useSyncExternalStore",Et(),w0(r,n)},useId:function(){return rt="useId",Et(),M0()},unstable_isNewReconciler:He},Ei={readContext:function(r){return Gg(),Ds(r)},useCallback:function(r,n){return rt="useCallback",Zt(),Lr(),Fg(r,n)},useContext:function(r){return rt="useContext",Zt(),Lr(),Ds(r)},useEffect:function(r,n){return rt="useEffect",Zt(),Lr(),P0(r,n)},useImperativeHandle:function(r,n,l){return rt="useImperativeHandle",Zt(),Lr(),Ig(r,n,l)},useInsertionEffect:function(r,n){return rt="useInsertionEffect",Zt(),Lr(),Ag(r,n)},useLayoutEffect:function(r,n){return rt="useLayoutEffect",Zt(),Lr(),Mg(r,n)},useMemo:function(r,n){rt="useMemo",Zt(),Lr();var l=Tt.current;Tt.current=Ei;try{return $g(r,n)}finally{Tt.current=l}},useReducer:function(r,n,l){rt="useReducer",Zt(),Lr();var d=Tt.current;Tt.current=Ei;try{return Tg(r,n,l)}finally{Tt.current=d}},useRef:function(r){return rt="useRef",Zt(),Lr(),Lg(r)},useState:function(r){rt="useState",Zt(),Lr();var n=Tt.current;Tt.current=Ei;try{return k0(r)}finally{Tt.current=n}},useDebugValue:function(r,n){return rt="useDebugValue",Zt(),Lr(),void 0},useDeferredValue:function(r){return rt="useDeferredValue",Zt(),Lr(),Bg(r)},useTransition:function(){return rt="useTransition",Zt(),Lr(),Xg()},useMutableSource:function(r,n,l){return rt="useMutableSource",Zt(),Lr(),void 0},useSyncExternalStore:function(r,n,l){return rt="useSyncExternalStore",Zt(),Lr(),Ug(r,n,l)},useId:function(){return rt="useId",Zt(),Lr(),Hg()},unstable_isNewReconciler:He},qa={readContext:function(r){return Gg(),Ds(r)},useCallback:function(r,n){return rt="useCallback",Zt(),Et(),L0(r,n)},useContext:function(r){return rt="useContext",Zt(),Et(),Ds(r)},useEffect:function(r,n){return rt="useEffect",Zt(),Et(),Yd(r,n)},useImperativeHandle:function(r,n,l){return rt="useImperativeHandle",Zt(),Et(),V0(r,n,l)},useInsertionEffect:function(r,n){return rt="useInsertionEffect",Zt(),Et(),_0(r,n)},useLayoutEffect:function(r,n){return rt="useLayoutEffect",Zt(),Et(),U0(r,n)},useMemo:function(r,n){rt="useMemo",Zt(),Et();var l=Tt.current;Tt.current=qa;try{return A0(r,n)}finally{Tt.current=l}},useReducer:function(r,n,l){rt="useReducer",Zt(),Et();var d=Tt.current;Tt.current=qa;try{return Pg(r,n,l)}finally{Tt.current=d}},useRef:function(r){return rt="useRef",Zt(),Et(),R0()},useState:function(r){rt="useState",Zt(),Et();var n=Tt.current;Tt.current=qa;try{return Vg(r)}finally{Tt.current=n}},useDebugValue:function(r,n){return rt="useDebugValue",Zt(),Et(),j0()},useDeferredValue:function(r){return rt="useDeferredValue",Zt(),Et(),aS(r)},useTransition:function(){return rt="useTransition",Zt(),Et(),lS()},useMutableSource:function(r,n,l){return rt="useMutableSource",Zt(),Et(),void 0},useSyncExternalStore:function(r,n,l){return rt="useSyncExternalStore",Zt(),Et(),w0(r,n)},useId:function(){return rt="useId",Zt(),Et(),M0()},unstable_isNewReconciler:He},F0={readContext:function(r){return Gg(),Ds(r)},useCallback:function(r,n){return rt="useCallback",Zt(),Et(),L0(r,n)},useContext:function(r){return rt="useContext",Zt(),Et(),Ds(r)},useEffect:function(r,n){return rt="useEffect",Zt(),Et(),Yd(r,n)},useImperativeHandle:function(r,n,l){return rt="useImperativeHandle",Zt(),Et(),V0(r,n,l)},useInsertionEffect:function(r,n){return rt="useInsertionEffect",Zt(),Et(),_0(r,n)},useLayoutEffect:function(r,n){return rt="useLayoutEffect",Zt(),Et(),U0(r,n)},useMemo:function(r,n){rt="useMemo",Zt(),Et();var l=Tt.current;Tt.current=qa;try{return A0(r,n)}finally{Tt.current=l}},useReducer:function(r,n,l){rt="useReducer",Zt(),Et();var d=Tt.current;Tt.current=qa;try{return _g(r,n,l)}finally{Tt.current=d}},useRef:function(r){return rt="useRef",Zt(),Et(),R0()},useState:function(r){rt="useState",Zt(),Et();var n=Tt.current;Tt.current=qa;try{return jg(r)}finally{Tt.current=n}},useDebugValue:function(r,n){return rt="useDebugValue",Zt(),Et(),j0()},useDeferredValue:function(r){return rt="useDeferredValue",Zt(),Et(),iS(r)},useTransition:function(){return rt="useTransition",Zt(),Et(),cS()},useMutableSource:function(r,n,l){return rt="useMutableSource",Zt(),Et(),void 0},useSyncExternalStore:function(r,n,l){return rt="useSyncExternalStore",Zt(),Et(),w0(r,n)},useId:function(){return rt="useId",Zt(),Et(),M0()},unstable_isNewReconciler:He}}var tl=s.unstable_now,bS=0,$0=-1,qd=-1,B0=-1,Wg=!1,X0=!1;function NS(){return Wg}function xP(){X0=!0}function bP(){Wg=!1,X0=!1}function NP(){Wg=X0,X0=!1}function DS(){return bS}function SS(){bS=tl()}function zg(r){qd=tl(),r.actualStartTime<0&&(r.actualStartTime=tl())}function OS(r){qd=-1}function H0(r,n){if(qd>=0){var l=tl()-qd;r.actualDuration+=l,n&&(r.selfBaseDuration=l),qd=-1}}function Ci(r){if($0>=0){var n=tl()-$0;$0=-1;for(var l=r.return;l!==null;){switch(l.tag){case b:var d=l.stateNode;d.effectDuration+=n;return;case ie:var m=l.stateNode;m.effectDuration+=n;return}l=l.return}}}function Yg(r){if(B0>=0){var n=tl()-B0;B0=-1;for(var l=r.return;l!==null;){switch(l.tag){case b:var d=l.stateNode;d!==null&&(d.passiveEffectDuration+=n);return;case ie:var m=l.stateNode;m!==null&&(m.passiveEffectDuration+=n);return}l=l.return}}}function wi(){$0=tl()}function qg(){B0=tl()}function Kg(r){for(var n=r.child;n;)r.actualDuration+=n.actualDuration,n=n.sibling}function Ka(r,n){if(r&&r.defaultProps){var l=ht({},n),d=r.defaultProps;for(var m in d)l[m]===void 0&&(l[m]=d[m]);return l}return n}var Jg={},Qg,Zg,ex,tx,rx,yS,G0,sx,nx,ax,Kd;{Qg=new Set,Zg=new Set,ex=new Set,tx=new Set,sx=new Set,rx=new Set,nx=new Set,ax=new Set,Kd=new Set;var ES=new Set;G0=function(r,n){if(!(r===null||typeof r=="function")){var l=n+"_"+r;ES.has(l)||(ES.add(l),c("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",n,r))}},yS=function(r,n){if(n===void 0){var l=yr(r)||"Component";rx.has(l)||(rx.add(l),c("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",l))}},Object.defineProperty(Jg,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Jg)}function ix(r,n,l,d){var m=r.memoizedState,g=l(d,m);{if(r.mode&fs){Gs(!0);try{g=l(d,m)}finally{Gs(!1)}}yS(n,g)}var N=g==null?m:ht({},m,g);if(r.memoizedState=N,r.lanes===lt){var P=r.updateQueue;P.baseState=N}}var ox={isMounted:dk,enqueueSetState:function(r,n,l){var d=Lo(r),m=Fn(),g=al(d),N=ao(m,g);N.payload=n,l!=null&&(G0(l,"setState"),N.callback=l);var P=Jo(d,N,g);P!==null&&(Ms(P,d,g,m),N0(P,d,g)),Mh(d,g)},enqueueReplaceState:function(r,n,l){var d=Lo(r),m=Fn(),g=al(d),N=ao(m,g);N.tag=B1,N.payload=n,l!=null&&(G0(l,"replaceState"),N.callback=l);var P=Jo(d,N,g);P!==null&&(Ms(P,d,g,m),N0(P,d,g)),Mh(d,g)},enqueueForceUpdate:function(r,n){var l=Lo(r),d=Fn(),m=al(l),g=ao(d,m);g.tag=g0,n!=null&&(G0(n,"forceUpdate"),g.callback=n);var N=Jo(l,g,m);N!==null&&(Ms(N,l,m,d),N0(N,l,m)),Bk(l,m)}};function CS(r,n,l,d,m,g,N){var P=r.stateNode;if(typeof P.shouldComponentUpdate=="function"){var j=P.shouldComponentUpdate(d,g,N);{if(r.mode&fs){Gs(!0);try{j=P.shouldComponentUpdate(d,g,N)}finally{Gs(!1)}}j===void 0&&c("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",yr(n)||"Component")}return j}return n.prototype&&n.prototype.isPureReactComponent?!xd(l,d)||!xd(m,g):!0}function DP(r,n,l){var d=r.stateNode;{var m=yr(n)||"Component",g=d.render;g||(n.prototype&&typeof n.prototype.render=="function"?c("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",m):c("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",m)),d.getInitialState&&!d.getInitialState.isReactClassApproved&&!d.state&&c("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",m),d.getDefaultProps&&!d.getDefaultProps.isReactClassApproved&&c("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",m),d.propTypes&&c("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",m),d.contextType&&c("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",m),n.childContextTypes&&!Kd.has(n)&&(r.mode&fs)===Yt&&(Kd.add(n),c(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,m)),n.contextTypes&&!Kd.has(n)&&(r.mode&fs)===Yt&&(Kd.add(n),c(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,m)),d.contextTypes&&c("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",m),n.contextType&&n.contextTypes&&!nx.has(n)&&(nx.add(n),c("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",m)),typeof d.componentShouldUpdate=="function"&&c("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",m),n.prototype&&n.prototype.isPureReactComponent&&typeof d.shouldComponentUpdate<"u"&&c("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",yr(n)||"A pure component"),typeof d.componentDidUnmount=="function"&&c("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",m),typeof d.componentDidReceiveProps=="function"&&c("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",m),typeof d.componentWillRecieveProps=="function"&&c("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",m),typeof d.UNSAFE_componentWillRecieveProps=="function"&&c("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",m);var N=d.props!==l;d.props!==void 0&&N&&c("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",m,m),d.defaultProps&&c("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",m,m),typeof d.getSnapshotBeforeUpdate=="function"&&typeof d.componentDidUpdate!="function"&&!ex.has(n)&&(ex.add(n),c("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",yr(n))),typeof d.getDerivedStateFromProps=="function"&&c("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",m),typeof d.getDerivedStateFromError=="function"&&c("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",m),typeof n.getSnapshotBeforeUpdate=="function"&&c("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",m);var P=d.state;P&&(typeof P!="object"||or(P))&&c("%s.state: must be set to an object or null",m),typeof d.getChildContext=="function"&&typeof n.childContextTypes!="object"&&c("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",m)}}function wS(r,n){n.updater=ox,r.stateNode=n,kh(n,r),n._reactInternalInstance=Jg}function kS(r,n,l){var d=!1,m=ma,g=ma,N=n.contextType;if("contextType"in n){var P=N===null||N!==void 0&&N.$$typeof===re&&N._context===void 0;if(!P&&!ax.has(n)){ax.add(n);var j="";N===void 0?j=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof N!="object"?j=" However, it is set to a "+typeof N+".":N.$$typeof===V?j=" Did you accidentally pass the Context.Provider instead?":N._context!==void 0?j=" Did you accidentally pass the Context.Consumer instead?":j=" However, it is set to an object with keys {"+Object.keys(N).join(", ")+"}.",c("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",yr(n)||"Component",j)}}if(typeof N=="object"&&N!==null)g=Ds(N);else{m=Kc(r,n,!0);var ne=n.contextTypes;d=ne!=null,g=d?Jc(r,m):ma}var fe=new n(l,g);if(r.mode&fs){Gs(!0);try{fe=new n(l,g)}finally{Gs(!1)}}var Te=r.memoizedState=fe.state!==null&&fe.state!==void 0?fe.state:null;wS(r,fe);{if(typeof n.getDerivedStateFromProps=="function"&&Te===null){var Re=yr(n)||"Component";Zg.has(Re)||(Zg.add(Re),c("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",Re,fe.state===null?"null":"undefined",Re))}if(typeof n.getDerivedStateFromProps=="function"||typeof fe.getSnapshotBeforeUpdate=="function"){var Ie=null,Be=null,Je=null;if(typeof fe.componentWillMount=="function"&&fe.componentWillMount.__suppressDeprecationWarning!==!0?Ie="componentWillMount":typeof fe.UNSAFE_componentWillMount=="function"&&(Ie="UNSAFE_componentWillMount"),typeof fe.componentWillReceiveProps=="function"&&fe.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Be="componentWillReceiveProps":typeof fe.UNSAFE_componentWillReceiveProps=="function"&&(Be="UNSAFE_componentWillReceiveProps"),typeof fe.componentWillUpdate=="function"&&fe.componentWillUpdate.__suppressDeprecationWarning!==!0?Je="componentWillUpdate":typeof fe.UNSAFE_componentWillUpdate=="function"&&(Je="UNSAFE_componentWillUpdate"),Ie!==null||Be!==null||Je!==null){var wt=yr(n)||"Component",Wt=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";tx.has(wt)||(tx.add(wt),c(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,wt,Wt,Ie!==null?`
  `+Ie:"",Be!==null?`
  `+Be:"",Je!==null?`
  `+Je:""))}}}return d&&g1(r,m,g),fe}function SP(r,n){var l=n.state;typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),l!==n.state&&(c("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Kt(r)||"Component"),ox.enqueueReplaceState(n,n.state,null))}function RS(r,n,l,d){var m=n.state;if(typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,d),n.state!==m){{var g=Kt(r)||"Component";Qg.has(g)||(Qg.add(g),c("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",g))}ox.enqueueReplaceState(n,n.state,null)}}function lx(r,n,l,d){DP(r,n,l);var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},gg(r);var g=n.contextType;if(typeof g=="object"&&g!==null)m.context=Ds(g);else{var N=Kc(r,n,!0);m.context=Jc(r,N)}{if(m.state===l){var P=yr(n)||"Component";sx.has(P)||(sx.add(P),c("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",P))}r.mode&fs&&za.recordLegacyContextWarning(r,m),za.recordUnsafeLifecycleWarnings(r,m)}m.state=r.memoizedState;var j=n.getDerivedStateFromProps;if(typeof j=="function"&&(ix(r,n,j,l),m.state=r.memoizedState),typeof n.getDerivedStateFromProps!="function"&&typeof m.getSnapshotBeforeUpdate!="function"&&(typeof m.UNSAFE_componentWillMount=="function"||typeof m.componentWillMount=="function")&&(SP(r,m),D0(r,l,m,d),m.state=r.memoizedState),typeof m.componentDidMount=="function"){var ne=Cr;ne|=Vl,(r.mode&bi)!==Yt&&(ne|=Io),r.flags|=ne}}function OP(r,n,l,d){var m=r.stateNode,g=r.memoizedProps;m.props=g;var N=m.context,P=n.contextType,j=ma;if(typeof P=="object"&&P!==null)j=Ds(P);else{var ne=Kc(r,n,!0);j=Jc(r,ne)}var fe=n.getDerivedStateFromProps,Te=typeof fe=="function"||typeof m.getSnapshotBeforeUpdate=="function";!Te&&(typeof m.UNSAFE_componentWillReceiveProps=="function"||typeof m.componentWillReceiveProps=="function")&&(g!==l||N!==j)&&RS(r,m,l,j),H1();var Re=r.memoizedState,Ie=m.state=Re;if(D0(r,l,m,d),Ie=r.memoizedState,g===l&&Re===Ie&&!r0()&&!S0()){if(typeof m.componentDidMount=="function"){var Be=Cr;Be|=Vl,(r.mode&bi)!==Yt&&(Be|=Io),r.flags|=Be}return!1}typeof fe=="function"&&(ix(r,n,fe,l),Ie=r.memoizedState);var Je=S0()||CS(r,n,g,l,Re,Ie,j);if(Je){if(!Te&&(typeof m.UNSAFE_componentWillMount=="function"||typeof m.componentWillMount=="function")&&(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"){var wt=Cr;wt|=Vl,(r.mode&bi)!==Yt&&(wt|=Io),r.flags|=wt}}else{if(typeof m.componentDidMount=="function"){var Wt=Cr;Wt|=Vl,(r.mode&bi)!==Yt&&(Wt|=Io),r.flags|=Wt}r.memoizedProps=l,r.memoizedState=Ie}return m.props=l,m.state=Ie,m.context=j,Je}function yP(r,n,l,d,m){var g=n.stateNode;X1(r,n);var N=n.memoizedProps,P=n.type===n.elementType?N:Ka(n.type,N);g.props=P;var j=n.pendingProps,ne=g.context,fe=l.contextType,Te=ma;if(typeof fe=="object"&&fe!==null)Te=Ds(fe);else{var Re=Kc(n,l,!0);Te=Jc(n,Re)}var Ie=l.getDerivedStateFromProps,Be=typeof Ie=="function"||typeof g.getSnapshotBeforeUpdate=="function";!Be&&(typeof g.UNSAFE_componentWillReceiveProps=="function"||typeof g.componentWillReceiveProps=="function")&&(N!==j||ne!==Te)&&RS(n,g,d,Te),H1();var Je=n.memoizedState,wt=g.state=Je;if(D0(n,d,g,m),wt=n.memoizedState,N===j&&Je===wt&&!r0()&&!S0()&&!ue)return typeof g.componentDidUpdate=="function"&&(N!==r.memoizedProps||Je!==r.memoizedState)&&(n.flags|=Cr),typeof g.getSnapshotBeforeUpdate=="function"&&(N!==r.memoizedProps||Je!==r.memoizedState)&&(n.flags|=Uc),!1;typeof Ie=="function"&&(ix(n,l,Ie,d),wt=n.memoizedState);var Wt=S0()||CS(n,l,P,d,Je,wt,Te)||ue;return Wt?(!Be&&(typeof g.UNSAFE_componentWillUpdate=="function"||typeof g.componentWillUpdate=="function")&&(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(d,wt,Te),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(d,wt,Te)),typeof g.componentDidUpdate=="function"&&(n.flags|=Cr),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=Uc)):(typeof g.componentDidUpdate=="function"&&(N!==r.memoizedProps||Je!==r.memoizedState)&&(n.flags|=Cr),typeof g.getSnapshotBeforeUpdate=="function"&&(N!==r.memoizedProps||Je!==r.memoizedState)&&(n.flags|=Uc),n.memoizedProps=d,n.memoizedState=wt),g.props=d,g.state=wt,g.context=Te,Wt}function Ql(r,n){return{value:r,source:n,stack:fi(n),digest:null}}function cx(r,n,l){return{value:r,source:null,stack:l??null,digest:n??null}}function EP(r,n){return!0}function ux(r,n){try{var l=EP(r,n);if(l===!1)return;var d=n.value,m=n.source,g=n.stack,N=g!==null?g:"";if(d!=null&&d._suppressLogging){if(r.tag===x)return;console.error(d)}var P=m?Kt(m):null,j=P?"The above error occurred in the <"+P+"> component:":"The above error occurred in one of your React components:",ne;if(r.tag===b)ne=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var fe=Kt(r)||"Anonymous";ne="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+fe+".")}var Te=j+`
`+N+`

`+(""+ne);console.error(Te)}catch(Re){setTimeout(function(){throw Re})}}var CP=typeof WeakMap=="function"?WeakMap:Map;function TS(r,n,l){var d=ao(Qr,l);d.tag=hg,d.payload={element:null};var m=n.value;return d.callback=function(){x3(m),ux(r,n)},d}function dx(r,n,l){var d=ao(Qr,l);d.tag=hg;var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var g=n.value;d.payload=function(){return m(g)},d.callback=function(){$O(r),ux(r,n)}}var N=r.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(d.callback=function(){$O(r),ux(r,n),typeof m!="function"&&v3(this);var j=n.value,ne=n.stack;this.componentDidCatch(j,{componentStack:ne!==null?ne:""}),typeof m!="function"&&(ca(r.lanes,Qt)||c("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Kt(r)||"Unknown"))}),d}function PS(r,n,l){var d=r.pingCache,m;if(d===null?(d=r.pingCache=new CP,m=new Set,d.set(n,m)):(m=d.get(n),m===void 0&&(m=new Set,d.set(n,m))),!m.has(l)){m.add(l);var g=b3.bind(null,r,n,l);Xa&&pf(r,l),n.then(g,g)}}function wP(r,n,l,d){var m=r.updateQueue;if(m===null){var g=new Set;g.add(l),r.updateQueue=g}else m.add(l)}function kP(r,n){var l=r.tag;if((r.mode&br)===Yt&&(l===h||l===k||l===A)){var d=r.alternate;d?(r.updateQueue=d.updateQueue,r.memoizedState=d.memoizedState,r.lanes=d.lanes):(r.updateQueue=null,r.memoizedState=null)}}function _S(r){var n=r;do{if(n.tag===K&&lP(n))return n;n=n.return}while(n!==null);return null}function US(r,n,l,d,m){if((r.mode&br)===Yt){if(r===n)r.flags|=An;else{if(r.flags|=Ur,l.flags|=Th,l.flags&=-52805,l.tag===x){var g=l.alternate;if(g===null)l.tag=T;else{var N=ao(Qr,Qt);N.tag=g0,Jo(l,N,Qt)}}l.lanes=ur(l.lanes,Qt)}return r}return r.flags|=An,r.lanes=m,r}function RP(r,n,l,d,m){if(l.flags|=Nm,Xa&&pf(r,m),d!==null&&typeof d=="object"&&typeof d.then=="function"){var g=d;kP(l),rn()&&l.mode&br&&y1();var N=_S(n);if(N!==null){N.flags&=~Yi,US(N,n,l,r,m),N.mode&br&&PS(r,g,m),wP(N,r,g);return}else{if(!Jk(m)){PS(r,g,m),Hx();return}var P=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");d=P}}else if(rn()&&l.mode&br){y1();var j=_S(n);if(j!==null){(j.flags&An)===Gt&&(j.flags|=Yi),US(j,n,l,r,m),sg(Ql(d,l));return}}d=Ql(d,l),l3(d);var ne=n;do{switch(ne.tag){case b:{var fe=d;ne.flags|=An;var Te=sd(m);ne.lanes=ur(ne.lanes,Te);var Re=TS(ne,fe,Te);xg(ne,Re);return}case x:var Ie=d,Be=ne.type,Je=ne.stateNode;if((ne.flags&Ur)===Gt&&(typeof Be.getDerivedStateFromError=="function"||Je!==null&&typeof Je.componentDidCatch=="function"&&!_O(Je))){ne.flags|=An;var wt=sd(m);ne.lanes=ur(ne.lanes,wt);var Wt=dx(ne,Ie,wt);xg(ne,Wt);return}break}ne=ne.return}while(ne!==null)}function TP(){return null}var Jd=t.ReactCurrentOwner,Ja=!1,fx,Qd,mx,px,hx,Zl,vx,W0,Zd;fx={},Qd={},mx={},px={},hx={},Zl=!1,vx={},W0={},Zd={};function Mn(r,n,l,d){r===null?n.child=L1(n,null,l,d):n.child=tu(n,r.child,l,d)}function PP(r,n,l,d){n.child=tu(n,r.child,null,d),n.child=tu(n,null,l,d)}function VS(r,n,l,d,m){if(n.type!==n.elementType){var g=l.propTypes;g&&Ga(g,d,"prop",yr(l))}var N=l.render,P=n.ref,j,ne;su(n,m),Ju(n);{if(Jd.current=n,vn(!0),j=cu(r,n,N,d,P,m),ne=uu(),n.mode&fs){Gs(!0);try{j=cu(r,n,N,d,P,m),ne=uu()}finally{Gs(!1)}}vn(!1)}return Lc(),r!==null&&!Ja?(K1(r,n,m),io(r,n,m)):(rn()&&ne&&Jv(n),n.flags|=Ao,Mn(r,n,j,m),n.child)}function jS(r,n,l,d,m){if(r===null){var g=l.type;if(L3(g)&&l.compare===null&&l.defaultProps===void 0){var N=g;return N=xu(g),n.tag=A,n.type=N,bx(n,g),LS(r,n,N,d,m)}{var P=g.propTypes;if(P&&Ga(P,d,"prop",yr(g)),l.defaultProps!==void 0){var j=yr(g)||"Unknown";Zd[j]||(c("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",j),Zd[j]=!0)}}var ne=tb(l.type,null,d,n,n.mode,m);return ne.ref=n.ref,ne.return=n,n.child=ne,ne}{var fe=l.type,Te=fe.propTypes;Te&&Ga(Te,d,"prop",yr(fe))}var Re=r.child,Ie=Ex(r,m);if(!Ie){var Be=Re.memoizedProps,Je=l.compare;if(Je=Je!==null?Je:xd,Je(Be,d)&&r.ref===n.ref)return io(r,n,m)}n.flags|=Ao;var wt=nc(Re,d);return wt.ref=n.ref,wt.return=n,n.child=wt,wt}function LS(r,n,l,d,m){if(n.type!==n.elementType){var g=n.elementType;if(g.$$typeof===me){var N=g,P=N._payload,j=N._init;try{g=j(P)}catch{g=null}var ne=g&&g.propTypes;ne&&Ga(ne,d,"prop",yr(g))}}if(r!==null){var fe=r.memoizedProps;if(xd(fe,d)&&r.ref===n.ref&&n.type===r.type)if(Ja=!1,n.pendingProps=d=fe,Ex(r,m))(r.flags&Th)!==Gt&&(Ja=!0);else return n.lanes=r.lanes,io(r,n,m)}return gx(r,n,l,d,m)}function AS(r,n,l){var d=n.pendingProps,m=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden"||ke)if((n.mode&br)===Yt){var N={baseLanes:lt,cachePool:null,transitions:null};n.memoizedState=N,ap(n,l)}else if(ca(l,la)){var Te={baseLanes:lt,cachePool:null,transitions:null};n.memoizedState=Te;var Re=g!==null?g.baseLanes:l;ap(n,Re)}else{var P=null,j;if(g!==null){var ne=g.baseLanes;j=ur(ne,l)}else j=l;n.lanes=n.childLanes=la;var fe={baseLanes:j,cachePool:P,transitions:null};return n.memoizedState=fe,n.updateQueue=null,ap(n,j),null}else{var Ie;g!==null?(Ie=ur(g.baseLanes,l),n.memoizedState=null):Ie=l,ap(n,Ie)}return Mn(r,n,m,l),n.child}function _P(r,n,l){var d=n.pendingProps;return Mn(r,n,d,l),n.child}function UP(r,n,l){var d=n.pendingProps.children;return Mn(r,n,d,l),n.child}function VP(r,n,l){{n.flags|=Cr;{var d=n.stateNode;d.effectDuration=0,d.passiveEffectDuration=0}}var m=n.pendingProps,g=m.children;return Mn(r,n,g,l),n.child}function MS(r,n){var l=n.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(n.flags|=_l,n.flags|=Ph)}function gx(r,n,l,d,m){if(n.type!==n.elementType){var g=l.propTypes;g&&Ga(g,d,"prop",yr(l))}var N;{var P=Kc(n,l,!0);N=Jc(n,P)}var j,ne;su(n,m),Ju(n);{if(Jd.current=n,vn(!0),j=cu(r,n,l,d,N,m),ne=uu(),n.mode&fs){Gs(!0);try{j=cu(r,n,l,d,N,m),ne=uu()}finally{Gs(!1)}}vn(!1)}return Lc(),r!==null&&!Ja?(K1(r,n,m),io(r,n,m)):(rn()&&ne&&Jv(n),n.flags|=Ao,Mn(r,n,j,m),n.child)}function IS(r,n,l,d,m){{switch(J3(n)){case!1:{var g=n.stateNode,N=n.type,P=new N(n.memoizedProps,g.context),j=P.state;g.updater.enqueueSetState(g,j,null);break}case!0:{n.flags|=Ur,n.flags|=An;var ne=new Error("Simulated error coming from DevTools"),fe=sd(m);n.lanes=ur(n.lanes,fe);var Te=dx(n,Ql(ne,n),fe);xg(n,Te);break}}if(n.type!==n.elementType){var Re=l.propTypes;Re&&Ga(Re,d,"prop",yr(l))}}var Ie;Si(l)?(Ie=!0,n0(n)):Ie=!1,su(n,m);var Be=n.stateNode,Je;Be===null?(Y0(r,n),kS(n,l,d),lx(n,l,d,m),Je=!0):r===null?Je=OP(n,l,d,m):Je=yP(r,n,l,d,m);var wt=xx(r,n,l,Je,Ie,m);{var Wt=n.stateNode;Je&&Wt.props!==d&&(Zl||c("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Kt(n)||"a component"),Zl=!0)}return wt}function xx(r,n,l,d,m,g){MS(r,n);var N=(n.flags&Ur)!==Gt;if(!d&&!N)return m&&N1(n,l,!1),io(r,n,g);var P=n.stateNode;Jd.current=n;var j;if(N&&typeof l.getDerivedStateFromError!="function")j=null,OS();else{Ju(n);{if(vn(!0),j=P.render(),n.mode&fs){Gs(!0);try{P.render()}finally{Gs(!1)}}vn(!1)}Lc()}return n.flags|=Ao,r!==null&&N?PP(r,n,j,g):Mn(r,n,j,g),n.memoizedState=P.state,m&&N1(n,l,!0),n.child}function FS(r){var n=r.stateNode;n.pendingContext?x1(r,n.pendingContext,n.pendingContext!==n.context):n.context&&x1(r,n.context,!1),bg(r,n.containerInfo)}function jP(r,n,l){if(FS(n),r===null)throw new Error("Should have a current fiber. This is a bug in React.");var d=n.pendingProps,m=n.memoizedState,g=m.element;X1(r,n),D0(n,d,null,l);var N=n.memoizedState;n.stateNode;var P=N.element;if(m.isDehydrated){var j={element:P,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},ne=n.updateQueue;if(ne.baseState=j,n.memoizedState=j,n.flags&Yi){var fe=Ql(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),n);return $S(r,n,P,l,fe)}else if(P!==g){var Te=Ql(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),n);return $S(r,n,P,l,Te)}else{M2(n);var Re=L1(n,null,P,l);n.child=Re;for(var Ie=Re;Ie;)Ie.flags=Ie.flags&~ds|qi,Ie=Ie.sibling}}else{if(eu(),P===g)return io(r,n,l);Mn(r,n,P,l)}return n.child}function $S(r,n,l,d,m){return eu(),sg(m),n.flags|=Yi,Mn(r,n,l,d),n.child}function LP(r,n,l){z1(n),r===null&&rg(n);var d=n.type,m=n.pendingProps,g=r!==null?r.memoizedProps:null,N=m.children,P=Av(d,m);return P?N=null:g!==null&&Av(d,g)&&(n.flags|=qu),MS(r,n),Mn(r,n,N,l),n.child}function AP(r,n){return r===null&&rg(n),null}function MP(r,n,l,d){Y0(r,n);var m=n.pendingProps,g=l,N=g._payload,P=g._init,j=P(N);n.type=j;var ne=n.tag=A3(j),fe=Ka(j,m),Te;switch(ne){case h:return bx(n,j),n.type=j=xu(j),Te=gx(null,n,j,fe,d),Te;case x:return n.type=j=qx(j),Te=IS(null,n,j,fe,d),Te;case k:return n.type=j=Kx(j),Te=VS(null,n,j,fe,d),Te;case z:{if(n.type!==n.elementType){var Re=j.propTypes;Re&&Ga(Re,fe,"prop",yr(j))}return Te=jS(null,n,j,Ka(j.type,fe),d),Te}}var Ie="";throw j!==null&&typeof j=="object"&&j.$$typeof===me&&(Ie=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+j+". "+("Lazy element type must resolve to a class or function."+Ie))}function IP(r,n,l,d,m){Y0(r,n),n.tag=x;var g;return Si(l)?(g=!0,n0(n)):g=!1,su(n,m),kS(n,l,d),lx(n,l,d,m),xx(null,n,l,!0,g,m)}function FP(r,n,l,d){Y0(r,n);var m=n.pendingProps,g;{var N=Kc(n,l,!1);g=Jc(n,N)}su(n,d);var P,j;Ju(n);{if(l.prototype&&typeof l.prototype.render=="function"){var ne=yr(l)||"Unknown";fx[ne]||(c("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",ne,ne),fx[ne]=!0)}n.mode&fs&&za.recordLegacyContextWarning(n,null),vn(!0),Jd.current=n,P=cu(null,n,l,m,g,d),j=uu(),vn(!1)}if(Lc(),n.flags|=Ao,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0){var fe=yr(l)||"Unknown";Qd[fe]||(c("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",fe,fe,fe),Qd[fe]=!0)}if(typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0){{var Te=yr(l)||"Unknown";Qd[Te]||(c("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",Te,Te,Te),Qd[Te]=!0)}n.tag=x,n.memoizedState=null,n.updateQueue=null;var Re=!1;return Si(l)?(Re=!0,n0(n)):Re=!1,n.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,gg(n),wS(n,P),lx(n,l,m,d),xx(null,n,l,!0,Re,d)}else{if(n.tag=h,n.mode&fs){Gs(!0);try{P=cu(null,n,l,m,g,d),j=uu()}finally{Gs(!1)}}return rn()&&j&&Jv(n),Mn(null,n,P,d),bx(n,l),n.child}}function bx(r,n){{if(n&&n.childContextTypes&&c("%s(...): childContextTypes cannot be defined on a function component.",n.displayName||n.name||"Component"),r.ref!==null){var l="",d=na();d&&(l+=`

Check the render method of \``+d+"`.");var m=d||"",g=r._debugSource;g&&(m=g.fileName+":"+g.lineNumber),hx[m]||(hx[m]=!0,c("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",l))}if(n.defaultProps!==void 0){var N=yr(n)||"Unknown";Zd[N]||(c("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",N),Zd[N]=!0)}if(typeof n.getDerivedStateFromProps=="function"){var P=yr(n)||"Unknown";px[P]||(c("%s: Function components do not support getDerivedStateFromProps.",P),px[P]=!0)}if(typeof n.contextType=="object"&&n.contextType!==null){var j=yr(n)||"Unknown";mx[j]||(c("%s: Function components do not support contextType.",j),mx[j]=!0)}}}var Nx={dehydrated:null,treeContext:null,retryLane:Ws};function Dx(r){return{baseLanes:r,cachePool:TP(),transitions:null}}function $P(r,n){var l=null;return{baseLanes:ur(r.baseLanes,n),cachePool:l,transitions:r.transitions}}function BP(r,n,l,d){if(n!==null){var m=n.memoizedState;if(m===null)return!1}return Sg(r,Bd)}function XP(r,n){return wm(r.childLanes,n)}function BS(r,n,l){var d=n.pendingProps;Q3(n)&&(n.flags|=Ur);var m=Ya.current,g=!1,N=(n.flags&Ur)!==Gt;if(N||BP(m,r)?(g=!0,n.flags&=~Ur):(r===null||r.memoizedState!==null)&&(m=oP(m,q1)),m=au(m),Zo(n,m),r===null){rg(n);var P=n.memoizedState;if(P!==null){var j=P.dehydrated;if(j!==null)return YP(n,j)}var ne=d.children,fe=d.fallback;if(g){var Te=HP(n,ne,fe,l),Re=n.child;return Re.memoizedState=Dx(l),n.memoizedState=Nx,Te}else return Sx(n,ne)}else{var Ie=r.memoizedState;if(Ie!==null){var Be=Ie.dehydrated;if(Be!==null)return qP(r,n,N,d,Be,Ie,l)}if(g){var Je=d.fallback,wt=d.children,Wt=WP(r,n,wt,Je,l),Ft=n.child,Dr=r.child.memoizedState;return Ft.memoizedState=Dr===null?Dx(l):$P(Dr,l),Ft.childLanes=XP(r,l),n.memoizedState=Nx,Wt}else{var gr=d.children,Le=GP(r,n,gr,l);return n.memoizedState=null,Le}}}function Sx(r,n,l){var d=r.mode,m={mode:"visible",children:n},g=Ox(m,d);return g.return=r,r.child=g,g}function HP(r,n,l,d){var m=r.mode,g=r.child,N={mode:"hidden",children:n},P,j;return(m&br)===Yt&&g!==null?(P=g,P.childLanes=lt,P.pendingProps=N,r.mode&Mr&&(P.actualDuration=0,P.actualStartTime=-1,P.selfBaseDuration=0,P.treeBaseDuration=0),j=ol(l,m,d,null)):(P=Ox(N,m),j=ol(l,m,d,null)),P.return=r,j.return=r,P.sibling=j,r.child=P,j}function Ox(r,n,l){return XO(r,n,lt,null)}function XS(r,n){return nc(r,n)}function GP(r,n,l,d){var m=r.child,g=m.sibling,N=XS(m,{mode:"visible",children:l});if((n.mode&br)===Yt&&(N.lanes=d),N.return=n,N.sibling=null,g!==null){var P=n.deletions;P===null?(n.deletions=[g],n.flags|=Pl):P.push(g)}return n.child=N,N}function WP(r,n,l,d,m){var g=n.mode,N=r.child,P=N.sibling,j={mode:"hidden",children:l},ne;if((g&br)===Yt&&n.child!==N){var fe=n.child;ne=fe,ne.childLanes=lt,ne.pendingProps=j,n.mode&Mr&&(ne.actualDuration=0,ne.actualStartTime=-1,ne.selfBaseDuration=N.selfBaseDuration,ne.treeBaseDuration=N.treeBaseDuration),n.deletions=null}else ne=XS(N,j),ne.subtreeFlags=N.subtreeFlags&Ki;var Te;return P!==null?Te=nc(P,d):(Te=ol(d,g,m,null),Te.flags|=ds),Te.return=n,ne.return=n,ne.sibling=Te,n.child=ne,Te}function z0(r,n,l,d){d!==null&&sg(d),tu(n,r.child,null,l);var m=n.pendingProps,g=m.children,N=Sx(n,g);return N.flags|=ds,n.memoizedState=null,N}function zP(r,n,l,d,m){var g=n.mode,N={mode:"visible",children:l},P=Ox(N,g),j=ol(d,g,m,null);return j.flags|=ds,P.return=n,j.return=n,P.sibling=j,n.child=P,(n.mode&br)!==Yt&&tu(n,r.child,null,m),j}function YP(r,n,l){return(r.mode&br)===Yt?(c("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),r.lanes=Qt):$v(n)?r.lanes=Al:r.lanes=la,null}function qP(r,n,l,d,m,g,N){if(l)if(n.flags&Yi){n.flags&=~Yi;var Le=cx(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return z0(r,n,N,Le)}else{if(n.memoizedState!==null)return n.child=r.child,n.flags|=Ur,null;var Qe=d.children,Ae=d.fallback,dt=zP(r,n,Qe,Ae,N),_t=n.child;return _t.memoizedState=Dx(N),n.memoizedState=Nx,dt}else{if(L2(),(n.mode&br)===Yt)return z0(r,n,N,null);if($v(m)){var P,j,ne;{var fe=ZT(m);P=fe.digest,j=fe.message,ne=fe.stack}var Te;j?Te=new Error(j):Te=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var Re=cx(Te,P,ne);return z0(r,n,N,Re)}var Ie=ca(N,r.childLanes);if(Ja||Ie){var Be=np();if(Be!==null){var Je=aR(Be,N);if(Je!==Ws&&Je!==g.retryLane){g.retryLane=Je;var wt=Qr;Jn(r,Je),Ms(Be,r,Je,wt)}}Hx();var Wt=cx(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return z0(r,n,N,Wt)}else if(f1(m)){n.flags|=Ur,n.child=r.child;var Ft=N3.bind(null,r);return e2(m,Ft),null}else{I2(n,m,g.treeContext);var Dr=d.children,gr=Sx(n,Dr);return gr.flags|=qi,gr}}}function HS(r,n,l){r.lanes=ur(r.lanes,n);var d=r.alternate;d!==null&&(d.lanes=ur(d.lanes,n)),mg(r.return,n,l)}function KP(r,n,l){for(var d=n;d!==null;){if(d.tag===K){var m=d.memoizedState;m!==null&&HS(d,l,r)}else if(d.tag===Z)HS(d,l,r);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)return;for(;d.sibling===null;){if(d.return===null||d.return===r)return;d=d.return}d.sibling.return=d.return,d=d.sibling}}function JP(r){for(var n=r,l=null;n!==null;){var d=n.alternate;d!==null&&E0(d)===null&&(l=n),n=n.sibling}return l}function QP(r){if(r!==void 0&&r!=="forwards"&&r!=="backwards"&&r!=="together"&&!vx[r])if(vx[r]=!0,typeof r=="string")switch(r.toLowerCase()){case"together":case"forwards":case"backwards":{c('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',r,r.toLowerCase());break}case"forward":case"backward":{c('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',r,r.toLowerCase());break}default:c('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',r);break}else c('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',r)}function ZP(r,n){r!==void 0&&!W0[r]&&(r!=="collapsed"&&r!=="hidden"?(W0[r]=!0,c('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',r)):n!=="forwards"&&n!=="backwards"&&(W0[r]=!0,c('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',r)))}function GS(r,n){{var l=or(r),d=!l&&typeof pt(r)=="function";if(l||d){var m=l?"array":"iterable";return c("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",m,n,m),!1}}return!0}function e_(r,n){if((n==="forwards"||n==="backwards")&&r!==void 0&&r!==null&&r!==!1)if(or(r)){for(var l=0;l<r.length;l++)if(!GS(r[l],l))return}else{var d=pt(r);if(typeof d=="function"){var m=d.call(r);if(m)for(var g=m.next(),N=0;!g.done;g=m.next()){if(!GS(g.value,N))return;N++}}else c('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',n)}}function yx(r,n,l,d,m){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=m)}function WS(r,n,l){var d=n.pendingProps,m=d.revealOrder,g=d.tail,N=d.children;QP(m),ZP(g,m),e_(N,m),Mn(r,n,N,l);var P=Ya.current,j=Sg(P,Bd);if(j)P=Og(P,Bd),n.flags|=Ur;else{var ne=r!==null&&(r.flags&Ur)!==Gt;ne&&KP(n,n.child,l),P=au(P)}if(Zo(n,P),(n.mode&br)===Yt)n.memoizedState=null;else switch(m){case"forwards":{var fe=JP(n.child),Te;fe===null?(Te=n.child,n.child=null):(Te=fe.sibling,fe.sibling=null),yx(n,!1,Te,fe,g);break}case"backwards":{var Re=null,Ie=n.child;for(n.child=null;Ie!==null;){var Be=Ie.alternate;if(Be!==null&&E0(Be)===null){n.child=Ie;break}var Je=Ie.sibling;Ie.sibling=Re,Re=Ie,Ie=Je}yx(n,!0,Re,null,g);break}case"together":{yx(n,!1,null,null,void 0);break}default:n.memoizedState=null}return n.child}function t_(r,n,l){bg(n,n.stateNode.containerInfo);var d=n.pendingProps;return r===null?n.child=tu(n,null,d,l):Mn(r,n,d,l),n.child}var zS=!1;function r_(r,n,l){var d=n.type,m=d._context,g=n.pendingProps,N=n.memoizedProps,P=g.value;{"value"in g||zS||(zS=!0,c("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var j=n.type.propTypes;j&&Ga(j,g,"prop","Context.Provider")}if(I1(n,m,P),N!==null){var ne=N.value;if(fa(ne,P)){if(N.children===g.children&&!r0())return io(r,n,l)}else Q2(n,m,l)}var fe=g.children;return Mn(r,n,fe,l),n.child}var YS=!1;function s_(r,n,l){var d=n.type;d._context===void 0?d!==d.Consumer&&(YS||(YS=!0,c("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):d=d._context;var m=n.pendingProps,g=m.children;typeof g!="function"&&c("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),su(n,l);var N=Ds(d);Ju(n);var P;return Jd.current=n,vn(!0),P=g(N),vn(!1),Lc(),n.flags|=Ao,Mn(r,n,P,l),n.child}function ef(){Ja=!0}function Y0(r,n){(n.mode&br)===Yt&&r!==null&&(r.alternate=null,n.alternate=null,n.flags|=ds)}function io(r,n,l){return r!==null&&(n.dependencies=r.dependencies),OS(),mf(n.lanes),ca(l,n.childLanes)?(K2(r,n),n.child):null}function n_(r,n,l){{var d=n.return;if(d===null)throw new Error("Cannot swap the root fiber.");if(r.alternate=null,n.alternate=null,l.index=n.index,l.sibling=n.sibling,l.return=n.return,l.ref=n.ref,n===d.child)d.child=l;else{var m=d.child;if(m===null)throw new Error("Expected parent to have a child.");for(;m.sibling!==n;)if(m=m.sibling,m===null)throw new Error("Expected to find the previous sibling.");m.sibling=l}var g=d.deletions;return g===null?(d.deletions=[r],d.flags|=Pl):g.push(r),l.flags|=ds,l}}function Ex(r,n){var l=r.lanes;return!!ca(l,n)}function a_(r,n,l){switch(n.tag){case b:FS(n),n.stateNode,eu();break;case w:z1(n);break;case x:{var d=n.type;Si(d)&&n0(n);break}case O:bg(n,n.stateNode.containerInfo);break;case G:{var m=n.memoizedProps.value,g=n.type._context;I1(n,g,m);break}case ie:{var N=ca(l,n.childLanes);N&&(n.flags|=Cr);{var P=n.stateNode;P.effectDuration=0,P.passiveEffectDuration=0}}break;case K:{var j=n.memoizedState;if(j!==null){if(j.dehydrated!==null)return Zo(n,au(Ya.current)),n.flags|=Ur,null;var ne=n.child,fe=ne.childLanes;if(ca(l,fe))return BS(r,n,l);Zo(n,au(Ya.current));var Te=io(r,n,l);return Te!==null?Te.sibling:null}else Zo(n,au(Ya.current));break}case Z:{var Re=(r.flags&Ur)!==Gt,Ie=ca(l,n.childLanes);if(Re){if(Ie)return WS(r,n,l);n.flags|=Ur}var Be=n.memoizedState;if(Be!==null&&(Be.rendering=null,Be.tail=null,Be.lastEffect=null),Zo(n,Ya.current),Ie)break;return null}case M:case Ce:return n.lanes=lt,AS(r,n,l)}return io(r,n,l)}function qS(r,n,l){if(n._debugNeedsRemount&&r!==null)return n_(r,n,tb(n.type,n.key,n.pendingProps,n._debugOwner||null,n.mode,n.lanes));if(r!==null){var d=r.memoizedProps,m=n.pendingProps;if(d!==m||r0()||n.type!==r.type)Ja=!0;else{var g=Ex(r,l);if(!g&&(n.flags&Ur)===Gt)return Ja=!1,a_(r,n,l);(r.flags&Th)!==Gt?Ja=!0:Ja=!1}}else if(Ja=!1,rn()&&T2(n)){var N=n.index,P=P2();O1(n,P,N)}switch(n.lanes=lt,n.tag){case v:return FP(r,n,n.type,l);case ce:{var j=n.elementType;return MP(r,n,j,l)}case h:{var ne=n.type,fe=n.pendingProps,Te=n.elementType===ne?fe:Ka(ne,fe);return gx(r,n,ne,Te,l)}case x:{var Re=n.type,Ie=n.pendingProps,Be=n.elementType===Re?Ie:Ka(Re,Ie);return IS(r,n,Re,Be,l)}case b:return jP(r,n,l);case w:return LP(r,n,l);case C:return AP(r,n);case K:return BS(r,n,l);case O:return t_(r,n,l);case k:{var Je=n.type,wt=n.pendingProps,Wt=n.elementType===Je?wt:Ka(Je,wt);return VS(r,n,Je,Wt,l)}case S:return _P(r,n,l);case R:return UP(r,n,l);case ie:return VP(r,n,l);case G:return r_(r,n,l);case X:return s_(r,n,l);case z:{var Ft=n.type,Dr=n.pendingProps,gr=Ka(Ft,Dr);if(n.type!==n.elementType){var Le=Ft.propTypes;Le&&Ga(Le,gr,"prop",yr(Ft))}return gr=Ka(Ft.type,gr),jS(r,n,Ft,gr,l)}case A:return LS(r,n,n.type,n.pendingProps,l);case T:{var Qe=n.type,Ae=n.pendingProps,dt=n.elementType===Qe?Ae:Ka(Qe,Ae);return IP(r,n,Qe,dt,l)}case Z:return WS(r,n,l);case W:break;case M:return AS(r,n,l)}throw new Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function du(r){r.flags|=Cr}function KS(r){r.flags|=_l,r.flags|=Ph}var JS,Cx,QS,ZS;JS=function(r,n,l,d){for(var m=n.child;m!==null;){if(m.tag===w||m.tag===C)wT(r,m.stateNode);else if(m.tag!==O){if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===n)return;for(;m.sibling===null;){if(m.return===null||m.return===n)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Cx=function(r,n){},QS=function(r,n,l,d,m){var g=r.memoizedProps;if(g!==d){var N=n.stateNode,P=Ng(),j=RT(N,l,g,d,m,P);n.updateQueue=j,j&&du(n)}},ZS=function(r,n,l,d){l!==d&&du(n)};function tf(r,n){if(!rn())switch(r.tailMode){case"hidden":{for(var l=r.tail,d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r.tail=null:d.sibling=null;break}case"collapsed":{for(var m=r.tail,g=null;m!==null;)m.alternate!==null&&(g=m),m=m.sibling;g===null?!n&&r.tail!==null?r.tail.sibling=null:r.tail=null:g.sibling=null;break}}}function nn(r){var n=r.alternate!==null&&r.alternate.child===r.child,l=lt,d=Gt;if(n){if((r.mode&Mr)!==Yt){for(var j=r.selfBaseDuration,ne=r.child;ne!==null;)l=ur(l,ur(ne.lanes,ne.childLanes)),d|=ne.subtreeFlags&Ki,d|=ne.flags&Ki,j+=ne.treeBaseDuration,ne=ne.sibling;r.treeBaseDuration=j}else for(var fe=r.child;fe!==null;)l=ur(l,ur(fe.lanes,fe.childLanes)),d|=fe.subtreeFlags&Ki,d|=fe.flags&Ki,fe.return=r,fe=fe.sibling;r.subtreeFlags|=d}else{if((r.mode&Mr)!==Yt){for(var m=r.actualDuration,g=r.selfBaseDuration,N=r.child;N!==null;)l=ur(l,ur(N.lanes,N.childLanes)),d|=N.subtreeFlags,d|=N.flags,m+=N.actualDuration,g+=N.treeBaseDuration,N=N.sibling;r.actualDuration=m,r.treeBaseDuration=g}else for(var P=r.child;P!==null;)l=ur(l,ur(P.lanes,P.childLanes)),d|=P.subtreeFlags,d|=P.flags,P.return=r,P=P.sibling;r.subtreeFlags|=d}return r.childLanes=l,n}function i_(r,n,l){if(H2()&&(n.mode&br)!==Yt&&(n.flags&Ur)===Gt)return T1(n),eu(),n.flags|=Yi|Nm|An,!1;var d=c0(n);if(l!==null&&l.dehydrated!==null)if(r===null){if(!d)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(B2(n),nn(n),(n.mode&Mr)!==Yt){var m=l!==null;if(m){var g=n.child;g!==null&&(n.treeBaseDuration-=g.treeBaseDuration)}}return!1}else{if(eu(),(n.flags&Ur)===Gt&&(n.memoizedState=null),n.flags|=Cr,nn(n),(n.mode&Mr)!==Yt){var N=l!==null;if(N){var P=n.child;P!==null&&(n.treeBaseDuration-=P.treeBaseDuration)}}return!1}else return P1(),!0}function eO(r,n,l){var d=n.pendingProps;switch(Qv(n),n.tag){case v:case ce:case A:case h:case k:case S:case R:case ie:case X:case z:return nn(n),null;case x:{var m=n.type;return Si(m)&&s0(n),nn(n),null}case b:{var g=n.stateNode;if(nu(n),Yv(n),Eg(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),r===null||r.child===null){var N=c0(n);if(N)du(n);else if(r!==null){var P=r.memoizedState;(!P.isDehydrated||(n.flags&Yi)!==Gt)&&(n.flags|=Uc,P1())}}return Cx(r,n),nn(n),null}case w:{Dg(n);var j=W1(),ne=n.type;if(r!==null&&n.stateNode!=null)QS(r,n,ne,d,j),r.ref!==n.ref&&KS(n);else{if(!d){if(n.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return nn(n),null}var fe=Ng(),Te=c0(n);if(Te)F2(n,j,fe)&&du(n);else{var Re=CT(ne,d,j,fe,n);JS(Re,n,!1,!1),n.stateNode=Re,kT(Re,ne,d,j)&&du(n)}n.ref!==null&&KS(n)}return nn(n),null}case C:{var Ie=d;if(r&&n.stateNode!=null){var Be=r.memoizedProps;ZS(r,n,Be,Ie)}else{if(typeof Ie!="string"&&n.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var Je=W1(),wt=Ng(),Wt=c0(n);Wt?$2(n)&&du(n):n.stateNode=TT(Ie,Je,wt,n)}return nn(n),null}case K:{iu(n);var Ft=n.memoizedState;if(r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){var Dr=i_(r,n,Ft);if(!Dr)return n.flags&An?n:null}if((n.flags&Ur)!==Gt)return n.lanes=l,(n.mode&Mr)!==Yt&&Kg(n),n;var gr=Ft!==null,Le=r!==null&&r.memoizedState!==null;if(gr!==Le&&gr){var Qe=n.child;if(Qe.flags|=Ul,(n.mode&br)!==Yt){var Ae=r===null&&(n.memoizedProps.unstable_avoidThisFallback!==!0||!0);Ae||Sg(Ya.current,q1)?o3():Hx()}}var dt=n.updateQueue;if(dt!==null&&(n.flags|=Cr),nn(n),(n.mode&Mr)!==Yt&&gr){var _t=n.child;_t!==null&&(n.treeBaseDuration-=_t.treeBaseDuration)}return null}case O:return nu(n),Cx(r,n),r===null&&O2(n.stateNode.containerInfo),nn(n),null;case G:var kt=n.type._context;return fg(kt,n),nn(n),null;case T:{var qt=n.type;return Si(qt)&&s0(n),nn(n),null}case Z:{iu(n);var nr=n.memoizedState;if(nr===null)return nn(n),null;var Fr=(n.flags&Ur)!==Gt,Rr=nr.rendering;if(Rr===null)if(Fr)tf(nr,!1);else{var xs=c3()&&(r===null||(r.flags&Ur)===Gt);if(!xs)for(var Tr=n.child;Tr!==null;){var ms=E0(Tr);if(ms!==null){Fr=!0,n.flags|=Ur,tf(nr,!1);var En=ms.updateQueue;return En!==null&&(n.updateQueue=En,n.flags|=Cr),n.subtreeFlags=Gt,J2(n,l),Zo(n,Og(Ya.current,Bd)),n.child}Tr=Tr.sibling}nr.tail!==null&&Hs()>DO()&&(n.flags|=Ur,Fr=!0,tf(nr,!1),n.lanes=ZN)}else{if(!Fr){var un=E0(Rr);if(un!==null){n.flags|=Ur,Fr=!0;var ha=un.updateQueue;if(ha!==null&&(n.updateQueue=ha,n.flags|=Cr),tf(nr,!0),nr.tail===null&&nr.tailMode==="hidden"&&!Rr.alternate&&!rn())return nn(n),null}else Hs()*2-nr.renderingStartTime>DO()&&l!==la&&(n.flags|=Ur,Fr=!0,tf(nr,!1),n.lanes=ZN)}if(nr.isBackwards)Rr.sibling=n.child,n.child=Rr;else{var $n=nr.last;$n!==null?$n.sibling=Rr:n.child=Rr,nr.last=Rr}}if(nr.tail!==null){var Bn=nr.tail;nr.rendering=Bn,nr.tail=Bn.sibling,nr.renderingStartTime=Hs(),Bn.sibling=null;var Cn=Ya.current;return Fr?Cn=Og(Cn,Bd):Cn=au(Cn),Zo(n,Cn),Bn}return nn(n),null}case W:break;case M:case Ce:{Xx(n);var fo=n.memoizedState,bu=fo!==null;if(r!==null){var xf=r.memoizedState,Ti=xf!==null;Ti!==bu&&!ke&&(n.flags|=Ul)}return!bu||(n.mode&br)===Yt?nn(n):ca(Ri,la)&&(nn(n),n.subtreeFlags&(ds|Cr)&&(n.flags|=Ul)),null}case De:return null;case we:return null}throw new Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function o_(r,n,l){switch(Qv(n),n.tag){case x:{var d=n.type;Si(d)&&s0(n);var m=n.flags;return m&An?(n.flags=m&~An|Ur,(n.mode&Mr)!==Yt&&Kg(n),n):null}case b:{n.stateNode,nu(n),Yv(n),Eg();var g=n.flags;return(g&An)!==Gt&&(g&Ur)===Gt?(n.flags=g&~An|Ur,n):null}case w:return Dg(n),null;case K:{iu(n);var N=n.memoizedState;if(N!==null&&N.dehydrated!==null){if(n.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");eu()}var P=n.flags;return P&An?(n.flags=P&~An|Ur,(n.mode&Mr)!==Yt&&Kg(n),n):null}case Z:return iu(n),null;case O:return nu(n),null;case G:var j=n.type._context;return fg(j,n),null;case M:case Ce:return Xx(n),null;case De:return null;default:return null}}function tO(r,n,l){switch(Qv(n),n.tag){case x:{var d=n.type.childContextTypes;d!=null&&s0(n);break}case b:{n.stateNode,nu(n),Yv(n),Eg();break}case w:{Dg(n);break}case O:nu(n);break;case K:iu(n);break;case Z:iu(n);break;case G:var m=n.type._context;fg(m,n);break;case M:case Ce:Xx(n);break}}var rO=null;rO=new Set;var q0=!1,an=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,fu=null,mu=null;function c_(r){ts(null,function(){throw r}),jo()}var u_=function(r,n){if(n.props=r.memoizedProps,n.state=r.memoizedState,r.mode&Mr)try{wi(),n.componentWillUnmount()}finally{Ci(r)}else n.componentWillUnmount()};function sO(r,n){try{rl(_s,r)}catch(l){qr(r,n,l)}}function wx(r,n,l){try{u_(r,l)}catch(d){qr(r,n,d)}}function d_(r,n,l){try{l.componentDidMount()}catch(d){qr(r,n,d)}}function nO(r,n){try{iO(r)}catch(l){qr(r,n,l)}}function pu(r,n){var l=r.ref;if(l!==null)if(typeof l=="function"){var d;try{if(pe&&de&&r.mode&Mr)try{wi(),d=l(null)}finally{Ci(r)}else d=l(null)}catch(m){qr(r,n,m)}typeof d=="function"&&c("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Kt(r))}else l.current=null}function K0(r,n,l){try{l()}catch(d){qr(r,n,d)}}var aO=!1;function f_(r,n){yT(r.containerInfo),Lt=n,m_();var l=aO;return aO=!1,l}function m_(){for(;Lt!==null;){var r=Lt,n=r.child;(r.subtreeFlags&Vh)!==Gt&&n!==null?(n.return=r,Lt=n):p_()}}function p_(){for(;Lt!==null;){var r=Lt;jr(r);try{h_(r)}catch(l){qr(r,r.return,l)}vs();var n=r.sibling;if(n!==null){n.return=r.return,Lt=n;return}Lt=r.return}}function h_(r){var n=r.alternate,l=r.flags;if((l&Uc)!==Gt){switch(jr(r),r.tag){case h:case k:case A:break;case x:{if(n!==null){var d=n.memoizedProps,m=n.memoizedState,g=r.stateNode;r.type===r.elementType&&!Zl&&(g.props!==r.memoizedProps&&c("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Kt(r)||"instance"),g.state!==r.memoizedState&&c("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Kt(r)||"instance"));var N=g.getSnapshotBeforeUpdate(r.elementType===r.type?d:Ka(r.type,d),m);{var P=rO;N===void 0&&!P.has(r.type)&&(P.add(r.type),c("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Kt(r)))}g.__reactInternalSnapshotBeforeUpdate=N}break}case b:{{var j=r.stateNode;qT(j.containerInfo)}break}case w:case C:case O:case T:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}vs()}}function Qa(r,n,l){var d=n.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var g=m.next,N=g;do{if((N.tag&r)===r){var P=N.destroy;N.destroy=void 0,P!==void 0&&((r&sn)!==Qn?Tk(n):(r&_s)!==Qn&&YN(n),(r&Oi)!==Qn&&hf(!0),K0(n,l,P),(r&Oi)!==Qn&&hf(!1),(r&sn)!==Qn?Pk():(r&_s)!==Qn&&qN())}N=N.next}while(N!==g)}}function rl(r,n){var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next,g=m;do{if((g.tag&r)===r){(r&sn)!==Qn?kk(n):(r&_s)!==Qn&&_k(n);var N=g.create;(r&Oi)!==Qn&&hf(!0),g.destroy=N(),(r&Oi)!==Qn&&hf(!1),(r&sn)!==Qn?Rk():(r&_s)!==Qn&&Uk();{var P=g.destroy;if(P!==void 0&&typeof P!="function"){var j=void 0;(g.tag&_s)!==Gt?j="useLayoutEffect":(g.tag&Oi)!==Gt?j="useInsertionEffect":j="useEffect";var ne=void 0;P===null?ne=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof P.then=="function"?ne=`

It looks like you wrote `+j+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+j+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:ne=" You returned: "+P,c("%s must not return anything besides a function, which is used for clean-up.%s",j,ne)}}}g=g.next}while(g!==m)}}function v_(r,n){if((n.flags&Cr)!==Gt)switch(n.tag){case ie:{var l=n.stateNode.passiveEffectDuration,d=n.memoizedProps,m=d.id,g=d.onPostCommit,N=DS(),P=n.alternate===null?"mount":"update";NS()&&(P="nested-update"),typeof g=="function"&&g(m,P,l,N);var j=n.return;e:for(;j!==null;){switch(j.tag){case b:var ne=j.stateNode;ne.passiveEffectDuration+=l;break e;case ie:var fe=j.stateNode;fe.passiveEffectDuration+=l;break e}j=j.return}break}}}function g_(r,n,l,d){if((l.flags&Ku)!==Gt)switch(l.tag){case h:case k:case A:{if(!an)if(l.mode&Mr)try{wi(),rl(_s|Ps,l)}finally{Ci(l)}else rl(_s|Ps,l);break}case x:{var m=l.stateNode;if(l.flags&Cr&&!an)if(n===null)if(l.type===l.elementType&&!Zl&&(m.props!==l.memoizedProps&&c("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Kt(l)||"instance"),m.state!==l.memoizedState&&c("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Kt(l)||"instance")),l.mode&Mr)try{wi(),m.componentDidMount()}finally{Ci(l)}else m.componentDidMount();else{var g=l.elementType===l.type?n.memoizedProps:Ka(l.type,n.memoizedProps),N=n.memoizedState;if(l.type===l.elementType&&!Zl&&(m.props!==l.memoizedProps&&c("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Kt(l)||"instance"),m.state!==l.memoizedState&&c("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Kt(l)||"instance")),l.mode&Mr)try{wi(),m.componentDidUpdate(g,N,m.__reactInternalSnapshotBeforeUpdate)}finally{Ci(l)}else m.componentDidUpdate(g,N,m.__reactInternalSnapshotBeforeUpdate)}var P=l.updateQueue;P!==null&&(l.type===l.elementType&&!Zl&&(m.props!==l.memoizedProps&&c("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Kt(l)||"instance"),m.state!==l.memoizedState&&c("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Kt(l)||"instance")),G1(l,P,m));break}case b:{var j=l.updateQueue;if(j!==null){var ne=null;if(l.child!==null)switch(l.child.tag){case w:ne=l.child.stateNode;break;case x:ne=l.child.stateNode;break}G1(l,j,ne)}break}case w:{var fe=l.stateNode;if(n===null&&l.flags&Cr){var Te=l.type,Re=l.memoizedProps;jT(fe,Te,Re)}break}case C:break;case O:break;case ie:{{var Ie=l.memoizedProps,Be=Ie.onCommit,Je=Ie.onRender,wt=l.stateNode.effectDuration,Wt=DS(),Ft=n===null?"mount":"update";NS()&&(Ft="nested-update"),typeof Je=="function"&&Je(l.memoizedProps.id,Ft,l.actualDuration,l.treeBaseDuration,l.actualStartTime,Wt);{typeof Be=="function"&&Be(l.memoizedProps.id,Ft,wt,Wt),p3(l);var Dr=l.return;e:for(;Dr!==null;){switch(Dr.tag){case b:var gr=Dr.stateNode;gr.effectDuration+=wt;break e;case ie:var Le=Dr.stateNode;Le.effectDuration+=wt;break e}Dr=Dr.return}}}break}case K:{E_(r,l);break}case Z:case T:case W:case M:case Ce:case we:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}an||l.flags&_l&&iO(l)}function x_(r){switch(r.tag){case h:case k:case A:{if(r.mode&Mr)try{wi(),sO(r,r.return)}finally{Ci(r)}else sO(r,r.return);break}case x:{var n=r.stateNode;typeof n.componentDidMount=="function"&&d_(r,r.return,n),nO(r,r.return);break}case w:{nO(r,r.return);break}}}function b_(r,n){for(var l=null,d=r;;){if(d.tag===w){if(l===null){l=d;try{var m=d.stateNode;n?GT(m):zT(d.stateNode,d.memoizedProps)}catch(N){qr(r,r.return,N)}}}else if(d.tag===C){if(l===null)try{var g=d.stateNode;n?WT(g):YT(g,d.memoizedProps)}catch(N){qr(r,r.return,N)}}else if(!((d.tag===M||d.tag===Ce)&&d.memoizedState!==null&&d!==r)){if(d.child!==null){d.child.return=d,d=d.child;continue}}if(d===r)return;for(;d.sibling===null;){if(d.return===null||d.return===r)return;l===d&&(l=null),d=d.return}l===d&&(l=null),d.sibling.return=d.return,d=d.sibling}}function iO(r){var n=r.ref;if(n!==null){var l=r.stateNode,d;switch(r.tag){case w:d=l;break;default:d=l}if(typeof n=="function"){var m;if(r.mode&Mr)try{wi(),m=n(d)}finally{Ci(r)}else m=n(d);typeof m=="function"&&c("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Kt(r))}else n.hasOwnProperty("current")||c("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Kt(r)),n.current=d}}function N_(r){var n=r.alternate;n!==null&&(n.return=null),r.return=null}function oO(r){var n=r.alternate;n!==null&&(r.alternate=null,oO(n));{if(r.child=null,r.deletions=null,r.sibling=null,r.tag===w){var l=r.stateNode;l!==null&&C2(l)}r.stateNode=null,r._debugOwner=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}}function D_(r){for(var n=r.return;n!==null;){if(lO(n))return n;n=n.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function lO(r){return r.tag===w||r.tag===b||r.tag===O}function cO(r){var n=r;e:for(;;){for(;n.sibling===null;){if(n.return===null||lO(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==w&&n.tag!==C&&n.tag!==H;){if(n.flags&ds||n.child===null||n.tag===O)continue e;n.child.return=n,n=n.child}if(!(n.flags&ds))return n.stateNode}}function S_(r){var n=D_(r);switch(n.tag){case w:{var l=n.stateNode;n.flags&qu&&(d1(l),n.flags&=~qu);var d=cO(r);Rx(r,d,l);break}case b:case O:{var m=n.stateNode.containerInfo,g=cO(r);kx(r,g,m);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function kx(r,n,l){var d=r.tag,m=d===w||d===C;if(m){var g=r.stateNode;n?$T(l,g,n):IT(l,g)}else if(d!==O){var N=r.child;if(N!==null){kx(N,n,l);for(var P=N.sibling;P!==null;)kx(P,n,l),P=P.sibling}}}function Rx(r,n,l){var d=r.tag,m=d===w||d===C;if(m){var g=r.stateNode;n?FT(l,g,n):MT(l,g)}else if(d!==O){var N=r.child;if(N!==null){Rx(N,n,l);for(var P=N.sibling;P!==null;)Rx(P,n,l),P=P.sibling}}}var on=null,Za=!1;function O_(r,n,l){{var d=n;e:for(;d!==null;){switch(d.tag){case w:{on=d.stateNode,Za=!1;break e}case b:{on=d.stateNode.containerInfo,Za=!0;break e}case O:{on=d.stateNode.containerInfo,Za=!0;break e}}d=d.return}if(on===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");uO(r,n,l),on=null,Za=!1}N_(l)}function sl(r,n,l){for(var d=l.child;d!==null;)uO(r,n,d),d=d.sibling}function uO(r,n,l){switch(yk(l),l.tag){case w:an||pu(l,n);case C:{{var d=on,m=Za;on=null,sl(r,n,l),on=d,Za=m,on!==null&&(Za?XT(on,l.stateNode):BT(on,l.stateNode))}return}case H:{on!==null&&(Za?HT(on,l.stateNode):Fv(on,l.stateNode));return}case O:{{var g=on,N=Za;on=l.stateNode.containerInfo,Za=!0,sl(r,n,l),on=g,Za=N}return}case h:case k:case z:case A:{if(!an){var P=l.updateQueue;if(P!==null){var j=P.lastEffect;if(j!==null){var ne=j.next,fe=ne;do{var Te=fe,Re=Te.destroy,Ie=Te.tag;Re!==void 0&&((Ie&Oi)!==Qn?K0(l,n,Re):(Ie&_s)!==Qn&&(YN(l),l.mode&Mr?(wi(),K0(l,n,Re),Ci(l)):K0(l,n,Re),qN())),fe=fe.next}while(fe!==ne)}}}sl(r,n,l);return}case x:{if(!an){pu(l,n);var Be=l.stateNode;typeof Be.componentWillUnmount=="function"&&wx(l,n,Be)}sl(r,n,l);return}case W:{sl(r,n,l);return}case M:{if(l.mode&br){var Je=an;an=Je||l.memoizedState!==null,sl(r,n,l),an=Je}else sl(r,n,l);break}default:{sl(r,n,l);return}}}function y_(r){r.memoizedState}function E_(r,n){var l=n.memoizedState;if(l===null){var d=n.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&c2(g)}}}}function dO(r){var n=r.updateQueue;if(n!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new l_),n.forEach(function(d){var m=D3.bind(null,r,d);if(!l.has(d)){if(l.add(d),Xa)if(fu!==null&&mu!==null)pf(mu,fu);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");d.then(m,m)}})}}function C_(r,n,l){fu=l,mu=r,jr(n),fO(n,r),jr(n),fu=null,mu=null}function ei(r,n,l){var d=n.deletions;if(d!==null)for(var m=0;m<d.length;m++){var g=d[m];try{O_(r,n,g)}catch(j){qr(g,n,j)}}var N=yc();if(n.subtreeFlags&jh)for(var P=n.child;P!==null;)jr(P),fO(P,r),P=P.sibling;jr(N)}function fO(r,n,l){var d=r.alternate,m=r.flags;switch(r.tag){case h:case k:case z:case A:{if(ei(n,r),ki(r),m&Cr){try{Qa(Oi|Ps,r,r.return),rl(Oi|Ps,r)}catch(qt){qr(r,r.return,qt)}if(r.mode&Mr){try{wi(),Qa(_s|Ps,r,r.return)}catch(qt){qr(r,r.return,qt)}Ci(r)}else try{Qa(_s|Ps,r,r.return)}catch(qt){qr(r,r.return,qt)}}return}case x:{ei(n,r),ki(r),m&_l&&d!==null&&pu(d,d.return);return}case w:{ei(n,r),ki(r),m&_l&&d!==null&&pu(d,d.return);{if(r.flags&qu){var g=r.stateNode;try{d1(g)}catch(qt){qr(r,r.return,qt)}}if(m&Cr){var N=r.stateNode;if(N!=null){var P=r.memoizedProps,j=d!==null?d.memoizedProps:P,ne=r.type,fe=r.updateQueue;if(r.updateQueue=null,fe!==null)try{LT(N,fe,ne,j,P,r)}catch(qt){qr(r,r.return,qt)}}}}return}case C:{if(ei(n,r),ki(r),m&Cr){if(r.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var Te=r.stateNode,Re=r.memoizedProps,Ie=d!==null?d.memoizedProps:Re;try{AT(Te,Ie,Re)}catch(qt){qr(r,r.return,qt)}}return}case b:{if(ei(n,r),ki(r),m&Cr&&d!==null){var Be=d.memoizedState;if(Be.isDehydrated)try{l2(n.containerInfo)}catch(qt){qr(r,r.return,qt)}}return}case O:{ei(n,r),ki(r);return}case K:{ei(n,r),ki(r);var Je=r.child;if(Je.flags&Ul){var wt=Je.stateNode,Wt=Je.memoizedState,Ft=Wt!==null;if(wt.isHidden=Ft,Ft){var Dr=Je.alternate!==null&&Je.alternate.memoizedState!==null;Dr||i3()}}if(m&Cr){try{y_(r)}catch(qt){qr(r,r.return,qt)}dO(r)}return}case M:{var gr=d!==null&&d.memoizedState!==null;if(r.mode&br){var Le=an;an=Le||gr,ei(n,r),an=Le}else ei(n,r);if(ki(r),m&Ul){var Qe=r.stateNode,Ae=r.memoizedState,dt=Ae!==null,_t=r;if(Qe.isHidden=dt,dt&&!gr&&(_t.mode&br)!==Yt){Lt=_t;for(var kt=_t.child;kt!==null;)Lt=kt,k_(kt),kt=kt.sibling}b_(_t,dt)}return}case Z:{ei(n,r),ki(r),m&Cr&&dO(r);return}case W:return;default:{ei(n,r),ki(r);return}}}function ki(r){var n=r.flags;if(n&ds){try{S_(r)}catch(l){qr(r,r.return,l)}r.flags&=~ds}n&qi&&(r.flags&=~qi)}function w_(r,n,l){fu=l,mu=n,Lt=r,mO(r,n,l),fu=null,mu=null}function mO(r,n,l){for(var d=(r.mode&br)!==Yt;Lt!==null;){var m=Lt,g=m.child;if(m.tag===M&&d){var N=m.memoizedState!==null,P=N||q0;if(P){Tx(r,n,l);continue}else{var j=m.alternate,ne=j!==null&&j.memoizedState!==null,fe=ne||an,Te=q0,Re=an;q0=P,an=fe,an&&!Re&&(Lt=m,R_(m));for(var Ie=g;Ie!==null;)Lt=Ie,mO(Ie,n,l),Ie=Ie.sibling;Lt=m,q0=Te,an=Re,Tx(r,n,l);continue}}(m.subtreeFlags&Ku)!==Gt&&g!==null?(g.return=m,Lt=g):Tx(r,n,l)}}function Tx(r,n,l){for(;Lt!==null;){var d=Lt;if((d.flags&Ku)!==Gt){var m=d.alternate;jr(d);try{g_(n,m,d,l)}catch(N){qr(d,d.return,N)}vs()}if(d===r){Lt=null;return}var g=d.sibling;if(g!==null){g.return=d.return,Lt=g;return}Lt=d.return}}function k_(r){for(;Lt!==null;){var n=Lt,l=n.child;switch(n.tag){case h:case k:case z:case A:{if(n.mode&Mr)try{wi(),Qa(_s,n,n.return)}finally{Ci(n)}else Qa(_s,n,n.return);break}case x:{pu(n,n.return);var d=n.stateNode;typeof d.componentWillUnmount=="function"&&wx(n,n.return,d);break}case w:{pu(n,n.return);break}case M:{var m=n.memoizedState!==null;if(m){pO(r);continue}break}}l!==null?(l.return=n,Lt=l):pO(r)}}function pO(r){for(;Lt!==null;){var n=Lt;if(n===r){Lt=null;return}var l=n.sibling;if(l!==null){l.return=n.return,Lt=l;return}Lt=n.return}}function R_(r){for(;Lt!==null;){var n=Lt,l=n.child;if(n.tag===M){var d=n.memoizedState!==null;if(d){hO(r);continue}}l!==null?(l.return=n,Lt=l):hO(r)}}function hO(r){for(;Lt!==null;){var n=Lt;jr(n);try{x_(n)}catch(d){qr(n,n.return,d)}if(vs(),n===r){Lt=null;return}var l=n.sibling;if(l!==null){l.return=n.return,Lt=l;return}Lt=n.return}}function T_(r,n,l,d){Lt=n,P_(n,r,l,d)}function P_(r,n,l,d){for(;Lt!==null;){var m=Lt,g=m.child;(m.subtreeFlags&Vc)!==Gt&&g!==null?(g.return=m,Lt=g):__(r,n,l,d)}}function __(r,n,l,d){for(;Lt!==null;){var m=Lt;if((m.flags&Mo)!==Gt){jr(m);try{U_(n,m,l,d)}catch(N){qr(m,m.return,N)}vs()}if(m===r){Lt=null;return}var g=m.sibling;if(g!==null){g.return=m.return,Lt=g;return}Lt=m.return}}function U_(r,n,l,d){switch(n.tag){case h:case k:case A:{if(n.mode&Mr){qg();try{rl(sn|Ps,n)}finally{Yg(n)}}else rl(sn|Ps,n);break}}}function V_(r){Lt=r,j_()}function j_(){for(;Lt!==null;){var r=Lt,n=r.child;if((Lt.flags&Pl)!==Gt){var l=r.deletions;if(l!==null){for(var d=0;d<l.length;d++){var m=l[d];Lt=m,M_(m,r)}{var g=r.alternate;if(g!==null){var N=g.child;if(N!==null){g.child=null;do{var P=N.sibling;N.sibling=null,N=P}while(N!==null)}}}Lt=r}}(r.subtreeFlags&Vc)!==Gt&&n!==null?(n.return=r,Lt=n):L_()}}function L_(){for(;Lt!==null;){var r=Lt;(r.flags&Mo)!==Gt&&(jr(r),A_(r),vs());var n=r.sibling;if(n!==null){n.return=r.return,Lt=n;return}Lt=r.return}}function A_(r){switch(r.tag){case h:case k:case A:{r.mode&Mr?(qg(),Qa(sn|Ps,r,r.return),Yg(r)):Qa(sn|Ps,r,r.return);break}}}function M_(r,n){for(;Lt!==null;){var l=Lt;jr(l),F_(l,n),vs();var d=l.child;d!==null?(d.return=l,Lt=d):I_(r)}}function I_(r){for(;Lt!==null;){var n=Lt,l=n.sibling,d=n.return;if(oO(n),n===r){Lt=null;return}if(l!==null){l.return=d,Lt=l;return}Lt=d}}function F_(r,n){switch(r.tag){case h:case k:case A:{r.mode&Mr?(qg(),Qa(sn,r,n),Yg(r)):Qa(sn,r,n);break}}}function $_(r){switch(r.tag){case h:case k:case A:{try{rl(_s|Ps,r)}catch(l){qr(r,r.return,l)}break}case x:{var n=r.stateNode;try{n.componentDidMount()}catch(l){qr(r,r.return,l)}break}}}function B_(r){switch(r.tag){case h:case k:case A:{try{rl(sn|Ps,r)}catch(n){qr(r,r.return,n)}break}}}function X_(r){switch(r.tag){case h:case k:case A:{try{Qa(_s|Ps,r,r.return)}catch(l){qr(r,r.return,l)}break}case x:{var n=r.stateNode;typeof n.componentWillUnmount=="function"&&wx(r,r.return,n);break}}}function H_(r){switch(r.tag){case h:case k:case A:try{Qa(sn|Ps,r,r.return)}catch(n){qr(r,r.return,n)}}}if(typeof Symbol=="function"&&Symbol.for){var rf=Symbol.for;rf("selector.component"),rf("selector.has_pseudo_class"),rf("selector.role"),rf("selector.test_id"),rf("selector.text")}var G_=[];function W_(){G_.forEach(function(r){return r()})}var z_=t.ReactCurrentActQueue;function Y_(r){{var n=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,l=typeof jest<"u";return l&&n!==!1}}function vO(){{var r=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!r&&z_.current!==null&&c("The current testing environment is not configured to support act(...)"),r}}var q_=Math.ceil,Px=t.ReactCurrentDispatcher,_x=t.ReactCurrentOwner,ln=t.ReactCurrentBatchConfig,ti=t.ReactCurrentActQueue,js=0,gO=1,cn=2,Ra=4,oo=0,sf=1,ec=2,J0=3,nf=4,xO=5,Ux=6,Nr=js,In=null,os=null,Ls=lt,Ri=lt,Vx=zo(lt),As=oo,af=null,Q0=lt,of=lt,Z0=lt,lf=null,Zn=null,jx=0,bO=500,NO=1/0,K_=500,lo=null;function cf(){NO=Hs()+K_}function DO(){return NO}var ep=!1,Lx=null,hu=null,tc=!1,nl=null,uf=lt,Ax=[],Mx=null,J_=50,df=0,Ix=null,Fx=!1,tp=!1,Q_=50,vu=0,rp=null,ff=Qr,sp=lt,SO=!1;function np(){return In}function Fn(){return(Nr&(cn|Ra))!==js?Hs():(ff!==Qr||(ff=Hs()),ff)}function al(r){var n=r.mode;if((n&br)===Yt)return Qt;if((Nr&cn)!==js&&Ls!==lt)return sd(Ls);var l=z2()!==W2;if(l){if(ln.transition!==null){var d=ln.transition;d._updatedFibers||(d._updatedFibers=new Set),d._updatedFibers.add(r)}return sp===Ws&&(sp=sD()),sp}var m=Ha();if(m!==Ws)return m;var g=PT();return g}function Z_(r){var n=r.mode;return(n&br)===Yt?Qt:tR()}function Ms(r,n,l,d){O3(),SO&&c("useInsertionEffect must not schedule updates."),Fx&&(tp=!0),nd(r,l,d),(Nr&cn)!==lt&&r===In?C3(n):(Xa&&iD(r,n,l),w3(n),r===In&&((Nr&cn)===js&&(of=ur(of,l)),As===nf&&il(r,Ls)),ea(r,d),l===Qt&&Nr===js&&(n.mode&br)===Yt&&!ti.isBatchingLegacy&&(cf(),S1()))}function e3(r,n,l){var d=r.current;d.lanes=n,nd(r,n,l),ea(r,l)}function t3(r){return(Nr&cn)!==js}function ea(r,n){var l=r.callbackNode;qk(r,n);var d=Em(r,r===In?Ls:lt);if(d===lt){l!==null&&MO(l),r.callbackNode=null,r.callbackPriority=Ws;return}var m=Il(d),g=r.callbackPriority;if(g===m&&!(ti.current!==null&&l!==zx)){l==null&&g!==Qt&&c("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}l!=null&&MO(l);var N;if(m===Qt)r.tag===Yo?(ti.isBatchingLegacy!==null&&(ti.didScheduleLegacyUpdate=!0),R2(EO.bind(null,r))):D1(EO.bind(null,r)),ti.current!==null?ti.current.push(qo):UT(function(){(Nr&(cn|Ra))===js&&qo()}),N=null;else{var P;switch(cD(d)){case ua:P=Dm;break;case Qi:P=Lh;break;case Zi:P=Ll;break;case km:P=Ah;break;default:P=Ll;break}N=Yx(P,OO.bind(null,r))}r.callbackPriority=m,r.callbackNode=N}function OO(r,n){if(bP(),ff=Qr,sp=lt,(Nr&(cn|Ra))!==js)throw new Error("Should not already be working.");var l=r.callbackNode,d=uo();if(d&&r.callbackNode!==l)return null;var m=Em(r,r===In?Ls:lt);if(m===lt)return null;var g=!Cm(r,m)&&!eR(r,m)&&!n,N=g?d3(r,m):ip(r,m);if(N!==oo){if(N===ec){var P=av(r);P!==lt&&(m=P,N=$x(r,P))}if(N===sf){var j=af;throw rc(r,lt),il(r,m),ea(r,Hs()),j}if(N===Ux)il(r,m);else{var ne=!Cm(r,m),fe=r.current.alternate;if(ne&&!s3(fe)){if(N=ip(r,m),N===ec){var Te=av(r);Te!==lt&&(m=Te,N=$x(r,Te))}if(N===sf){var Re=af;throw rc(r,lt),il(r,m),ea(r,Hs()),Re}}r.finishedWork=fe,r.finishedLanes=m,r3(r,N,m)}}return ea(r,Hs()),r.callbackNode===l?OO.bind(null,r):null}function $x(r,n){var l=lf;if(Rm(r)){var d=rc(r,n);d.flags|=Yi,S2(r.containerInfo)}var m=ip(r,n);if(m!==ec){var g=Zn;Zn=l,g!==null&&yO(g)}return m}function yO(r){Zn===null?Zn=r:Zn.push.apply(Zn,r)}function r3(r,n,l){switch(n){case oo:case sf:throw new Error("Root did not complete. This is a bug in React.");case ec:{sc(r,Zn,lo);break}case J0:{if(il(r,l),tD(l)&&!IO()){var d=jx+bO-Hs();if(d>10){var m=Em(r,lt);if(m!==lt)break;var g=r.suspendedLanes;if(!Fc(g,l)){Fn(),aD(r,g);break}r.timeoutHandle=Mv(sc.bind(null,r,Zn,lo),d);break}}sc(r,Zn,lo);break}case nf:{if(il(r,l),Zk(l))break;if(!IO()){var N=zk(r,l),P=N,j=Hs()-P,ne=S3(j)-j;if(ne>10){r.timeoutHandle=Mv(sc.bind(null,r,Zn,lo),ne);break}}sc(r,Zn,lo);break}case xO:{sc(r,Zn,lo);break}default:throw new Error("Unknown root exit status.")}}function s3(r){for(var n=r;;){if(n.flags&Rh){var l=n.updateQueue;if(l!==null){var d=l.stores;if(d!==null)for(var m=0;m<d.length;m++){var g=d[m],N=g.getSnapshot,P=g.value;try{if(!fa(N(),P))return!1}catch{return!1}}}}var j=n.child;if(n.subtreeFlags&Rh&&j!==null){j.return=n,n=j;continue}if(n===r)return!0;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}return!0}function il(r,n){n=wm(n,Z0),n=wm(n,of),sR(r,n)}function EO(r){if(NP(),(Nr&(cn|Ra))!==js)throw new Error("Should not already be working.");uo();var n=Em(r,lt);if(!ca(n,Qt))return ea(r,Hs()),null;var l=ip(r,n);if(r.tag!==Yo&&l===ec){var d=av(r);d!==lt&&(n=d,l=$x(r,d))}if(l===sf){var m=af;throw rc(r,lt),il(r,n),ea(r,Hs()),m}if(l===Ux)throw new Error("Root did not complete. This is a bug in React.");var g=r.current.alternate;return r.finishedWork=g,r.finishedLanes=n,sc(r,Zn,lo),ea(r,Hs()),null}function n3(r,n){n!==lt&&(cv(r,ur(n,Qt)),ea(r,Hs()),(Nr&(cn|Ra))===js&&(cf(),qo()))}function Bx(r,n){var l=Nr;Nr|=gO;try{return r(n)}finally{Nr=l,Nr===js&&!ti.isBatchingLegacy&&(cf(),S1())}}function a3(r,n,l,d,m){var g=Ha(),N=ln.transition;try{return ln.transition=null,zs(ua),r(n,l,d,m)}finally{zs(g),ln.transition=N,Nr===js&&cf()}}function co(r){nl!==null&&nl.tag===Yo&&(Nr&(cn|Ra))===js&&uo();var n=Nr;Nr|=gO;var l=ln.transition,d=Ha();try{return ln.transition=null,zs(ua),r?r():void 0}finally{zs(d),ln.transition=l,Nr=n,(Nr&(cn|Ra))===js&&qo()}}function CO(){return(Nr&(cn|Ra))!==js}function ap(r,n){On(Vx,Ri,r),Ri=ur(Ri,n)}function Xx(r){Ri=Vx.current,Sn(Vx,r)}function rc(r,n){r.finishedWork=null,r.finishedLanes=lt;var l=r.timeoutHandle;if(l!==Iv&&(r.timeoutHandle=Iv,_T(l)),os!==null)for(var d=os.return;d!==null;){var m=d.alternate;tO(m,d),d=d.return}In=r;var g=nc(r.current,null);return os=g,Ls=Ri=n,As=oo,af=null,Q0=lt,of=lt,Z0=lt,lf=null,Zn=null,eP(),za.discardPendingWarnings(),g}function wO(r,n){do{var l=os;try{if(h0(),J1(),vs(),_x.current=null,l===null||l.return===null){As=sf,af=n,os=null;return}if(pe&&l.mode&Mr&&H0(l,!0),le)if(Lc(),n!==null&&typeof n=="object"&&typeof n.then=="function"){var d=n;jk(l,d,Ls)}else Vk(l,n,Ls);RP(r,l.return,l,n,Ls),PO(l)}catch(m){n=m,os===l&&l!==null?(l=l.return,os=l):l=os;continue}return}while(!0)}function kO(){var r=Px.current;return Px.current=I0,r===null?I0:r}function RO(r){Px.current=r}function i3(){jx=Hs()}function mf(r){Q0=ur(r,Q0)}function o3(){As===oo&&(As=J0)}function Hx(){(As===oo||As===J0||As===ec)&&(As=nf),In!==null&&(iv(Q0)||iv(of))&&il(In,Ls)}function l3(r){As!==nf&&(As=ec),lf===null?lf=[r]:lf.push(r)}function c3(){return As===oo}function ip(r,n){var l=Nr;Nr|=cn;var d=kO();if(In!==r||Ls!==n){if(Xa){var m=r.memoizedUpdaters;m.size>0&&(pf(r,Ls),m.clear()),oD(r,n)}lo=lD(),rc(r,n)}KN(n);do try{u3();break}catch(g){wO(r,g)}while(!0);if(h0(),Nr=l,RO(d),os!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return JN(),In=null,Ls=lt,As}function u3(){for(;os!==null;)TO(os)}function d3(r,n){var l=Nr;Nr|=cn;var d=kO();if(In!==r||Ls!==n){if(Xa){var m=r.memoizedUpdaters;m.size>0&&(pf(r,Ls),m.clear()),oD(r,n)}lo=lD(),cf(),rc(r,n)}KN(n);do try{f3();break}catch(g){wO(r,g)}while(!0);return h0(),RO(d),Nr=l,os!==null?(Fk(),oo):(JN(),In=null,Ls=lt,As)}function f3(){for(;os!==null&&!pk();)TO(os)}function TO(r){var n=r.alternate;jr(r);var l;(r.mode&Mr)!==Yt?(zg(r),l=Gx(n,r,Ri),H0(r,!0)):l=Gx(n,r,Ri),vs(),r.memoizedProps=r.pendingProps,l===null?PO(r):os=l,_x.current=null}function PO(r){var n=r;do{var l=n.alternate,d=n.return;if((n.flags&Nm)===Gt){jr(n);var m=void 0;if((n.mode&Mr)===Yt?m=eO(l,n,Ri):(zg(n),m=eO(l,n,Ri),H0(n,!1)),vs(),m!==null){os=m;return}}else{var g=o_(l,n);if(g!==null){g.flags&=lk,os=g;return}if((n.mode&Mr)!==Yt){H0(n,!1);for(var N=n.actualDuration,P=n.child;P!==null;)N+=P.actualDuration,P=P.sibling;n.actualDuration=N}if(d!==null)d.flags|=Nm,d.subtreeFlags=Gt,d.deletions=null;else{As=Ux,os=null;return}}var j=n.sibling;if(j!==null){os=j;return}n=d,os=n}while(n!==null);As===oo&&(As=xO)}function sc(r,n,l){var d=Ha(),m=ln.transition;try{ln.transition=null,zs(ua),m3(r,n,l,d)}finally{ln.transition=m,zs(d)}return null}function m3(r,n,l,d){do uo();while(nl!==null);if(y3(),(Nr&(cn|Ra))!==js)throw new Error("Should not already be working.");var m=r.finishedWork,g=r.finishedLanes;if(wk(g),m===null)return zN(),null;if(g===lt&&c("root.finishedLanes should not be empty during a commit. This is a bug in React."),r.finishedWork=null,r.finishedLanes=lt,m===r.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");r.callbackNode=null,r.callbackPriority=Ws;var N=ur(m.lanes,m.childLanes);nR(r,N),r===In&&(In=null,os=null,Ls=lt),((m.subtreeFlags&Vc)!==Gt||(m.flags&Vc)!==Gt)&&(tc||(tc=!0,Mx=l,Yx(Ll,function(){return uo(),null})));var P=(m.subtreeFlags&(Vh|jh|Ku|Vc))!==Gt,j=(m.flags&(Vh|jh|Ku|Vc))!==Gt;if(P||j){var ne=ln.transition;ln.transition=null;var fe=Ha();zs(ua);var Te=Nr;Nr|=Ra,_x.current=null,f_(r,m),SS(),C_(r,m,g),ET(r.containerInfo),r.current=m,Lk(g),w_(m,r,g),Ak(),hk(),Nr=Te,zs(fe),ln.transition=ne}else r.current=m,SS();var Re=tc;if(tc?(tc=!1,nl=r,uf=g):(vu=0,rp=null),N=r.pendingLanes,N===lt&&(hu=null),Re||jO(r.current,!1),Sk(m.stateNode,d),Xa&&r.memoizedUpdaters.clear(),W_(),ea(r,Hs()),n!==null)for(var Ie=r.onRecoverableError,Be=0;Be<n.length;Be++){var Je=n[Be],wt=Je.stack,Wt=Je.digest;Ie(Je.value,{componentStack:wt,digest:Wt})}if(ep){ep=!1;var Ft=Lx;throw Lx=null,Ft}return ca(uf,Qt)&&r.tag!==Yo&&uo(),N=r.pendingLanes,ca(N,Qt)?(xP(),r===Ix?df++:(df=0,Ix=r)):df=0,qo(),zN(),null}function uo(){if(nl!==null){var r=cD(uf),n=lR(Zi,r),l=ln.transition,d=Ha();try{return ln.transition=null,zs(n),h3()}finally{zs(d),ln.transition=l}}return!1}function p3(r){Ax.push(r),tc||(tc=!0,Yx(Ll,function(){return uo(),null}))}function h3(){if(nl===null)return!1;var r=Mx;Mx=null;var n=nl,l=uf;if(nl=null,uf=lt,(Nr&(cn|Ra))!==js)throw new Error("Cannot flush passive effects while already rendering.");Fx=!0,tp=!1,Mk(l);var d=Nr;Nr|=Ra,V_(n.current),T_(n,n.current,l,r);{var m=Ax;Ax=[];for(var g=0;g<m.length;g++){var N=m[g];v_(n,N)}}Ik(),jO(n.current,!0),Nr=d,qo(),tp?n===rp?vu++:(vu=0,rp=n):vu=0,Fx=!1,tp=!1,Ok(n);{var P=n.current.stateNode;P.effectDuration=0,P.passiveEffectDuration=0}return!0}function _O(r){return hu!==null&&hu.has(r)}function v3(r){hu===null?hu=new Set([r]):hu.add(r)}function g3(r){ep||(ep=!0,Lx=r)}var x3=g3;function UO(r,n,l){var d=Ql(l,n),m=TS(r,d,Qt),g=Jo(r,m,Qt),N=Fn();g!==null&&(nd(g,Qt,N),ea(g,N))}function qr(r,n,l){if(c_(l),hf(!1),r.tag===b){UO(r,r,l);return}var d=null;for(d=n;d!==null;){if(d.tag===b){UO(d,r,l);return}else if(d.tag===x){var m=d.type,g=d.stateNode;if(typeof m.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&!_O(g)){var N=Ql(l,r),P=dx(d,N,Qt),j=Jo(d,P,Qt),ne=Fn();j!==null&&(nd(j,Qt,ne),ea(j,ne));return}}d=d.return}c(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,l)}function b3(r,n,l){var d=r.pingCache;d!==null&&d.delete(n);var m=Fn();aD(r,l),k3(r),In===r&&Fc(Ls,l)&&(As===nf||As===J0&&tD(Ls)&&Hs()-jx<bO?rc(r,lt):Z0=ur(Z0,l)),ea(r,m)}function VO(r,n){n===Ws&&(n=Z_(r));var l=Fn(),d=Jn(r,n);d!==null&&(nd(d,n,l),ea(d,l))}function N3(r){var n=r.memoizedState,l=Ws;n!==null&&(l=n.retryLane),VO(r,l)}function D3(r,n){var l=Ws,d;switch(r.tag){case K:d=r.stateNode;var m=r.memoizedState;m!==null&&(l=m.retryLane);break;case Z:d=r.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}d!==null&&d.delete(n),VO(r,l)}function S3(r){return r<120?120:r<480?480:r<1080?1080:r<1920?1920:r<3e3?3e3:r<4320?4320:q_(r/1960)*1960}function O3(){if(df>J_)throw df=0,Ix=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");vu>Q_&&(vu=0,rp=null,c("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function y3(){za.flushLegacyContextWarning(),za.flushPendingUnsafeLifecycleWarnings()}function jO(r,n){jr(r),op(r,Io,X_),n&&op(r,Uh,H_),op(r,Io,$_),n&&op(r,Uh,B_),vs()}function op(r,n,l){for(var d=r,m=null;d!==null;){var g=d.subtreeFlags&n;d!==m&&d.child!==null&&g!==Gt?d=d.child:((d.flags&n)!==Gt&&l(d),d.sibling!==null?d=d.sibling:d=m=d.return)}}var lp=null;function LO(r){{if((Nr&cn)!==js||!(r.mode&br))return;var n=r.tag;if(n!==v&&n!==b&&n!==x&&n!==h&&n!==k&&n!==z&&n!==A)return;var l=Kt(r)||"ReactComponent";if(lp!==null){if(lp.has(l))return;lp.add(l)}else lp=new Set([l]);var d=ks;try{jr(r),c("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{d?jr(r):vs()}}}var Gx;{var E3=null;Gx=function(r,n,l){var d=HO(E3,n);try{return qS(r,n,l)}catch(g){if(A2()||g!==null&&typeof g=="object"&&typeof g.then=="function")throw g;if(h0(),J1(),tO(r,n),HO(n,d),n.mode&Mr&&zg(n),ts(null,qS,null,r,n,l),Yu()){var m=jo();typeof m=="object"&&m!==null&&m._suppressLogging&&typeof g=="object"&&g!==null&&!g._suppressLogging&&(g._suppressLogging=!0)}throw g}}}var AO=!1,Wx;Wx=new Set;function C3(r){if(Hi&&!hP())switch(r.tag){case h:case k:case A:{var n=os&&Kt(os)||"Unknown",l=n;if(!Wx.has(l)){Wx.add(l);var d=Kt(r)||"Unknown";c("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",d,n,n)}break}case x:{AO||(c("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),AO=!0);break}}}function pf(r,n){if(Xa){var l=r.memoizedUpdaters;l.forEach(function(d){iD(r,d,n)})}}var zx={};function Yx(r,n){{var l=ti.current;return l!==null?(l.push(n),zx):WN(r,n)}}function MO(r){if(r!==zx)return mk(r)}function IO(){return ti.current!==null}function w3(r){{if(r.mode&br){if(!vO())return}else if(!Y_()||Nr!==js||r.tag!==h&&r.tag!==k&&r.tag!==A)return;if(ti.current===null){var n=ks;try{jr(r),c(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Kt(r))}finally{n?jr(r):vs()}}}}function k3(r){r.tag!==Yo&&vO()&&ti.current===null&&c(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function hf(r){SO=r}var Ta=null,gu=null,R3=function(r){Ta=r};function xu(r){{if(Ta===null)return r;var n=Ta(r);return n===void 0?r:n.current}}function qx(r){return xu(r)}function Kx(r){{if(Ta===null)return r;var n=Ta(r);if(n===void 0){if(r!=null&&typeof r.render=="function"){var l=xu(r.render);if(r.render!==l){var d={$$typeof:ee,render:l};return r.displayName!==void 0&&(d.displayName=r.displayName),d}}return r}return n.current}}function FO(r,n){{if(Ta===null)return!1;var l=r.elementType,d=n.type,m=!1,g=typeof d=="object"&&d!==null?d.$$typeof:null;switch(r.tag){case x:{typeof d=="function"&&(m=!0);break}case h:{(typeof d=="function"||g===me)&&(m=!0);break}case k:{(g===ee||g===me)&&(m=!0);break}case z:case A:{(g===F||g===me)&&(m=!0);break}default:return!1}if(m){var N=Ta(l);if(N!==void 0&&N===Ta(d))return!0}return!1}}function $O(r){{if(Ta===null||typeof WeakSet!="function")return;gu===null&&(gu=new WeakSet),gu.add(r)}}var T3=function(r,n){{if(Ta===null)return;var l=n.staleFamilies,d=n.updatedFamilies;uo(),co(function(){Jx(r.current,d,l)})}},P3=function(r,n){{if(r.context!==ma)return;uo(),co(function(){vf(n,r,null,null)})}};function Jx(r,n,l){{var d=r.alternate,m=r.child,g=r.sibling,N=r.tag,P=r.type,j=null;switch(N){case h:case A:case x:j=P;break;case k:j=P.render;break}if(Ta===null)throw new Error("Expected resolveFamily to be set during hot reload.");var ne=!1,fe=!1;if(j!==null){var Te=Ta(j);Te!==void 0&&(l.has(Te)?fe=!0:n.has(Te)&&(N===x?fe=!0:ne=!0))}if(gu!==null&&(gu.has(r)||d!==null&&gu.has(d))&&(fe=!0),fe&&(r._debugNeedsRemount=!0),fe||ne){var Re=Jn(r,Qt);Re!==null&&Ms(Re,r,Qt,Qr)}m!==null&&!fe&&Jx(m,n,l),g!==null&&Jx(g,n,l)}}var _3=function(r,n){{var l=new Set,d=new Set(n.map(function(m){return m.current}));return Qx(r.current,d,l),l}};function Qx(r,n,l){{var d=r.child,m=r.sibling,g=r.tag,N=r.type,P=null;switch(g){case h:case A:case x:P=N;break;case k:P=N.render;break}var j=!1;P!==null&&n.has(P)&&(j=!0),j?U3(r,l):d!==null&&Qx(d,n,l),m!==null&&Qx(m,n,l)}}function U3(r,n){{var l=V3(r,n);if(l)return;for(var d=r;;){switch(d.tag){case w:n.add(d.stateNode);return;case O:n.add(d.stateNode.containerInfo);return;case b:n.add(d.stateNode.containerInfo);return}if(d.return===null)throw new Error("Expected to reach root first.");d=d.return}}}function V3(r,n){for(var l=r,d=!1;;){if(l.tag===w)d=!0,n.add(l.stateNode);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)return d;for(;l.sibling===null;){if(l.return===null||l.return===r)return d;l=l.return}l.sibling.return=l.return,l=l.sibling}return!1}var Zx;{Zx=!1;try{var BO=Object.preventExtensions({})}catch{Zx=!0}}function j3(r,n,l,d){this.tag=r,this.key=l,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=n,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=d,this.flags=Gt,this.subtreeFlags=Gt,this.deletions=null,this.lanes=lt,this.childLanes=lt,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!Zx&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var pa=function(r,n,l,d){return new j3(r,n,l,d)};function eb(r){var n=r.prototype;return!!(n&&n.isReactComponent)}function L3(r){return typeof r=="function"&&!eb(r)&&r.defaultProps===void 0}function A3(r){if(typeof r=="function")return eb(r)?x:h;if(r!=null){var n=r.$$typeof;if(n===ee)return k;if(n===F)return z}return v}function nc(r,n){var l=r.alternate;l===null?(l=pa(r.tag,n,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l._debugSource=r._debugSource,l._debugOwner=r._debugOwner,l._debugHookTypes=r._debugHookTypes,l.alternate=r,r.alternate=l):(l.pendingProps=n,l.type=r.type,l.flags=Gt,l.subtreeFlags=Gt,l.deletions=null,l.actualDuration=0,l.actualStartTime=-1),l.flags=r.flags&Ki,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue;var d=r.dependencies;switch(l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.selfBaseDuration=r.selfBaseDuration,l.treeBaseDuration=r.treeBaseDuration,l._debugNeedsRemount=r._debugNeedsRemount,l.tag){case v:case h:case A:l.type=xu(r.type);break;case x:l.type=qx(r.type);break;case k:l.type=Kx(r.type);break}return l}function M3(r,n){r.flags&=Ki|ds;var l=r.alternate;if(l===null)r.childLanes=lt,r.lanes=n,r.child=null,r.subtreeFlags=Gt,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null,r.selfBaseDuration=0,r.treeBaseDuration=0;else{r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=Gt,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type;var d=l.dependencies;r.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},r.selfBaseDuration=l.selfBaseDuration,r.treeBaseDuration=l.treeBaseDuration}return r}function I3(r,n,l){var d;return r===a0?(d=br,n===!0&&(d|=fs,d|=bi)):d=Yt,Xa&&(d|=Mr),pa(b,null,null,d)}function tb(r,n,l,d,m,g){var N=v,P=r;if(typeof r=="function")eb(r)?(N=x,P=qx(P)):P=xu(P);else if(typeof r=="string")N=w;else e:switch(r){case zr:return ol(l.children,m,g,n);case Xs:N=R,m|=fs,(m&br)!==Yt&&(m|=bi);break;case Se:return F3(l,m,g,n);case ae:return $3(l,m,g,n);case I:return B3(l,m,g,n);case Ne:return XO(l,m,g,n);case ye:case Ee:case ze:case tt:case xe:default:{if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:N=G;break e;case re:N=X;break e;case ee:N=k,P=Kx(P);break e;case F:N=z;break e;case me:N=ce,P=null;break e}var j="";{(r===void 0||typeof r=="object"&&r!==null&&Object.keys(r).length===0)&&(j+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ne=d?Kt(d):null;ne&&(j+=`

Check the render method of \``+ne+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(r==null?r:typeof r)+"."+j))}}var fe=pa(N,l,n,m);return fe.elementType=r,fe.type=P,fe.lanes=g,fe._debugOwner=d,fe}function rb(r,n,l){var d=null;d=r._owner;var m=r.type,g=r.key,N=r.props,P=tb(m,g,N,d,n,l);return P._debugSource=r._source,P._debugOwner=r._owner,P}function ol(r,n,l,d){var m=pa(S,r,d,n);return m.lanes=l,m}function F3(r,n,l,d){typeof r.id!="string"&&c('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof r.id);var m=pa(ie,r,d,n|Mr);return m.elementType=Se,m.lanes=l,m.stateNode={effectDuration:0,passiveEffectDuration:0},m}function $3(r,n,l,d){var m=pa(K,r,d,n);return m.elementType=ae,m.lanes=l,m}function B3(r,n,l,d){var m=pa(Z,r,d,n);return m.elementType=I,m.lanes=l,m}function XO(r,n,l,d){var m=pa(M,r,d,n);m.elementType=Ne,m.lanes=l;var g={isHidden:!1};return m.stateNode=g,m}function sb(r,n,l){var d=pa(C,r,null,n);return d.lanes=l,d}function X3(){var r=pa(w,null,null,Yt);return r.elementType="DELETED",r}function H3(r){var n=pa(H,null,null,Yt);return n.stateNode=r,n}function nb(r,n,l){var d=r.children!==null?r.children:[],m=pa(O,d,r.key,n);return m.lanes=l,m.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},m}function HO(r,n){return r===null&&(r=pa(v,null,null,Yt)),r.tag=n.tag,r.key=n.key,r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.return=n.return,r.child=n.child,r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.pendingProps=n.pendingProps,r.memoizedProps=n.memoizedProps,r.updateQueue=n.updateQueue,r.memoizedState=n.memoizedState,r.dependencies=n.dependencies,r.mode=n.mode,r.flags=n.flags,r.subtreeFlags=n.subtreeFlags,r.deletions=n.deletions,r.lanes=n.lanes,r.childLanes=n.childLanes,r.alternate=n.alternate,r.actualDuration=n.actualDuration,r.actualStartTime=n.actualStartTime,r.selfBaseDuration=n.selfBaseDuration,r.treeBaseDuration=n.treeBaseDuration,r._debugSource=n._debugSource,r._debugOwner=n._debugOwner,r._debugNeedsRemount=n._debugNeedsRemount,r._debugHookTypes=n._debugHookTypes,r}function G3(r,n,l,d,m){this.tag=n,this.containerInfo=r,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=Iv,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Ws,this.eventTimes=lv(lt),this.expirationTimes=lv(Qr),this.pendingLanes=lt,this.suspendedLanes=lt,this.pingedLanes=lt,this.expiredLanes=lt,this.mutableReadLanes=lt,this.finishedLanes=lt,this.entangledLanes=lt,this.entanglements=lv(lt),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var g=this.pendingUpdatersLaneMap=[],N=0;N<Ih;N++)g.push(new Set)}switch(n){case a0:this._debugRootType=l?"hydrateRoot()":"createRoot()";break;case Yo:this._debugRootType=l?"hydrate()":"render()";break}}function GO(r,n,l,d,m,g,N,P,j,ne){var fe=new G3(r,n,l,P,j),Te=I3(n,g);fe.current=Te,Te.stateNode=fe;{var Re={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null};Te.memoizedState=Re}return gg(Te),fe}var ab="18.3.1";function W3(r,n,l){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return it(d),{$$typeof:ar,key:d==null?null:""+d,children:r,containerInfo:n,implementation:l}}var ib,ob;ib=!1,ob={};function WO(r){if(!r)return ma;var n=Lo(r),l=k2(n);if(n.tag===x){var d=n.type;if(Si(d))return b1(n,d,l)}return l}function z3(r,n){{var l=Lo(r);if(l===void 0){if(typeof r.render=="function")throw new Error("Unable to find node on an unmounted component.");var d=Object.keys(r).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+d)}var m=XN(l);if(m===null)return null;if(m.mode&fs){var g=Kt(l)||"Component";if(!ob[g]){ob[g]=!0;var N=ks;try{jr(m),l.mode&fs?c("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",n,n,g):c("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",n,n,g)}finally{N?jr(N):vs()}}}return m.stateNode}}function zO(r,n,l,d,m,g,N,P){var j=!1,ne=null;return GO(r,n,j,ne,l,d,m,g,N)}function YO(r,n,l,d,m,g,N,P,j,ne){var fe=!0,Te=GO(l,d,fe,r,m,g,N,P,j);Te.context=WO(null);var Re=Te.current,Ie=Fn(),Be=al(Re),Je=ao(Ie,Be);return Je.callback=n??null,Jo(Re,Je,Be),e3(Te,Be,Ie),Te}function vf(r,n,l,d){Dk(n,r);var m=n.current,g=Fn(),N=al(m);$k(N);var P=WO(l);n.context===null?n.context=P:n.pendingContext=P,Hi&&ks!==null&&!ib&&(ib=!0,c(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Kt(ks)||"Unknown"));var j=ao(g,N);j.payload={element:r},d=d===void 0?null:d,d!==null&&(typeof d!="function"&&c("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",d),j.callback=d);var ne=Jo(m,j,N);return ne!==null&&(Ms(ne,m,N,g),N0(ne,m,N)),N}function cp(r){var n=r.current;if(!n.child)return null;switch(n.child.tag){case w:return n.child.stateNode;default:return n.child.stateNode}}function Y3(r){switch(r.tag){case b:{var n=r.stateNode;if(Rm(n)){var l=Kk(n);n3(n,l)}break}case K:{co(function(){var m=Jn(r,Qt);if(m!==null){var g=Fn();Ms(m,r,Qt,g)}});var d=Qt;lb(r,d);break}}}function qO(r,n){var l=r.memoizedState;l!==null&&l.dehydrated!==null&&(l.retryLane=rR(l.retryLane,n))}function lb(r,n){qO(r,n);var l=r.alternate;l&&qO(l,n)}function q3(r){if(r.tag===K){var n=ed,l=Jn(r,n);if(l!==null){var d=Fn();Ms(l,r,n,d)}lb(r,n)}}function K3(r){if(r.tag===K){var n=al(r),l=Jn(r,n);if(l!==null){var d=Fn();Ms(l,r,n,d)}lb(r,n)}}function KO(r){var n=fk(r);return n===null?null:n.stateNode}var JO=function(r){return null};function J3(r){return JO(r)}var QO=function(r){return!1};function Q3(r){return QO(r)}var ZO=null,ey=null,ty=null,ry=null,sy=null,ny=null,ay=null,iy=null,oy=null;{var ly=function(r,n,l){var d=n[l],m=or(r)?r.slice():ht({},r);return l+1===n.length?(or(m)?m.splice(d,1):delete m[d],m):(m[d]=ly(r[d],n,l+1),m)},cy=function(r,n){return ly(r,n,0)},uy=function(r,n,l,d){var m=n[d],g=or(r)?r.slice():ht({},r);if(d+1===n.length){var N=l[d];g[N]=g[m],or(g)?g.splice(m,1):delete g[m]}else g[m]=uy(r[m],n,l,d+1);return g},dy=function(r,n,l){if(n.length!==l.length){u("copyWithRename() expects paths of the same length");return}else for(var d=0;d<l.length-1;d++)if(n[d]!==l[d]){u("copyWithRename() expects paths to be the same except for the deepest key");return}return uy(r,n,l,0)},fy=function(r,n,l,d){if(l>=n.length)return d;var m=n[l],g=or(r)?r.slice():ht({},r);return g[m]=fy(r[m],n,l+1,d),g},my=function(r,n,l){return fy(r,n,0,l)},cb=function(r,n){for(var l=r.memoizedState;l!==null&&n>0;)l=l.next,n--;return l};ZO=function(r,n,l,d){var m=cb(r,n);if(m!==null){var g=my(m.memoizedState,l,d);m.memoizedState=g,m.baseState=g,r.memoizedProps=ht({},r.memoizedProps);var N=Jn(r,Qt);N!==null&&Ms(N,r,Qt,Qr)}},ey=function(r,n,l){var d=cb(r,n);if(d!==null){var m=cy(d.memoizedState,l);d.memoizedState=m,d.baseState=m,r.memoizedProps=ht({},r.memoizedProps);var g=Jn(r,Qt);g!==null&&Ms(g,r,Qt,Qr)}},ty=function(r,n,l,d){var m=cb(r,n);if(m!==null){var g=dy(m.memoizedState,l,d);m.memoizedState=g,m.baseState=g,r.memoizedProps=ht({},r.memoizedProps);var N=Jn(r,Qt);N!==null&&Ms(N,r,Qt,Qr)}},ry=function(r,n,l){r.pendingProps=my(r.memoizedProps,n,l),r.alternate&&(r.alternate.pendingProps=r.pendingProps);var d=Jn(r,Qt);d!==null&&Ms(d,r,Qt,Qr)},sy=function(r,n){r.pendingProps=cy(r.memoizedProps,n),r.alternate&&(r.alternate.pendingProps=r.pendingProps);var l=Jn(r,Qt);l!==null&&Ms(l,r,Qt,Qr)},ny=function(r,n,l){r.pendingProps=dy(r.memoizedProps,n,l),r.alternate&&(r.alternate.pendingProps=r.pendingProps);var d=Jn(r,Qt);d!==null&&Ms(d,r,Qt,Qr)},ay=function(r){var n=Jn(r,Qt);n!==null&&Ms(n,r,Qt,Qr)},iy=function(r){JO=r},oy=function(r){QO=r}}function Z3(r){var n=XN(r);return n===null?null:n.stateNode}function eU(r){return null}function tU(){return ks}function rU(r){var n=r.findFiberByHostInstance,l=t.ReactCurrentDispatcher;return Nk({bundleType:r.bundleType,version:r.version,rendererPackageName:r.rendererPackageName,rendererConfig:r.rendererConfig,overrideHookState:ZO,overrideHookStateDeletePath:ey,overrideHookStateRenamePath:ty,overrideProps:ry,overridePropsDeletePath:sy,overridePropsRenamePath:ny,setErrorHandler:iy,setSuspenseHandler:oy,scheduleUpdate:ay,currentDispatcherRef:l,findHostInstanceByFiber:Z3,findFiberByHostInstance:n||eU,findHostInstancesForRefresh:_3,scheduleRefresh:T3,scheduleRoot:P3,setRefreshHandler:R3,getCurrentFiber:tU,reconcilerVersion:ab})}var py=typeof reportError=="function"?reportError:function(r){console.error(r)};function ub(r){this._internalRoot=r}up.prototype.render=ub.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?c("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):dp(arguments[1])?c("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&c("You passed a second argument to root.render(...) but it only accepts one argument.");var l=n.containerInfo;if(l.nodeType!==us){var d=KO(n.current);d&&d.parentNode!==l&&c("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}vf(r,n,null,null)},up.prototype.unmount=ub.prototype.unmount=function(){typeof arguments[0]=="function"&&c("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;CO()&&c("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),co(function(){vf(null,r,null,null)}),p1(n)}};function sU(r,n){if(!dp(r))throw new Error("createRoot(...): Target container is not a DOM element.");hy(r);var l=!1,d=!1,m="",g=py;n!=null&&(n.hydrate?u("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof n=="object"&&n!==null&&n.$$typeof===Ut&&c(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.transitionCallbacks!==void 0&&n.transitionCallbacks);var N=zO(r,a0,null,l,d,m,g);Qm(N.current,r);var P=r.nodeType===us?r.parentNode:r;return Dd(P),new ub(N)}function up(r){this._internalRoot=r}function nU(r){r&&bR(r)}up.prototype.unstable_scheduleHydration=nU;function aU(r,n,l){if(!dp(r))throw new Error("hydrateRoot(...): Target container is not a DOM element.");hy(r),n===void 0&&c("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var d=l??null,m=l!=null&&l.hydratedSources||null,g=!1,N=!1,P="",j=py;l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(P=l.identifierPrefix),l.onRecoverableError!==void 0&&(j=l.onRecoverableError));var ne=YO(n,null,r,a0,d,g,N,P,j);if(Qm(ne.current,r),Dd(r),m)for(var fe=0;fe<m.length;fe++){var Te=m[fe];cP(ne,Te)}return new up(ne)}function dp(r){return!!(r&&(r.nodeType===bn||r.nodeType===Fa||r.nodeType===Mu))}function gf(r){return!!(r&&(r.nodeType===bn||r.nodeType===Fa||r.nodeType===Mu||r.nodeType===us&&r.nodeValue===" react-mount-point-unstable "))}function hy(r){r.nodeType===bn&&r.tagName&&r.tagName.toUpperCase()==="BODY"&&c("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),_d(r)&&(r._reactRootContainer?c("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):c("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var iU=t.ReactCurrentOwner,vy;vy=function(r){if(r._reactRootContainer&&r.nodeType!==us){var n=KO(r._reactRootContainer.current);n&&n.parentNode!==r&&c("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var l=!!r._reactRootContainer,d=db(r),m=!!(d&&Wo(d));m&&!l&&c("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),r.nodeType===bn&&r.tagName&&r.tagName.toUpperCase()==="BODY"&&c("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function db(r){return r?r.nodeType===Fa?r.documentElement:r.firstChild:null}function gy(){}function oU(r,n,l,d,m){if(m){if(typeof d=="function"){var g=d;d=function(){var Re=cp(N);g.call(Re)}}var N=YO(n,d,r,Yo,null,!1,!1,"",gy);r._reactRootContainer=N,Qm(N.current,r);var P=r.nodeType===us?r.parentNode:r;return Dd(P),co(),N}else{for(var j;j=r.lastChild;)r.removeChild(j);if(typeof d=="function"){var ne=d;d=function(){var Re=cp(fe);ne.call(Re)}}var fe=zO(r,Yo,null,!1,!1,"",gy);r._reactRootContainer=fe,Qm(fe.current,r);var Te=r.nodeType===us?r.parentNode:r;return Dd(Te),co(function(){vf(n,fe,l,d)}),fe}}function lU(r,n){r!==null&&typeof r!="function"&&c("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",n,r)}function fp(r,n,l,d,m){vy(l),lU(m===void 0?null:m,"render");var g=l._reactRootContainer,N;if(!g)N=oU(l,n,r,m,d);else{if(N=g,typeof m=="function"){var P=m;m=function(){var j=cp(N);P.call(j)}}vf(n,N,r,m)}return cp(N)}var xy=!1;function cU(r){{xy||(xy=!0,c("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var n=iU.current;if(n!==null&&n.stateNode!==null){var l=n.stateNode._warnedAboutRefsInRender;l||c("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",yr(n.type)||"A component"),n.stateNode._warnedAboutRefsInRender=!0}}return r==null?null:r.nodeType===bn?r:z3(r,"findDOMNode")}function uU(r,n,l){if(c("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!gf(n))throw new Error("Target container is not a DOM element.");{var d=_d(n)&&n._reactRootContainer===void 0;d&&c("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return fp(null,r,n,!0,l)}function dU(r,n,l){if(c("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!gf(n))throw new Error("Target container is not a DOM element.");{var d=_d(n)&&n._reactRootContainer===void 0;d&&c("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return fp(null,r,n,!1,l)}function fU(r,n,l,d){if(c("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!gf(l))throw new Error("Target container is not a DOM element.");if(r==null||!wh(r))throw new Error("parentComponent must be a valid React Component");return fp(r,n,l,!1,d)}var by=!1;function mU(r){if(by||(by=!0,c("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!gf(r))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var n=_d(r)&&r._reactRootContainer===void 0;n&&c("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(r._reactRootContainer){{var l=db(r),d=l&&!Wo(l);d&&c("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return co(function(){fp(null,null,r,!1,function(){r._reactRootContainer=null,p1(r)})}),!0}else{{var m=db(r),g=!!(m&&Wo(m)),N=r.nodeType===bn&&gf(r.parentNode)&&!!r.parentNode._reactRootContainer;g&&c("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",N?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}cR(Y3),dR(q3),fR(K3),mR(Ha),pR(iR),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&c("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Eh(hT),p(Bx,a3,co);function pU(r,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!dp(n))throw new Error("Target container is not a DOM element.");return W3(r,n,null,l)}function hU(r,n,l,d){return fU(r,n,l,d)}var fb={usingClientEntryPoint:!1,Events:[Wo,qc,Zm,vm,gm,Bx]};function vU(r,n){return fb.usingClientEntryPoint||c('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),sU(r,n)}function gU(r,n,l){return fb.usingClientEntryPoint||c('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),aU(r,n,l)}function xU(r){return CO()&&c("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),co(r)}var bU=rU({findFiberByHostInstance:Xl,bundleType:1,version:ab,rendererPackageName:"react-dom"});if(!bU&&he&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var Ny=window.location.protocol;/^(https?|file):$/.test(Ny)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(Ny==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fb,ta.createPortal=pU,ta.createRoot=vU,ta.findDOMNode=cU,ta.flushSync=xU,ta.hydrate=uU,ta.hydrateRoot=gU,ta.render=dU,ta.unmountComponentAtNode=mU,ta.unstable_batchedUpdates=Bx,ta.unstable_renderSubtreeIntoContainer=hU,ta.version=ab,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})(),ta}var ky;function kU(){return ky||(ky=1,hb.exports=wU()),hb.exports}var Ry;function RU(){if(Ry)return pp;Ry=1;var e=kU();{var s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;pp.createRoot=function(t,i){s.usingClientEntryPoint=!0;try{return e.createRoot(t,i)}finally{s.usingClientEntryPoint=!1}},pp.hydrateRoot=function(t,i,o){s.usingClientEntryPoint=!0;try{return e.hydrateRoot(t,i,o)}finally{s.usingClientEntryPoint=!1}}}return pp}var TU=RU();const PU=zE(TU);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ty="popstate";function _U(e={}){function s(i,o){let{pathname:u,search:c,hash:f}=i.location;return Ub("",{pathname:u,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Lf(o)}return VU(s,t,null,e)}function ls(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function ui(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function UU(){return Math.random().toString(36).substring(2,10)}function Py(e,s){return{usr:e.state,key:e.key,idx:s}}function Ub(e,s,t=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof s=="string"?Ru(s):s,state:t,key:s&&s.key||i||UU()}}function Lf({pathname:e="/",search:s="",hash:t=""}){return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function Ru(e){let s={};if(e){let t=e.indexOf("#");t>=0&&(s.hash=e.substring(t),e=e.substring(0,t));let i=e.indexOf("?");i>=0&&(s.search=e.substring(i),e=e.substring(0,i)),e&&(s.pathname=e)}return s}function VU(e,s,t,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,c=o.history,f="POP",h=null,x=v();x==null&&(x=0,c.replaceState({...c.state,idx:x},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let R=v(),X=R==null?null:R-x;x=R,h&&h({action:f,location:S.location,delta:X})}function O(R,X){f="PUSH";let G=Ub(S.location,R,X);x=v()+1;let k=Py(G,x),ie=S.createHref(G);try{c.pushState(k,"",ie)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(ie)}u&&h&&h({action:f,location:S.location,delta:1})}function w(R,X){f="REPLACE";let G=Ub(S.location,R,X);x=v();let k=Py(G,x),ie=S.createHref(G);c.replaceState(k,"",ie),u&&h&&h({action:f,location:S.location,delta:0})}function C(R){return jU(R)}let S={get action(){return f},get location(){return e(o,c)},listen(R){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Ty,b),h=R,()=>{o.removeEventListener(Ty,b),h=null}},createHref(R){return s(o,R)},createURL:C,encodeLocation(R){let X=C(R);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:O,replace:w,go(R){return c.go(R)}};return S}function jU(e,s=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ls(t,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Lf(e);return i=i.replace(/ $/,"%20"),!s&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function YE(e,s,t="/"){return LU(e,s,t,!1)}function LU(e,s,t,i){let o=typeof s=="string"?Ru(s):s,u=go(o.pathname||"/",t);if(u==null)return null;let c=qE(e);AU(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let x=YU(u);f=WU(c[h],x,i)}return f}function qE(e,s=[],t=[],i="",o=!1){let u=(c,f,h=o,x)=>{let v={relativePath:x===void 0?c.path||"":x,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&h)return;ls(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=po([i,v.relativePath]),O=t.concat(v);c.children&&c.children.length>0&&(ls(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),qE(c.children,s,O,b,h)),!(c.path==null&&!c.index)&&s.push({path:b,score:HU(b,c.index),routesMeta:O})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let h of KE(c.path))u(c,f,!0,h)}),s}function KE(e){let s=e.split("/");if(s.length===0)return[];let[t,...i]=s,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let c=KE(i.join("/")),f=[];return f.push(...c.map(h=>h===""?u:[u,h].join("/"))),o&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function AU(e){e.sort((s,t)=>s.score!==t.score?t.score-s.score:GU(s.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var MU=/^:[\w-]+$/,IU=3,FU=2,$U=1,BU=10,XU=-2,_y=e=>e==="*";function HU(e,s){let t=e.split("/"),i=t.length;return t.some(_y)&&(i+=XU),s&&(i+=FU),t.filter(o=>!_y(o)).reduce((o,u)=>o+(MU.test(u)?IU:u===""?$U:BU),i)}function GU(e,s){return e.length===s.length&&e.slice(0,-1).every((i,o)=>i===s[o])?e[e.length-1]-s[s.length-1]:0}function WU(e,s,t=!1){let{routesMeta:i}=e,o={},u="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],x=f===i.length-1,v=u==="/"?s:s.slice(u.length)||"/",b=Lp({path:h.relativePath,caseSensitive:h.caseSensitive,end:x},v),O=h.route;if(!b&&x&&t&&!i[i.length-1].route.index&&(b=Lp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:po([u,b.pathname]),pathnameBase:QU(po([u,b.pathnameBase])),route:O}),b.pathnameBase!=="/"&&(u=po([u,b.pathnameBase]))}return c}function Lp(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,i]=zU(e.path,e.caseSensitive,e.end),o=s.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((x,{paramName:v,isOptional:b},O)=>{if(v==="*"){let C=f[O]||"";c=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const w=f[O];return b&&!w?x[v]=void 0:x[v]=(w||"").replace(/%2F/g,"/"),x},{}),pathname:u,pathnameBase:c,pattern:e}}function zU(e,s=!1,t=!0){ui(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,s?void 0:"i"),i]}function YU(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ui(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),e}}function go(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let t=s.endsWith("/")?s.length-1:s.length,i=e.charAt(t);return i&&i!=="/"?null:e.slice(t)||"/"}function qU(e,s="/"){let{pathname:t,search:i="",hash:o=""}=typeof e=="string"?Ru(e):e;return{pathname:t?t.startsWith("/")?t:KU(t,s):s,search:ZU(i),hash:e4(o)}}function KU(e,s){let t=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function xb(e,s,t,i){return`Cannot include a '${e}' character in a manually specified \`to.${s}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JU(e){return e.filter((s,t)=>t===0||s.route.path&&s.route.path.length>0)}function JE(e){let s=JU(e);return s.map((t,i)=>i===s.length-1?t.pathname:t.pathnameBase)}function QE(e,s,t,i=!1){let o;typeof e=="string"?o=Ru(e):(o={...e},ls(!o.pathname||!o.pathname.includes("?"),xb("?","pathname","search",o)),ls(!o.pathname||!o.pathname.includes("#"),xb("#","pathname","hash",o)),ls(!o.search||!o.search.includes("#"),xb("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,f;if(c==null)f=t;else{let b=s.length-1;if(!i&&c.startsWith("..")){let O=c.split("/");for(;O[0]==="..";)O.shift(),b-=1;o.pathname=O.join("/")}f=b>=0?s[b]:"/"}let h=qU(o,f),x=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(x||v)&&(h.pathname+="/"),h}var po=e=>e.join("/").replace(/\/\/+/g,"/"),QU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,e4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function t4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var r4=["GET",...ZE];new Set(r4);var Tu=E.createContext(null);Tu.displayName="DataRouter";var qp=E.createContext(null);qp.displayName="DataRouterState";E.createContext(!1);var eC=E.createContext({isTransitioning:!1});eC.displayName="ViewTransition";var s4=E.createContext(new Map);s4.displayName="Fetchers";var n4=E.createContext(null);n4.displayName="Await";var Li=E.createContext(null);Li.displayName="Navigation";var Wf=E.createContext(null);Wf.displayName="Location";var bo=E.createContext({outlet:null,matches:[],isDataRoute:!1});bo.displayName="Route";var eN=E.createContext(null);eN.displayName="RouteError";function a4(e,{relative:s}={}){ls(zf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=E.useContext(Li),{hash:o,pathname:u,search:c}=Yf(e,{relative:s}),f=u;return t!=="/"&&(f=u==="/"?t:po([t,u])),i.createHref({pathname:f,search:c,hash:o})}function zf(){return E.useContext(Wf)!=null}function Js(){return ls(zf(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Wf).location}var tC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rC(e){E.useContext(Li).static||E.useLayoutEffect(e)}function Ai(){let{isDataRoute:e}=E.useContext(bo);return e?x4():i4()}function i4(){ls(zf(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Tu),{basename:s,navigator:t}=E.useContext(Li),{matches:i}=E.useContext(bo),{pathname:o}=Js(),u=JSON.stringify(JE(i)),c=E.useRef(!1);return rC(()=>{c.current=!0}),E.useCallback((h,x={})=>{if(ui(c.current,tC),!c.current)return;if(typeof h=="number"){t.go(h);return}let v=QE(h,JSON.parse(u),o,x.relative==="path");e==null&&s!=="/"&&(v.pathname=v.pathname==="/"?s:po([s,v.pathname])),(x.replace?t.replace:t.push)(v,x.state,x)},[s,t,u,o,e])}E.createContext(null);function Yf(e,{relative:s}={}){let{matches:t}=E.useContext(bo),{pathname:i}=Js(),o=JSON.stringify(JE(t));return E.useMemo(()=>QE(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function o4(e,s){return sC(e,s)}function sC(e,s,t,i,o){ls(zf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=E.useContext(Li),{matches:c}=E.useContext(bo),f=c[c.length-1],h=f?f.params:{},x=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let G=b&&b.path||"";nC(x,!b||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let O=Js(),w;if(s){let G=typeof s=="string"?Ru(s):s;ls(v==="/"||G.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),w=G}else w=O;let C=w.pathname||"/",S=C;if(v!=="/"){let G=v.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(G.length).join("/")}let R=YE(e,{pathname:S});ui(b||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ui(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=f4(R&&R.map(G=>Object.assign({},G,{params:Object.assign({},h,G.params),pathname:po([v,u.encodeLocation?u.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:po([v,u.encodeLocation?u.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),c,t,i,o);return s&&X?E.createElement(Wf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},X):X}function l4(){let e=g4(),s=t4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:u},"ErrorBoundary")," or"," ",E.createElement("code",{style:u},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},s),t?E.createElement("pre",{style:o},t):null,c)}var c4=E.createElement(l4,null),u4=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){this.props.unstable_onError?this.props.unstable_onError(e,s):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?E.createElement(bo.Provider,{value:this.props.routeContext},E.createElement(eN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d4({routeContext:e,match:s,children:t}){let i=E.useContext(Tu);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),E.createElement(bo.Provider,{value:e},t)}function f4(e,s=[],t=null,i=null,o=null){if(e==null){if(!t)return null;if(t.errors)e=t.matches;else if(s.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let u=e,c=t?.errors;if(c!=null){let x=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);ls(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let f=!1,h=-1;if(t)for(let x=0;x<u.length;x++){let v=u[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=x),v.route.id){let{loaderData:b,errors:O}=t,w=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!O||O[v.route.id]===void 0);if(v.route.lazy||w){f=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}return u.reduceRight((x,v,b)=>{let O,w=!1,C=null,S=null;t&&(O=c&&v.route.id?c[v.route.id]:void 0,C=v.route.errorElement||c4,f&&(h<0&&b===0?(nC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):h===b&&(w=!0,S=v.route.hydrateFallbackElement||null)));let R=s.concat(u.slice(0,b+1)),X=()=>{let G;return O?G=C:w?G=S:v.route.Component?G=E.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=x,E.createElement(d4,{match:v,routeContext:{outlet:x,matches:R,isDataRoute:t!=null},children:G})};return t&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?E.createElement(u4,{location:t.location,revalidation:t.revalidation,component:C,error:O,children:X(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:i}):X()},null)}function tN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m4(e){let s=E.useContext(Tu);return ls(s,tN(e)),s}function p4(e){let s=E.useContext(qp);return ls(s,tN(e)),s}function h4(e){let s=E.useContext(bo);return ls(s,tN(e)),s}function rN(e){let s=h4(e),t=s.matches[s.matches.length-1];return ls(t.route.id,`${e} can only be used on routes that contain a unique "id"`),t.route.id}function v4(){return rN("useRouteId")}function g4(){let e=E.useContext(eN),s=p4("useRouteError"),t=rN("useRouteError");return e!==void 0?e:s.errors?.[t]}function x4(){let{router:e}=m4("useNavigate"),s=rN("useNavigate"),t=E.useRef(!1);return rC(()=>{t.current=!0}),E.useCallback(async(o,u={})=>{ui(t.current,tC),t.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:s,...u}))},[e,s])}var Uy={};function nC(e,s,t){!s&&!Uy[e]&&(Uy[e]=!0,ui(!1,t))}E.memo(b4);function b4({routes:e,future:s,state:t,unstable_onError:i}){return sC(e,void 0,t,i,s)}function Ys(e){ls(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N4({basename:e="/",children:s=null,location:t,navigationType:i="POP",navigator:o,static:u=!1}){ls(!zf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=Ru(t));let{pathname:h="/",search:x="",hash:v="",state:b=null,key:O="default"}=t,w=E.useMemo(()=>{let C=go(h,c);return C==null?null:{location:{pathname:C,search:x,hash:v,state:b,key:O},navigationType:i}},[c,h,x,v,b,O,i]);return ui(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${x}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(Li.Provider,{value:f},E.createElement(Wf.Provider,{children:s,value:w}))}function Vy({children:e,location:s}){return o4(Vb(e),s)}function Vb(e,s=[]){let t=[];return E.Children.forEach(e,(i,o)=>{if(!E.isValidElement(i))return;let u=[...s,o];if(i.type===E.Fragment){t.push.apply(t,Vb(i.props.children,u));return}ls(i.type===Ys,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ls(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Vb(i.props.children,u)),t.push(c)}),t}var Tp="get",Pp="application/x-www-form-urlencoded";function Kp(e){return e!=null&&typeof e.tagName=="string"}function D4(e){return Kp(e)&&e.tagName.toLowerCase()==="button"}function S4(e){return Kp(e)&&e.tagName.toLowerCase()==="form"}function O4(e){return Kp(e)&&e.tagName.toLowerCase()==="input"}function y4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function E4(e,s){return e.button===0&&(!s||s==="_self")&&!y4(e)}function jb(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,t)=>{let i=e[t];return s.concat(Array.isArray(i)?i.map(o=>[t,o]):[[t,i]])},[]))}function C4(e,s){let t=jb(e);return s&&s.forEach((i,o)=>{t.has(o)||s.getAll(o).forEach(u=>{t.append(o,u)})}),t}var hp=null;function w4(){if(hp===null)try{new FormData(document.createElement("form"),0),hp=!1}catch{hp=!0}return hp}var k4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bb(e){return e!=null&&!k4.has(e)?(ui(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pp}"`),null):e}function R4(e,s){let t,i,o,u,c;if(S4(e)){let f=e.getAttribute("action");i=f?go(f,s):null,t=e.getAttribute("method")||Tp,o=bb(e.getAttribute("enctype"))||Pp,u=new FormData(e)}else if(D4(e)||O4(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(i=h?go(h,s):null,t=e.getAttribute("formmethod")||f.getAttribute("method")||Tp,o=bb(e.getAttribute("formenctype"))||bb(f.getAttribute("enctype"))||Pp,u=new FormData(f,e),!w4()){let{name:x,type:v,value:b}=e;if(v==="image"){let O=x?`${x}.`:"";u.append(`${O}x`,"0"),u.append(`${O}y`,"0")}else x&&u.append(x,b)}}else{if(Kp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tp,i=null,o=Pp,c=e}return u&&o==="text/plain"&&(c=u,u=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sN(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function T4(e,s,t){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${t}`:s&&go(i.pathname,s)==="/"?i.pathname=`${s.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function P4(e,s){if(e.id in s)return s[e.id];try{let t=await import(e.module);return s[e.id]=t,t}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function U4(e,s,t){let i=await Promise.all(e.map(async o=>{let u=s.routes[o.route.id];if(u){let c=await P4(u,t);return c.links?c.links():[]}return[]}));return A4(i.flat(1).filter(_4).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jy(e,s,t,i,o,u){let c=(h,x)=>t[x]?h.route.id!==t[x].route.id:!0,f=(h,x)=>t[x].pathname!==h.pathname||t[x].route.path?.endsWith("*")&&t[x].params["*"]!==h.params["*"];return u==="assets"?s.filter((h,x)=>c(h,x)||f(h,x)):u==="data"?s.filter((h,x)=>{let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,x)||f(h,x))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function V4(e,s,{includeHydrateFallback:t}={}){return j4(e.map(i=>{let o=s.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function j4(e){return[...new Set(e)]}function L4(e){let s={},t=Object.keys(e).sort();for(let i of t)s[i]=e[i];return s}function A4(e,s){let t=new Set;return new Set(s),e.reduce((i,o)=>{let u=JSON.stringify(L4(o));return t.has(u)||(t.add(u),i.push({key:u,link:o})),i},[])}function aC(){let e=E.useContext(Tu);return sN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function M4(){let e=E.useContext(qp);return sN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nN=E.createContext(void 0);nN.displayName="FrameworkContext";function iC(){let e=E.useContext(nN);return sN(e,"You must render this element inside a <HydratedRouter> element"),e}function I4(e,s){let t=E.useContext(nN),[i,o]=E.useState(!1),[u,c]=E.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:x,onMouseLeave:v,onTouchStart:b}=s,O=E.useRef(null);E.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let S=X=>{X.forEach(G=>{c(G.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return O.current&&R.observe(O.current),()=>{R.disconnect()}}},[e]),E.useEffect(()=>{if(i){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[i]);let w=()=>{o(!0)},C=()=>{o(!1),c(!1)};return t?e!=="intent"?[u,O,{}]:[u,O,{onFocus:bf(f,w),onBlur:bf(h,C),onMouseEnter:bf(x,w),onMouseLeave:bf(v,C),onTouchStart:bf(b,w)}]:[!1,O,{}]}function bf(e,s){return t=>{e&&e(t),t.defaultPrevented||s(t)}}function F4({page:e,...s}){let{router:t}=aC(),i=E.useMemo(()=>YE(t.routes,e,t.basename),[t.routes,e,t.basename]);return i?E.createElement(B4,{page:e,matches:i,...s}):null}function $4(e){let{manifest:s,routeModules:t}=iC(),[i,o]=E.useState([]);return E.useEffect(()=>{let u=!1;return U4(e,s,t).then(c=>{u||o(c)}),()=>{u=!0}},[e,s,t]),i}function B4({page:e,matches:s,...t}){let i=Js(),{manifest:o,routeModules:u}=iC(),{basename:c}=aC(),{loaderData:f,matches:h}=M4(),x=E.useMemo(()=>jy(e,s,h,o,i,"data"),[e,s,h,o,i]),v=E.useMemo(()=>jy(e,s,h,o,i,"assets"),[e,s,h,o,i]),b=E.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let C=new Set,S=!1;if(s.forEach(X=>{let G=o.routes[X.route.id];!G||!G.hasLoader||(!x.some(k=>k.route.id===X.route.id)&&X.route.id in f&&u[X.route.id]?.shouldRevalidate||G.hasClientLoader?S=!0:C.add(X.route.id))}),C.size===0)return[];let R=T4(e,c,"data");return S&&C.size>0&&R.searchParams.set("_routes",s.filter(X=>C.has(X.route.id)).map(X=>X.route.id).join(",")),[R.pathname+R.search]},[c,f,i,o,x,s,e,u]),O=E.useMemo(()=>V4(v,o),[v,o]),w=$4(v);return E.createElement(E.Fragment,null,b.map(C=>E.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),O.map(C=>E.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),w.map(({key:C,link:S})=>E.createElement("link",{key:C,nonce:t.nonce,...S})))}function X4(...e){return s=>{e.forEach(t=>{typeof t=="function"?t(s):t!=null&&(t.current=s)})}}var oC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oC&&(window.__reactRouterVersion="7.8.2")}catch{}function H4({basename:e,children:s,window:t}){let i=E.useRef();i.current==null&&(i.current=_U({window:t,v5Compat:!0}));let o=i.current,[u,c]=E.useState({action:o.action,location:o.location}),f=E.useCallback(h=>{E.startTransition(()=>c(h))},[c]);return E.useLayoutEffect(()=>o.listen(f),[o,f]),E.createElement(N4,{basename:e,children:s,location:u.location,navigationType:u.action,navigator:o})}var lC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cC=E.forwardRef(function({onClick:s,discover:t="render",prefetch:i="none",relative:o,reloadDocument:u,replace:c,state:f,target:h,to:x,preventScrollReset:v,viewTransition:b,...O},w){let{basename:C}=E.useContext(Li),S=typeof x=="string"&&lC.test(x),R,X=!1;if(typeof x=="string"&&S&&(R=x,oC))try{let T=new URL(window.location.href),H=x.startsWith("//")?new URL(T.protocol+x):new URL(x),Z=go(H.pathname,C);H.origin===T.origin&&Z!=null?x=Z+H.search+H.hash:X=!0}catch{ui(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=a4(x,{relative:o}),[k,ie,K]=I4(i,O),z=Y4(x,{replace:c,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:b});function A(T){s&&s(T),T.defaultPrevented||z(T)}let ce=E.createElement("a",{...O,...K,href:R||G,onClick:X||u?s:A,ref:X4(w,ie),target:h,"data-discover":!S&&t==="render"?"true":void 0});return k&&!S?E.createElement(E.Fragment,null,ce,E.createElement(F4,{page:G})):ce});cC.displayName="Link";var G4=E.forwardRef(function({"aria-current":s="page",caseSensitive:t=!1,className:i="",end:o=!1,style:u,to:c,viewTransition:f,children:h,...x},v){let b=Yf(c,{relative:x.relative}),O=Js(),w=E.useContext(qp),{navigator:C,basename:S}=E.useContext(Li),R=w!=null&&Z4(b)&&f===!0,X=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,G=O.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(G=G.toLowerCase(),k=k?k.toLowerCase():null,X=X.toLowerCase()),k&&S&&(k=go(k,S)||k);const ie=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let K=G===X||!o&&G.startsWith(X)&&G.charAt(ie)==="/",z=k!=null&&(k===X||!o&&k.startsWith(X)&&k.charAt(X.length)==="/"),A={isActive:K,isPending:z,isTransitioning:R},ce=K?s:void 0,T;typeof i=="function"?T=i(A):T=[i,K?"active":null,z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let H=typeof u=="function"?u(A):u;return E.createElement(cC,{...x,"aria-current":ce,className:T,ref:v,style:H,to:c,viewTransition:f},typeof h=="function"?h(A):h)});G4.displayName="NavLink";var W4=E.forwardRef(({discover:e="render",fetcherKey:s,navigate:t,reloadDocument:i,replace:o,state:u,method:c=Tp,action:f,onSubmit:h,relative:x,preventScrollReset:v,viewTransition:b,...O},w)=>{let C=J4(),S=Q4(f,{relative:x}),R=c.toLowerCase()==="get"?"get":"post",X=typeof f=="string"&&lC.test(f),G=k=>{if(h&&h(k),k.defaultPrevented)return;k.preventDefault();let ie=k.nativeEvent.submitter,K=ie?.getAttribute("formmethod")||c;C(ie||k.currentTarget,{fetcherKey:s,method:K,navigate:t,replace:o,state:u,relative:x,preventScrollReset:v,viewTransition:b})};return E.createElement("form",{ref:w,method:R,action:S,onSubmit:i?h:G,...O,"data-discover":!X&&e==="render"?"true":void 0})});W4.displayName="Form";function z4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uC(e){let s=E.useContext(Tu);return ls(s,z4(e)),s}function Y4(e,{target:s,replace:t,state:i,preventScrollReset:o,relative:u,viewTransition:c}={}){let f=Ai(),h=Js(),x=Yf(e,{relative:u});return E.useCallback(v=>{if(E4(v,s)){v.preventDefault();let b=t!==void 0?t:Lf(h)===Lf(x);f(e,{replace:b,state:i,preventScrollReset:o,relative:u,viewTransition:c})}},[h,f,x,t,i,s,e,o,u,c])}function No(e){ui(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=E.useRef(jb(e)),t=E.useRef(!1),i=Js(),o=E.useMemo(()=>C4(i.search,t.current?null:s.current),[i.search]),u=Ai(),c=E.useCallback((f,h)=>{const x=jb(typeof f=="function"?f(new URLSearchParams(o)):f);t.current=!0,u("?"+x,h)},[u,o]);return[o,c]}var q4=0,K4=()=>`__${String(++q4)}__`;function J4(){let{router:e}=uC("useSubmit"),{basename:s}=E.useContext(Li),t=v4();return E.useCallback(async(i,o={})=>{let{action:u,method:c,encType:f,formData:h,body:x}=R4(i,s);if(o.navigate===!1){let v=o.fetcherKey||K4();await e.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:h,body:x,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:h,body:x,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,s,t])}function Q4(e,{relative:s}={}){let{basename:t}=E.useContext(Li),i=E.useContext(bo);ls(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Yf(e||".",{relative:s})},c=Js();if(e==null){u.search=c.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:po([t,u.pathname])),Lf(u)}function Z4(e,{relative:s}={}){let t=E.useContext(eC);ls(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uC("useViewTransitionState"),o=Yf(e,{relative:s});if(!t.isTransitioning)return!1;let u=go(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=go(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Lp(o.pathname,c)!=null||Lp(o.pathname,u)!=null}class Su{constructor(){this.authState={user:null,isAuthenticated:!1,loading:!0},this.loadFromStorage()}static getInstance(){return Su.instance||(Su.instance=new Su),Su.instance}loadFromStorage(){try{const s=localStorage.getItem("ros_user_session");if(s){const t=JSON.parse(s);this.authState={user:t.user,isAuthenticated:!0,loading:!1}}else this.authState.loading=!1}catch(s){console.error("Error loading auth from storage:",s),this.authState.loading=!1}}async signIn(s,t){try{const i={id:`user_${Date.now()}`,email:s,full_name:t,role:"VIEWER"},o={user:i,created_at:new Date().toISOString()};return localStorage.setItem("ros_user_session",JSON.stringify(o)),this.authState={user:i,isAuthenticated:!0,loading:!1},{error:null}}catch(i){return{error:i}}}async signUp(s,t){return this.signIn(s,t)}async signOut(){localStorage.removeItem("ros_user_session"),this.authState={user:null,isAuthenticated:!1,loading:!1}}getCurrentUser(){return this.authState.user}isAuthenticated(){return this.authState.isAuthenticated}isLoading(){return this.authState.loading}getAuthState(){return{...this.authState}}updateUserRole(s){if(this.authState.user){this.authState.user.role=s;const t=localStorage.getItem("ros_user_session");if(t){const i=JSON.parse(t);i.user.role=s,localStorage.setItem("ros_user_session",JSON.stringify(i))}}}}const ll=Su.getInstance(),dC=E.createContext(void 0),Do=()=>{const e=E.useContext(dC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},eV=({children:e})=>{const[s,t]=E.useState(null),[i,o]=E.useState(!0);E.useEffect(()=>{const v=ll.getAuthState();t(v.user),o(v.loading)},[]);const x={user:s,loading:i,signUp:async(v,b,O)=>{const w=await ll.signUp(v,b,O);return w.error||t(ll.getCurrentUser()),w},signIn:async(v,b)=>{const O=await ll.signIn(v,b);return O.error||t(ll.getCurrentUser()),O},signOut:async()=>{await ll.signOut(),t(null)},updateProfile:async v=>{try{return v.role&&ll.updateUserRole(v.role),t(ll.getCurrentUser()),{error:null}}catch(b){return{error:b}}}};return a.jsxDEV(dC.Provider,{value:x,children:e},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/contexts/AuthContext.tsx",lineNumber:80,columnNumber:10},void 0)},tV=({isOpen:e,onClose:s,onSuccess:t})=>{const[i,o]=E.useState(""),[u,c]=E.useState(""),[f,h]=E.useState(!1),[x,v]=E.useState(null),{signIn:b}=Do(),O=async w=>{w.preventDefault(),h(!0),v(null);try{const C=await b(i,u);C.error?v(C.error.message||"An error occurred"):(t(),s())}catch{v("An unexpected error occurred")}finally{h(!1)}};return e?a.jsxDEV("div",{className:"bg-slate-800 p-8 rounded-xl shadow-2xl w-full max-w-md mx-auto border border-slate-700",children:[a.jsxDEV("div",{className:"mb-6",children:a.jsxDEV("h2",{className:"text-2xl font-bold text-white text-center",children:"Enter Your Information"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:50,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:49,columnNumber:7},void 0),a.jsxDEV("form",{onSubmit:O,className:"space-y-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Full Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:57,columnNumber:11},void 0),a.jsxDEV("input",{type:"text",value:u,onChange:w=>c(w.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500",placeholder:"Enter your full name",required:!0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:60,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:56,columnNumber:9},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Email"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:71,columnNumber:11},void 0),a.jsxDEV("input",{type:"email",value:i,onChange:w=>o(w.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500",placeholder:"Enter your email",required:!0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:74,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:70,columnNumber:9},void 0),x&&a.jsxDEV("div",{className:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm",children:x},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:85,columnNumber:11},void 0),a.jsxDEV("button",{type:"submit",disabled:f,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:f?"Loading...":"Continue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:90,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:55,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthModal.tsx",lineNumber:48,columnNumber:5},void 0):null},rV=({onClose:e})=>{const{user:s,signOut:t,updateProfile:i}=Do(),[o,u]=E.useState(null),[c,f]=E.useState(!0),[h,x]=E.useState(!1),[v,b]=E.useState(""),[O,w]=E.useState("VIEWER"),[C,S]=E.useState(!1),[R,X]=E.useState(null),G=[{value:"VIEWER",label:"Viewer (Read Only)"},{value:"OPERATOR",label:"Operator (Limited Edit)"},{value:"EDITOR",label:"Editor (Full Access)"}];E.useEffect(()=>{s&&k()},[s]);const k=async()=>{if(s)try{const z={id:s.id,full_name:s.full_name||s.email||"Unknown",role:s.role||"VIEWER",email:s.email||"",created_at:s.created_at||new Date().toISOString()};u(z),b(z.full_name),w(z.role)}catch(z){console.error("Error fetching profile:",z)}finally{f(!1)}},ie=async()=>{if(s){S(!0);try{await i({full_name:v,role:O}),u(z=>z?{...z,full_name:v,role:O}:null),x(!1),X(null)}catch(z){console.error("Error saving profile:",z),X("Failed to update profile")}finally{S(!1)}}},K=async()=>{confirm("Are you sure you want to sign out?")&&await t()};return c?a.jsxDEV("div",{className:"flex items-center gap-2 text-slate-300",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:97,columnNumber:9},void 0),"Loading..."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:96,columnNumber:7},void 0):o?a.jsxDEV("div",{className:"bg-slate-800 p-4 rounded-lg shadow-2xl w-80 border border-slate-700",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white",children:"Profile"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:114,columnNumber:9},void 0),e&&a.jsxDEV("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:116,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:113,columnNumber:7},void 0),h?a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Full Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:128,columnNumber:13},void 0),a.jsxDEV("input",{type:"text",value:v,onChange:z=>b(z.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white text-sm",placeholder:"Enter your full name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:131,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:127,columnNumber:11},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Role"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:141,columnNumber:13},void 0),a.jsxDEV("select",{value:O,onChange:z=>w(z.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white text-sm",children:G.map(z=>a.jsxDEV("option",{value:z.value,children:z.label},z.value,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:150,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:144,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:140,columnNumber:11},void 0),R&&a.jsxDEV("div",{className:"bg-red-900 border border-red-700 text-red-200 px-3 py-2 rounded text-sm",children:R},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:158,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:ie,disabled:C,className:"flex-1 px-3 py-2 bg-green-600 hover:bg-green-500 disabled:bg-slate-600 text-white text-sm rounded transition-colors",children:C?"Saving...":"Save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:164,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>x(!1),className:"px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:171,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:126,columnNumber:9},void 0):a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-medium",children:(o.full_name||"U").charAt(0).toUpperCase()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:182,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-white font-medium",children:o.full_name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:186,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-slate-400 text-sm",children:o.role},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:187,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-slate-500 text-xs",children:s?.email},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:188,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:185,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:181,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>x(!0),className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",children:"Edit Profile"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:193,columnNumber:13},void 0),a.jsxDEV("button",{onClick:K,className:"px-3 py-2 bg-red-600 hover:bg-red-500 text-white text-sm rounded transition-colors",title:"Sign out",children:"Sign Out"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:199,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:192,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:180,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:112,columnNumber:5},void 0):a.jsxDEV("div",{className:"text-slate-300",children:"Profile not found"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/UserProfile.tsx",lineNumber:105,columnNumber:7},void 0)},Lb=()=>{const{user:e,signOut:s}=Do(),[t,i]=E.useState(!1);return a.jsxDEV("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-800 border-b border-slate-700 px-6 py-4",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-lg",children:"R"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:16,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:15,columnNumber:13},void 0),a.jsxDEV("h1",{className:"text-xl font-bold text-white",children:"Run of Show"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:18,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:14,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:13,columnNumber:9},void 0),e?a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"text-right",children:[a.jsxDEV("p",{className:"text-white font-semibold text-base",children:e.full_name||e.email},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:27,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-slate-300 text-xs",children:e.email},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:30,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:26,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>{confirm("Are you sure you want to sign out?")&&s()},className:"px-3 py-1.5 bg-red-600 hover:bg-red-500 text-white text-sm rounded-md transition-colors",title:"Sign out",children:"Sign Out"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:36,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:24,columnNumber:11},void 0):a.jsxDEV("div",{className:"flex items-center gap-4",children:a.jsxDEV("div",{className:"text-slate-400 text-sm",children:"Please sign in to continue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:50,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:49,columnNumber:11},void 0),t&&a.jsxDEV("div",{className:"absolute top-16 right-6 z-50",children:a.jsxDEV(rV,{onClose:()=>i(!1)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:59,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:58,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:11,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AppHeader.tsx",lineNumber:10,columnNumber:5},void 0)},sV=({children:e})=>{const{user:s,loading:t}=Do(),[i,o]=Wr.useState(!1);return Wr.useEffect(()=>{!t&&!s?o(!0):s&&o(!1)},[s,t]),t?a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 pt-16",children:[a.jsxDEV(Lb,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:25,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:28,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-300",children:"Loading..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:29,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:27,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:26,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:24,columnNumber:7},void 0):s?a.jsxDEV(a.Fragment,{children:e},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:65,columnNumber:10},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 pt-16",children:[a.jsxDEV(Lb,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:39,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:a.jsxDEV("div",{className:"text-center max-w-2xl mx-auto p-8",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsxDEV("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-2xl",children:"R"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:45,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:44,columnNumber:17},void 0),a.jsxDEV("h1",{className:"text-4xl font-bold text-white",children:"Run of Show"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:47,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:43,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-slate-300 text-lg",children:"Please sign in to access the Run of Show application."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:49,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:42,columnNumber:13},void 0),a.jsxDEV(tV,{isOpen:i,onClose:()=>{},onSuccess:()=>{o(!1)}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:51,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:41,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:40,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/AuthGuard.tsx",lineNumber:38,columnNumber:7},void 0)},vp=[{value:"Great Hall",label:"Great Hall",color:"bg-blue-600"},{value:"Briefing Center",label:"Briefing Center",color:"bg-green-600"},{value:"Lee Anderson",label:"Lee Anderson",color:"bg-purple-600"},{value:"Virtual Show",label:"Virtual Show",color:"bg-orange-600"},{value:"Off Site",label:"Off Site",color:"bg-red-600"}],Ly=[1,2,3,4,5],nV=()=>window.__FORCE_LOCAL_API__?window.__LOCAL_API_URL__||"http://localhost:3001":"https://ros-50-production.up.railway.app";class aV{constructor(){this.cache=new Map,this.CACHE_TTL={calendarEvents:300*1e3,runOfShowData:30*1e3,completedCues:120*1e3,activeTimers:10*1e3,changeLog:60*1e3,timerMessages:60*1e3}}getCacheKey(s,t){return`${s}${t?`_${JSON.stringify(t)}`:""}`}getCachedData(s){const t=this.cache.get(s);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(s),null):t.data:null}setCachedData(s,t,i){this.cache.set(s,{data:t,timestamp:Date.now(),ttl:i})}async clearCache(){console.log(" Clearing all API cache..."),this.cache.clear(),console.log(" Cache cleared")}async request(s,t={},i,o){if(t.method==="GET"||!t.method){const h=i||this.getCacheKey(s),x=this.getCachedData(h);if(x)return console.log(` Cache hit for: ${s}`),x}const c=`${nV()}${s}`,f={headers:{"Content-Type":"application/json",...t.headers},...t};try{const h=await fetch(c,f);if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const x=await h.json();if(t.method==="GET"||!t.method){const v=i||this.getCacheKey(s),b=o||this.CACHE_TTL.calendarEvents;this.setCachedData(v,x,b)}return x}catch(h){throw console.error(`API request failed for ${s}:`,h),h}}async healthCheck(){return this.request("/health")}async getCalendarEvents(){return this.request("/api/calendar-events",{},"calendarEvents",this.CACHE_TTL.calendarEvents)}async createCalendarEvent(s){const t=await this.request("/api/calendar-events",{method:"POST",body:JSON.stringify(s)});return this.cache.delete("calendarEvents"),t}async getCalendarEvent(s){return this.request(`/api/calendar-events/${s}`,{},`calendarEvent_${s}`,this.CACHE_TTL.calendarEvents)}async updateCalendarEvent(s,t){const i=await this.request(`/api/calendar-events/${s}`,{method:"PUT",body:JSON.stringify(t)});return this.cache.delete("calendarEvents"),this.cache.delete(`calendarEvent_${s}`),i}async deleteCalendarEvent(s){const t=await this.request(`/api/calendar-events/${s}`,{method:"DELETE"});return this.cache.delete("calendarEvents"),this.cache.delete(`calendarEvent_${s}`),t}async getRunOfShowData(s){return this.request(`/api/run-of-show-data/${s}`,{},`runOfShowData_${s}`,this.CACHE_TTL.runOfShowData)}async saveRunOfShowData(s){const t=await this.request("/api/run-of-show-data",{method:"POST",body:JSON.stringify(s)});return this.cache.delete(`runOfShowData_${s.event_id}`),t}async getCompletedCues(s){return this.request(`/api/completed-cues/${s}`,{},`completedCues_${s}`,this.CACHE_TTL.completedCues)}async markCueAsCompleted(s,t,i){const o=await this.request("/api/completed-cues",{method:"POST",body:JSON.stringify({event_id:s,item_id:t,user_id:i})});return this.cache.delete(`completedCues_${s}`),o}async unmarkCueAsCompleted(s,t,i){const o=await this.request("/api/completed-cues",{method:"DELETE",body:JSON.stringify({event_id:s,item_id:t,user_id:i})});return this.cache.delete(`completedCues_${s}`),o}async getActiveTimers(s){return this.request(`/api/active-timers/${s}`,{},`activeTimers_${s}`,this.CACHE_TTL.activeTimers)}async saveActiveTimer(s){const t=await this.request("/api/active-timers",{method:"POST",body:JSON.stringify(s)});return this.cache.delete(`activeTimers_${s.event_id}`),t}async getSubCueTimers(s){return this.request(`/api/sub-cue-timers/${s}`)}async getChangeLog(s,t=100){return this.request(`/api/change-log/${s}?limit=${t}`)}async logChange(s){return await this.request("/api/change-log",{method:"POST",body:JSON.stringify(s)})}async getTimerMessages(s){return this.request(`/api/timer-messages/${s}`)}}const Es=new aV,bs="https://ros-50-production.up.railway.app";class Nt{static async saveCalendarEvent(s){try{console.log(" Saving calendar event to API:",s);const t=await Es.createCalendarEvent(s);return console.log(" Calendar event saved to API:",t),t}catch(t){return console.error("Error saving calendar event:",t),console.log(" Falling back to localStorage..."),this.saveCalendarToLocalStorage(s)}}static async updateCalendarEvent(s,t){try{console.log(" Updating calendar event via API:",s,t);const i=await Es.updateCalendarEvent(s,t);return console.log(" Calendar event updated successfully:",i),i}catch(i){return console.error(" Exception updating calendar event:",i),null}}static async getCalendarEvents(){try{console.log(" Loading calendar events from API...");const s=await Es.getCalendarEvents();return console.log(" Calendar events loaded from API:",s?.length||0),s||[]}catch(s){return console.error("Error fetching calendar events:",s),console.log(" Falling back to localStorage..."),this.getCalendarFromLocalStorage()}}static async getCalendarEvent(s){try{return console.log(" Loading calendar event from API:",s),await Es.getCalendarEvent(s)}catch(t){return console.error("Error fetching calendar event:",t),this.getCalendarFromLocalStorageById(s)}}static async deleteCalendarEvent(s){try{return console.log(" Deleting calendar event via API:",s),await Es.deleteCalendarEvent(s)}catch(t){return console.error("Error deleting calendar event:",t),this.deleteCalendarFromLocalStorage(s)}}static async logChange(s,t,i,o,u,c,f,h,x,v,b,O,w,C){try{console.log(" Logging change via API:",{eventId:s,userId:t,userName:i,userRole:o,action:u,tableName:c,recordId:f,fieldName:h,rowNumber:O,cueNumber:w});const S={event_id:s,user_id:t,user_name:i,user_role:o,action:u,table_name:c,record_id:f||null,field_name:h||null,old_value:x?JSON.stringify(x):null,new_value:v?JSON.stringify(v):null,description:b||null,metadata:C||{},row_number:O||null,cue_number:w?typeof w=="string"?parseInt(w,10):w:null},R=await Es.logChange(S);return console.log(" Change logged:",{action:u,tableName:c,recordId:f,changeId:R}),R}catch(S){return console.error("Error logging change:",S),null}}static async logFieldChanges(s,t,i,o,u,c,f,h){try{for(const x of f)await this.logChange(s,t,i,o,"UPDATE",u,c,x.fieldName,x.oldValue,x.newValue,h)}catch(x){console.error("Error logging field changes:",x)}}static async getChangeLog(s,t=50,i=0){try{return console.log(" Loading change log from API:",{eventId:s,limit:t,offset:i}),await Es.getChangeLog(s,t)||[]}catch(o){return console.error("Error fetching change log:",o),[]}}static async getRecordChangeLog(s,t,i,o=20){try{return console.log(" Loading record change log from API:",{eventId:s,tableName:t,recordId:i,limit:o}),[]}catch(u){return console.error("Error fetching record change log:",u),[]}}static async getChangeLogSummary(s){try{return console.log(" Loading change log summary from API:",{eventId:s}),null}catch(t){return console.error("Error fetching change log summary:",t),null}}static async cleanupOldChangeLogs(){try{return console.log(" Cleaning up old change logs via API"),0}catch(s){return console.error("Error cleaning up old change logs:",s),0}}static async saveRunOfShowData(s,t){try{console.log(" Saving run of show data to Neon:",{eventId:s.event_id,scheduleItemsCount:s.schedule_items?.length||0,customColumnsCount:s.custom_columns?.length||0,settingsKeys:Object.keys(s.settings||{}),userInfo:t?`${t.userName} (${t.userRole})`:"No user info"});const i={...s,last_modified_by:t?.userId,last_modified_by_name:t?.userName,last_modified_by_role:t?.userRole};return await Es.saveRunOfShowData(i)}catch(i){console.error(" Error saving run of show data:",i),console.error(" Error details:",i.message,i.details,i.hint);const o={...s,last_modified_by:t?.userId,last_modified_by_name:t?.userName,last_modified_by_role:t?.userRole,updated_at:new Date().toISOString()};return this.saveRunOfShowToLocalStorage(o)}}static async updateRunOfShowData(s,t){try{return console.log(" Updating run of show data via API for event:",s,t),console.log(" Updating run of show data via API:",s,t),null}catch(i){return console.error(" Exception updating run of show data:",i),null}}static async getRunOfShowData(s){try{console.log(" Loading run of show data from API for event:",s);const t=await Es.getRunOfShowData(s);return console.log(" Run of show data loaded from API:",t?"Found":"Not found"),t&&console.log(" Data structure:",{hasScheduleItems:!!t.schedule_items,scheduleItemsLength:t.schedule_items?.length||0,hasCustomColumns:!!t.custom_columns,customColumnsLength:t.custom_columns?.length||0,hasSettings:!!t.settings}),t}catch(t){return console.error(" Exception in getRunOfShowData:",t),console.log(" Falling back to localStorage due to exception..."),this.getRunOfShowFromLocalStorageById(s)}}static async deleteRunOfShowData(s){try{return console.warn("Supabase not configured, using localStorage fallback"),this.deleteRunOfShowFromLocalStorage(s)}catch(t){return console.error("Error deleting run of show data:",t),this.deleteRunOfShowFromLocalStorage(s)}}static saveCalendarToLocalStorage(s){const t=this.getCalendarFromLocalStorage(),i={...s,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return t.unshift(i),localStorage.setItem("calendar_events",JSON.stringify(t)),console.log(" Calendar event saved to localStorage"),i}static getCalendarFromLocalStorage(){try{const s=localStorage.getItem("calendar_events"),t=s?JSON.parse(s):[];return console.log(" Calendar events loaded from localStorage:",t.length),t}catch(s){return console.error("Error reading from localStorage:",s),[]}}static getCalendarFromLocalStorageById(s){return this.getCalendarFromLocalStorage().find(i=>i.id===s)||null}static deleteCalendarFromLocalStorage(s){try{const i=this.getCalendarFromLocalStorage().filter(o=>o.id!==s);return localStorage.setItem("calendar_events",JSON.stringify(i)),!0}catch(t){return console.error("Error deleting from localStorage:",t),!1}}static saveRunOfShowToLocalStorage(s){const t=this.getAllRunOfShowFromLocalStorage(),i=new Date().toISOString(),o=t.findIndex(c=>c.event_id===s.event_id);let u;if(o>=0){const c=t[o],f=c.last_change_at||i;u={...s,id:c.id,created_at:c.created_at,updated_at:i,last_change_at:f},t[o]=u}else u={...s,id:Date.now().toString(),created_at:i,updated_at:i,last_change_at:i},t.push(u);return localStorage.setItem("run_of_show_data",JSON.stringify(t)),console.log(" Run of show data saved to localStorage"),u}static getAllRunOfShowFromLocalStorage(){try{const s=localStorage.getItem("run_of_show_data");return s?JSON.parse(s):[]}catch(s){return console.error("Error reading run of show data from localStorage:",s),[]}}static getRunOfShowFromLocalStorageById(s){console.log(" Loading from localStorage for event:",s);const t=this.getAllRunOfShowFromLocalStorage();console.log(" All localStorage data:",t);const i=t.find(o=>o.event_id===s);return console.log(" Found data for event:",i?"Yes":"No"),i&&console.log(" Found data structure:",{hasScheduleItems:!!i.schedule_items,scheduleItemsLength:i.schedule_items?.length||0,hasCustomColumns:!!i.custom_columns,customColumnsLength:i.custom_columns?.length||0,hasSettings:!!i.settings}),i||null}static deleteRunOfShowFromLocalStorage(s){try{const i=this.getAllRunOfShowFromLocalStorage().filter(o=>o.event_id!==s);return localStorage.setItem("run_of_show_data",JSON.stringify(i)),!0}catch(t){return console.error("Error deleting run of show data from localStorage:",t),!1}}static async checkForChanges(s,t){try{return console.log(" Checking for changes via API:",{eventId:s,localLastChangeAt:t}),console.log(" Checking for changes via API:",{eventId:s,localLastChangeAt:t}),{hasChanges:!1}}catch(i){return console.error(" Error checking for changes:",i),{hasChanges:!1}}}static async loadChangesDynamically(s){try{return console.log(" Loading changes dynamically for event:",s),this.getRunOfShowFromLocalStorageById(s);const{data:t,error:i}=await supabase.from("run_of_show_data").select("*").eq("event_id",s).single();return i?(console.error(" Error loading changes:",i),null):(console.log(" Changes loaded successfully"),t)}catch(t){return console.error(" Error loading changes dynamically:",t),null}}static async saveUserSession(s,t,i,o){try{return console.log(" Saving authenticated user session via API:",{eventId:s,userId:t,username:i,role:o}),console.log(" Saving user session via API:",{eventId:s,userId:t,username:i,role:o}),this.saveUserSessionToLocalStorage(s,i,o)}catch(u){return console.error("Error saving user session:",u),this.saveUserSessionToLocalStorage(s,i,o)}}static async getCurrentUserSession(s,t){try{return console.log(" Getting current user session via API:",{userId:s,eventId:t}),console.log(" Getting current user session via API:",{userId:s,eventId:t}),this.getCurrentUserSessionFromLocalStorage()}catch(i){return console.error("Error getting current user session:",i),this.getCurrentUserSessionFromLocalStorage()}}static async updateUserActivity(s){try{console.log(" Updating user activity via API:",s),console.log(" Updating user activity via API:",s)}catch(t){console.error("Error updating user activity:",t)}}static async cleanupInactiveSessions(){try{console.log(" Cleaning up inactive sessions via API"),console.log(" Cleaning up inactive sessions via API")}catch(s){console.error("Error cleaning up inactive sessions:",s)}}static saveUserSessionToLocalStorage(s,t,i){try{const o={event_id:s,username:t,role:i,session_started_at:new Date().toISOString(),last_activity_at:new Date().toISOString(),is_active:!0};return localStorage.setItem(`current_user_session_${t}`,JSON.stringify(o)),localStorage.setItem(`user_role_${s}_${t}`,i),console.log(" User session saved to localStorage"),!0}catch(o){return console.error("Error saving user session to localStorage:",o),!1}}static getCurrentUserSessionFromLocalStorage(){try{const s=Object.keys(localStorage);let t=null,i=0;for(const o of s)if(o.startsWith("current_user_session_")){const u=JSON.parse(localStorage.getItem(o)||"{}");if(u.is_active&&u.last_activity_at){const c=new Date(u.last_activity_at).getTime();c>i&&(i=c,t=u)}}return console.log(" Retrieved user session from localStorage:",t),t}catch(s){return console.error("Error getting current user session from localStorage:",s),null}}static async loadCue(s,t,i,o,u,c,f){try{console.log(" Loading CUE via API:",{eventId:s,itemId:t,userId:i,totalDurationSeconds:o,rowNumber:u,cueDisplay:c,timerId:f}),console.log(" DatabaseService.loadCue parameters:",{eventId:s,itemId:t,userId:i,totalDurationSeconds:o,rowNumber:u,cueDisplay:c,timerId:f});const h=await fetch(`${bs}/api/active-timers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,user_id:i,timer_state:"loaded",is_active:!0,is_running:!1,started_at:null,last_loaded_cue_id:t,cue_is:c,duration_seconds:o})});return h.ok?(console.log(" CUE loaded successfully via API"),!0):(console.error(" Failed to load CUE via API:",h.status,h.statusText),!1)}catch(h){return console.error(" Error loading CUE:",h),!1}}static async startTimer(s,t,i,o,u,c,f,h){try{console.log(" Starting timer via API:",{eventId:s,itemId:t,userId:i,totalDurationSeconds:o,startedAt:u,rowNumber:c,cueDisplay:f,timerId:h});const x=await fetch(`${bs}/api/active-timers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,user_id:i,timer_state:"running",is_active:!0,is_running:!0,last_loaded_cue_id:t,cue_is:f,duration_seconds:o})});return x.ok?(console.log(" Timer started successfully via API"),!0):(console.error(" Failed to start timer via API:",x.status,x.statusText),!1)}catch(x){return console.error(" Error starting timer:",x),!1}}static async stopTimer(s,t,i,o,u){try{console.log(" Stopping timer via API:",{eventId:s,itemId:t,userId:i,userName:o,userRole:u});const c=await fetch(`${bs}/api/active-timers/stop`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,user_id:i,user_name:o||"Unknown User",user_role:u||"VIEWER"})});if(c.ok){const f=await c.json();return console.log(" Timer stopped successfully via API:",f.stopped?"Timer stopped":"No active timer found"),f.stopped}else return console.error(" Failed to stop timer via API:",c.status,c.statusText),!1}catch(c){return console.error(" Error stopping timer:",c),!1}}static async updateTimerDuration(s,t,i){try{console.log(` Updating timer duration via API for event ${s}, item ${t} to ${i}s`);const o=await fetch(`${bs}/api/active-timers/${s}/${t}/duration`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({duration_seconds:i})});if(o.ok){const u=await o.json();return console.log(" Timer duration updated successfully via API:",u),!0}else return console.error(" Failed to update timer duration via API:",o.status,o.statusText),!1}catch(o){return console.error(" Error updating timer duration:",o),!1}}static async stopAllTimersForEvent(s,t,i,o){try{console.log(" Stopping all timers via API:",{eventId:s,userId:t,userName:i,userRole:o});const u=await fetch(`${bs}/api/active-timers/stop-all`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,user_id:t,user_name:i||"Unknown User",user_role:o||"VIEWER"})});if(u.ok){const c=await u.json();return console.log(" All timers stopped successfully via API:",c.message),!0}else return console.error(" Failed to stop all timers via API:",u.status,u.statusText),!1}catch(u){return console.error(" Error stopping all timers:",u),!1}}static async getActiveTimer(s){try{console.log(" Getting active timer via API:",s);const t=await fetch(`${bs}/api/active-timers/${s}`);if(t.ok){const i=await t.json();return i.length>0?i[0]:null}return null}catch(t){return console.error("Error getting active timer:",t),null}}static subscribeToTimerChanges(s,t){return console.warn("Real-time updates handled via Socket.IO and SSE"),null}static async hasActiveSubCueTimer(s){try{console.log(" Checking active sub-cue timer via API:",s);const t=await fetch(`${bs}/api/sub-cue-timers/${s}`);return t.ok?{data:(await t.json()).length>0,error:null}:{data:!1,error:null}}catch(t){return console.error(" Error checking active sub-cue timer:",t),{data:!1,error:t}}}static async getActiveSubCueTimer(s){try{console.log(" Getting active sub-cue timer via API:",s);const t=await fetch(`${bs}/api/sub-cue-timers/${s}`);if(t.ok){const i=await t.json();return{data:i.length>0?i[0]:null,error:null}}return{data:null,error:null}}catch(t){return console.error(" Error getting active sub-cue timer:",t),{data:null,error:t}}}static async getActiveSubCueTimers(s){try{console.log(" Getting active sub-cue timers via API:",s);const t=await fetch(`${bs}/api/sub-cue-timers/${s}`);return t.ok?{data:await t.json(),error:null}:{data:[],error:null}}catch(t){return console.error(" Error getting active sub-cue timers:",t),{data:[],error:t}}}static async startSubCueTimer(s,t,i,o,u,c,f,h,x){try{console.log(" Starting sub-cue timer via API:",{eventId:s,itemId:t,userId:i,durationSeconds:o,rowNumber:u,cueDisplay:c,timerId:f,userName:h,userRole:x});const v=await fetch(`${bs}/api/sub-cue-timers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,user_id:i,user_name:h||"Unknown User",user_role:x||"VIEWER",duration_seconds:o,row_number:u,cue_display:c,timer_id:f,is_active:!0,is_running:!0,started_at:new Date().toISOString()})});if(v.ok){const b=await v.json();return console.log(" Sub-cue timer started successfully via API:",b),{data:b,error:null}}else return console.error(" Failed to start sub-cue timer via API:",v.status,v.statusText),{data:null,error:{message:`HTTP ${v.status}`}}}catch(v){return console.error(" Error starting sub-cue timer:",v),{data:null,error:v}}}static async expireCompletedSubCueTimers(){try{return console.warn(" Supabase client not initialized, skipping expire completed sub-cue timers"),{data:0,error:null}}catch(s){return console.error(" Error expiring completed sub-cue timers:",s),{data:0,error:s}}}static async stopSubCueTimer(s,t){try{console.log(" Stopping sub-cue timer via API:",{eventId:s,itemId:t});const i=await fetch(`${bs}/api/sub-cue-timers/stop`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t||null})});if(i.ok){const o=await i.json();return console.log(" Sub-cue timer stopped successfully via API:",o),{data:o,error:null}}else return console.error(" Failed to stop sub-cue timer via API:",i.status,i.statusText),{data:null,error:{message:`HTTP ${i.status}`}}}catch(i){return console.error(" Error stopping sub-cue timer:",i),{data:null,error:i}}}static async getActiveSecondaryTimer(s){try{return console.warn(" Supabase client not initialized, skipping get active secondary timer"),{data:null,error:null}}catch(t){return console.error(" Error getting active secondary timer:",t),{data:null,error:t}}}static async startSecondaryTimer(s,t,i,o){try{return console.warn(" Supabase client not initialized, skipping start secondary timer"),{data:null,error:null}}catch(u){return console.error(" Error starting secondary timer:",u),{data:null,error:u}}}static async stopSecondaryTimer(s){try{return console.warn(" Supabase client not initialized, skipping stop secondary timer"),{data:null,error:null}}catch(t){return console.error(" Error stopping secondary timer:",t),{data:null,error:t}}}static async updateSecondaryTimerRemaining(s,t){try{return console.warn(" Supabase client not initialized, skipping update secondary timer remaining"),{data:null,error:null}}catch(i){return console.error(" Error updating secondary timer remaining:",i),{data:null,error:i}}}static async updateSubCueTimerRemaining(s,t,i){try{return console.warn(" Supabase client not initialized, skipping update sub-cue timer remaining"),!1}catch(o){return console.error("Error updating sub-cue timer remaining time:",o),!1}}static async clearAllActiveTimersForEvent(s){try{console.log(" Clearing all active timers for event via API:",s);const t=await fetch(`${bs}/api/active-timers/stop-all`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s})});if(!t.ok)return console.error(" Error clearing all active timers via API:",t.statusText),!1;const i=await t.json();return console.log(" All active timers cleared for event via API:",s,i),!0}catch(t){return console.error(" Error clearing all active timers:",t),!1}}static async getCompletedCues(s){try{return console.log(" Getting completed cues via API:",s),console.log(" Getting completed cues via API:",s),null}catch(t){return console.error(" Error getting completed cues:",t),null}}static async markCueCompleted(s,t,i,o,u,c){try{console.log(" Marking cue as completed via API:",{eventId:s,itemId:t,userId:o,userName:u,userRole:c});const f=await fetch("https://ros-50-production.up.railway.app/api/completed-cues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,cue_id:i,user_id:o,user_name:u,user_role:c})});if(!f.ok)return console.error(" Failed to mark cue as completed:",f.status,f.statusText),!1;const h=await f.json();return console.log(" Cue marked as completed successfully:",{eventId:s,itemId:t,data:h}),!0}catch(f){return console.error(" Error marking cue as completed:",f),!1}}static async unmarkCueCompleted(s,t){try{console.log(" Unmarking cue as completed via API:",{eventId:s,itemId:t});const i=await fetch("https://ros-50-production.up.railway.app/api/completed-cues",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t})});if(!i.ok)return console.error(" Failed to unmark cue as completed:",i.status,i.statusText),!1;const o=await i.json();return console.log(" Cue unmarked as completed:",{eventId:s,itemId:t,data:o}),!0}catch(i){return console.error(" Error unmarking cue as completed:",i),!1}}static async clearCompletedCues(s){try{console.log(" Clearing all completed cues from Neon database via API:",{eventId:s});const t=await fetch(`${bs}/api/completed-cues/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});return t.ok?(console.log(" Successfully deleted all completed cues from Neon database for event:",s),!0):(console.error(" Error clearing completed cues from Neon via API:",t.statusText),!1)}catch(t){return console.error(" Error clearing completed cues from Neon:",t),!1}}static async getIndentedCues(s){try{console.log(" Getting indented cues via API:",s);const t=await fetch(`${bs}/api/indented-cues/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)return console.error(" Failed to get indented cues:",t.status,t.statusText),null;const i=await t.json();return console.log(" Indented cues retrieved successfully:",i),i}catch(t){return console.error(" Error getting indented cues:",t),null}}static async markCueIndented(s,t,i,o,u,c){try{console.log(" Marking cue as indented via API:",{eventId:s,itemId:t,parentItemId:i,userId:o,userName:u,userRole:c});const f=await fetch(`${bs}/api/indented-cues`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:s,item_id:t,parent_item_id:i,user_id:o,user_name:u,user_role:c})});if(!f.ok)return console.error(" Failed to mark cue as indented:",f.status,f.statusText),!1;const h=await f.json();return console.log(" Cue marked as indented successfully:",{eventId:s,itemId:t,parentItemId:i,data:h}),!0}catch(f){return console.error(" Error marking cue as indented:",f),!1}}static async unmarkCueIndented(s,t){try{console.log(" Unmarking cue as indented via API:",{eventId:s,itemId:t});const i=await fetch(`${bs}/api/indented-cues/${s}/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});return i.ok?(console.log(" Cue unmarked as indented successfully"),!0):(console.error(" Failed to unmark cue as indented:",i.status,i.statusText),!1)}catch(i){return console.error(" Error unmarking cue as indented:",i),!1}}static async clearIndentedCues(s){try{console.log(" Clearing indented cues via API:",s);const t=await fetch(`${bs}/api/indented-cues/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});return t.ok?(console.log(" Indented cues cleared successfully"),!0):(console.error(" Failed to clear indented cues:",t.status,t.statusText),!1)}catch(t){return console.error(" Error clearing indented cues:",t),!1}}static subscribeToTableChanges(s,t,i){try{return console.error(" Supabase client not initialized"),null}catch(o){return console.error(` Error setting up ${s} subscription:`,o),null}}static async updateLastLoadedCue(s,t,i){try{return console.log(" Updating last loaded CUE via API:",{eventId:s,cueId:t,state:i}),{data:{success:!0},error:null}}catch(o){return console.error(" Error updating last loaded CUE:",o),{data:null,error:o}}}static async getLastLoadedCue(s){try{return console.log(" Getting last loaded CUE via API:",s),console.log(" Getting last loaded CUE via API:",s),{data:null,error:null}}catch(t){return console.error(" Error getting last loaded CUE:",t),{data:null,error:t}}}static async saveTimerMessage(s){try{console.log(" Saving timer message via API:",s);const t=await fetch(`${bs}/api/timer-messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(t.ok){const i=await t.json();return console.log(" Timer message saved via API:",i),i}else return console.error(" Failed to save timer message via API:",t.status,t.statusText),this.saveTimerMessageToLocalStorage(s)}catch(t){return console.error(" Error saving timer message:",t),this.saveTimerMessageToLocalStorage(s)}}static async getTimerMessage(s){try{console.log(" Getting timer message via API:",s);const t=await fetch(`${bs}/api/timer-messages/${s}`);if(t.ok){const i=await t.json();return i.length>0?i[0]:null}return null}catch(t){return console.error(" Error loading timer message:",t),null}}static async updateTimerMessage(s,t){try{console.log(" Updating timer message via API:",{id:s,updates:t});const i=await fetch(`${bs}/api/timer-messages/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return i.ok?(console.log(" Timer message updated via API"),!0):(console.error(" Failed to update timer message via API:",i.status,i.statusText),this.updateTimerMessageInLocalStorage(s,t))}catch(i){return console.error(" Error updating timer message:",i),this.updateTimerMessageInLocalStorage(s,t)}}static async disableTimerMessage(s){return this.updateTimerMessage(s,{enabled:!1})}static async getTimerMessagesForEvent(s){try{console.log(" Getting timer messages via API:",s);const t=await fetch(`${bs}/api/timer-messages/${s}`);if(t.ok){const i=await t.json();return console.log(" Timer messages loaded via API:",i.length),i}else return console.error(" Failed to load timer messages via API:",t.status,t.statusText),this.getTimerMessagesFromLocalStorage().filter(i=>i.event_id===s)}catch(t){return console.error(" Error loading timer messages:",t),this.getTimerMessagesFromLocalStorage().filter(i=>i.event_id===s)}}static async getCueDataForItem(s,t){try{return console.warn(" Supabase client not initialized, skipping get CUE data"),null}catch(i){return console.error(" Error getting CUE data for item:",i),null}}static async getHybridTimerData(s){try{return console.warn("Supabase not configured, cannot fetch hybrid timer data"),null}catch(t){return console.error(" Error fetching hybrid timer data:",t),null}}static saveTimerMessageToLocalStorage(s){const t=this.getTimerMessagesFromLocalStorage(),i={...s,id:`local_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return t.push(i),localStorage.setItem("timer_messages",JSON.stringify(t)),i}static getTimerMessagesFromLocalStorage(){try{const s=localStorage.getItem("timer_messages");return s?JSON.parse(s):[]}catch(s){return console.error("Error loading timer messages from localStorage:",s),[]}}static getTimerMessageFromLocalStorage(s){return this.getTimerMessagesFromLocalStorage().find(i=>i.event_id===s&&i.enabled)||null}static updateTimerMessageInLocalStorage(s,t){try{const i=this.getTimerMessagesFromLocalStorage(),o=i.findIndex(u=>u.id===s);return o!==-1?(i[o]={...i[o],...t,updated_at:new Date().toISOString()},localStorage.setItem("timer_messages",JSON.stringify(i)),!0):!1}catch(i){return console.error("Error updating timer message in localStorage:",i),!1}}}const fC=({isOpen:e,onClose:s,onRoleSelected:t,eventId:i})=>{const{user:o}=Do(),[u,c]=E.useState("VIEWER"),[f,h]=E.useState(!1);E.useEffect(()=>{if(e&&o?.id&&i){const b=localStorage.getItem(`user_role_${i}_${o.id}`);b&&["VIEWER","EDITOR","OPERATOR"].includes(b)&&c(b)}},[e,o?.id,i]);const x=[{value:"VIEWER",label:"Viewer (Read Only)",description:"Can view but cannot edit any content",icon:""},{value:"OPERATOR",label:"Operator (Limited Edit)",description:"Can control timers and view data",icon:""},{value:"EDITOR",label:"Editor (Full Access)",description:"Can edit all content and settings",icon:""}],v=async()=>{if(!(!o||!i)){h(!0);try{await Nt.saveUserSession(i,o.id,o.user_metadata?.full_name||o.email||"Unknown",u)?(t(u),s()):alert("Failed to save user session. Please try again.")}catch(b){console.error("Error saving user session:",b),alert("Error saving user session. Please try again.")}finally{h(!1)}}};return e?a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[9999] p-4",children:a.jsxDEV("div",{className:"bg-slate-800 p-8 rounded-xl shadow-2xl max-w-2xl w-full",children:[a.jsxDEV("div",{className:"text-center mb-6",children:[a.jsxDEV("h2",{className:"text-3xl font-bold text-white mb-2",children:"Select Your Role"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:86,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-slate-300 text-lg",children:["Welcome, ",o?.user_metadata?.full_name||o?.email,"! Please select your role for this session."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:87,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:85,columnNumber:9},void 0),a.jsxDEV("div",{className:"space-y-4 mb-8",children:x.map(b=>a.jsxDEV("label",{className:`flex items-start gap-4 cursor-pointer p-4 rounded-lg border-2 transition-colors ${u===b.value?"border-blue-500 bg-blue-900/20":"border-slate-600 hover:border-blue-400"}`,children:[a.jsxDEV("input",{type:"radio",name:"role",value:b.value,checked:u===b.value,onChange:O=>c(O.target.value),className:"w-5 h-5 text-blue-600 mt-1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:103,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxDEV("span",{className:"text-2xl",children:b.icon},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:113,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-bold text-lg",children:b.label},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:114,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:112,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-slate-300 text-sm",children:b.description},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:111,columnNumber:15},void 0)]},b.value,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:95,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:93,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-4",children:[a.jsxDEV("button",{onClick:v,disabled:f,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors",children:f?"Loading...":"Continue with Selected Role"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:123,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:130,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:122,columnNumber:9},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-blue-900 rounded-lg",children:a.jsxDEV("p",{className:"text-blue-200 text-sm",children:[a.jsxDEV("strong",{children:"Note:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:140,columnNumber:13},void 0)," You can change your role later from your profile menu."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:139,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:138,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:84,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/RoleSelectionModal.tsx",lineNumber:83,columnNumber:5},void 0):null},iV=()=>{const e=Ai(),{user:s}=Do(),[t,i]=E.useState([]),[o,u]=E.useState("upcoming"),[c,f]=E.useState(!1),[h,x]=E.useState("all"),[v,b]=E.useState("all"),[O,w]=E.useState(""),[C,S]=E.useState(null),[R,X]=E.useState({name:"",date:"",location:"Great Hall",numberOfDays:1}),[G,k]=E.useState({name:"",date:"",location:"Great Hall",numberOfDays:1}),[ie,K]=E.useState(!1),[z,A]=E.useState(null),[ce,T]=E.useState(!1),[H,Z]=E.useState(()=>localStorage.getItem("forceLocalServer")==="true");E.useEffect(()=>{W()},[]);const W=async()=>{try{T(!0),console.log(" Loading events from Neon database..."),console.log(" API Base URL:","https://ros-50-production.up.railway.app"),console.log(" Environment:","Development");const Q=await Nt.getCalendarEvents();if(console.log(" Raw calendar events from Neon:",Q),Q&&Q.length>0){console.log(" Processing calendar events:",Q.length);const _=Q.map((J,L)=>{console.log(` Processing event ${L}:`,{id:J.id,name:J.name,date:J.date,schedule_data:J.schedule_data,created_at:J.created_at});const q=new Date(J.date).toISOString().split("T")[0],Xe={id:J.id||Date.now().toString(),name:J.name,date:q,originalDate:J.date,location:J.schedule_data?.location||"Great Hall",numberOfDays:J.schedule_data?.numberOfDays||1,created_at:J.created_at||new Date().toISOString(),updated_at:J.updated_at||new Date().toISOString()};return console.log(` Transformed event ${L}:`,Xe),Xe});console.log(" All transformed events:",_),i(_),console.log(" Loaded events from Neon:",_.length),console.log(" Final events state:",_)}else{console.log(" No events found in Neon, checking localStorage...");const _=localStorage.getItem("events");if(_)try{const J=JSON.parse(_);i(J),console.log(" Loaded events from localStorage fallback:",J.length)}catch(J){console.error("Error loading events from localStorage:",J)}else console.log(" No events found in either Neon or localStorage"),i([])}}catch(Q){console.error(" Error loading events from Neon:",Q);const _=localStorage.getItem("events");if(_)try{const J=JSON.parse(_);i(J),console.log(" Fallback to localStorage due to error:",J.length)}catch(J){console.error("Error parsing localStorage events:",J),i([])}else i([])}finally{T(!1)}};E.useEffect(()=>{localStorage.setItem("events",JSON.stringify(t))},[t]);const M=async()=>{if(!G.name||!G.date||!G.location){alert("Please fill in all fields");return}const _={id:`event-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:G.name,date:G.date,location:G.location,numberOfDays:G.numberOfDays,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};f(!1),k({name:"",date:"",location:"Great Hall",numberOfDays:1}),i(J=>[...J,_]);try{console.log(" Saving new event to Neon:",_);const J={name:_.name,date:_.date,schedule_data:{location:_.location,numberOfDays:_.numberOfDays,eventId:_.id}},L=await Nt.saveCalendarEvent(J);console.log(" Calendar event saved to Neon:",L);const he=await Nt.saveRunOfShowData({event_id:_.id,event_name:_.name,event_date:_.date,schedule_items:[],custom_columns:[],settings:{eventName:_.name,masterStartTime:"",lastSaved:new Date().toISOString()}},{userId:s?.id||"unknown",userName:s?.user_metadata?.full_name||s?.email||"Unknown User",userRole:"EDITOR"});console.log(" Run of Show data created in Neon:",he),setTimeout(()=>{console.log(" Reloading events after save..."),W()},1e3)}catch(J){console.error(" Error auto-saving event to Neon:",J)}},Ce=async()=>{if(console.log(" EDIT EVENT CALLED!",{editingEvent:C,editFormData:R}),!C||!R.name||!R.date||!R.location){console.error(" Validation failed:",{editingEvent:C,editFormData:R}),alert("Please fill in all fields");return}const Q={...C,name:R.name,date:R.date,location:R.location,numberOfDays:R.numberOfDays,updated_at:new Date().toISOString()};console.log(" About to update event:",{original:C,updated:Q,changes:{name:C.name!==Q.name,date:C.date!==Q.date,location:C.location!==Q.location,numberOfDays:C.numberOfDays!==Q.numberOfDays}}),S(null),X({name:"",date:"",location:"Great Hall",numberOfDays:1}),i(_=>_.map(J=>J.id===C.id?Q:J)),console.log(" Local UI updated");try{console.log(" Starting API update for event:",Q),await Es.clearCache(),console.log(" Cache cleared");const _=await Es.getCalendarEvents();console.log(" Fetched calendar events:",_.length);const J=_.find(L=>L.schedule_data?.eventId===C.id||L.id===C.id||L.name===C.name);if(console.log(" Looking for calendar event to update:",{editingEventId:C.id,editingEventName:C.name,matchingCalendarEvent:J}),J?.id){const L={name:Q.name,date:Q.date,schedule_data:{...J.schedule_data,location:Q.location,numberOfDays:Q.numberOfDays,eventId:Q.id}};console.log(" Updating calendar event via API:",L),console.log(" Schedule data being sent:",L.schedule_data),await Es.updateCalendarEvent(J.id,L),console.log(" Calendar event updated via API")}else console.warn(" No matching calendar event found for update");console.log(" Updating run of show data for event:",C.id);try{const L=await Es.getRunOfShowData(C.id);L?(await Es.saveRunOfShowData({event_id:C.id,event_name:Q.name,event_date:Q.date,schedule_items:L.schedule_items||[],custom_columns:L.custom_columns||[],settings:{...L.settings,eventName:Q.name,eventDate:Q.date,location:Q.location,numberOfDays:Q.numberOfDays,lastSaved:new Date().toISOString()},last_modified_by:s?.id,last_modified_by_name:s?.user_metadata?.full_name||s?.email||"Unknown User",last_modified_by_role:s?.user_metadata?.role||"Unknown"}),console.log(" Run of Show data updated via API")):console.log(" No existing run of show data for this event, skipping update")}catch(L){console.warn(" Could not update run of show data:",L)}setTimeout(()=>{console.log(" Reloading events after update..."),W()},1e3)}catch(_){console.error(" Error updating event via API:",_),console.error(" Error details:",_),alert("Error updating event in database. Please try again."),W()}},De=async Q=>{if(window.confirm("Are you sure you want to delete this event?")){i(_=>_.filter(J=>J.id!==Q));try{const _=t.find(J=>J.id===Q);if(_){await Nt.deleteRunOfShowData(Q),console.log("Run of Show data deleted from Supabase automatically");const L=(await Nt.getCalendarEvents()).find(he=>he.schedule_data?.eventId===Q||he.name===_.name);L?.id&&(await Nt.deleteCalendarEvent(L.id),console.log("Calendar event deleted from Supabase automatically"))}}catch(_){console.error("Error auto-deleting event from Supabase:",_)}}},we=Q=>{S(Q),X({name:Q.name,date:Q.date,location:Q.location,numberOfDays:Q.numberOfDays})},ge=Q=>{A(Q),K(!0)},He=async Q=>{if(z&&s?.id){try{const _=s.user_metadata?.full_name||s.email||"Unknown";await Nt.saveUserSession(z.id,s.id,_,Q),console.log(" Role saved to Supabase from EventListPage:",Q)}catch(_){console.error(" Failed to save role to Supabase from EventListPage:",_)}e("/run-of-show",{state:{event:z,userRole:Q}}),K(!1),A(null)}},ue=Q=>{const _=vp.find(J=>J.value===Q);return _?_.color:"bg-gray-600"},ke=Q=>Q instanceof Date&&!isNaN(Q.getTime()),Ue=Q=>{const[_,J,L]=Q.split("-").map(Number);return new Date(_,J-1,L).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"America/New_York"})},le=(()=>{console.log(" Filtering events:",{totalEvents:t.length,activeTab:o,filterLocation:h,filterDays:v,searchTerm:O,events:t.map(L=>({id:L.id,name:L.name,date:L.date}))});const Q=new Date,_=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()),J=t.filter(L=>{const[he,q,Xe]=L.date.split("-").map(Number),Ke=new Date(he,q-1,Xe),Dt=o==="upcoming"?Ke>=_:Ke<_,St=h==="all"||L.location===h,it=v==="all"||L.numberOfDays.toString()===v,tr=O===""||L.name.toLowerCase().includes(O.toLowerCase())||L.location.toLowerCase().includes(O.toLowerCase()),Jt=Dt&&St&&it&&tr;return console.log(` Event "${L.name}" filter result:`,{dateMatch:Dt,locationMatch:St,daysMatch:it,searchMatch:tr,passes:Jt,eventDate:ke(Ke)?Ke.toISOString():"Invalid Date",now:ke(Q)?Q.toISOString():"Invalid Date"}),Jt}).sort((L,he)=>{const q=new Date(L.date),Xe=new Date(he.date);return o==="upcoming"?q.getTime()-Xe.getTime():Xe.getTime()-q.getTime()});return console.log(" Filtered events result:",J.length,J.map(L=>L.name)),J})(),oe=(H?"http://localhost:3002":"https://ros-50-production.up.railway.app").includes("localhost");return E.useEffect(()=>{localStorage.setItem("forceLocalServer",H.toString()),H?(window.__FORCE_LOCAL_API__=!0,window.__LOCAL_API_URL__="http://localhost:3002"):window.__FORCE_LOCAL_API__=!1},[H]),a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-slate-200 pt-16",children:[a.jsxDEV("div",{className:"fixed top-16 left-0 right-0 z-40 bg-slate-800 border-b border-slate-700",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto px-6 py-2 flex items-center justify-end gap-3",children:[a.jsxDEV("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxDEV("div",{className:`w-1.5 h-1.5 rounded-full ${oe?"bg-green-400":"bg-blue-400"} animate-pulse`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:537,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-slate-400",children:oe?" Local":" Railway"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:538,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:536,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>{Z(!H),setTimeout(()=>{window.location.reload()},100)},className:`px-3 py-1 ${oe?"bg-green-600 hover:bg-green-500":"bg-blue-600 hover:bg-blue-500"} text-white rounded text-xs font-medium transition-colors`,title:`Currently using ${oe?"Local":"Railway"} server. Click to switch.`,children:"Switch Server"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:543,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:535,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:534,columnNumber:7},void 0),a.jsxDEV("div",{className:"text-center py-8 mt-10",children:[a.jsxDEV("h1",{className:"text-4xl font-bold text-white mb-2",children:" Event List Calendar"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:560,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-xl text-slate-400 mb-4",children:"Manage your events and schedules"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:563,columnNumber:9},void 0),s&&a.jsxDEV("div",{className:"text-center mb-6",children:a.jsxDEV("p",{className:"text-white font-medium text-lg",children:["Welcome back, ",s.user_metadata?.full_name||s.email,"!"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:569,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:568,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:559,columnNumber:7},void 0),a.jsxDEV("div",{className:"max-w-6xl mx-auto px-6",children:[a.jsxDEV("div",{className:"flex justify-center mb-8",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-1 flex",children:[a.jsxDEV("button",{onClick:()=>u("upcoming"),className:`px-6 py-3 rounded-md font-semibold transition-colors ${o==="upcoming"?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:" Upcoming Events"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:581,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>u("past"),className:`px-6 py-3 rounded-md font-semibold transition-colors ${o==="past"?"bg-orange-600 text-white":"text-slate-400 hover:text-white"}`,children:" Past Events"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:591,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:580,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:579,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex justify-center mb-6",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-4 w-full max-w-4xl",children:[a.jsxDEV("div",{className:"flex items-center gap-6 justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-6",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white font-semibold",children:" Search:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:610,columnNumber:19},void 0),a.jsxDEV("input",{type:"text",value:O,onChange:Q=>w(Q.target.value),placeholder:"Search events by name or location...",className:"w-80 px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:611,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:609,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white font-semibold",children:" Filter by location:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:620,columnNumber:19},void 0),a.jsxDEV("select",{value:h,onChange:Q=>x(Q.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:[a.jsxDEV("option",{value:"all",children:"All Locations"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:626,columnNumber:21},void 0),vp.map(Q=>a.jsxDEV("option",{value:Q.value,children:Q.label},Q.value,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:628,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:621,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:619,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:608,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>{console.log(" Manual refresh triggered"),W()},disabled:ce,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded-lg font-medium transition-colors text-sm",title:"Refresh events list",children:ce?" Refreshing...":" Refresh"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:637,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:607,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-3 text-center",children:a.jsxDEV("p",{className:"text-xs text-slate-400",children:` Events don't auto-refresh. Click "Refresh" to check for new events.`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:652,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:651,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:606,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:605,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex justify-center mb-8",children:a.jsxDEV("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:"+ Add New Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:661,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:660,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-6 shadow-2xl",children:[ce&&a.jsxDEV("div",{className:"text-center py-4 mb-4",children:a.jsxDEV("div",{className:"text-blue-400 text-lg",children:" Loading events..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:673,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:672,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-800 rounded-lg overflow-hidden border border-slate-600",children:a.jsxDEV("div",{className:"overflow-x-auto",children:a.jsxDEV("table",{className:"w-full",children:[a.jsxDEV("thead",{className:"bg-slate-700",children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold border-r border-slate-600",children:"Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:681,columnNumber:21},void 0),a.jsxDEV("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold border-r border-slate-600",children:"Date"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:682,columnNumber:21},void 0),a.jsxDEV("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold border-r border-slate-600",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:683,columnNumber:21},void 0),a.jsxDEV("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold border-r border-slate-600",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:684,columnNumber:21},void 0),a.jsxDEV("th",{className:"px-4 py-3 text-center text-slate-300 font-semibold",children:"Actions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:685,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:680,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:679,columnNumber:17},void 0),a.jsxDEV("tbody",{children:le.length===0?a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:5,className:"px-4 py-12 text-center",children:[a.jsxDEV("div",{className:"text-6xl mb-4",children:o==="upcoming"?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:692,columnNumber:25},void 0),a.jsxDEV("h3",{className:"text-2xl font-bold text-white mb-2",children:["No ",o," events"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:695,columnNumber:25},void 0),a.jsxDEV("p",{className:"text-slate-400",children:o==="upcoming"?"Add your first upcoming event to get started!":"Past events will appear here once you have some."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:698,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:691,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:690,columnNumber:21},void 0):le.map(Q=>a.jsxDEV("tr",{className:"border-b border-slate-600",children:[a.jsxDEV("td",{className:"px-4 py-3 text-white font-medium border-r border-slate-600",children:Q.name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:709,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-4 py-3 text-slate-300 border-r border-slate-600",children:Ue(Q.date)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:712,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-4 py-3 border-r border-slate-600",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${ue(Q.location)}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:717,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-slate-300",children:Q.location},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:718,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:716,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:715,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-4 py-3 text-slate-300 border-r border-slate-600",children:[Q.numberOfDays," day",Q.numberOfDays>1?"s":""]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:721,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-4 py-3",children:a.jsxDEV("div",{className:"flex gap-2 justify-center",children:[a.jsxDEV("button",{onClick:()=>ge(Q),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded transition-colors",children:"Launch"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:726,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>we(Q),className:"px-3 py-1 bg-green-600 hover:bg-green-500 text-white text-sm font-medium rounded transition-colors",children:"Edit"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:732,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>De(Q.id),className:"px-3 py-1 bg-red-600 hover:bg-red-500 text-white text-sm font-medium rounded transition-colors",children:"Delete"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:738,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:725,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:724,columnNumber:25},void 0)]},Q.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:708,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:688,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:678,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:677,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:676,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:670,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:577,columnNumber:7},void 0),c&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-4 max-w-sm w-full",children:[a.jsxDEV("h2",{className:"text-lg font-bold text-white mb-4",children:[a.jsxDEV("span",{style:{filter:"brightness(0) invert(1)"},children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:761,columnNumber:15},void 0)," Add New Event"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:760,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:765,columnNumber:17},void 0),a.jsxDEV("input",{type:"text",value:G.name,onChange:Q=>k(_=>({..._,name:Q.target.value})),placeholder:"Enter event name",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:766,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:764,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Date"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:775,columnNumber:17},void 0),a.jsxDEV("input",{type:"date",value:G.date,onChange:Q=>k(_=>({..._,date:Q.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",style:{colorScheme:"dark"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:776,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:774,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:787,columnNumber:17},void 0),a.jsxDEV("select",{value:G.location,onChange:Q=>k(_=>({..._,location:Q.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:vp.map(Q=>a.jsxDEV("option",{value:Q.value,children:Q.label},Q.value,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:794,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:788,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:786,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:801,columnNumber:17},void 0),a.jsxDEV("select",{value:G.numberOfDays,onChange:Q=>k(_=>({..._,numberOfDays:parseInt(Q.target.value)})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:Ly.map(Q=>a.jsxDEV("option",{value:Q,children:[Q," day",Q>1?"s":""]},Q,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:808,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:802,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:800,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:763,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-2 mt-4",children:[a.jsxDEV("button",{onClick:()=>{f(!1),k({name:"",date:"",location:"Great Hall",numberOfDays:1})},className:"flex-1 px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded text-sm font-medium",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:816,columnNumber:15},void 0),a.jsxDEV("button",{onClick:M,className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium",children:"Add Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:825,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:815,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:759,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:758,columnNumber:9},void 0),C&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-4 max-w-sm w-full",children:[a.jsxDEV("h2",{className:"text-lg font-bold text-white mb-4",children:[a.jsxDEV("span",{style:{filter:"brightness(0) invert(1)"},children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:841,columnNumber:15},void 0)," Edit Event"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:840,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:845,columnNumber:17},void 0),a.jsxDEV("input",{type:"text",value:R.name,onChange:Q=>X(_=>({..._,name:Q.target.value})),placeholder:"Enter event name",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:846,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:844,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Date"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:855,columnNumber:17},void 0),a.jsxDEV("input",{type:"date",value:R.date,onChange:Q=>X(_=>({..._,date:Q.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",style:{colorScheme:"dark"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:856,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:854,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:867,columnNumber:17},void 0),a.jsxDEV("select",{value:R.location,onChange:Q=>X(_=>({..._,location:Q.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:vp.map(Q=>a.jsxDEV("option",{value:Q.value,children:Q.label},Q.value,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:874,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:868,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:866,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:881,columnNumber:17},void 0),a.jsxDEV("select",{value:R.numberOfDays,onChange:Q=>X(_=>({..._,numberOfDays:parseInt(Q.target.value)})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:border-blue-500 focus:outline-none text-sm",children:Ly.map(Q=>a.jsxDEV("option",{value:Q,children:[Q," day",Q>1?"s":""]},Q,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:888,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:882,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:880,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:843,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-2 mt-4",children:[a.jsxDEV("button",{onClick:()=>{S(null),X({name:"",date:"",location:"Great Hall",numberOfDays:1})},className:"flex-1 px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded text-sm font-medium",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:896,columnNumber:15},void 0),a.jsxDEV("button",{onClick:Ce,className:"flex-1 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded text-sm font-medium",children:"Update Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:905,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:895,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:839,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:838,columnNumber:9},void 0),a.jsxDEV(fC,{isOpen:ie,onClose:()=>{K(!1),A(null)},onRoleSelected:He,eventId:z?.id||""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:917,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/EventListPage.tsx",lineNumber:532,columnNumber:5},void 0)};class oV{constructor(){this.localChanges=[],this.syncTimer=null,this.SYNC_DELAY=3e5,this.MAX_BATCH_SIZE=10,this.MAX_SYNC_ATTEMPTS=3,this.loadLocalChanges(),this.startSyncTimer()}addChange(s){const t={...s,id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,synced:!1};this.localChanges.unshift(t),this.localChanges.length>1e3&&(this.localChanges=this.localChanges.slice(0,1e3)),this.saveLocalChanges(),console.log(" Change logged locally:",t.changeType,t.details),console.log(" Total changes:",this.localChanges.length,"Unsynced:",this.localChanges.filter(o=>!o.synced).length);const i=this.localChanges.filter(o=>!o.synced).length;i>=this.MAX_BATCH_SIZE?(console.log(" Triggering sync due to batch size:",i),this.syncChanges()):console.log(" Waiting for more changes or timer. Unsynced:",i)}getLocalChanges(){return[...this.localChanges]}getUnsyncedChanges(){return this.localChanges.filter(s=>!s.synced)}getChangesCount(){const s=this.localChanges.length,t=this.localChanges.filter(i=>!i.synced).length;return{total:s,unsynced:t}}reloadLocalChanges(){this.loadLocalChanges(),console.log(" Reloaded local changes:",this.localChanges.length)}startSyncTimer(){this.syncTimer&&clearInterval(this.syncTimer),console.log(" Starting change log sync timer (5 minute interval)"),this.syncTimer=setInterval(()=>{const s=this.getUnsyncedChanges();s.length>0?(console.log(` Timer tick: Auto-syncing ${s.length} changes...`),this.syncChanges()):console.log(" Timer tick: No unsynced changes")},this.SYNC_DELAY)}stopSyncTimer(){this.syncTimer&&(clearInterval(this.syncTimer),this.syncTimer=null)}async syncChanges(){try{const s=this.getUnsyncedChanges();if(s.length===0)return!0;console.log(` Syncing ${s.length} changes to API...`);try{const t=this.groupChangesByEvent(s);for(const[i,o]of t.entries())await this.syncEventChanges(i,o);return this.localChanges=this.localChanges.map(i=>({...i,synced:!0})),this.saveLocalChanges(),console.log(" All changes synced to API"),!0}catch(t){return console.error(" Error syncing changes:",t),!1}}catch(s){return console.error(" Error syncing changes:",s),!1}}groupChangesByEvent(s){const t=new Map;for(const i of s)t.has(i.eventId)||t.set(i.eventId,[]),t.get(i.eventId).push(i);return t}async syncEventChanges(s,t){try{console.log(` Syncing ${t.length} changes for event ${s}`),console.log(" Changes to sync:",t.map(i=>({type:i.changeType||i.action,details:i.details})));for(const i of t)try{let o=i.details;if(typeof i.details=="string")try{o=JSON.parse(i.details)}catch{o={raw:i.details}}const u={event_id:i.eventId,user_id:i.userId||i.eventId,user_name:i.userName||"System",user_role:i.userRole||"EDITOR",action:i.action||i.changeType,table_name:"run_of_show_data",record_id:i.eventId,field_name:o?.fieldName||null,old_value:o?.oldValue||o?.oldValue===0?String(o.oldValue):null,new_value:o?.newValue||o?.newValue===0?String(o.newValue):null,description:i.description||i.changeType,row_number:i.rowNumber||null,cue_number:i.cueNumber?String(i.cueNumber):null,metadata:{segmentName:i.segmentName,action:i.action||i.changeType,details:o}};console.log(" Sending change to API:",JSON.stringify(u,null,2)),console.log(" Original change object:",JSON.stringify(i,null,2));const c=await Es.logChange(u);console.log(" Change logged successfully:",c)}catch(o){console.error(" Error logging individual change:",o),console.error(" Error details:",o.message,o.stack)}console.log(` Synced ${t.length} changes for event ${s}`)}catch(i){throw console.error(" Error syncing event changes:",i),console.error(" Error details:",i.message,i.stack),new Error(`Failed to sync changes for event ${s}: ${i.message}`)}}loadLocalChanges(){try{const s=localStorage.getItem("runofshow_local_changes");if(s){const t=JSON.parse(s);this.localChanges=t.map(i=>({...i,timestamp:new Date(i.timestamp)}))}}catch(s){console.error("Error loading local changes:",s),this.localChanges=[]}}saveLocalChanges(){try{localStorage.setItem("runofshow_local_changes",JSON.stringify(this.localChanges))}catch(s){console.error("Error saving local changes:",s)}}clearLocalChanges(){this.localChanges=[],this.saveLocalChanges(),console.log(" Local changes cleared")}async clearMasterChangeLog(s){try{console.log(" Clearing master change log for event:",s);const t=await Es.request(`/api/change-log/${s}`,{method:"DELETE"});return console.log(` Cleared ${t.deletedCount||0} change log entries`),{success:!0,error:null,deletedCount:t.deletedCount||0}}catch(t){return console.error(" Error clearing master change log:",t),{success:!1,error:t.message||"Unexpected error",deletedCount:0}}}async getMasterChangeLog(s,t=100){try{console.log(" Fetching master change log from API for event:",s);const i=await Es.getChangeLog(s,t);return console.log(` Fetched ${i.length} changes from master log`),i}catch(i){return console.error(" Error getting master change log:",i),[]}}exportChangesAsJSON(){return JSON.stringify(this.localChanges,null,2)}exportChangesAsCSV(){if(this.localChanges.length===0)return"No changes to export";const s=["Timestamp","Event ID","Change Type","Row Number","Cue Number","Details","Segment Name","Synced"],t=this.localChanges.map(i=>[i.timestamp.toISOString(),i.eventId,i.changeType,i.rowNumber?.toString()||"",i.cueNumber?.toString()||"",i.details||"",i.segmentName||"",i.synced?"Yes":"No"]);return[s,...t].map(i=>i.join(",")).join(`
`)}}const Is=new oV,ac="https://ros-50-production.up.railway.app";class ic{static async testBackupTable(){try{console.log(" Testing Neon backup table access...");const s=await fetch(`${ac}/api/backups/test`,{method:"GET",headers:{"Content-Type":"application/json"}});return s.ok?(console.log(" Neon backup table is accessible"),!0):(console.error(" Backup table test failed:",s.statusText),!1)}catch(s){return console.error(" Backup table test error:",s),!1}}static async createBackup(s,t,i,o,u="auto",c,f,h,x){try{console.log(` Creating/updating ${u} backup for event: ${s}`),console.log(` API_BASE_URL: ${ac}`);const v=o?.name||"Unknown Event",b=o?.date?new Date(o.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],O=o?.location||null,w=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),C=c||`${u==="auto"?"Auto Backup":"Manual Backup"} - ${w}`,S={event_id:s,event_name:v,event_date:b,event_location:O,backup_name:C,backup_type:u,schedule_data:t,custom_columns_data:i,event_data:o,schedule_items_count:t?.length||0,custom_columns_count:i?.length||0,created_by:f||"unknown",created_by_name:h||"Unknown User",created_by_role:x||"VIEWER"},R=`${ac}/api/backups`;console.log(` Full URL: ${R}`);const X=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!X.ok){const k=await X.json();throw new Error(k.error||`HTTP ${X.status}: ${X.statusText}`)}const G=await X.json();return console.log(` Backup ${u==="auto"?"created/updated":"created"} successfully: ${G.backup_name}`),G}catch(v){throw console.error(" Error creating/updating backup:",v),new Error(`Failed to create/update backup: ${v.message}`)}}static async getBackupsForEvent(s){try{console.log(` Fetching backups for event: ${s}`);const t=await fetch(`${ac}/api/backups/event/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){const o=await t.json();throw new Error(o.error||`HTTP ${t.status}: ${t.statusText}`)}const i=await t.json();return console.log(` Found ${i?.length||0} backups for event: ${s}`),i||[]}catch(t){throw console.error(" Error fetching backups:",t),new Error(`Failed to fetch backups: ${t.message}`)}}static async getBackupsWithFilters(s={}){try{console.log(" Fetching backups with filters:",s);const t=new URLSearchParams;s.eventId&&t.append("eventId",s.eventId),s.eventName&&t.append("eventName",s.eventName),s.eventDate&&t.append("eventDate",s.eventDate),s.backupType&&t.append("backupType",s.backupType),s.sortBy&&t.append("sortBy",s.sortBy),s.limit&&t.append("limit",s.limit.toString());const i=await fetch(`${ac}/api/backups?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok){const u=await i.json();throw new Error(u.error||`HTTP ${i.status}: ${i.statusText}`)}const o=await i.json();return console.log(` Found ${o?.length||0} backups with filters`),o||[]}catch(t){throw console.error(" Error fetching backups with filters:",t),new Error(`Failed to fetch backups: ${t.message}`)}}static async restoreFromBackup(s){try{console.log(` Restoring from backup: ${s}`);const t=await fetch(`${ac}/api/backups/${s}/restore`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){const o=await t.json();throw new Error(o.error||`HTTP ${t.status}: ${t.statusText}`)}const i=await t.json();if(!i)throw new Error("Backup not found");return console.log(` Restored from backup: ${i.backup_name}`),{scheduleData:i.schedule_data||[],customColumnsData:i.custom_columns_data||[],eventData:i.event_data||{},backupName:i.backup_name,backupTimestamp:i.backup_timestamp}}catch(t){throw console.error(" Error restoring from backup:",t),new Error(`Failed to restore from backup: ${t.message}`)}}static async deleteBackup(s){try{console.log(` Deleting backup: ${s}`);const t=await fetch(`${ac}/api/backups/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const i=await t.json();throw new Error(i.error||`HTTP ${t.status}: ${t.statusText}`)}return console.log(` Backup deleted successfully: ${s}`),!0}catch(t){throw console.error(" Error deleting backup:",t),new Error(`Failed to delete backup: ${t.message}`)}}static async getBackupStats(s){try{const t=await this.getBackupsForEvent(s),i=t.filter(c=>c.backup_type==="auto").length,o=t.filter(c=>c.backup_type==="manual").length,u=t.length>0?t[0].backup_timestamp:null;return{totalBackups:t.length,lastBackup:u,autoBackups:i,manualBackups:o}}catch(t){throw console.error(" Error getting backup stats:",t),new Error(`Failed to get backup stats: ${t.message}`)}}}const Vi=Object.create(null);Vi.open="0";Vi.close="1";Vi.ping="2";Vi.pong="3";Vi.message="4";Vi.upgrade="5";Vi.noop="6";const _p=Object.create(null);Object.keys(Vi).forEach(e=>{_p[Vi[e]]=e});const Ab={type:"error",data:"parser error"},mC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",pC=typeof ArrayBuffer=="function",hC=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,aN=({type:e,data:s},t,i)=>mC&&s instanceof Blob?t?i(s):Ay(s,i):pC&&(s instanceof ArrayBuffer||hC(s))?t?i(s):Ay(new Blob([s]),i):i(Vi[e]+(s||"")),Ay=(e,s)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];s("b"+(i||""))},t.readAsDataURL(e)};function My(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Nb;function lV(e,s){if(mC&&e.data instanceof Blob)return e.data.arrayBuffer().then(My).then(s);if(pC&&(e.data instanceof ArrayBuffer||hC(e.data)))return s(My(e.data));aN(e,!1,t=>{Nb||(Nb=new TextEncoder),s(Nb.encode(t))})}const Iy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Iy.length;e++)Sf[Iy.charCodeAt(e)]=e;const cV=e=>{let s=e.length*.75,t=e.length,i,o=0,u,c,f,h;e[e.length-1]==="="&&(s--,e[e.length-2]==="="&&s--);const x=new ArrayBuffer(s),v=new Uint8Array(x);for(i=0;i<t;i+=4)u=Sf[e.charCodeAt(i)],c=Sf[e.charCodeAt(i+1)],f=Sf[e.charCodeAt(i+2)],h=Sf[e.charCodeAt(i+3)],v[o++]=u<<2|c>>4,v[o++]=(c&15)<<4|f>>2,v[o++]=(f&3)<<6|h&63;return x},uV=typeof ArrayBuffer=="function",iN=(e,s)=>{if(typeof e!="string")return{type:"message",data:vC(e,s)};const t=e.charAt(0);return t==="b"?{type:"message",data:dV(e.substring(1),s)}:_p[t]?e.length>1?{type:_p[t],data:e.substring(1)}:{type:_p[t]}:Ab},dV=(e,s)=>{if(uV){const t=cV(e);return vC(t,s)}else return{base64:!0,data:e}},vC=(e,s)=>{switch(s){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},gC="",fV=(e,s)=>{const t=e.length,i=new Array(t);let o=0;e.forEach((u,c)=>{aN(u,!1,f=>{i[c]=f,++o===t&&s(i.join(gC))})})},mV=(e,s)=>{const t=e.split(gC),i=[];for(let o=0;o<t.length;o++){const u=iN(t[o],s);if(i.push(u),u.type==="error")break}return i};function pV(){return new TransformStream({transform(e,s){lV(e,t=>{const i=t.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const u=new DataView(o.buffer);u.setUint8(0,126),u.setUint16(1,i)}else{o=new Uint8Array(9);const u=new DataView(o.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(o[0]|=128),s.enqueue(o),s.enqueue(t)})}})}let Db;function gp(e){return e.reduce((s,t)=>s+t.length,0)}function xp(e,s){if(e[0].length===s)return e.shift();const t=new Uint8Array(s);let i=0;for(let o=0;o<s;o++)t[o]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),t}function hV(e,s){Db||(Db=new TextDecoder);const t=[];let i=0,o=-1,u=!1;return new TransformStream({transform(c,f){for(t.push(c);;){if(i===0){if(gp(t)<1)break;const h=xp(t,1);u=(h[0]&128)===128,o=h[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(gp(t)<2)break;const h=xp(t,2);o=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),i=3}else if(i===2){if(gp(t)<8)break;const h=xp(t,8),x=new DataView(h.buffer,h.byteOffset,h.length),v=x.getUint32(0);if(v>Math.pow(2,21)-1){f.enqueue(Ab);break}o=v*Math.pow(2,32)+x.getUint32(4),i=3}else{if(gp(t)<o)break;const h=xp(t,o);f.enqueue(iN(u?h:Db.decode(h),s)),i=0}if(o===0||o>e){f.enqueue(Ab);break}}}})}const xC=4;function Cs(e){if(e)return vV(e)}function vV(e){for(var s in Cs.prototype)e[s]=Cs.prototype[s];return e}Cs.prototype.on=Cs.prototype.addEventListener=function(e,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(s),this};Cs.prototype.once=function(e,s){function t(){this.off(e,t),s.apply(this,arguments)}return t.fn=s,this.on(e,t),this};Cs.prototype.off=Cs.prototype.removeListener=Cs.prototype.removeAllListeners=Cs.prototype.removeEventListener=function(e,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+e];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,o=0;o<t.length;o++)if(i=t[o],i===s||i.fn===s){t.splice(o,1);break}return t.length===0&&delete this._callbacks["$"+e],this};Cs.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),t=this._callbacks["$"+e],i=1;i<arguments.length;i++)s[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,o=t.length;i<o;++i)t[i].apply(this,s)}return this};Cs.prototype.emitReserved=Cs.prototype.emit;Cs.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Cs.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Jp=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,t)=>t(s,0),Va=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),gV="arraybuffer";function bC(e,...s){return s.reduce((t,i)=>(e.hasOwnProperty(i)&&(t[i]=e[i]),t),{})}const xV=Va.setTimeout,bV=Va.clearTimeout;function Qp(e,s){s.useNativeTimers?(e.setTimeoutFn=xV.bind(Va),e.clearTimeoutFn=bV.bind(Va)):(e.setTimeoutFn=Va.setTimeout.bind(Va),e.clearTimeoutFn=Va.clearTimeout.bind(Va))}const NV=1.33;function DV(e){return typeof e=="string"?SV(e):Math.ceil((e.byteLength||e.size)*NV)}function SV(e){let s=0,t=0;for(let i=0,o=e.length;i<o;i++)s=e.charCodeAt(i),s<128?t+=1:s<2048?t+=2:s<55296||s>=57344?t+=3:(i++,t+=4);return t}function NC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function OV(e){let s="";for(let t in e)e.hasOwnProperty(t)&&(s.length&&(s+="&"),s+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return s}function yV(e){let s={},t=e.split("&");for(let i=0,o=t.length;i<o;i++){let u=t[i].split("=");s[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return s}class EV extends Error{constructor(s,t,i){super(s),this.description=t,this.context=i,this.type="TransportError"}}class oN extends Cs{constructor(s){super(),this.writable=!1,Qp(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,t,i){return super.emitReserved("error",new EV(s,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const t=iN(s,this.socket.binaryType);this.onPacket(t)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,t={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const t=OV(s);return t.length?"?"+t:""}}class CV extends oN{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const t=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};mV(s,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,fV(s,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=NC()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(s,t)}}let DC=!1;try{DC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const wV=DC;function kV(){}class RV extends CV{constructor(s){if(super(s),typeof location<"u"){const t=location.protocol==="https:";let i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||i!==s.port}}doWrite(s,t){const i=this.request({method:"POST",data:s});i.on("success",t),i.on("error",(o,u)=>{this.onError("xhr post error",o,u)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=s}}class Ui extends Cs{constructor(s,t,i){super(),this.createRequest=s,Qp(this,i),this._opts=i,this._method=i.method||"GET",this._uri=t,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var s;const t=bC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(t);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Ui.requestsCount++,Ui.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=kV,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ui.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ui.requestsCount=0;Ui.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Fy);else if(typeof addEventListener=="function"){const e="onpagehide"in Va?"pagehide":"unload";addEventListener(e,Fy,!1)}}function Fy(){for(let e in Ui.requests)Ui.requests.hasOwnProperty(e)&&Ui.requests[e].abort()}const TV=(function(){const e=SC({xdomain:!1});return e&&e.responseType!==null})();class PV extends RV{constructor(s){super(s);const t=s&&s.forceBase64;this.supportsBinary=TV&&!t}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new Ui(SC,this.uri(),s)}}function SC(e){const s=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||wV))return new XMLHttpRequest}catch{}if(!s)try{return new Va[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const OC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class _V extends oN{get name(){return"websocket"}doOpen(){const s=this.uri(),t=this.opts.protocols,i=OC?{}:bC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,t,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let t=0;t<s.length;t++){const i=s[t],o=t===s.length-1;aN(i,this.supportsBinary,u=>{try{this.doWrite(i,u)}catch{}o&&Jp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=NC()),this.supportsBinary||(t.b64=1),this.createUri(s,t)}}const Sb=Va.WebSocket||Va.MozWebSocket;class UV extends _V{createSocket(s,t,i){return OC?new Sb(s,t,i):t?new Sb(s,t):new Sb(s)}doWrite(s,t){this.ws.send(t)}}class VV extends oN{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const t=hV(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=s.readable.pipeThrough(t).getReader(),o=pV();o.readable.pipeTo(s.writable),this._writer=o.writable.getWriter();const u=()=>{i.read().then(({done:f,value:h})=>{f||(this.onPacket(h),u())}).catch(f=>{})};u();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let t=0;t<s.length;t++){const i=s[t],o=t===s.length-1;this._writer.write(i).then(()=>{o&&Jp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const jV={websocket:UV,webtransport:VV,polling:PV},LV=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,AV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Mb(e){if(e.length>8e3)throw"URI too long";const s=e,t=e.indexOf("["),i=e.indexOf("]");t!=-1&&i!=-1&&(e=e.substring(0,t)+e.substring(t,i).replace(/:/g,";")+e.substring(i,e.length));let o=LV.exec(e||""),u={},c=14;for(;c--;)u[AV[c]]=o[c]||"";return t!=-1&&i!=-1&&(u.source=s,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=MV(u,u.path),u.queryKey=IV(u,u.query),u}function MV(e,s){const t=/\/{2,9}/g,i=s.replace(t,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&i.splice(0,1),s.slice(-1)=="/"&&i.splice(i.length-1,1),i}function IV(e,s){const t={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,u){o&&(t[o]=u)}),t}const Ib=typeof addEventListener=="function"&&typeof removeEventListener=="function",Up=[];Ib&&addEventListener("offline",()=>{Up.forEach(e=>e())},!1);class pl extends Cs{constructor(s,t){if(super(),this.binaryType=gV,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(t=s,s=null),s){const i=Mb(s);t.hostname=i.host,t.secure=i.protocol==="https"||i.protocol==="wss",t.port=i.port,i.query&&(t.query=i.query)}else t.host&&(t.hostname=Mb(t.host).host);Qp(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(i=>{const o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yV(this.opts.query)),Ib&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Up.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const t=Object.assign({},this.opts.query);t.EIO=xC,t.transport=s,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&pl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(s);t.open(),this.setTransport(t)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",pl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=s.data,this._onError(t);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(t+=DV(o)),i>0&&t>this._maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,Jp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,t,i){return this._sendPacket("message",s,t,i),this}send(s,t,i){return this._sendPacket("message",s,t,i),this}_sendPacket(s,t,i,o){if(typeof t=="function"&&(o=t,t=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const u={type:s,data:t,options:i};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),o&&this.once("flush",o),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),s()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():s()}):this.upgrading?i():s()),this}_onError(s){if(pl.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ib&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Up.indexOf(this._offlineEventListener);i!==-1&&Up.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,t),this.writeBuffer=[],this._prevBufferLen=0}}}pl.protocol=xC;class FV extends pl{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let t=this.createTransport(s),i=!1;pl.priorWebsocketSuccess=!1;const o=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",b=>{if(!i)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;pl.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(v(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const O=new Error("probe error");O.transport=t.name,this.emitReserved("upgradeError",O)}}))};function u(){i||(i=!0,v(),t.close(),t=null)}const c=b=>{const O=new Error("probe error: "+b);O.transport=t.name,u(),this.emitReserved("upgradeError",O)};function f(){c("transport closed")}function h(){c("socket closed")}function x(b){t&&b.name!==t.name&&u()}const v=()=>{t.removeListener("open",o),t.removeListener("error",c),t.removeListener("close",f),this.off("close",h),this.off("upgrading",x)};t.once("open",o),t.once("error",c),t.once("close",f),this.once("close",h),this.once("upgrading",x),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const t=[];for(let i=0;i<s.length;i++)~this.transports.indexOf(s[i])&&t.push(s[i]);return t}}let $V=class extends FV{constructor(s,t={}){const i=typeof s=="object"?s:t;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>jV[o]).filter(o=>!!o)),super(s,i)}};function BV(e,s="",t){let i=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),i=Mb(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const u=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+u+":"+i.port+s,i.href=i.protocol+"://"+u+(t&&t.port===i.port?"":":"+i.port),i}const XV=typeof ArrayBuffer=="function",HV=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,yC=Object.prototype.toString,GV=typeof Blob=="function"||typeof Blob<"u"&&yC.call(Blob)==="[object BlobConstructor]",WV=typeof File=="function"||typeof File<"u"&&yC.call(File)==="[object FileConstructor]";function lN(e){return XV&&(e instanceof ArrayBuffer||HV(e))||GV&&e instanceof Blob||WV&&e instanceof File}function Vp(e,s){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let t=0,i=e.length;t<i;t++)if(Vp(e[t]))return!0;return!1}if(lN(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Vp(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Vp(e[t]))return!0;return!1}function zV(e){const s=[],t=e.data,i=e;return i.data=Fb(t,s),i.attachments=s.length,{packet:i,buffers:s}}function Fb(e,s){if(!e)return e;if(lN(e)){const t={_placeholder:!0,num:s.length};return s.push(e),t}else if(Array.isArray(e)){const t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=Fb(e[i],s);return t}else if(typeof e=="object"&&!(e instanceof Date)){const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=Fb(e[i],s));return t}return e}function YV(e,s){return e.data=$b(e.data,s),delete e.attachments,e}function $b(e,s){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<s.length)return s[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=$b(e[t],s);else if(typeof e=="object")for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=$b(e[t],s));return e}const qV=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],KV=5;var wr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(wr||(wr={}));class JV{constructor(s){this.replacer=s}encode(s){return(s.type===wr.EVENT||s.type===wr.ACK)&&Vp(s)?this.encodeAsBinary({type:s.type===wr.EVENT?wr.BINARY_EVENT:wr.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let t=""+s.type;return(s.type===wr.BINARY_EVENT||s.type===wr.BINARY_ACK)&&(t+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(t+=s.nsp+","),s.id!=null&&(t+=s.id),s.data!=null&&(t+=JSON.stringify(s.data,this.replacer)),t}encodeAsBinary(s){const t=zV(s),i=this.encodeAsString(t.packet),o=t.buffers;return o.unshift(i),o}}function $y(e){return Object.prototype.toString.call(e)==="[object Object]"}class cN extends Cs{constructor(s){super(),this.reviver=s}add(s){let t;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(s);const i=t.type===wr.BINARY_EVENT;i||t.type===wr.BINARY_ACK?(t.type=i?wr.EVENT:wr.ACK,this.reconstructor=new QV(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(lN(s)||s.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(s),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let t=0;const i={type:Number(s.charAt(0))};if(wr[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===wr.BINARY_EVENT||i.type===wr.BINARY_ACK){const u=t+1;for(;s.charAt(++t)!=="-"&&t!=s.length;);const c=s.substring(u,t);if(c!=Number(c)||s.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(c)}if(s.charAt(t+1)==="/"){const u=t+1;for(;++t&&!(s.charAt(t)===","||t===s.length););i.nsp=s.substring(u,t)}else i.nsp="/";const o=s.charAt(t+1);if(o!==""&&Number(o)==o){const u=t+1;for(;++t;){const c=s.charAt(t);if(c==null||Number(c)!=c){--t;break}if(t===s.length)break}i.id=Number(s.substring(u,t+1))}if(s.charAt(++t)){const u=this.tryParse(s.substr(t));if(cN.isPayloadValid(i.type,u))i.data=u;else throw new Error("invalid payload")}return i}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,t){switch(s){case wr.CONNECT:return $y(t);case wr.DISCONNECT:return t===void 0;case wr.CONNECT_ERROR:return typeof t=="string"||$y(t);case wr.EVENT:case wr.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&qV.indexOf(t[0])===-1);case wr.ACK:case wr.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class QV{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const t=YV(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ZV=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cN,Encoder:JV,get PacketType(){return wr},protocol:KV},Symbol.toStringTag,{value:"Module"}));function ai(e,s,t){return e.on(s,t),function(){e.off(s,t)}}const ej=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class EC extends Cs{constructor(s,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[ai(s,"open",this.onopen.bind(this)),ai(s,"packet",this.onpacket.bind(this)),ai(s,"error",this.onerror.bind(this)),ai(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...t){var i,o,u;if(ej.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(t.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const c={type:wr.EVENT,data:t};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const v=this.ids++,b=t.pop();this._registerAckCallback(v,b),c.id=v}const f=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,h=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!f||(h?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(s,t){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[s]=t;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===s&&this.sendBuffer.splice(f,1);t.call(this,new Error("operation has timed out"))},o),c=(...f)=>{this.io.clearTimeoutFn(u),t.apply(this,f)};c.withError=!0,this.acks[s]=c}emitWithAck(s,...t){return new Promise((i,o)=>{const u=(c,f)=>c?o(c):i(f);u.withError=!0,t.push(u),this.emit(s,...t)})}_addToQueue(s){let t;typeof s[s.length-1]=="function"&&(t=s.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((o,...u)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(o)):(this._queue.shift(),t&&t(null,...u)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!s||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:wr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(i=>String(i.id)===s)){const i=this.acks[s];delete this.acks[s],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case wr.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case wr.EVENT:case wr.BINARY_EVENT:this.onevent(s);break;case wr.ACK:case wr.BINARY_ACK:this.onack(s);break;case wr.DISCONNECT:this.ondisconnect();break;case wr.CONNECT_ERROR:this.destroy();const i=new Error(s.data.message);i.data=s.data.data,this.emitReserved("connect_error",i);break}}onevent(s){const t=s.data||[];s.id!=null&&t.push(this.ack(s.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const t=this;let i=!1;return function(...o){i||(i=!0,t.packet({type:wr.ACK,id:s,data:o}))}}onack(s){const t=this.acks[s.id];typeof t=="function"&&(delete this.acks[s.id],t.withError&&s.data.unshift(null),t.apply(this,s.data))}onconnect(s,t){this.id=s,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:wr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(s===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(s===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,s.data)}}}function Pu(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Pu.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),t=Math.floor(s*this.jitter*e);e=(Math.floor(s*10)&1)==0?e-t:e+t}return Math.min(e,this.max)|0};Pu.prototype.reset=function(){this.attempts=0};Pu.prototype.setMin=function(e){this.ms=e};Pu.prototype.setMax=function(e){this.max=e};Pu.prototype.setJitter=function(e){this.jitter=e};class Bb extends Cs{constructor(s,t){var i;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(t=s,s=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Qp(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Pu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=s;const o=t.parser||ZV;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var t;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(t=this.backoff)===null||t===void 0||t.setMin(s),this)}randomizationFactor(s){var t;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(t=this.backoff)===null||t===void 0||t.setJitter(s),this)}reconnectionDelayMax(s){var t;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(t=this.backoff)===null||t===void 0||t.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new $V(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=ai(t,"open",function(){i.onopen(),s&&s()}),u=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),s?s(f):this.maybeReconnectOnOpen()},c=ai(t,"error",u);if(this._timeout!==!1){const f=this._timeout,h=this.setTimeoutFn(()=>{o(),u(new Error("timeout")),t.close()},f);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(o),this.subs.push(c),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(ai(s,"ping",this.onping.bind(this)),ai(s,"data",this.ondata.bind(this)),ai(s,"error",this.onerror.bind(this)),ai(s,"close",this.onclose.bind(this)),ai(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(t){this.onclose("parse error",t)}}ondecoded(s){Jp(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,t){let i=this.nsps[s];return i?this._autoConnect&&!i.active&&i.connect():(i=new EC(this,s,t),this.nsps[s]=i),i}_destroy(s){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(s){const t=this.encoder.encode(s);for(let i=0;i<t.length;i++)this.engine.write(t[i],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,t){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(o=>{o?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",o)):s.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const Nf={};function jp(e,s){typeof e=="object"&&(s=e,e=void 0),s=s||{};const t=BV(e,s.path||"/socket.io"),i=t.source,o=t.id,u=t.path,c=Nf[o]&&u in Nf[o].nsps,f=s.forceNew||s["force new connection"]||s.multiplex===!1||c;let h;return f?h=new Bb(i,s):(Nf[o]||(Nf[o]=new Bb(i,s)),h=Nf[o]),t.query&&!s.query&&(s.query=t.queryKey),h.socket(t.path,s)}Object.assign(jp,{Manager:Bb,Socket:EC,io:jp,connect:jp});const tj="https://ros-50-production.up.railway.app";class rj{constructor(){this.socket=null,this.eventId=null,this.callbacks={},this.reconnectAttempts=0,this.maxReconnectAttempts=5}connect(s,t){if(this.socket&&this.eventId===s){console.log("Socket.IO already connected for this event. Merging callbacks."),this.callbacks={...this.callbacks,...Object.fromEntries(Object.entries(t).filter(([i])=>!this.callbacks[i]))};return}this.disconnect(),this.eventId=s,this.callbacks=t,this.socket=jp(tj,{transports:["websocket","polling"],timeout:1e4}),this.socket.on("connect",()=>{console.log(` Socket.IO connected for event: ${s}`),this.reconnectAttempts=0,this.callbacks.onConnectionChange?.(!0),this.socket?.emit("joinEvent",s),this.performInitialSync(s)}),this.socket.on("update",i=>{switch(console.log(" Socket.IO update received:",i.type),i.type){case"runOfShowDataUpdated":this.callbacks.onRunOfShowDataUpdated?.(i.data);break;case"scheduleUpdated":this.callbacks.onScheduleUpdated?.(i.data);break;case"completedCuesUpdated":this.callbacks.onCompletedCuesUpdated?.(i.data);break;case"timerUpdated":console.log(" SocketClient: Received timerUpdated event:",i.data),this.callbacks.onTimerUpdated?.(i.data);break;case"timerStopped":this.callbacks.onTimerStopped?.(i.data);break;case"timersStopped":this.callbacks.onTimersStopped?.(i.data);break;case"timerStarted":this.callbacks.onTimerStarted?.(i.data);break;case"subCueTimerStarted":this.callbacks.onSubCueTimerStarted?.(i.data);break;case"subCueTimerStopped":this.callbacks.onSubCueTimerStopped?.(i.data);break;case"activeTimersUpdated":console.log(" SocketClient: Received activeTimersUpdated event:",i.data),this.callbacks.onActiveTimersUpdated?.(i.data);break;case"resetAllStates":this.callbacks.onResetAllStates?.(i.data);break;case"timerMessageUpdated":console.log(" SocketClient: Received timerMessageUpdated event:",i.data),this.callbacks.onTimerMessageUpdated?.(i.data);break;default:console.log("Unknown Socket.IO message type:",i.type,i)}}),this.socket.on("serverTime",i=>{this.callbacks.onServerTime?.(i)}),this.socket.on("disconnect",i=>{console.log(` Socket.IO disconnected: ${i}`),this.callbacks.onConnectionChange?.(!1),i!=="io client disconnect"&&this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(` Attempting to reconnect Socket.IO (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>{this.eventId&&this.connect(this.eventId,this.callbacks)},2e3*this.reconnectAttempts))}),this.socket.on("connect_error",i=>{console.error(" Socket.IO connection error:",i),this.callbacks.onConnectionChange?.(!1)})}disconnect(s){if(this.socket){if(s&&this.eventId!==s){console.log(`Socket.IO: Not disconnecting, current eventId (${this.eventId}) does not match requested eventId (${s}).`);return}console.log(` Disconnecting Socket.IO for event: ${this.eventId}`),this.eventId&&this.socket.emit("leaveEvent",this.eventId),this.socket.disconnect(),this.socket=null,this.eventId=null,this.callbacks.onConnectionChange?.(!1)}}isConnected(){return this.socket?.connected||!1}getEventId(){return this.eventId}emitResetAllStates(){this.socket&&this.eventId&&(console.log(" Emitting reset all states event"),this.socket.emit("resetAllStates",{eventId:this.eventId}))}emitSyncRequest(){this.socket&&this.eventId&&(console.log(" Emitting sync request event"),this.socket.emit("requestSync",{eventId:this.eventId}))}emitScriptScroll(s,t,i){this.socket&&this.eventId&&this.socket.emit("scriptScrollUpdate",{eventId:this.eventId,scrollPosition:s,lineNumber:t,fontSize:i})}emitScriptComment(s,t,i){this.socket&&this.eventId?(console.log(" Emitting scriptCommentUpdate:",s,i||t?.id),this.socket.emit("scriptCommentUpdate",{eventId:this.eventId,action:s,comment:t,commentId:i})):console.error(" Cannot emit comment: socket or eventId missing",{hasSocket:!!this.socket,hasEventId:!!this.eventId})}getSocket(){return this.socket}async performInitialSync(s){try{console.log(" Performing initial sync on WebSocket connect..."),this.callbacks.onInitialSync?(await this.callbacks.onInitialSync(),console.log(" Initial sync completed via callback")):console.log(" No initial sync callback provided")}catch(t){console.error(" Initial sync failed:",t)}}}const bt=new rj,sj=({isOpen:e,onClose:s,event:t})=>e?a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 w-full max-w-5xl max-h-[80vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"OSC Control Panel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:21,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"text-slate-400 hover:text-white text-xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:22,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:20,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4",children:[a.jsxDEV("h3",{className:"text-sm font-semibold text-white mb-3",children:"Event Information"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:37,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-xs text-slate-400 mb-1",children:"Event ID:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:40,columnNumber:19},void 0),a.jsxDEV("div",{className:"px-3 py-2 bg-slate-600 border border-slate-500 rounded text-blue-400 font-mono text-sm",children:t?.id||"No event selected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:41,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:39,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-xs text-slate-400 mb-1",children:"Event Name:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:46,columnNumber:19},void 0),a.jsxDEV("div",{className:"px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm",children:t?.name||"No event selected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:47,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:45,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:38,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:36,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4",children:[a.jsxDEV("h3",{className:"text-sm font-semibold text-white mb-3 text-center",children:" Download OSC Apps"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:56,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-center mb-4",children:[a.jsxDEV("a",{href:"/electron-osc-app.zip",download:"electron-osc-app.zip",className:"block bg-blue-600 hover:bg-blue-700 text-white text-sm py-3 px-6 rounded text-center transition-colors font-semibold",children:" Electron OSC App (Desktop)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:60,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-xs text-blue-400 mt-2",children:" Desktop app  Event list  Run of Show  OSC Log"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:67,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:59,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("a",{href:"/OSC_WebSocket_App.zip",download:"OSC_WebSocket_App.zip",className:"block bg-green-600 hover:bg-green-700 text-white text-sm py-3 px-6 rounded text-center transition-colors font-semibold",children:" Python OSC App (GUI)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:74,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-xs text-green-400 mt-2",children:" GUI toggle  Railway or Local  WebSocket"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:81,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:73,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-xs text-slate-500 mt-3 text-center",children:[a.jsxDEV("strong",{children:"Instructions:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:87,columnNumber:17},void 0)," Extract zip, run install.bat (or install-dependencies.bat) to install, then start the app"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:86,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:55,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:34,columnNumber:11},void 0),a.jsxDEV("div",{className:"space-y-4",children:a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4",children:[a.jsxDEV("h3",{className:"text-sm font-semibold text-white mb-3",children:"OSC Commands Reference"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:95,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400 space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-semibold text-slate-300 mb-2",children:"Main Cue Commands (Day-Aware):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:98,columnNumber:19},void 0),a.jsxDEV("div",{className:"font-mono bg-slate-800 p-2 rounded text-xs space-y-1",children:[a.jsxDEV("div",{children:"/cue/1/load"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:100,columnNumber:21},void 0),a.jsxDEV("div",{children:"/cue/1.1/load"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:101,columnNumber:21},void 0),a.jsxDEV("div",{children:"/cue/1A/load"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:102,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:99,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:97,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-semibold text-slate-300 mb-2",children:"Timer Commands:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:106,columnNumber:19},void 0),a.jsxDEV("div",{className:"font-mono bg-slate-800 p-2 rounded text-xs space-y-1",children:[a.jsxDEV("div",{children:"/timer/start"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:108,columnNumber:21},void 0),a.jsxDEV("div",{children:"/timer/stop"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:109,columnNumber:21},void 0),a.jsxDEV("div",{children:"/timer/reset"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:110,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:107,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:105,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-semibold text-slate-300 mb-2",children:"Sub-Timer Commands (Day-Aware):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:114,columnNumber:19},void 0),a.jsxDEV("div",{className:"font-mono bg-slate-800 p-2 rounded text-xs space-y-1",children:[a.jsxDEV("div",{children:"/subtimer/cue/5/start"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:116,columnNumber:21},void 0),a.jsxDEV("div",{children:"/subtimer/cue/5/stop"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:117,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:115,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:113,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-semibold text-slate-300 mb-2",children:" Multi-Day Commands:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:121,columnNumber:19},void 0),a.jsxDEV("div",{className:"font-mono bg-slate-800 p-2 rounded text-xs space-y-1",children:[a.jsxDEV("div",{children:"/set-day 2"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:123,columnNumber:21},void 0),a.jsxDEV("div",{children:"/get-day"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:124,columnNumber:21},void 0),a.jsxDEV("div",{children:"/list-cues (shows current day only)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:125,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:122,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:120,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:96,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:94,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:93,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:31,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:18,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/OSCModalSimplified.tsx",lineNumber:17,columnNumber:5},void 0):null,nj=({isOpen:e,onClose:s,onSelectFullscreenTimer:t,onSelectClock:i})=>e?a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 w-full max-w-2xl",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Select Display Mode"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:23,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"text-slate-400 hover:text-white text-2xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:24,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:22,columnNumber:9},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("p",{className:"text-slate-300 text-sm mb-6",children:"Choose how you want to display the timer information:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:34,columnNumber:11},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-3 mb-4",children:a.jsxDEV("p",{className:"text-slate-400 text-xs",children:[a.jsxDEV("strong",{children:"Fullscreen Timer:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:40,columnNumber:15},void 0)," Browser dependent - opens in new browser window",a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:40,columnNumber:97},void 0),a.jsxDEV("strong",{children:"Clock:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:41,columnNumber:15},void 0)," Full web based - integrated web display"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:39,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:38,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>{t(),s()},className:"w-full p-4 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-left",children:a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:56,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:55,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:54,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-white font-semibold",children:"Fullscreen Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:60,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-slate-400 text-sm",children:"Browser dependent - opens in new browser window"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:61,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:59,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:53,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:46,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>{i(),s()},className:"w-full p-4 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-left",children:a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:a.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:77,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:76,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:75,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-white font-semibold",children:"Clock"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:81,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-slate-400 text-sm",children:"Full web based - integrated web display"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:82,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:80,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:74,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:67,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:33,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:20,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DisplayModal.tsx",lineNumber:19,columnNumber:5},void 0):null;/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var CC=1252,aj=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],uN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},dN=function(e){aj.indexOf(e)!=-1&&(CC=uN[0]=e)};function ij(){dN(1252)}var oi=function(e){dN(e)};function wC(){oi(1200),ij()}function By(e){for(var s=[],t=0,i=e.length;t<i;++t)s[t]=e.charCodeAt(t);return s}function oj(e){for(var s=[],t=0;t<e.length>>1;++t)s[t]=String.fromCharCode(e.charCodeAt(2*t)+(e.charCodeAt(2*t+1)<<8));return s.join("")}function kC(e){for(var s=[],t=0;t<e.length>>1;++t)s[t]=String.fromCharCode(e.charCodeAt(2*t+1)+(e.charCodeAt(2*t)<<8));return s.join("")}var Of=function(e){var s=e.charCodeAt(0),t=e.charCodeAt(1);return s==255&&t==254?oj(e.slice(2)):s==254&&t==255?kC(e.slice(2)):s==65279?e.slice(1):e},bp=function(s){return String.fromCharCode(s)},Xy=function(s){return String.fromCharCode(s)},Af,fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Hy(e){for(var s="",t=0,i=0,o=0,u=0,c=0,f=0,h=0,x=0;x<e.length;)t=e.charCodeAt(x++),u=t>>2,i=e.charCodeAt(x++),c=(t&3)<<4|i>>4,o=e.charCodeAt(x++),f=(i&15)<<2|o>>6,h=o&63,isNaN(i)?f=h=64:isNaN(o)&&(h=64),s+=fl.charAt(u)+fl.charAt(c)+fl.charAt(f)+fl.charAt(h);return s}function xa(e){var s="",t=0,i=0,o=0,u=0,c=0,f=0,h=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var x=0;x<e.length;)u=fl.indexOf(e.charAt(x++)),c=fl.indexOf(e.charAt(x++)),t=u<<2|c>>4,s+=String.fromCharCode(t),f=fl.indexOf(e.charAt(x++)),i=(c&15)<<4|f>>2,f!==64&&(s+=String.fromCharCode(i)),h=fl.indexOf(e.charAt(x++)),o=(f&3)<<6|h,h!==64&&(s+=String.fromCharCode(o));return s}var kr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),pc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(s,t){return t?new Buffer(s,t):new Buffer(s)}:Buffer.from.bind(Buffer)}return function(){}})();function vl(e){return kr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Gy(e){return kr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ii=function(s){return kr?pc(s,"binary"):s.split("").map(function(t){return t.charCodeAt(0)&255})};function hc(e){if(Array.isArray(e))return e.map(function(i){return String.fromCharCode(i)}).join("");for(var s=[],t=0;t<e.length;++t)s[t]=String.fromCharCode(e[t]);return s.join("")}function fN(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return fN(new Uint8Array(e));for(var s=new Array(e.length),t=0;t<e.length;++t)s[t]=e[t];return s}var dl=kr?function(e){return Buffer.concat(e.map(function(s){return Buffer.isBuffer(s)?s:pc(s)}))}:function(e){if(typeof Uint8Array<"u"){var s=0,t=0;for(s=0;s<e.length;++s)t+=e[s].length;var i=new Uint8Array(t),o=0;for(s=0,t=0;s<e.length;t+=o,++s)if(o=e[s].length,e[s]instanceof Uint8Array)i.set(e[s],t);else{if(typeof e[s]=="string")throw"wtf";i.set(new Uint8Array(e[s]),t)}return i}return[].concat.apply([],e.map(function(u){return Array.isArray(u)?u:[].slice.call(u)}))};function lj(e){for(var s=[],t=0,i=e.length+250,o=vl(e.length+255),u=0;u<e.length;++u){var c=e.charCodeAt(u);if(c<128)o[t++]=c;else if(c<2048)o[t++]=192|c>>6&31,o[t++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var f=e.charCodeAt(++u)&1023;o[t++]=240|c>>8&7,o[t++]=128|c>>2&63,o[t++]=128|f>>6&15|(c&3)<<4,o[t++]=128|f&63}else o[t++]=224|c>>12&15,o[t++]=128|c>>6&63,o[t++]=128|c&63;t>i&&(s.push(o.slice(0,t)),t=0,o=vl(65535),i=65530)}return s.push(o.slice(0,t)),dl(s)}var Wn=/\u0000/g,yf=/[\u0001-\u0006]/g;function yu(e){for(var s="",t=e.length-1;t>=0;)s+=e.charAt(t--);return s}function li(e,s){var t=""+e;return t.length>=s?t:ps("0",s-t.length)+t}function mN(e,s){var t=""+e;return t.length>=s?t:ps(" ",s-t.length)+t}function Ap(e,s){var t=""+e;return t.length>=s?t:t+ps(" ",s-t.length)}function cj(e,s){var t=""+Math.round(e);return t.length>=s?t:ps("0",s-t.length)+t}function uj(e,s){var t=""+e;return t.length>=s?t:ps("0",s-t.length)+t}var Wy=Math.pow(2,32);function Nu(e,s){if(e>Wy||e<-Wy)return cj(e,s);var t=Math.round(e);return uj(t,s)}function Mp(e,s){return s=s||0,e.length>=7+s&&(e.charCodeAt(s)|32)===103&&(e.charCodeAt(s+1)|32)===101&&(e.charCodeAt(s+2)|32)===110&&(e.charCodeAt(s+3)|32)===101&&(e.charCodeAt(s+4)|32)===114&&(e.charCodeAt(s+5)|32)===97&&(e.charCodeAt(s+6)|32)===108}var zy=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ob=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function dj(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var dr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Yy={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},fj={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ip(e,s,t){for(var i=e<0?-1:1,o=e*i,u=0,c=1,f=0,h=1,x=0,v=0,b=Math.floor(o);x<s&&(b=Math.floor(o),f=b*c+u,v=b*x+h,!(o-b<5e-8));)o=1/(o-b),u=c,c=f,h=x,x=v;if(v>s&&(x>s?(v=h,f=u):(v=x,f=c)),!t)return[0,i*f,v];var O=Math.floor(i*f/v);return[O,i*f-O*v,v]}function lc(e,s,t){if(e>2958465||e<0)return null;var i=e|0,o=Math.floor(86400*(e-i)),u=0,c=[],f={D:i,T:o,u:86400*(e-i)-o,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),s&&s.date1904&&(i+=1462),f.u>.9999&&(f.u=0,++o==86400&&(f.T=o=0,++i,++f.D)),i===60)c=t?[1317,10,29]:[1900,2,29],u=3;else if(i===0)c=t?[1317,8,29]:[1900,1,0],u=6;else{i>60&&--i;var h=new Date(1900,0,1);h.setDate(h.getDate()+i-1),c=[h.getFullYear(),h.getMonth()+1,h.getDate()],u=h.getDay(),i<60&&(u=(u+6)%7),t&&(u=xj(h,c))}return f.y=c[0],f.m=c[1],f.d=c[2],f.S=o%60,o=Math.floor(o/60),f.M=o%60,o=Math.floor(o/60),f.H=o,f.q=u,f}var RC=new Date(1899,11,31,0,0,0),mj=RC.getTime(),pj=new Date(1900,2,1,0,0,0);function TC(e,s){var t=e.getTime();return s?t-=1461*24*60*60*1e3:e>=pj&&(t+=1440*60*1e3),(t-(mj+(e.getTimezoneOffset()-RC.getTimezoneOffset())*6e4))/(1440*60*1e3)}function pN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function hj(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function vj(e){var s=e<0?12:11,t=pN(e.toFixed(12));return t.length<=s||(t=e.toPrecision(10),t.length<=s)?t:e.toExponential(5)}function gj(e){var s=pN(e.toFixed(11));return s.length>(e<0?12:11)||s==="0"||s==="-0"?e.toPrecision(6):s}function Mf(e){var s=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),t;return s>=-4&&s<=-1?t=e.toPrecision(10+s):Math.abs(s)<=9?t=vj(e):s===10?t=e.toFixed(10).substr(0,12):t=gj(e),pN(hj(t.toUpperCase()))}function dc(e,s){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Mf(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ja(14,TC(e,s&&s.date1904),s)}throw new Error("unsupported value in General format: "+e)}function xj(e,s){s[0]-=581;var t=e.getDay();return e<60&&(t=(t+6)%7),t}function bj(e,s,t,i){var o="",u=0,c=0,f=t.y,h,x=0;switch(e){case 98:f=t.y+543;case 121:switch(s.length){case 1:case 2:h=f%100,x=2;break;default:h=f%1e4,x=4;break}break;case 109:switch(s.length){case 1:case 2:h=t.m,x=s.length;break;case 3:return Ob[t.m-1][1];case 5:return Ob[t.m-1][0];default:return Ob[t.m-1][2]}break;case 100:switch(s.length){case 1:case 2:h=t.d,x=s.length;break;case 3:return zy[t.q][0];default:return zy[t.q][1]}break;case 104:switch(s.length){case 1:case 2:h=1+(t.H+11)%12,x=s.length;break;default:throw"bad hour format: "+s}break;case 72:switch(s.length){case 1:case 2:h=t.H,x=s.length;break;default:throw"bad hour format: "+s}break;case 77:switch(s.length){case 1:case 2:h=t.M,x=s.length;break;default:throw"bad minute format: "+s}break;case 115:if(s!="s"&&s!="ss"&&s!=".0"&&s!=".00"&&s!=".000")throw"bad second format: "+s;return t.u===0&&(s=="s"||s=="ss")?li(t.S,s.length):(i>=2?c=i===3?1e3:100:c=i===1?10:1,u=Math.round(c*(t.S+t.u)),u>=60*c&&(u=0),s==="s"?u===0?"0":""+u/c:(o=li(u,2+i),s==="ss"?o.substr(0,2):"."+o.substr(2,s.length-1)));case 90:switch(s){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+s}x=s.length===3?1:2;break;case 101:h=f,x=1;break}var v=x>0?li(h,x):"";return v}function ml(e){var s=3;if(e.length<=s)return e;for(var t=e.length%s,i=e.substr(0,t);t!=e.length;t+=s)i+=(i.length>0?",":"")+e.substr(t,s);return i}var PC=/%/g;function Nj(e,s,t){var i=s.replace(PC,""),o=s.length-i.length;return ho(e,i,t*Math.pow(10,2*o))+ps("%",o)}function Dj(e,s,t){for(var i=s.length-1;s.charCodeAt(i-1)===44;)--i;return ho(e,s.substr(0,i),t/Math.pow(10,3*(s.length-i)))}function _C(e,s){var t,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+_C(e,-s);var o=e.indexOf(".");o===-1&&(o=e.indexOf("E"));var u=Math.floor(Math.log(s)*Math.LOG10E)%o;if(u<0&&(u+=o),t=(s/Math.pow(10,u)).toPrecision(i+1+(o+u)%o),t.indexOf("e")===-1){var c=Math.floor(Math.log(s)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+u):t+="E+"+(c-u);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,o)+"."+t.substr(2+o),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,x,v){return h+x+v.substr(0,(o+u)%o)+"."+v.substr(u)+"E"})}else t=s.toExponential(i);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var UC=/# (\?+)( ?)\/( ?)(\d+)/;function Sj(e,s,t){var i=parseInt(e[4],10),o=Math.round(s*i),u=Math.floor(o/i),c=o-u*i,f=i;return t+(u===0?"":""+u)+" "+(c===0?ps(" ",e[1].length+1+e[4].length):mN(c,e[1].length)+e[2]+"/"+e[3]+li(f,e[4].length))}function Oj(e,s,t){return t+(s===0?"":""+s)+ps(" ",e[1].length+2+e[4].length)}var VC=/^#*0*\.([0#]+)/,jC=/\).*[0#]/,LC=/\(###\) ###\\?-####/;function Xn(e){for(var s="",t,i=0;i!=e.length;++i)switch(t=e.charCodeAt(i)){case 35:break;case 63:s+=" ";break;case 48:s+="0";break;default:s+=String.fromCharCode(t)}return s}function qy(e,s){var t=Math.pow(10,s);return""+Math.round(e*t)/t}function Ky(e,s){var t=e-Math.floor(e),i=Math.pow(10,s);return s<(""+Math.round(t*i)).length?0:Math.round(t*i)}function yj(e,s){return s<(""+Math.round((e-Math.floor(e))*Math.pow(10,s))).length?1:0}function Ej(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function _a(e,s,t){if(e.charCodeAt(0)===40&&!s.match(jC)){var i=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?_a("n",i,t):"("+_a("n",i,-t)+")"}if(s.charCodeAt(s.length-1)===44)return Dj(e,s,t);if(s.indexOf("%")!==-1)return Nj(e,s,t);if(s.indexOf("E")!==-1)return _C(s,t);if(s.charCodeAt(0)===36)return"$"+_a(e,s.substr(s.charAt(1)==" "?2:1),t);var o,u,c,f,h=Math.abs(t),x=t<0?"-":"";if(s.match(/^00+$/))return x+Nu(h,s.length);if(s.match(/^[#?]+$/))return o=Nu(t,0),o==="0"&&(o=""),o.length>s.length?o:Xn(s.substr(0,s.length-o.length))+o;if(u=s.match(UC))return Sj(u,h,x);if(s.match(/^#+0+$/))return x+Nu(h,s.length-s.indexOf("0"));if(u=s.match(VC))return o=qy(t,u[1].length).replace(/^([^\.]+)$/,"$1."+Xn(u[1])).replace(/\.$/,"."+Xn(u[1])).replace(/\.(\d*)$/,function(C,S){return"."+S+ps("0",Xn(u[1]).length-S.length)}),s.indexOf("0.")!==-1?o:o.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),u=s.match(/^(0*)\.(#*)$/))return x+qy(h,u[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,u[1].length?"0.":".");if(u=s.match(/^#{1,3},##0(\.?)$/))return x+ml(Nu(h,0));if(u=s.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+_a(e,s,-t):ml(""+(Math.floor(t)+yj(t,u[1].length)))+"."+li(Ky(t,u[1].length),u[1].length);if(u=s.match(/^#,#*,#0/))return _a(e,s.replace(/^#,#*,/,""),t);if(u=s.match(/^([0#]+)(\\?-([0#]+))+$/))return o=yu(_a(e,s.replace(/[\\-]/g,""),t)),c=0,yu(yu(s.replace(/\\/g,"")).replace(/[0#]/g,function(C){return c<o.length?o.charAt(c++):C==="0"?"0":""}));if(s.match(LC))return o=_a(e,"##########",t),"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);var v="";if(u=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(u[4].length,7),f=Ip(h,Math.pow(10,c)-1,!1),o=""+x,v=ho("n",u[1],f[1]),v.charAt(v.length-1)==" "&&(v=v.substr(0,v.length-1)+"0"),o+=v+u[2]+"/"+u[3],v=Ap(f[2],c),v.length<u[4].length&&(v=Xn(u[4].substr(u[4].length-v.length))+v),o+=v,o;if(u=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(u[1].length,u[4].length),7),f=Ip(h,Math.pow(10,c)-1,!0),x+(f[0]||(f[1]?"":"0"))+" "+(f[1]?mN(f[1],c)+u[2]+"/"+u[3]+Ap(f[2],c):ps(" ",2*c+1+u[2].length+u[3].length));if(u=s.match(/^[#0?]+$/))return o=Nu(t,0),s.length<=o.length?o:Xn(s.substr(0,s.length-o.length))+o;if(u=s.match(/^([#0?]+)\.([#0]+)$/)){o=""+t.toFixed(Math.min(u[2].length,10)).replace(/([^0])0+$/,"$1"),c=o.indexOf(".");var b=s.indexOf(".")-c,O=s.length-o.length-b;return Xn(s.substr(0,b)+o+s.substr(s.length-O))}if(u=s.match(/^00,000\.([#0]*0)$/))return c=Ky(t,u[1].length),t<0?"-"+_a(e,s,-t):ml(Ej(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?li(0,3-C.length):"")+C})+"."+li(c,u[1].length);switch(s){case"###,##0.00":return _a(e,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var w=ml(Nu(h,0));return w!=="0"?x+w:"";case"###,###.00":return _a(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return _a(e,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+s+"|")}function Cj(e,s,t){for(var i=s.length-1;s.charCodeAt(i-1)===44;)--i;return ho(e,s.substr(0,i),t/Math.pow(10,3*(s.length-i)))}function wj(e,s,t){var i=s.replace(PC,""),o=s.length-i.length;return ho(e,i,t*Math.pow(10,2*o))+ps("%",o)}function AC(e,s){var t,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+AC(e,-s);var o=e.indexOf(".");o===-1&&(o=e.indexOf("E"));var u=Math.floor(Math.log(s)*Math.LOG10E)%o;if(u<0&&(u+=o),t=(s/Math.pow(10,u)).toPrecision(i+1+(o+u)%o),!t.match(/[Ee]/)){var c=Math.floor(Math.log(s)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+u):t+="E+"+(c-u),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,x,v){return h+x+v.substr(0,(o+u)%o)+"."+v.substr(u)+"E"})}else t=s.toExponential(i);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function _i(e,s,t){if(e.charCodeAt(0)===40&&!s.match(jC)){var i=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?_i("n",i,t):"("+_i("n",i,-t)+")"}if(s.charCodeAt(s.length-1)===44)return Cj(e,s,t);if(s.indexOf("%")!==-1)return wj(e,s,t);if(s.indexOf("E")!==-1)return AC(s,t);if(s.charCodeAt(0)===36)return"$"+_i(e,s.substr(s.charAt(1)==" "?2:1),t);var o,u,c,f,h=Math.abs(t),x=t<0?"-":"";if(s.match(/^00+$/))return x+li(h,s.length);if(s.match(/^[#?]+$/))return o=""+t,t===0&&(o=""),o.length>s.length?o:Xn(s.substr(0,s.length-o.length))+o;if(u=s.match(UC))return Oj(u,h,x);if(s.match(/^#+0+$/))return x+li(h,s.length-s.indexOf("0"));if(u=s.match(VC))return o=(""+t).replace(/^([^\.]+)$/,"$1."+Xn(u[1])).replace(/\.$/,"."+Xn(u[1])),o=o.replace(/\.(\d*)$/,function(C,S){return"."+S+ps("0",Xn(u[1]).length-S.length)}),s.indexOf("0.")!==-1?o:o.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),u=s.match(/^(0*)\.(#*)$/))return x+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,u[1].length?"0.":".");if(u=s.match(/^#{1,3},##0(\.?)$/))return x+ml(""+h);if(u=s.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+_i(e,s,-t):ml(""+t)+"."+ps("0",u[1].length);if(u=s.match(/^#,#*,#0/))return _i(e,s.replace(/^#,#*,/,""),t);if(u=s.match(/^([0#]+)(\\?-([0#]+))+$/))return o=yu(_i(e,s.replace(/[\\-]/g,""),t)),c=0,yu(yu(s.replace(/\\/g,"")).replace(/[0#]/g,function(C){return c<o.length?o.charAt(c++):C==="0"?"0":""}));if(s.match(LC))return o=_i(e,"##########",t),"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);var v="";if(u=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(u[4].length,7),f=Ip(h,Math.pow(10,c)-1,!1),o=""+x,v=ho("n",u[1],f[1]),v.charAt(v.length-1)==" "&&(v=v.substr(0,v.length-1)+"0"),o+=v+u[2]+"/"+u[3],v=Ap(f[2],c),v.length<u[4].length&&(v=Xn(u[4].substr(u[4].length-v.length))+v),o+=v,o;if(u=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(u[1].length,u[4].length),7),f=Ip(h,Math.pow(10,c)-1,!0),x+(f[0]||(f[1]?"":"0"))+" "+(f[1]?mN(f[1],c)+u[2]+"/"+u[3]+Ap(f[2],c):ps(" ",2*c+1+u[2].length+u[3].length));if(u=s.match(/^[#0?]+$/))return o=""+t,s.length<=o.length?o:Xn(s.substr(0,s.length-o.length))+o;if(u=s.match(/^([#0]+)\.([#0]+)$/)){o=""+t.toFixed(Math.min(u[2].length,10)).replace(/([^0])0+$/,"$1"),c=o.indexOf(".");var b=s.indexOf(".")-c,O=s.length-o.length-b;return Xn(s.substr(0,b)+o+s.substr(s.length-O))}if(u=s.match(/^00,000\.([#0]*0)$/))return t<0?"-"+_i(e,s,-t):ml(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?li(0,3-C.length):"")+C})+"."+li(0,u[1].length);switch(s){case"###,###":case"##,###":case"#,###":var w=ml(""+h);return w!=="0"?x+w:"";default:if(s.match(/\.[0#?]*$/))return _i(e,s.slice(0,s.lastIndexOf(".")),t)+Xn(s.slice(s.lastIndexOf(".")))}throw new Error("unsupported format |"+s+"|")}function ho(e,s,t){return(t|0)===t?_i(e,s,t):_a(e,s,t)}function kj(e){for(var s=[],t=!1,i=0,o=0;i<e.length;++i)switch(e.charCodeAt(i)){case 34:t=!t;break;case 95:case 42:case 92:++i;break;case 59:s[s.length]=e.substr(o,i-o),o=i+1}if(s[s.length]=e.substr(o),t===!0)throw new Error("Format |"+e+"| unterminated string ");return s}var MC=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function _u(e){for(var s=0,t="",i="";s<e.length;)switch(t=e.charAt(s)){case"G":Mp(e,s)&&(s+=6),s++;break;case'"':for(;e.charCodeAt(++s)!==34&&s<e.length;);++s;break;case"\\":s+=2;break;case"_":s+=2;break;case"@":++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(s,3).toUpperCase()==="A/P"||e.substr(s,5).toUpperCase()==="AM/PM"||e.substr(s,5).toUpperCase()==="/")return!0;++s;break;case"[":for(i=t;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.match(MC))return!0;break;case".":case"0":case"#":for(;s<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++s))>-1||t=="\\"&&e.charAt(s+1)=="-"&&"0#".indexOf(e.charAt(s+2))>-1););break;case"?":for(;e.charAt(++s)===t;);break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;);break;case" ":++s;break;default:++s;break}return!1}function Rj(e,s,t,i){for(var o=[],u="",c=0,f="",h="t",x,v,b,O="H";c<e.length;)switch(f=e.charAt(c)){case"G":if(!Mp(e,c))throw new Error("unrecognized character "+f+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(u="";(b=e.charCodeAt(++c))!==34&&c<e.length;)u+=String.fromCharCode(b);o[o.length]={t:"t",v:u},++c;break;case"\\":var w=e.charAt(++c),C=w==="("||w===")"?w:"t";o[o.length]={t:C,v:w},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:s},++c;break;case"B":case"b":if(e.charAt(c+1)==="1"||e.charAt(c+1)==="2"){if(x==null&&(x=lc(s,t,e.charAt(c+1)==="2"),x==null))return"";o[o.length]={t:"X",v:e.substr(c,2)},h=f,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(s<0||x==null&&(x=lc(s,t),x==null))return"";for(u=f;++c<e.length&&e.charAt(c).toLowerCase()===f;)u+=f;f==="m"&&h.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=O),o[o.length]={t:f,v:u},h=f;break;case"A":case"a":case"":var S={t:f,v:f};if(x==null&&(x=lc(s,t)),e.substr(c,3).toUpperCase()==="A/P"?(x!=null&&(S.v=x.H>=12?"P":"A"),S.t="T",O="h",c+=3):e.substr(c,5).toUpperCase()==="AM/PM"?(x!=null&&(S.v=x.H>=12?"PM":"AM"),S.t="T",c+=5,O="h"):e.substr(c,5).toUpperCase()==="/"?(x!=null&&(S.v=x.H>=12?"":""),S.t="T",c+=5,O="h"):(S.t="t",++c),x==null&&S.t==="T")return"";o[o.length]=S,h=f;break;case"[":for(u=f;e.charAt(c++)!=="]"&&c<e.length;)u+=e.charAt(c);if(u.slice(-1)!=="]")throw'unterminated "[" block: |'+u+"|";if(u.match(MC)){if(x==null&&(x=lc(s,t),x==null))return"";o[o.length]={t:"Z",v:u.toLowerCase()},h=u.charAt(1)}else u.indexOf("$")>-1&&(u=(u.match(/\$([^-\[\]]*)/)||[])[1]||"$",_u(e)||(o[o.length]={t:"t",v:u}));break;case".":if(x!=null){for(u=f;++c<e.length&&(f=e.charAt(c))==="0";)u+=f;o[o.length]={t:"s",v:u};break}case"0":case"#":for(u=f;++c<e.length&&"0#?.,E+-%".indexOf(f=e.charAt(c))>-1;)u+=f;o[o.length]={t:"n",v:u};break;case"?":for(u=f;e.charAt(++c)===f;)u+=f;o[o.length]={t:f,v:u},h=f;break;case"*":++c,(e.charAt(c)==" "||e.charAt(c)=="*")&&++c;break;case"(":case")":o[o.length]={t:i===1?"t":f,v:f},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(u=f;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)u+=e.charAt(c);o[o.length]={t:"D",v:u};break;case" ":o[o.length]={t:f,v:f},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+e);o[o.length]={t:"t",v:f},++c;break}var R=0,X=0,G;for(c=o.length-1,h="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=O,h="h",R<1&&(R=1);break;case"s":(G=o[c].v.match(/\.0+$/))&&(X=Math.max(X,G[0].length-1)),R<3&&(R=3);case"d":case"y":case"M":case"e":h=o[c].t;break;case"m":h==="s"&&(o[c].t="M",R<2&&(R=2));break;case"X":break;case"Z":R<1&&o[c].v.match(/[Hh]/)&&(R=1),R<2&&o[c].v.match(/[Mm]/)&&(R=2),R<3&&o[c].v.match(/[Ss]/)&&(R=3)}switch(R){case 0:break;case 1:x.u>=.5&&(x.u=0,++x.S),x.S>=60&&(x.S=0,++x.M),x.M>=60&&(x.M=0,++x.H);break;case 2:x.u>=.5&&(x.u=0,++x.S),x.S>=60&&(x.S=0,++x.M);break}var k="",ie;for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=bj(o[c].t.charCodeAt(0),o[c].v,x,X),o[c].t="t";break;case"n":case"?":for(ie=c+1;o[ie]!=null&&((f=o[ie].t)==="?"||f==="D"||(f===" "||f==="t")&&o[ie+1]!=null&&(o[ie+1].t==="?"||o[ie+1].t==="t"&&o[ie+1].v==="/")||o[c].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(o[ie].v==="/"||o[ie].v===" "&&o[ie+1]!=null&&o[ie+1].t=="?"));)o[c].v+=o[ie].v,o[ie]={v:"",t:";"},++ie;k+=o[c].v,c=ie-1;break;case"G":o[c].t="t",o[c].v=dc(s,t);break}var K="",z,A;if(k.length>0){k.charCodeAt(0)==40?(z=s<0&&k.charCodeAt(0)===45?-s:s,A=ho("n",k,z)):(z=s<0&&i>1?-s:s,A=ho("n",k,z),z<0&&o[0]&&o[0].t=="t"&&(A=A.substr(1),o[0].v="-"+o[0].v)),ie=A.length-1;var ce=o.length;for(c=0;c<o.length;++c)if(o[c]!=null&&o[c].t!="t"&&o[c].v.indexOf(".")>-1){ce=c;break}var T=o.length;if(ce===o.length&&A.indexOf("E")===-1){for(c=o.length-1;c>=0;--c)o[c]==null||"n?".indexOf(o[c].t)===-1||(ie>=o[c].v.length-1?(ie-=o[c].v.length,o[c].v=A.substr(ie+1,o[c].v.length)):ie<0?o[c].v="":(o[c].v=A.substr(0,ie+1),ie=-1),o[c].t="t",T=c);ie>=0&&T<o.length&&(o[T].v=A.substr(0,ie+1)+o[T].v)}else if(ce!==o.length&&A.indexOf("E")===-1){for(ie=A.indexOf(".")-1,c=ce;c>=0;--c)if(!(o[c]==null||"n?".indexOf(o[c].t)===-1)){for(v=o[c].v.indexOf(".")>-1&&c===ce?o[c].v.indexOf(".")-1:o[c].v.length-1,K=o[c].v.substr(v+1);v>=0;--v)ie>=0&&(o[c].v.charAt(v)==="0"||o[c].v.charAt(v)==="#")&&(K=A.charAt(ie--)+K);o[c].v=K,o[c].t="t",T=c}for(ie>=0&&T<o.length&&(o[T].v=A.substr(0,ie+1)+o[T].v),ie=A.indexOf(".")+1,c=ce;c<o.length;++c)if(!(o[c]==null||"n?(".indexOf(o[c].t)===-1&&c!==ce)){for(v=o[c].v.indexOf(".")>-1&&c===ce?o[c].v.indexOf(".")+1:0,K=o[c].v.substr(0,v);v<o[c].v.length;++v)ie<A.length&&(K+=A.charAt(ie++));o[c].v=K,o[c].t="t",T=c}}}for(c=0;c<o.length;++c)o[c]!=null&&"n?".indexOf(o[c].t)>-1&&(z=i>1&&s<0&&c>0&&o[c-1].v==="-"?-s:s,o[c].v=ho(o[c].t,o[c].v,z),o[c].t="t");var H="";for(c=0;c!==o.length;++c)o[c]!=null&&(H+=o[c].v);return H}var Jy=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Qy(e,s){if(s==null)return!1;var t=parseFloat(s[2]);switch(s[1]){case"=":if(e==t)return!0;break;case">":if(e>t)return!0;break;case"<":if(e<t)return!0;break;case"<>":if(e!=t)return!0;break;case">=":if(e>=t)return!0;break;case"<=":if(e<=t)return!0;break}return!1}function Tj(e,s){var t=kj(e),i=t.length,o=t[i-1].indexOf("@");if(i<4&&o>-1&&--i,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof s!="number")return[4,t.length===4||o>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=o>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=o>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=o>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var u=s>0?t[0]:s<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[i,u];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var c=t[0].match(Jy),f=t[1].match(Jy);return Qy(s,c)?[i,t[0]]:Qy(s,f)?[i,t[1]]:[i,t[c!=null&&f!=null?2:1]]}return[i,u]}function ja(e,s,t){t==null&&(t={});var i="";switch(typeof e){case"string":e=="m/d/yy"&&t.dateNF?i=t.dateNF:i=e;break;case"number":e==14&&t.dateNF?i=t.dateNF:i=(t.table!=null?t.table:dr)[e],i==null&&(i=t.table&&t.table[Yy[e]]||dr[Yy[e]]),i==null&&(i=fj[e]||"General");break}if(Mp(i,0))return dc(s,t);s instanceof Date&&(s=TC(s,t.date1904));var o=Tj(i,s);if(Mp(o[1]))return dc(s,t);if(s===!0)s="TRUE";else if(s===!1)s="FALSE";else if(s===""||s==null)return"";return Rj(o[1],s,t,o[0])}function cc(e,s){if(typeof s!="number"){s=+s||-1;for(var t=0;t<392;++t){if(dr[t]==null){s<0&&(s=t);continue}if(dr[t]==e){s=t;break}}s<0&&(s=391)}return dr[s]=e,s}function IC(){dr=dj()}var Pj={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},FC=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function _j(e){var s=typeof e=="number"?dr[e]:e;return s=s.replace(FC,"(\\d+)"),new RegExp("^"+s+"$")}function Uj(e,s,t){var i=-1,o=-1,u=-1,c=-1,f=-1,h=-1;(s.match(FC)||[]).forEach(function(b,O){var w=parseInt(t[O+1],10);switch(b.toLowerCase().charAt(0)){case"y":i=w;break;case"d":u=w;break;case"h":c=w;break;case"s":h=w;break;case"m":c>=0?f=w:o=w;break}}),h>=0&&f==-1&&o>=0&&(f=o,o=-1);var x=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(o>=1?o:1)).slice(-2)+"-"+("00"+(u>=1?u:1)).slice(-2);x.length==7&&(x="0"+x),x.length==8&&(x="20"+x);var v=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return c==-1&&f==-1&&h==-1?x:i==-1&&o==-1&&u==-1?v:x+"T"+v}var Vj=(function(){var e={};e.version="1.2.0";function s(){for(var A=0,ce=new Array(256),T=0;T!=256;++T)A=T,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,ce[T]=A;return typeof Int32Array<"u"?new Int32Array(ce):ce}var t=s();function i(A){var ce=0,T=0,H=0,Z=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)Z[H]=A[H];for(H=0;H!=256;++H)for(T=A[H],ce=256+H;ce<4096;ce+=256)T=Z[ce]=T>>>8^A[T&255];var W=[];for(H=1;H!=16;++H)W[H-1]=typeof Int32Array<"u"?Z.subarray(H*256,H*256+256):Z.slice(H*256,H*256+256);return W}var o=i(t),u=o[0],c=o[1],f=o[2],h=o[3],x=o[4],v=o[5],b=o[6],O=o[7],w=o[8],C=o[9],S=o[10],R=o[11],X=o[12],G=o[13],k=o[14];function ie(A,ce){for(var T=ce^-1,H=0,Z=A.length;H<Z;)T=T>>>8^t[(T^A.charCodeAt(H++))&255];return~T}function K(A,ce){for(var T=ce^-1,H=A.length-15,Z=0;Z<H;)T=k[A[Z++]^T&255]^G[A[Z++]^T>>8&255]^X[A[Z++]^T>>16&255]^R[A[Z++]^T>>>24]^S[A[Z++]]^C[A[Z++]]^w[A[Z++]]^O[A[Z++]]^b[A[Z++]]^v[A[Z++]]^x[A[Z++]]^h[A[Z++]]^f[A[Z++]]^c[A[Z++]]^u[A[Z++]]^t[A[Z++]];for(H+=15;Z<H;)T=T>>>8^t[(T^A[Z++])&255];return~T}function z(A,ce){for(var T=ce^-1,H=0,Z=A.length,W=0,M=0;H<Z;)W=A.charCodeAt(H++),W<128?T=T>>>8^t[(T^W)&255]:W<2048?(T=T>>>8^t[(T^(192|W>>6&31))&255],T=T>>>8^t[(T^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,M=A.charCodeAt(H++)&1023,T=T>>>8^t[(T^(240|W>>8&7))&255],T=T>>>8^t[(T^(128|W>>2&63))&255],T=T>>>8^t[(T^(128|M>>6&15|(W&3)<<4))&255],T=T>>>8^t[(T^(128|M&63))&255]):(T=T>>>8^t[(T^(224|W>>12&15))&255],T=T>>>8^t[(T^(128|W>>6&63))&255],T=T>>>8^t[(T^(128|W&63))&255]);return~T}return e.table=t,e.bstr=ie,e.buf=K,e.str=z,e})(),Pr=(function(){var s={};s.version="1.2.1";function t(V,re){for(var ee=V.split("/"),ae=re.split("/"),I=0,F=0,me=Math.min(ee.length,ae.length);I<me;++I){if(F=ee[I].length-ae[I].length)return F;if(ee[I]!=ae[I])return ee[I]<ae[I]?-1:1}return ee.length-ae.length}function i(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:i(V.slice(0,-1));var re=V.lastIndexOf("/");return re===-1?V:V.slice(0,re+1)}function o(V){if(V.charAt(V.length-1)=="/")return o(V.slice(0,-1));var re=V.lastIndexOf("/");return re===-1?V:V.slice(re+1)}function u(V,re){typeof re=="string"&&(re=new Date(re));var ee=re.getHours();ee=ee<<6|re.getMinutes(),ee=ee<<5|re.getSeconds()>>>1,V.write_shift(2,ee);var ae=re.getFullYear()-1980;ae=ae<<4|re.getMonth()+1,ae=ae<<5|re.getDate(),V.write_shift(2,ae)}function c(V){var re=V.read_shift(2)&65535,ee=V.read_shift(2)&65535,ae=new Date,I=ee&31;ee>>>=5;var F=ee&15;ee>>>=4,ae.setMilliseconds(0),ae.setFullYear(ee+1980),ae.setMonth(F-1),ae.setDate(I);var me=re&31;re>>>=5;var Ee=re&63;return re>>>=6,ae.setHours(re),ae.setMinutes(Ee),ae.setSeconds(me<<1),ae}function f(V){dn(V,0);for(var re={},ee=0;V.l<=V.length-4;){var ae=V.read_shift(2),I=V.read_shift(2),F=V.l+I,me={};switch(ae){case 21589:ee=V.read_shift(1),ee&1&&(me.mtime=V.read_shift(4)),I>5&&(ee&2&&(me.atime=V.read_shift(4)),ee&4&&(me.ctime=V.read_shift(4))),me.mtime&&(me.mt=new Date(me.mtime*1e3));break}V.l=F,re[ae]=me}return re}var h;function x(){return h||(h={})}function v(V,re){if(V[0]==80&&V[1]==75)return Ge(V,re);if((V[0]|32)==109&&(V[1]|32)==105)return Mt(V,re);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var ee=3,ae=512,I=0,F=0,me=0,Ee=0,xe=0,Ne=[],ye=V.slice(0,512);dn(ye,0);var ze=b(ye);switch(ee=ze[0],ee){case 3:ae=512;break;case 4:ae=4096;break;case 0:if(ze[1]==0)return Ge(V,re);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}ae!==512&&(ye=V.slice(0,ae),dn(ye,28));var tt=V.slice(0,ae);O(ye,ee);var Ve=ye.read_shift(4,"i");if(ee===3&&Ve!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ve);ye.l+=4,me=ye.read_shift(4,"i"),ye.l+=4,ye.chk("00100000","Mini Stream Cutoff Size: "),Ee=ye.read_shift(4,"i"),I=ye.read_shift(4,"i"),xe=ye.read_shift(4,"i"),F=ye.read_shift(4,"i");for(var at=-1,pt=0;pt<109&&(at=ye.read_shift(4,"i"),!(at<0));++pt)Ne[pt]=at;var ht=w(V,ae);R(xe,F,ht,ae,Ne);var Xt=G(ht,me,Ne,ae);Xt[me].name="!Directory",I>0&&Ee!==M&&(Xt[Ee].name="!MiniFAT"),Xt[Ne[0]].name="!FAT",Xt.fat_addrs=Ne,Xt.ssz=ae;var vr={},Kr=[],Vn=[],ba=[];k(me,Xt,ht,Kr,I,vr,Vn,Ee),C(Vn,ba,Kr),Kr.shift();var is={FileIndex:Vn,FullPaths:ba};return re&&re.raw&&(is.raw={header:tt,sectors:ht}),is}function b(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(Ce,"Header Signature: "),V.l+=16;var re=V.read_shift(2,"u");return[V.read_shift(2,"u"),re]}function O(V,re){var ee=9;switch(V.l+=2,ee=V.read_shift(2)){case 9:if(re!=3)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(re!=4)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function w(V,re){for(var ee=Math.ceil(V.length/re)-1,ae=[],I=1;I<ee;++I)ae[I-1]=V.slice(I*re,(I+1)*re);return ae[ee-1]=V.slice(ee*re),ae}function C(V,re,ee){for(var ae=0,I=0,F=0,me=0,Ee=0,xe=ee.length,Ne=[],ye=[];ae<xe;++ae)Ne[ae]=ye[ae]=ae,re[ae]=ee[ae];for(;Ee<ye.length;++Ee)ae=ye[Ee],I=V[ae].L,F=V[ae].R,me=V[ae].C,Ne[ae]===ae&&(I!==-1&&Ne[I]!==I&&(Ne[ae]=Ne[I]),F!==-1&&Ne[F]!==F&&(Ne[ae]=Ne[F])),me!==-1&&(Ne[me]=ae),I!==-1&&ae!=Ne[ae]&&(Ne[I]=Ne[ae],ye.lastIndexOf(I)<Ee&&ye.push(I)),F!==-1&&ae!=Ne[ae]&&(Ne[F]=Ne[ae],ye.lastIndexOf(F)<Ee&&ye.push(F));for(ae=1;ae<xe;++ae)Ne[ae]===ae&&(F!==-1&&Ne[F]!==F?Ne[ae]=Ne[F]:I!==-1&&Ne[I]!==I&&(Ne[ae]=Ne[I]));for(ae=1;ae<xe;++ae)if(V[ae].type!==0){if(Ee=ae,Ee!=Ne[Ee])do Ee=Ne[Ee],re[ae]=re[Ee]+"/"+re[ae];while(Ee!==0&&Ne[Ee]!==-1&&Ee!=Ne[Ee]);Ne[ae]=-1}for(re[0]+="/",ae=1;ae<xe;++ae)V[ae].type!==2&&(re[ae]+="/")}function S(V,re,ee){for(var ae=V.start,I=V.size,F=[],me=ae;ee&&I>0&&me>=0;)F.push(re.slice(me*W,me*W+W)),I-=W,me=oc(ee,me*4);return F.length===0?Fs(0):dl(F).slice(0,V.size)}function R(V,re,ee,ae,I){var F=M;if(V===M){if(re!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var me=ee[V],Ee=(ae>>>2)-1;if(!me)return;for(var xe=0;xe<Ee&&(F=oc(me,xe*4))!==M;++xe)I.push(F);R(oc(me,ae-4),re-1,ee,ae,I)}}function X(V,re,ee,ae,I){var F=[],me=[];I||(I=[]);var Ee=ae-1,xe=0,Ne=0;for(xe=re;xe>=0;){I[xe]=!0,F[F.length]=xe,me.push(V[xe]);var ye=ee[Math.floor(xe*4/ae)];if(Ne=xe*4&Ee,ae<4+Ne)throw new Error("FAT boundary crossed: "+xe+" 4 "+ae);if(!V[ye])break;xe=oc(V[ye],Ne)}return{nodes:F,data:lE([me])}}function G(V,re,ee,ae){var I=V.length,F=[],me=[],Ee=[],xe=[],Ne=ae-1,ye=0,ze=0,tt=0,Ve=0;for(ye=0;ye<I;++ye)if(Ee=[],tt=ye+re,tt>=I&&(tt-=I),!me[tt]){xe=[];var at=[];for(ze=tt;ze>=0;){at[ze]=!0,me[ze]=!0,Ee[Ee.length]=ze,xe.push(V[ze]);var pt=ee[Math.floor(ze*4/ae)];if(Ve=ze*4&Ne,ae<4+Ve)throw new Error("FAT boundary crossed: "+ze+" 4 "+ae);if(!V[pt]||(ze=oc(V[pt],Ve),at[ze]))break}F[tt]={nodes:Ee,data:lE([xe])}}return F}function k(V,re,ee,ae,I,F,me,Ee){for(var xe=0,Ne=ae.length?2:0,ye=re[V].data,ze=0,tt=0,Ve;ze<ye.length;ze+=128){var at=ye.slice(ze,ze+128);dn(at,64),tt=at.read_shift(2),Ve=bN(at,0,tt-Ne),ae.push(Ve);var pt={name:Ve,type:at.read_shift(1),color:at.read_shift(1),L:at.read_shift(4,"i"),R:at.read_shift(4,"i"),C:at.read_shift(4,"i"),clsid:at.read_shift(16),state:at.read_shift(4,"i"),start:0,size:0},ht=at.read_shift(2)+at.read_shift(2)+at.read_shift(2)+at.read_shift(2);ht!==0&&(pt.ct=ie(at,at.l-8));var Xt=at.read_shift(2)+at.read_shift(2)+at.read_shift(2)+at.read_shift(2);Xt!==0&&(pt.mt=ie(at,at.l-8)),pt.start=at.read_shift(4,"i"),pt.size=at.read_shift(4,"i"),pt.size<0&&pt.start<0&&(pt.size=pt.type=0,pt.start=M,pt.name=""),pt.type===5?(xe=pt.start,I>0&&xe!==M&&(re[xe].name="!StreamData")):pt.size>=4096?(pt.storage="fat",re[pt.start]===void 0&&(re[pt.start]=X(ee,pt.start,re.fat_addrs,re.ssz)),re[pt.start].name=pt.name,pt.content=re[pt.start].data.slice(0,pt.size)):(pt.storage="minifat",pt.size<0?pt.size=0:xe!==M&&pt.start!==M&&re[xe]&&(pt.content=S(pt,re[xe].data,(re[Ee]||{}).data))),pt.content&&dn(pt.content,0),F[Ve]=pt,me.push(pt)}}function ie(V,re){return new Date((va(V,re+4)/1e7*Math.pow(2,32)+va(V,re)/1e7-11644473600)*1e3)}function K(V,re){return x(),v(h.readFileSync(V),re)}function z(V,re){var ee=re&&re.type;switch(ee||kr&&Buffer.isBuffer(V)&&(ee="buffer"),ee||"base64"){case"file":return K(V,re);case"base64":return v(ii(xa(V)),re);case"binary":return v(ii(V),re)}return v(V,re)}function A(V,re){var ee=re||{},ae=ee.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=ae+"/",V.FileIndex[0]={name:ae,type:5}),ee.CLSID&&(V.FileIndex[0].clsid=ee.CLSID),ce(V)}function ce(V){var re="Sh33tJ5";if(!Pr.find(V,"/"+re)){var ee=Fs(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,V.FileIndex.push({name:re,type:2,content:ee,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+re),T(V)}}function T(V,re){A(V);for(var ee=!1,ae=!1,I=V.FullPaths.length-1;I>=0;--I){var F=V.FileIndex[I];switch(F.type){case 0:ae?ee=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:ae=!0,isNaN(F.R*F.L*F.C)&&(ee=!0),F.R>-1&&F.L>-1&&F.R==F.L&&(ee=!0);break;default:ee=!0;break}}if(!(!ee&&!re)){var me=new Date(1987,1,19),Ee=0,xe=Object.create?Object.create(null):{},Ne=[];for(I=0;I<V.FullPaths.length;++I)xe[V.FullPaths[I]]=!0,V.FileIndex[I].type!==0&&Ne.push([V.FullPaths[I],V.FileIndex[I]]);for(I=0;I<Ne.length;++I){var ye=i(Ne[I][0]);ae=xe[ye],ae||(Ne.push([ye,{name:o(ye).replace("/",""),type:1,clsid:we,ct:me,mt:me,content:null}]),xe[ye]=!0)}for(Ne.sort(function(Ve,at){return t(Ve[0],at[0])}),V.FullPaths=[],V.FileIndex=[],I=0;I<Ne.length;++I)V.FullPaths[I]=Ne[I][0],V.FileIndex[I]=Ne[I][1];for(I=0;I<Ne.length;++I){var ze=V.FileIndex[I],tt=V.FullPaths[I];if(ze.name=o(tt).replace("/",""),ze.L=ze.R=ze.C=-(ze.color=1),ze.size=ze.content?ze.content.length:0,ze.start=0,ze.clsid=ze.clsid||we,I===0)ze.C=Ne.length>1?1:-1,ze.size=0,ze.type=5;else if(tt.slice(-1)=="/"){for(Ee=I+1;Ee<Ne.length&&i(V.FullPaths[Ee])!=tt;++Ee);for(ze.C=Ee>=Ne.length?-1:Ee,Ee=I+1;Ee<Ne.length&&i(V.FullPaths[Ee])!=i(tt);++Ee);ze.R=Ee>=Ne.length?-1:Ee,ze.type=1}else i(V.FullPaths[I+1]||"")==i(tt)&&(ze.R=I+1),ze.type=2}}}function H(V,re){var ee=re||{};if(ee.fileType=="mad")return sr(V,ee);switch(T(V),ee.fileType){case"zip":return Ot(V,ee)}var ae=(function(Ve){for(var at=0,pt=0,ht=0;ht<Ve.FileIndex.length;++ht){var Xt=Ve.FileIndex[ht];if(Xt.content){var vr=Xt.content.length;vr>0&&(vr<4096?at+=vr+63>>6:pt+=vr+511>>9)}}for(var Kr=Ve.FullPaths.length+3>>2,Vn=at+7>>3,ba=at+127>>7,is=Vn+pt+Kr+ba,pn=is+127>>7,ss=pn<=109?0:Math.ceil((pn-109)/127);is+pn+ss+127>>7>pn;)ss=++pn<=109?0:Math.ceil((pn-109)/127);var $r=[1,ss,pn,ba,Kr,pt,at,0];return Ve.FileIndex[0].size=at<<6,$r[7]=(Ve.FileIndex[0].start=$r[0]+$r[1]+$r[2]+$r[3]+$r[4]+$r[5])+($r[6]+7>>3),$r})(V),I=Fs(ae[7]<<9),F=0,me=0;{for(F=0;F<8;++F)I.write_shift(1,De[F]);for(F=0;F<8;++F)I.write_shift(2,0);for(I.write_shift(2,62),I.write_shift(2,3),I.write_shift(2,65534),I.write_shift(2,9),I.write_shift(2,6),F=0;F<3;++F)I.write_shift(2,0);for(I.write_shift(4,0),I.write_shift(4,ae[2]),I.write_shift(4,ae[0]+ae[1]+ae[2]+ae[3]-1),I.write_shift(4,0),I.write_shift(4,4096),I.write_shift(4,ae[3]?ae[0]+ae[1]+ae[2]-1:M),I.write_shift(4,ae[3]),I.write_shift(-4,ae[1]?ae[0]-1:M),I.write_shift(4,ae[1]),F=0;F<109;++F)I.write_shift(-4,F<ae[2]?ae[1]+F:-1)}if(ae[1])for(me=0;me<ae[1];++me){for(;F<236+me*127;++F)I.write_shift(-4,F<ae[2]?ae[1]+F:-1);I.write_shift(-4,me===ae[1]-1?M:me+1)}var Ee=function(Ve){for(me+=Ve;F<me-1;++F)I.write_shift(-4,F+1);Ve&&(++F,I.write_shift(-4,M))};for(me=F=0,me+=ae[1];F<me;++F)I.write_shift(-4,ge.DIFSECT);for(me+=ae[2];F<me;++F)I.write_shift(-4,ge.FATSECT);Ee(ae[3]),Ee(ae[4]);for(var xe=0,Ne=0,ye=V.FileIndex[0];xe<V.FileIndex.length;++xe)ye=V.FileIndex[xe],ye.content&&(Ne=ye.content.length,!(Ne<4096)&&(ye.start=me,Ee(Ne+511>>9)));for(Ee(ae[6]+7>>3);I.l&511;)I.write_shift(-4,ge.ENDOFCHAIN);for(me=F=0,xe=0;xe<V.FileIndex.length;++xe)ye=V.FileIndex[xe],ye.content&&(Ne=ye.content.length,!(!Ne||Ne>=4096)&&(ye.start=me,Ee(Ne+63>>6)));for(;I.l&511;)I.write_shift(-4,ge.ENDOFCHAIN);for(F=0;F<ae[4]<<2;++F){var ze=V.FullPaths[F];if(!ze||ze.length===0){for(xe=0;xe<17;++xe)I.write_shift(4,0);for(xe=0;xe<3;++xe)I.write_shift(4,-1);for(xe=0;xe<12;++xe)I.write_shift(4,0);continue}ye=V.FileIndex[F],F===0&&(ye.start=ye.size?ye.start-1:M);var tt=F===0&&ee.root||ye.name;if(Ne=2*(tt.length+1),I.write_shift(64,tt,"utf16le"),I.write_shift(2,Ne),I.write_shift(1,ye.type),I.write_shift(1,ye.color),I.write_shift(-4,ye.L),I.write_shift(-4,ye.R),I.write_shift(-4,ye.C),ye.clsid)I.write_shift(16,ye.clsid,"hex");else for(xe=0;xe<4;++xe)I.write_shift(4,0);I.write_shift(4,ye.state||0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,ye.start),I.write_shift(4,ye.size),I.write_shift(4,0)}for(F=1;F<V.FileIndex.length;++F)if(ye=V.FileIndex[F],ye.size>=4096)if(I.l=ye.start+1<<9,kr&&Buffer.isBuffer(ye.content))ye.content.copy(I,I.l,0,ye.size),I.l+=ye.size+511&-512;else{for(xe=0;xe<ye.size;++xe)I.write_shift(1,ye.content[xe]);for(;xe&511;++xe)I.write_shift(1,0)}for(F=1;F<V.FileIndex.length;++F)if(ye=V.FileIndex[F],ye.size>0&&ye.size<4096)if(kr&&Buffer.isBuffer(ye.content))ye.content.copy(I,I.l,0,ye.size),I.l+=ye.size+63&-64;else{for(xe=0;xe<ye.size;++xe)I.write_shift(1,ye.content[xe]);for(;xe&63;++xe)I.write_shift(1,0)}if(kr)I.l=I.length;else for(;I.l<I.length;)I.write_shift(1,0);return I}function Z(V,re){var ee=V.FullPaths.map(function(xe){return xe.toUpperCase()}),ae=ee.map(function(xe){var Ne=xe.split("/");return Ne[Ne.length-(xe.slice(-1)=="/"?2:1)]}),I=!1;re.charCodeAt(0)===47?(I=!0,re=ee[0].slice(0,-1)+re):I=re.indexOf("/")!==-1;var F=re.toUpperCase(),me=I===!0?ee.indexOf(F):ae.indexOf(F);if(me!==-1)return V.FileIndex[me];var Ee=!F.match(yf);for(F=F.replace(Wn,""),Ee&&(F=F.replace(yf,"!")),me=0;me<ee.length;++me)if((Ee?ee[me].replace(yf,"!"):ee[me]).replace(Wn,"")==F||(Ee?ae[me].replace(yf,"!"):ae[me]).replace(Wn,"")==F)return V.FileIndex[me];return null}var W=64,M=-2,Ce="d0cf11e0a1b11ae1",De=[208,207,17,224,161,177,26,225],we="00000000000000000000000000000000",ge={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:Ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:we,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function He(V,re,ee){x();var ae=H(V,ee);h.writeFileSync(re,ae)}function ue(V){for(var re=new Array(V.length),ee=0;ee<V.length;++ee)re[ee]=String.fromCharCode(V[ee]);return re.join("")}function ke(V,re){var ee=H(V,re);switch(re&&re.type||"buffer"){case"file":return x(),h.writeFileSync(re.filename,ee),ee;case"binary":return typeof ee=="string"?ee:ue(ee);case"base64":return Hy(typeof ee=="string"?ee:ue(ee));case"buffer":if(kr)return Buffer.isBuffer(ee)?ee:pc(ee);case"array":return typeof ee=="string"?ii(ee):ee}return ee}var Ue;function te(V){try{var re=V.InflateRaw,ee=new re;if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),ee.bytesRead)Ue=V;else throw new Error("zlib does not expose bytesRead")}catch(ae){console.error("cannot use native zlib: "+(ae.message||ae))}}function le(V,re){if(!Ue)return Ze(V,re);var ee=Ue.InflateRaw,ae=new ee,I=ae._processChunk(V.slice(V.l),ae._finishFlushFlag);return V.l+=ae.bytesRead,I}function pe(V){return Ue?Ue.deflateRawSync(V):qe(V)}var de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _(V){var re=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(re>>16|re>>8|re)&255}for(var J=typeof Uint8Array<"u",L=J?new Uint8Array(256):[],he=0;he<256;++he)L[he]=_(he);function q(V,re){var ee=L[V&255];return re<=8?ee>>>8-re:(ee=ee<<8|L[V>>8&255],re<=16?ee>>>16-re:(ee=ee<<8|L[V>>16&255],ee>>>24-re))}function Xe(V,re){var ee=re&7,ae=re>>>3;return(V[ae]|(ee<=6?0:V[ae+1]<<8))>>>ee&3}function Ke(V,re){var ee=re&7,ae=re>>>3;return(V[ae]|(ee<=5?0:V[ae+1]<<8))>>>ee&7}function Dt(V,re){var ee=re&7,ae=re>>>3;return(V[ae]|(ee<=4?0:V[ae+1]<<8))>>>ee&15}function St(V,re){var ee=re&7,ae=re>>>3;return(V[ae]|(ee<=3?0:V[ae+1]<<8))>>>ee&31}function it(V,re){var ee=re&7,ae=re>>>3;return(V[ae]|(ee<=1?0:V[ae+1]<<8))>>>ee&127}function tr(V,re,ee){var ae=re&7,I=re>>>3,F=(1<<ee)-1,me=V[I]>>>ae;return ee<8-ae||(me|=V[I+1]<<8-ae,ee<16-ae)||(me|=V[I+2]<<16-ae,ee<24-ae)||(me|=V[I+3]<<24-ae),me&F}function Jt(V,re,ee){var ae=re&7,I=re>>>3;return ae<=5?V[I]|=(ee&7)<<ae:(V[I]|=ee<<ae&255,V[I+1]=(ee&7)>>8-ae),re+3}function et(V,re,ee){var ae=re&7,I=re>>>3;return ee=(ee&1)<<ae,V[I]|=ee,re+1}function ft(V,re,ee){var ae=re&7,I=re>>>3;return ee<<=ae,V[I]|=ee&255,ee>>>=8,V[I+1]=ee,re+8}function Fe(V,re,ee){var ae=re&7,I=re>>>3;return ee<<=ae,V[I]|=ee&255,ee>>>=8,V[I+1]=ee&255,V[I+2]=ee>>>8,re+16}function ct(V,re){var ee=V.length,ae=2*ee>re?2*ee:re+5,I=0;if(ee>=re)return V;if(kr){var F=Gy(ae);if(V.copy)V.copy(F);else for(;I<V.length;++I)F[I]=V[I];return F}else if(J){var me=new Uint8Array(ae);if(me.set)me.set(V);else for(;I<ee;++I)me[I]=V[I];return me}return V.length=ae,V}function vt(V){for(var re=new Array(V),ee=0;ee<V;++ee)re[ee]=0;return re}function mt(V,re,ee){var ae=1,I=0,F=0,me=0,Ee=0,xe=V.length,Ne=J?new Uint16Array(32):vt(32);for(F=0;F<32;++F)Ne[F]=0;for(F=xe;F<ee;++F)V[F]=0;xe=V.length;var ye=J?new Uint16Array(xe):vt(xe);for(F=0;F<xe;++F)Ne[I=V[F]]++,ae<I&&(ae=I),ye[F]=0;for(Ne[0]=0,F=1;F<=ae;++F)Ne[F+16]=Ee=Ee+Ne[F-1]<<1;for(F=0;F<xe;++F)Ee=V[F],Ee!=0&&(ye[F]=Ne[Ee+16]++);var ze=0;for(F=0;F<xe;++F)if(ze=V[F],ze!=0)for(Ee=q(ye[F],ae)>>ae-ze,me=(1<<ae+4-ze)-1;me>=0;--me)re[Ee|me<<ze]=ze&15|F<<4;return ae}var At=J?new Uint16Array(512):vt(512),hr=J?new Uint16Array(32):vt(32);if(!J){for(var pr=0;pr<512;++pr)At[pr]=0;for(pr=0;pr<32;++pr)hr[pr]=0}(function(){for(var V=[],re=0;re<32;re++)V.push(5);mt(V,hr,32);var ee=[];for(re=0;re<=143;re++)ee.push(8);for(;re<=255;re++)ee.push(9);for(;re<=279;re++)ee.push(7);for(;re<=287;re++)ee.push(8);mt(ee,At,288)})();var rr=(function(){for(var re=J?new Uint8Array(32768):[],ee=0,ae=0;ee<Q.length-1;++ee)for(;ae<Q[ee+1];++ae)re[ae]=ee;for(;ae<32768;++ae)re[ae]=29;var I=J?new Uint8Array(259):[];for(ee=0,ae=0;ee<oe.length-1;++ee)for(;ae<oe[ee+1];++ae)I[ae]=ee;function F(Ee,xe){for(var Ne=0;Ne<Ee.length;){var ye=Math.min(65535,Ee.length-Ne),ze=Ne+ye==Ee.length;for(xe.write_shift(1,+ze),xe.write_shift(2,ye),xe.write_shift(2,~ye&65535);ye-- >0;)xe[xe.l++]=Ee[Ne++]}return xe.l}function me(Ee,xe){for(var Ne=0,ye=0,ze=J?new Uint16Array(32768):[];ye<Ee.length;){var tt=Math.min(65535,Ee.length-ye);if(tt<10){for(Ne=Jt(xe,Ne,+(ye+tt==Ee.length)),Ne&7&&(Ne+=8-(Ne&7)),xe.l=Ne/8|0,xe.write_shift(2,tt),xe.write_shift(2,~tt&65535);tt-- >0;)xe[xe.l++]=Ee[ye++];Ne=xe.l*8;continue}Ne=Jt(xe,Ne,+(ye+tt==Ee.length)+2);for(var Ve=0;tt-- >0;){var at=Ee[ye];Ve=(Ve<<5^at)&32767;var pt=-1,ht=0;if((pt=ze[Ve])&&(pt|=ye&-32768,pt>ye&&(pt-=32768),pt<ye))for(;Ee[pt+ht]==Ee[ye+ht]&&ht<250;)++ht;if(ht>2){at=I[ht],at<=22?Ne=ft(xe,Ne,L[at+1]>>1)-1:(ft(xe,Ne,3),Ne+=5,ft(xe,Ne,L[at-23]>>5),Ne+=3);var Xt=at<8?0:at-4>>2;Xt>0&&(Fe(xe,Ne,ht-oe[at]),Ne+=Xt),at=re[ye-pt],Ne=ft(xe,Ne,L[at]>>3),Ne-=3;var vr=at<4?0:at-2>>1;vr>0&&(Fe(xe,Ne,ye-pt-Q[at]),Ne+=vr);for(var Kr=0;Kr<ht;++Kr)ze[Ve]=ye&32767,Ve=(Ve<<5^Ee[ye])&32767,++ye;tt-=ht-1}else at<=143?at=at+48:Ne=et(xe,Ne,1),Ne=ft(xe,Ne,L[at]),ze[Ve]=ye&32767,++ye}Ne=ft(xe,Ne,0)-1}return xe.l=(Ne+7)/8|0,xe.l}return function(xe,Ne){return xe.length<8?F(xe,Ne):me(xe,Ne)}})();function qe(V){var re=Fs(50+Math.floor(V.length*1.1)),ee=rr(V,re);return re.slice(0,ee)}var ut=J?new Uint16Array(32768):vt(32768),Ct=J?new Uint16Array(32768):vt(32768),$e=J?new Uint16Array(128):vt(128),nt=1,yt=1;function It(V,re){var ee=St(V,re)+257;re+=5;var ae=St(V,re)+1;re+=5;var I=Dt(V,re)+4;re+=4;for(var F=0,me=J?new Uint8Array(19):vt(19),Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],xe=1,Ne=J?new Uint8Array(8):vt(8),ye=J?new Uint8Array(8):vt(8),ze=me.length,tt=0;tt<I;++tt)me[de[tt]]=F=Ke(V,re),xe<F&&(xe=F),Ne[F]++,re+=3;var Ve=0;for(Ne[0]=0,tt=1;tt<=xe;++tt)ye[tt]=Ve=Ve+Ne[tt-1]<<1;for(tt=0;tt<ze;++tt)(Ve=me[tt])!=0&&(Ee[tt]=ye[Ve]++);var at=0;for(tt=0;tt<ze;++tt)if(at=me[tt],at!=0){Ve=L[Ee[tt]]>>8-at;for(var pt=(1<<7-at)-1;pt>=0;--pt)$e[Ve|pt<<at]=at&7|tt<<3}var ht=[];for(xe=1;ht.length<ee+ae;)switch(Ve=$e[it(V,re)],re+=Ve&7,Ve>>>=3){case 16:for(F=3+Xe(V,re),re+=2,Ve=ht[ht.length-1];F-- >0;)ht.push(Ve);break;case 17:for(F=3+Ke(V,re),re+=3;F-- >0;)ht.push(0);break;case 18:for(F=11+it(V,re),re+=7;F-- >0;)ht.push(0);break;default:ht.push(Ve),xe<Ve&&(xe=Ve);break}var Xt=ht.slice(0,ee),vr=ht.slice(ee);for(tt=ee;tt<286;++tt)Xt[tt]=0;for(tt=ae;tt<30;++tt)vr[tt]=0;return nt=mt(Xt,ut,286),yt=mt(vr,Ct,30),re}function _e(V,re){if(V[0]==3&&!(V[1]&3))return[vl(re),2];for(var ee=0,ae=0,I=Gy(re||1<<18),F=0,me=I.length>>>0,Ee=0,xe=0;(ae&1)==0;){if(ae=Ke(V,ee),ee+=3,ae>>>1)ae>>1==1?(Ee=9,xe=5):(ee=It(V,ee),Ee=nt,xe=yt);else{ee&7&&(ee+=8-(ee&7));var Ne=V[ee>>>3]|V[(ee>>>3)+1]<<8;if(ee+=32,Ne>0)for(!re&&me<F+Ne&&(I=ct(I,F+Ne),me=I.length);Ne-- >0;)I[F++]=V[ee>>>3],ee+=8;continue}for(;;){!re&&me<F+32767&&(I=ct(I,F+32767),me=I.length);var ye=tr(V,ee,Ee),ze=ae>>>1==1?At[ye]:ut[ye];if(ee+=ze&15,ze>>>=4,(ze>>>8&255)===0)I[F++]=ze;else{if(ze==256)break;ze-=257;var tt=ze<8?0:ze-4>>2;tt>5&&(tt=0);var Ve=F+oe[ze];tt>0&&(Ve+=tr(V,ee,tt),ee+=tt),ye=tr(V,ee,xe),ze=ae>>>1==1?hr[ye]:Ct[ye],ee+=ze&15,ze>>>=4;var at=ze<4?0:ze-2>>1,pt=Q[ze];for(at>0&&(pt+=tr(V,ee,at),ee+=at),!re&&me<Ve&&(I=ct(I,Ve+100),me=I.length);F<Ve;)I[F]=I[F-pt],++F}}}return re?[I,ee+7>>>3]:[I.slice(0,F),ee+7>>>3]}function Ze(V,re){var ee=V.slice(V.l||0),ae=_e(ee,re);return V.l+=ae[1],ae[0]}function be(V,re){if(V)typeof console<"u"&&console.error(re);else throw new Error(re)}function Ge(V,re){var ee=V;dn(ee,0);var ae=[],I=[],F={FileIndex:ae,FullPaths:I};A(F,{root:re.root});for(var me=ee.length-4;(ee[me]!=80||ee[me+1]!=75||ee[me+2]!=5||ee[me+3]!=6)&&me>=0;)--me;ee.l=me+4,ee.l+=4;var Ee=ee.read_shift(2);ee.l+=6;var xe=ee.read_shift(4);for(ee.l=xe,me=0;me<Ee;++me){ee.l+=20;var Ne=ee.read_shift(4),ye=ee.read_shift(4),ze=ee.read_shift(2),tt=ee.read_shift(2),Ve=ee.read_shift(2);ee.l+=8;var at=ee.read_shift(4),pt=f(ee.slice(ee.l+ze,ee.l+ze+tt));ee.l+=ze+tt+Ve;var ht=ee.l;ee.l=at+4,We(ee,Ne,ye,F,pt),ee.l=ht}return F}function We(V,re,ee,ae,I){V.l+=2;var F=V.read_shift(2),me=V.read_shift(2),Ee=c(V);if(F&8257)throw new Error("Unsupported ZIP encryption");for(var xe=V.read_shift(4),Ne=V.read_shift(4),ye=V.read_shift(4),ze=V.read_shift(2),tt=V.read_shift(2),Ve="",at=0;at<ze;++at)Ve+=String.fromCharCode(V[V.l++]);if(tt){var pt=f(V.slice(V.l,V.l+tt));(pt[21589]||{}).mt&&(Ee=pt[21589].mt),((I||{})[21589]||{}).mt&&(Ee=I[21589].mt)}V.l+=tt;var ht=V.slice(V.l,V.l+Ne);switch(me){case 8:ht=le(V,ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+me)}var Xt=!1;F&8&&(xe=V.read_shift(4),xe==134695760&&(xe=V.read_shift(4),Xt=!0),Ne=V.read_shift(4),ye=V.read_shift(4)),Ne!=re&&be(Xt,"Bad compressed size: "+re+" != "+Ne),ye!=ee&&be(Xt,"Bad uncompressed size: "+ee+" != "+ye),ar(ae,Ve,ht,{unsafe:!0,mt:Ee})}function Ot(V,re){var ee=re||{},ae=[],I=[],F=Fs(1),me=ee.compression?8:0,Ee=0,xe=0,Ne=0,ye=0,ze=0,tt=V.FullPaths[0],Ve=tt,at=V.FileIndex[0],pt=[],ht=0;for(xe=1;xe<V.FullPaths.length;++xe)if(Ve=V.FullPaths[xe].slice(tt.length),at=V.FileIndex[xe],!(!at.size||!at.content||Ve=="Sh33tJ5")){var Xt=ye,vr=Fs(Ve.length);for(Ne=0;Ne<Ve.length;++Ne)vr.write_shift(1,Ve.charCodeAt(Ne)&127);vr=vr.slice(0,vr.l),pt[ze]=Vj.buf(at.content,0);var Kr=at.content;me==8&&(Kr=pe(Kr)),F=Fs(30),F.write_shift(4,67324752),F.write_shift(2,20),F.write_shift(2,Ee),F.write_shift(2,me),at.mt?u(F,at.mt):F.write_shift(4,0),F.write_shift(-4,pt[ze]),F.write_shift(4,Kr.length),F.write_shift(4,at.content.length),F.write_shift(2,vr.length),F.write_shift(2,0),ye+=F.length,ae.push(F),ye+=vr.length,ae.push(vr),ye+=Kr.length,ae.push(Kr),F=Fs(46),F.write_shift(4,33639248),F.write_shift(2,0),F.write_shift(2,20),F.write_shift(2,Ee),F.write_shift(2,me),F.write_shift(4,0),F.write_shift(-4,pt[ze]),F.write_shift(4,Kr.length),F.write_shift(4,at.content.length),F.write_shift(2,vr.length),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(4,0),F.write_shift(4,Xt),ht+=F.l,I.push(F),ht+=vr.length,I.push(vr),++ze}return F=Fs(22),F.write_shift(4,101010256),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,ze),F.write_shift(2,ze),F.write_shift(4,ht),F.write_shift(4,ye),F.write_shift(2,0),dl([dl(ae),dl(I),F])}var Pt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function xr(V,re){if(V.ctype)return V.ctype;var ee=V.name||"",ae=ee.match(/\.([^\.]+)$/);return ae&&Pt[ae[1]]||re&&(ae=(ee=re).match(/[\.\\]([^\.\\])+$/),ae&&Pt[ae[1]])?Pt[ae[1]]:"application/octet-stream"}function Sr(V){for(var re=Hy(V),ee=[],ae=0;ae<re.length;ae+=76)ee.push(re.slice(ae,ae+76));return ee.join(`\r
`)+`\r
`}function Or(V){var re=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ne){var ye=Ne.charCodeAt(0).toString(16).toUpperCase();return"="+(ye.length==1?"0"+ye:ye)});re=re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),re.charAt(0)==`
`&&(re="=0D"+re.slice(1)),re=re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ee=[],ae=re.split(`\r
`),I=0;I<ae.length;++I){var F=ae[I];if(F.length==0){ee.push("");continue}for(var me=0;me<F.length;){var Ee=76,xe=F.slice(me,me+Ee);xe.charAt(Ee-1)=="="?Ee--:xe.charAt(Ee-2)=="="?Ee-=2:xe.charAt(Ee-3)=="="&&(Ee-=3),xe=F.slice(me,me+Ee),me+=Ee,me<F.length&&(xe+="="),ee.push(xe)}}return ee.join(`\r
`)}function ws(V){for(var re=[],ee=0;ee<V.length;++ee){for(var ae=V[ee];ee<=V.length&&ae.charAt(ae.length-1)=="=";)ae=ae.slice(0,ae.length-1)+V[++ee];re.push(ae)}for(var I=0;I<re.length;++I)re[I]=re[I].replace(/[=][0-9A-Fa-f]{2}/g,function(F){return String.fromCharCode(parseInt(F.slice(1),16))});return ii(re.join(`\r
`))}function lr(V,re,ee){for(var ae="",I="",F="",me,Ee=0;Ee<10;++Ee){var xe=re[Ee];if(!xe||xe.match(/^\s*$/))break;var Ne=xe.match(/^(.*?):\s*([^\s].*)$/);if(Ne)switch(Ne[1].toLowerCase()){case"content-location":ae=Ne[2].trim();break;case"content-type":F=Ne[2].trim();break;case"content-transfer-encoding":I=Ne[2].trim();break}}switch(++Ee,I.toLowerCase()){case"base64":me=ii(xa(re.slice(Ee).join("")));break;case"quoted-printable":me=ws(re.slice(Ee));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+I)}var ye=ar(V,ae.slice(ee.length),me,{unsafe:!0});F&&(ye.ctype=F)}function Mt(V,re){if(ue(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ee=re&&re.root||"",ae=(kr&&Buffer.isBuffer(V)?V.toString("binary"):ue(V)).split(`\r
`),I=0,F="";for(I=0;I<ae.length;++I)if(F=ae[I],!!/^Content-Location:/i.test(F)&&(F=F.slice(F.indexOf("file")),ee||(ee=F.slice(0,F.lastIndexOf("/")+1)),F.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=ee.slice(0,ee.length-1),ee=ee.slice(0,ee.lastIndexOf("/")+1),F.slice(0,ee.length)!=ee););var me=(ae[1]||"").match(/boundary="(.*?)"/);if(!me)throw new Error("MAD cannot find boundary");var Ee="--"+(me[1]||""),xe=[],Ne=[],ye={FileIndex:xe,FullPaths:Ne};A(ye);var ze,tt=0;for(I=0;I<ae.length;++I){var Ve=ae[I];Ve!==Ee&&Ve!==Ee+"--"||(tt++&&lr(ye,ae.slice(ze,I),ee),ze=I)}return ye}function sr(V,re){var ee=re||{},ae=ee.boundary||"SheetJS";ae="------="+ae;for(var I=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ae.slice(2)+'"',"","",""],F=V.FullPaths[0],me=F,Ee=V.FileIndex[0],xe=1;xe<V.FullPaths.length;++xe)if(me=V.FullPaths[xe].slice(F.length),Ee=V.FileIndex[xe],!(!Ee.size||!Ee.content||me=="Sh33tJ5")){me=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ht){return"_x"+ht.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ht){return"_u"+ht.charCodeAt(0).toString(16)+"_"});for(var Ne=Ee.content,ye=kr&&Buffer.isBuffer(Ne)?Ne.toString("binary"):ue(Ne),ze=0,tt=Math.min(1024,ye.length),Ve=0,at=0;at<=tt;++at)(Ve=ye.charCodeAt(at))>=32&&Ve<128&&++ze;var pt=ze>=tt*4/5;I.push(ae),I.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+me),I.push("Content-Transfer-Encoding: "+(pt?"quoted-printable":"base64")),I.push("Content-Type: "+xr(Ee,me)),I.push(""),I.push(pt?Or(ye):Sr(ye))}return I.push(ae+`--\r
`),I.join(`\r
`)}function Ut(V){var re={};return A(re,V),re}function ar(V,re,ee,ae){var I=ae&&ae.unsafe;I||A(V);var F=!I&&Pr.find(V,re);if(!F){var me=V.FullPaths[0];re.slice(0,me.length)==me?me=re:(me.slice(-1)!="/"&&(me+="/"),me=(me+re).replace("//","/")),F={name:o(re),type:2},V.FileIndex.push(F),V.FullPaths.push(me),I||Pr.utils.cfb_gc(V)}return F.content=ee,F.size=ee?ee.length:0,ae&&(ae.CLSID&&(F.clsid=ae.CLSID),ae.mt&&(F.mt=ae.mt),ae.ct&&(F.ct=ae.ct)),F}function zr(V,re){A(V);var ee=Pr.find(V,re);if(ee){for(var ae=0;ae<V.FileIndex.length;++ae)if(V.FileIndex[ae]==ee)return V.FileIndex.splice(ae,1),V.FullPaths.splice(ae,1),!0}return!1}function Xs(V,re,ee){A(V);var ae=Pr.find(V,re);if(ae){for(var I=0;I<V.FileIndex.length;++I)if(V.FileIndex[I]==ae)return V.FileIndex[I].name=o(ee),V.FullPaths[I]=ee,!0}return!1}function Se(V){T(V,!0)}return s.find=Z,s.read=z,s.parse=v,s.write=ke,s.writeFile=He,s.utils={cfb_new:Ut,cfb_add:ar,cfb_del:zr,cfb_mov:Xs,cfb_gc:Se,ReadShift:wf,CheckField:lw,prep_blob:dn,bconcat:dl,use_zlib:te,_deflateRaw:qe,_inflateRaw:Ze,consts:ge},s})();function jj(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(e);s.open("r"),s.encoding="binary";var t=s.read();return s.close(),t}catch(i){if(!i.message||!i.message.match(/onstruct/))throw i}throw new Error("Cannot access file "+e)}function ji(e){for(var s=Object.keys(e),t=[],i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e,s[i])&&t.push(s[i]);return t}function hN(e){for(var s=[],t=ji(e),i=0;i!==t.length;++i)s[e[t[i]]]=t[i];return s}var Fp=new Date(1899,11,30,0,0,0);function zn(e,s){var t=e.getTime(),i=Fp.getTime()+(e.getTimezoneOffset()-Fp.getTimezoneOffset())*6e4;return(t-i)/(1440*60*1e3)}var $C=new Date,Lj=Fp.getTime()+($C.getTimezoneOffset()-Fp.getTimezoneOffset())*6e4,Zy=$C.getTimezoneOffset();function Zp(e){var s=new Date;return s.setTime(e*24*60*60*1e3+Lj),s.getTimezoneOffset()!==Zy&&s.setTime(s.getTime()+(s.getTimezoneOffset()-Zy)*6e4),s}function Aj(e){var s=0,t=0,i=!1,o=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!o)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var u=1;u!=o.length;++u)if(o[u]){switch(t=1,u>3&&(i=!0),o[u].slice(o[u].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+o[u].slice(o[u].length-1));case"D":t*=24;case"H":t*=60;case"M":if(i)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}s+=t*parseInt(o[u],10)}return s}var eE=new Date("2017-02-19T19:06:09.000Z"),BC=isNaN(eE.getFullYear())?new Date("2/19/17"):eE,Mj=BC.getFullYear()==2017;function Ks(e,s){var t=new Date(e);if(Mj)return s>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):s<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(e instanceof Date)return e;if(BC.getFullYear()==1917&&!isNaN(t.getFullYear())){var i=t.getFullYear();return e.indexOf(""+i)>-1||t.setFullYear(t.getFullYear()+100),t}var o=e.match(/\d+/g)||["2017","2","19","0","0","0"],u=new Date(+o[0],+o[1]-1,+o[2],+o[3]||0,+o[4]||0,+o[5]||0);return e.indexOf("Z")>-1&&(u=new Date(u.getTime()-u.getTimezoneOffset()*60*1e3)),u}function fc(e,s){if(kr&&Buffer.isBuffer(e)){if(s){if(e[0]==255&&e[1]==254)return Cf(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Cf(kC(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(s){if(e[0]==255&&e[1]==254)return Cf(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Cf(new TextDecoder("utf-16be").decode(e.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(u){return t[u]||u})}catch{}for(var i=[],o=0;o!=e.length;++o)i.push(String.fromCharCode(e[o]));return i.join("")}function fn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=fn(e[t]));return s}function ps(e,s){for(var t="";t.length<s;)t+=e;return t}function ci(e){var s=Number(e);if(!isNaN(s))return isFinite(s)?s:NaN;if(!/\d/.test(e))return s;var t=1,i=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(s=Number(i))||(i=i.replace(/[(](.*)[)]/,function(o,u){return t=-t,u}),!isNaN(s=Number(i)))?s/t:s}var Ij=["january","february","march","april","may","june","july","august","september","october","november","december"];function wu(e){var s=new Date(e),t=new Date(NaN),i=s.getYear(),o=s.getMonth(),u=s.getDate();if(isNaN(u))return t;var c=e.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&Ij.indexOf(c)==-1)return t}else if(c.match(/[a-z]/))return t;return i<0||i>8099?t:(o>0||u>1)&&i!=101?s:e.match(/[^-0-9:,\/\\]/)?t:s}var Fj=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(t,i,o){if(e||typeof i=="string")return t.split(i);for(var u=t.split(i),c=[u[0]],f=1;f<u.length;++f)c.push(o),c.push(u[f]);return c}})();function XC(e){return e?e.content&&e.type?fc(e.content,!0):e.data?Of(e.data):e.asNodeBuffer&&kr?Of(e.asNodeBuffer().toString("binary")):e.asBinary?Of(e.asBinary()):e._data&&e._data.getContent?Of(fc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function HC(e){if(!e)return null;if(e.data)return By(e.data);if(e.asNodeBuffer&&kr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var s=e._data.getContent();return typeof s=="string"?By(s):Array.prototype.slice.call(s)}return e.content&&e.type?e.content:null}function $j(e){return e&&e.name.slice(-4)===".bin"?HC(e):XC(e)}function Ua(e,s){for(var t=e.FullPaths||ji(e.files),i=s.toLowerCase().replace(/[\/]/g,"\\"),o=i.replace(/\\/g,"/"),u=0;u<t.length;++u){var c=t[u].replace(/^Root Entry[\/]/,"").toLowerCase();if(i==c||o==c)return e.files?e.files[t[u]]:e.FileIndex[u]}return null}function vN(e,s){var t=Ua(e,s);if(t==null)throw new Error("Cannot find file "+s+" in zip");return t}function Os(e,s,t){if(!t)return $j(vN(e,s));if(!s)return null;try{return Os(e,s)}catch{return null}}function ga(e,s,t){if(!t)return XC(vN(e,s));if(!s)return null;try{return ga(e,s)}catch{return null}}function Bj(e,s,t){return HC(vN(e,s))}function tE(e){for(var s=e.FullPaths||ji(e.files),t=[],i=0;i<s.length;++i)s[i].slice(-1)!="/"&&t.push(s[i].replace(/^Root Entry[\/]/,""));return t.sort()}function Xj(e,s,t){if(e.FullPaths){if(typeof t=="string"){var i;return kr?i=pc(t):i=lj(t),Pr.utils.cfb_add(e,s,i)}Pr.utils.cfb_add(e,s,t)}else e.file(s,t)}function GC(e,s){switch(s.type){case"base64":return Pr.read(e,{type:"base64"});case"binary":return Pr.read(e,{type:"binary"});case"buffer":case"array":return Pr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+s.type)}function Ef(e,s){if(e.charAt(0)=="/")return e.slice(1);var t=s.split("/");s.slice(-1)!="/"&&t.pop();for(var i=e.split("/");i.length!==0;){var o=i.shift();o===".."?t.pop():o!=="."&&t.push(o)}return t.join("/")}var WC=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Hj=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,rE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Gj=/<[^>]*>/g,Un=WC.match(rE)?rE:Gj,Wj=/<\w*:/,zj=/<(\/?)\w+:/;function er(e,s,t){for(var i={},o=0,u=0;o!==e.length&&!((u=e.charCodeAt(o))===32||u===10||u===13);++o);if(s||(i[0]=e.slice(0,o)),o===e.length)return i;var c=e.match(Hj),f=0,h="",x=0,v="",b="",O=1;if(c)for(x=0;x!=c.length;++x){for(b=c[x],u=0;u!=b.length&&b.charCodeAt(u)!==61;++u);for(v=b.slice(0,u).trim();b.charCodeAt(u+1)==32;)++u;for(O=(o=b.charCodeAt(u+1))==34||o==39?1:0,h=b.slice(u+1+O,b.length-O),f=0;f!=v.length&&v.charCodeAt(f)!==58;++f);if(f===v.length)v.indexOf("_")>0&&(v=v.slice(0,v.indexOf("_"))),i[v]=h,i[v.toLowerCase()]=h;else{var w=(f===5&&v.slice(0,5)==="xmlns"?"xmlns":"")+v.slice(f+1);if(i[w]&&v.slice(f-3,f)=="ext")continue;i[w]=h,i[w.toLowerCase()]=h}}return i}function Mi(e){return e.replace(zj,"<$1")}var zC={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Yj=hN(zC),Vr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,s=/_x([\da-fA-F]{4})_/ig;return function t(i){var o=i+"",u=o.indexOf("<![CDATA[");if(u==-1)return o.replace(e,function(f,h){return zC[f]||String.fromCharCode(parseInt(h,f.indexOf("x")>-1?16:10))||f}).replace(s,function(f,h){return String.fromCharCode(parseInt(h,16))});var c=o.indexOf("]]>");return t(o.slice(0,u))+o.slice(u+9,c)+t(o.slice(c+3))}})(),qj=/[&<>'"]/g,Kj=/[\u0000-\u001f]/g;function gN(e){var s=e+"";return s.replace(qj,function(t){return Yj[t]}).replace(/\n/g,"<br/>").replace(Kj,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var sE=(function(){var e=/&#(\d+);/g;function s(t,i){return String.fromCharCode(parseInt(i,10))}return function(i){return i.replace(e,s)}})();function as(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function yb(e){for(var s="",t=0,i=0,o=0,u=0,c=0,f=0;t<e.length;){if(i=e.charCodeAt(t++),i<128){s+=String.fromCharCode(i);continue}if(o=e.charCodeAt(t++),i>191&&i<224){c=(i&31)<<6,c|=o&63,s+=String.fromCharCode(c);continue}if(u=e.charCodeAt(t++),i<240){s+=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63);continue}c=e.charCodeAt(t++),f=((i&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536,s+=String.fromCharCode(55296+(f>>>10&1023)),s+=String.fromCharCode(56320+(f&1023))}return s}function nE(e){var s=vl(2*e.length),t,i,o=1,u=0,c=0,f;for(i=0;i<e.length;i+=o)o=1,(f=e.charCodeAt(i))<128?t=f:f<224?(t=(f&31)*64+(e.charCodeAt(i+1)&63),o=2):f<240?(t=(f&15)*4096+(e.charCodeAt(i+1)&63)*64+(e.charCodeAt(i+2)&63),o=3):(o=4,t=(f&7)*262144+(e.charCodeAt(i+1)&63)*4096+(e.charCodeAt(i+2)&63)*64+(e.charCodeAt(i+3)&63),t-=65536,c=55296+(t>>>10&1023),t=56320+(t&1023)),c!==0&&(s[u++]=c&255,s[u++]=c>>>8,c=0),s[u++]=t%256,s[u++]=t>>>8;return s.slice(0,u).toString("ucs2")}function aE(e){return pc(e,"binary").toString("utf8")}var Np="foo bar baz",Zr=kr&&(aE(Np)==yb(Np)&&aE||nE(Np)==yb(Np)&&nE)||yb,Cf=kr?function(e){return pc(e,"utf8").toString("binary")}:function(e){for(var s=[],t=0,i=0,o=0;t<e.length;)switch(i=e.charCodeAt(t++),!0){case i<128:s.push(String.fromCharCode(i));break;case i<2048:s.push(String.fromCharCode(192+(i>>6))),s.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,o=e.charCodeAt(t++)-56320+(i<<10),s.push(String.fromCharCode(240+(o>>18&7))),s.push(String.fromCharCode(144+(o>>12&63))),s.push(String.fromCharCode(128+(o>>6&63))),s.push(String.fromCharCode(128+(o&63)));break;default:s.push(String.fromCharCode(224+(i>>12))),s.push(String.fromCharCode(128+(i>>6&63))),s.push(String.fromCharCode(128+(i&63)))}return s.join("")},If=(function(){var e={};return function(t,i){var o=t+"|"+(i||"");return e[o]?e[o]:e[o]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",i||"")}})(),YC=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(s){return[new RegExp("&"+s[0]+";","ig"),s[1]]});return function(t){for(var i=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),o=0;o<e.length;++o)i=i.replace(e[o][0],e[o][1]);return i}})(),Jj=(function(){var e={};return function(t){return e[t]!==void 0?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),Qj=/<\/?(?:vt:)?variant>/g,Zj=/<(?:vt:)([^>]*)>([\s\S]*)</;function iE(e,s){var t=er(e),i=e.match(Jj(t.baseType))||[],o=[];if(i.length!=t.size){if(s.WTF)throw new Error("unexpected vector length "+i.length+" != "+t.size);return o}return i.forEach(function(u){var c=u.replace(Qj,"").match(Zj);c&&o.push({v:Zr(c[2]),t:c[1]})}),o}var e6=/(^\s|\s$|\n)/;function t6(e){return ji(e).map(function(s){return" "+s+'="'+e[s]+'"'}).join("")}function r6(e,s,t){return"<"+e+(t!=null?t6(t):"")+(s!=null?(s.match(e6)?' xml:space="preserve"':"")+">"+s+"</"+e:"/")+">"}function xN(e){if(kr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Zr(hc(fN(e)));throw new Error("Bad input format: expected Buffer or string")}var Ff=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,s6={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},n6=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function a6(e,s){for(var t=1-2*(e[s+7]>>>7),i=((e[s+7]&127)<<4)+(e[s+6]>>>4&15),o=e[s+6]&15,u=5;u>=0;--u)o=o*256+e[s+u];return i==2047?o==0?t*(1/0):NaN:(i==0?i=-1022:(i-=1023,o+=Math.pow(2,52)),t*Math.pow(2,i-52)*o)}function i6(e,s,t){var i=(s<0||1/s==-1/0?1:0)<<7,o=0,u=0,c=i?-s:s;isFinite(c)?c==0?o=u=0:(o=Math.floor(Math.log(c)/Math.LN2),u=c*Math.pow(2,52-o),o<=-1023&&(!isFinite(u)||u<Math.pow(2,52))?o=-1022:(u-=Math.pow(2,52),o+=1023)):(o=2047,u=isNaN(s)?26985:0);for(var f=0;f<=5;++f,u/=256)e[t+f]=u&255;e[t+6]=(o&15)<<4|u&15,e[t+7]=o>>4|i}var oE=function(e){for(var s=[],t=10240,i=0;i<e[0].length;++i)if(e[0][i])for(var o=0,u=e[0][i].length;o<u;o+=t)s.push.apply(s,e[0][i].slice(o,o+t));return s},lE=kr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(s){return Buffer.isBuffer(s)?s:pc(s)})):oE(e)}:oE,cE=function(e,s,t){for(var i=[],o=s;o<t;o+=2)i.push(String.fromCharCode(mo(e,o)));return i.join("").replace(Wn,"")},bN=kr?function(e,s,t){return Buffer.isBuffer(e)?e.toString("utf16le",s,t).replace(Wn,""):cE(e,s,t)}:cE,uE=function(e,s,t){for(var i=[],o=s;o<s+t;++o)i.push(("0"+e[o].toString(16)).slice(-2));return i.join("")},qC=kr?function(e,s,t){return Buffer.isBuffer(e)?e.toString("hex",s,s+t):uE(e,s,t)}:uE,dE=function(e,s,t){for(var i=[],o=s;o<t;o++)i.push(String.fromCharCode(Du(e,o)));return i.join("")},qf=kr?function(s,t,i){return Buffer.isBuffer(s)?s.toString("utf8",t,i):dE(s,t,i)}:dE,KC=function(e,s){var t=va(e,s);return t>0?qf(e,s+4,s+4+t-1):""},JC=KC,QC=function(e,s){var t=va(e,s);return t>0?qf(e,s+4,s+4+t-1):""},ZC=QC,ew=function(e,s){var t=2*va(e,s);return t>0?qf(e,s+4,s+4+t-1):""},tw=ew,rw=function(s,t){var i=va(s,t);return i>0?bN(s,t+4,t+4+i):""},sw=rw,nw=function(e,s){var t=va(e,s);return t>0?qf(e,s+4,s+4+t):""},aw=nw,iw=function(e,s){return a6(e,s)},$p=iw,ow=function(s){return Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array};kr&&(JC=function(s,t){if(!Buffer.isBuffer(s))return KC(s,t);var i=s.readUInt32LE(t);return i>0?s.toString("utf8",t+4,t+4+i-1):""},ZC=function(s,t){if(!Buffer.isBuffer(s))return QC(s,t);var i=s.readUInt32LE(t);return i>0?s.toString("utf8",t+4,t+4+i-1):""},tw=function(s,t){if(!Buffer.isBuffer(s))return ew(s,t);var i=2*s.readUInt32LE(t);return s.toString("utf16le",t+4,t+4+i-1)},sw=function(s,t){if(!Buffer.isBuffer(s))return rw(s,t);var i=s.readUInt32LE(t);return s.toString("utf16le",t+4,t+4+i)},aw=function(s,t){if(!Buffer.isBuffer(s))return nw(s,t);var i=s.readUInt32LE(t);return s.toString("utf8",t+4,t+4+i)},$p=function(s,t){return Buffer.isBuffer(s)?s.readDoubleLE(t):iw(s,t)},ow=function(s){return Buffer.isBuffer(s)||Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array});var Du=function(e,s){return e[s]},mo=function(e,s){return e[s+1]*256+e[s]},o6=function(e,s){var t=e[s+1]*256+e[s];return t<32768?t:(65535-t+1)*-1},va=function(e,s){return e[s+3]*(1<<24)+(e[s+2]<<16)+(e[s+1]<<8)+e[s]},oc=function(e,s){return e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]},l6=function(e,s){return e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]};function wf(e,s){var t="",i,o,u=[],c,f,h,x;switch(s){case"dbcs":if(x=this.l,kr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*e).toString("utf16le");else for(h=0;h<e;++h)t+=String.fromCharCode(mo(this,x)),x+=2;e*=2;break;case"utf8":t=qf(this,this.l,this.l+e);break;case"utf16le":e*=2,t=bN(this,this.l,this.l+e);break;case"wstr":return wf.call(this,e,"dbcs");case"lpstr-ansi":t=JC(this,this.l),e=4+va(this,this.l);break;case"lpstr-cp":t=ZC(this,this.l),e=4+va(this,this.l);break;case"lpwstr":t=tw(this,this.l),e=4+2*va(this,this.l);break;case"lpp4":e=4+va(this,this.l),t=sw(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+va(this,this.l),t=aw(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,t="";(c=Du(this,this.l+e++))!==0;)u.push(bp(c));t=u.join("");break;case"_wstr":for(e=0,t="";(c=mo(this,this.l+e))!==0;)u.push(bp(c)),e+=2;e+=2,t=u.join("");break;case"dbcs-cont":for(t="",x=this.l,h=0;h<e;++h){if(this.lens&&this.lens.indexOf(x)!==-1)return c=Du(this,x),this.l=x+1,f=wf.call(this,e-h,c?"dbcs-cont":"sbcs-cont"),u.join("")+f;u.push(bp(mo(this,x))),x+=2}t=u.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(t="",x=this.l,h=0;h!=e;++h){if(this.lens&&this.lens.indexOf(x)!==-1)return c=Du(this,x),this.l=x+1,f=wf.call(this,e-h,c?"dbcs-cont":"sbcs-cont"),u.join("")+f;u.push(bp(Du(this,x))),x+=1}t=u.join("");break;default:switch(e){case 1:return i=Du(this,this.l),this.l++,i;case 2:return i=(s==="i"?o6:mo)(this,this.l),this.l+=2,i;case 4:case-4:return s==="i"||(this[this.l+3]&128)===0?(i=(e>0?oc:l6)(this,this.l),this.l+=4,i):(o=va(this,this.l),this.l+=4,o);case 8:case-8:if(s==="f")return e==8?o=$p(this,this.l):o=$p([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,o;e=8;case 16:t=qC(this,this.l,e);break}}return this.l+=e,t}var c6=function(e,s,t){e[t]=s&255,e[t+1]=s>>>8&255,e[t+2]=s>>>16&255,e[t+3]=s>>>24&255},u6=function(e,s,t){e[t]=s&255,e[t+1]=s>>8&255,e[t+2]=s>>16&255,e[t+3]=s>>24&255},d6=function(e,s,t){e[t]=s&255,e[t+1]=s>>>8&255};function f6(e,s,t){var i=0,o=0;if(t==="dbcs"){for(o=0;o!=s.length;++o)d6(this,s.charCodeAt(o),this.l+2*o);i=2*s.length}else if(t==="sbcs"){for(s=s.replace(/[^\x00-\x7F]/g,"_"),o=0;o!=s.length;++o)this[this.l+o]=s.charCodeAt(o)&255;i=s.length}else if(t==="hex"){for(;o<e;++o)this[this.l++]=parseInt(s.slice(2*o,2*o+2),16)||0;return this}else if(t==="utf16le"){var u=Math.min(this.l+e,this.length);for(o=0;o<Math.min(s.length,e);++o){var c=s.charCodeAt(o);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<u;)this[this.l++]=0;return this}else switch(e){case 1:i=1,this[this.l]=s&255;break;case 2:i=2,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255;break;case 3:i=3,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255,s>>>=8,this[this.l+2]=s&255;break;case 4:i=4,c6(this,s,this.l);break;case 8:if(i=8,t==="f"){i6(this,s,this.l);break}case 16:break;case-4:i=4,u6(this,s,this.l);break}return this.l+=i,this}function lw(e,s){var t=qC(this,this.l,e.length>>1);if(t!==e)throw new Error(s+"Expected "+e+" saw "+t);this.l+=e.length>>1}function dn(e,s){e.l=s,e.read_shift=wf,e.chk=lw,e.write_shift=f6}function _n(e,s){e.l+=s}function Fs(e){var s=vl(e);return dn(s,0),s}function So(e,s,t){if(e){var i,o,u;dn(e,e.l||0);for(var c=e.length,f=0,h=0;e.l<c;){f=e.read_shift(1),f&128&&(f=(f&127)+((e.read_shift(1)&127)<<7));var x=zp[f]||zp[65535];for(i=e.read_shift(1),u=i&127,o=1;o<4&&i&128;++o)u+=((i=e.read_shift(1))&127)<<7*o;h=e.l+u;var v=x.f&&x.f(e,u,t);if(e.l=h,s(v,x,f))return}}}function Xb(){var e=[],s=kr?256:2048,t=function(x){var v=Fs(x);return dn(v,0),v},i=t(s),o=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&e.push(i),i=null)},u=function(x){return i&&x<i.length-i.l?i:(o(),i=t(Math.max(x+1,s)))},c=function(){return o(),dl(e)},f=function(x){o(),i=x,i.l==null&&(i.l=i.length),u(s)};return{next:u,push:f,end:c,_bufs:e}}function kf(e,s,t){var i=fn(e);if(s.s?(i.cRel&&(i.c+=s.s.c),i.rRel&&(i.r+=s.s.r)):(i.cRel&&(i.c+=s.c),i.rRel&&(i.r+=s.r)),!t||t.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function fE(e,s,t){var i=fn(e);return i.s=kf(i.s,s.s,t),i.e=kf(i.e,s.s,t),i}function Rf(e,s){if(e.cRel&&e.c<0)for(e=fn(e);e.c<0;)e.c+=s>8?16384:256;if(e.rRel&&e.r<0)for(e=fn(e);e.r<0;)e.r+=s>8?1048576:s>5?65536:16384;var t=ir(e);return!e.cRel&&e.cRel!=null&&(t=h6(t)),!e.rRel&&e.rRel!=null&&(t=m6(t)),t}function Eb(e,s){return e.s.r==0&&!e.s.rRel&&e.e.r==(s.biff>=12?1048575:s.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+$s(e.s.c)+":"+(e.e.cRel?"":"$")+$s(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(s.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+mn(e.s.r)+":"+(e.e.rRel?"":"$")+mn(e.e.r):Rf(e.s,s.biff)+":"+Rf(e.e,s.biff)}function NN(e){return parseInt(p6(e),10)-1}function mn(e){return""+(e+1)}function m6(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function p6(e){return e.replace(/\$(\d+)$/,"$1")}function DN(e){for(var s=v6(e),t=0,i=0;i!==s.length;++i)t=26*t+s.charCodeAt(i)-64;return t-1}function $s(e){if(e<0)throw new Error("invalid column "+e);var s="";for(++e;e;e=Math.floor((e-1)/26))s=String.fromCharCode((e-1)%26+65)+s;return s}function h6(e){return e.replace(/^([A-Z])/,"$$$1")}function v6(e){return e.replace(/^\$([A-Z])/,"$1")}function g6(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Gn(e){for(var s=0,t=0,i=0;i<e.length;++i){var o=e.charCodeAt(i);o>=48&&o<=57?s=10*s+(o-48):o>=65&&o<=90&&(t=26*t+(o-64))}return{c:t-1,r:s-1}}function ir(e){for(var s=e.c+1,t="";s;s=(s-1)/26|0)t=String.fromCharCode((s-1)%26+65)+t;return t+(e.r+1)}function Uu(e){var s=e.indexOf(":");return s==-1?{s:Gn(e),e:Gn(e)}:{s:Gn(e.slice(0,s)),e:Gn(e.slice(s+1))}}function _r(e,s){return typeof s>"u"||typeof s=="number"?_r(e.s,e.e):(typeof e!="string"&&(e=ir(e)),typeof s!="string"&&(s=ir(s)),e==s?e:e+":"+s)}function hs(e){var s={s:{c:0,r:0},e:{c:0,r:0}},t=0,i=0,o=0,u=e.length;for(t=0;i<u&&!((o=e.charCodeAt(i)-64)<1||o>26);++i)t=26*t+o;for(s.s.c=--t,t=0;i<u&&!((o=e.charCodeAt(i)-48)<0||o>9);++i)t=10*t+o;if(s.s.r=--t,i===u||o!=10)return s.e.c=s.s.c,s.e.r=s.s.r,s;for(++i,t=0;i!=u&&!((o=e.charCodeAt(i)-64)<1||o>26);++i)t=26*t+o;for(s.e.c=--t,t=0;i!=u&&!((o=e.charCodeAt(i)-48)<0||o>9);++i)t=10*t+o;return s.e.r=--t,s}function mE(e,s){var t=e.t=="d"&&s instanceof Date;if(e.z!=null)try{return e.w=ja(e.z,t?zn(s):s)}catch{}try{return e.w=ja((e.XF||{}).numFmtId||(t?14:0),t?zn(s):s)}catch{return""+s}}function xo(e,s,t){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&t&&t.dateNF&&(e.z=t.dateNF),e.t=="e"?xc[e.v]||e.v:s==null?mE(e,e.v):mE(e,s))}function xl(e,s){var t=s&&s.sheet?s.sheet:"Sheet1",i={};return i[t]=e,{SheetNames:[t],Sheets:i}}function cw(e,s,t){var i=t||{},o=e?Array.isArray(e):i.dense,u=e||(o?[]:{}),c=0,f=0;if(u&&i.origin!=null){if(typeof i.origin=="number")c=i.origin;else{var h=typeof i.origin=="string"?Gn(i.origin):i.origin;c=h.r,f=h.c}u["!ref"]||(u["!ref"]="A1:A1")}var x={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(u["!ref"]){var v=hs(u["!ref"]);x.s.c=v.s.c,x.s.r=v.s.r,x.e.c=Math.max(x.e.c,v.e.c),x.e.r=Math.max(x.e.r,v.e.r),c==-1&&(x.e.r=c=v.e.r+1)}for(var b=0;b!=s.length;++b)if(s[b]){if(!Array.isArray(s[b]))throw new Error("aoa_to_sheet expects an array of arrays");for(var O=0;O!=s[b].length;++O)if(!(typeof s[b][O]>"u")){var w={v:s[b][O]},C=c+b,S=f+O;if(x.s.r>C&&(x.s.r=C),x.s.c>S&&(x.s.c=S),x.e.r<C&&(x.e.r=C),x.e.c<S&&(x.e.c=S),s[b][O]&&typeof s[b][O]=="object"&&!Array.isArray(s[b][O])&&!(s[b][O]instanceof Date))w=s[b][O];else if(Array.isArray(w.v)&&(w.f=s[b][O][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(i.nullError)w.t="e",w.v=0;else if(i.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=i.dateNF||dr[14],i.cellDates?(w.t="d",w.w=ja(w.z,zn(w.v))):(w.t="n",w.v=zn(w.v),w.w=ja(w.z,w.v))):w.t="s";if(o)u[C]||(u[C]=[]),u[C][S]&&u[C][S].z&&(w.z=u[C][S].z),u[C][S]=w;else{var R=ir({c:S,r:C});u[R]&&u[R].z&&(w.z=u[R].z),u[R]=w}}}return x.s.c<1e7&&(u["!ref"]=_r(x)),u}function Vu(e,s){return cw(null,e,s)}function x6(e){return e.read_shift(4,"i")}function Pn(e){var s=e.read_shift(4);return s===0?"":e.read_shift(s,"dbcs")}function b6(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function SN(e,s){var t=e.l,i=e.read_shift(1),o=Pn(e),u=[],c={t:o,h:o};if((i&1)!==0){for(var f=e.read_shift(4),h=0;h!=f;++h)u.push(b6(e));c.r=u}else c.r=[{ich:0,ifnt:0}];return e.l=t+s,c}var N6=SN;function La(e){var s=e.read_shift(4),t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:s,iStyleRef:t}}function vc(e){var s=e.read_shift(2);return s+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:s}}var D6=Pn;function ON(e){var s=e.read_shift(4);return s===0||s===4294967295?"":e.read_shift(s,"dbcs")}var S6=Pn,Hb=ON;function yN(e){var s=e.slice(e.l,e.l+4),t=s[0]&1,i=s[0]&2;e.l+=4;var o=i===0?$p([0,0,0,0,s[0]&252,s[1],s[2],s[3]],0):oc(s,0)>>2;return t?o/100:o}function uw(e){var s={s:{},e:{}};return s.s.r=e.read_shift(4),s.e.r=e.read_shift(4),s.s.c=e.read_shift(4),s.e.c=e.read_shift(4),s}var gc=uw;function Rn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function O6(e){var s={},t=e.read_shift(1),i=t>>>1,o=e.read_shift(1),u=e.read_shift(2,"i"),c=e.read_shift(1),f=e.read_shift(1),h=e.read_shift(1);switch(e.l++,i){case 0:s.auto=1;break;case 1:s.index=o;var x=uc[o];x&&(s.rgb=Bf(x));break;case 2:s.rgb=Bf([c,f,h]);break;case 3:s.theme=o;break}return u!=0&&(s.tint=u>0?u/32767:u/32768),s}function y6(e){var s=e.read_shift(1);e.l++;var t={fBold:s&1,fItalic:s&2,fUnderline:s&4,fStrikeout:s&8,fOutline:s&16,fShadow:s&32,fCondense:s&64,fExtend:s&128};return t}function dw(e,s){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},i=e.read_shift(4);switch(i){case 0:return"";case 4294967295:case 4294967294:return t[e.read_shift(4)]||""}if(i>400)throw new Error("Unsupported Clipboard: "+i.toString(16));return e.l-=4,e.read_shift(0,s==1?"lpstr":"lpwstr")}function E6(e){return dw(e,1)}function C6(e){return dw(e,2)}var EN=2,ra=3,Dp=11,pE=12,Bp=19,Sp=64,w6=65,k6=71,R6=4108,T6=4126,qs=80,fw=81,P6=[qs,fw],_6={1:{n:"CodePage",t:EN},2:{n:"Category",t:qs},3:{n:"PresentationFormat",t:qs},4:{n:"ByteCount",t:ra},5:{n:"LineCount",t:ra},6:{n:"ParagraphCount",t:ra},7:{n:"SlideCount",t:ra},8:{n:"NoteCount",t:ra},9:{n:"HiddenCount",t:ra},10:{n:"MultimediaClipCount",t:ra},11:{n:"ScaleCrop",t:Dp},12:{n:"HeadingPairs",t:R6},13:{n:"TitlesOfParts",t:T6},14:{n:"Manager",t:qs},15:{n:"Company",t:qs},16:{n:"LinksUpToDate",t:Dp},17:{n:"CharacterCount",t:ra},19:{n:"SharedDoc",t:Dp},22:{n:"HyperlinksChanged",t:Dp},23:{n:"AppVersion",t:ra,p:"version"},24:{n:"DigSig",t:w6},26:{n:"ContentType",t:qs},27:{n:"ContentStatus",t:qs},28:{n:"Language",t:qs},29:{n:"Version",t:qs},255:{},2147483648:{n:"Locale",t:Bp},2147483651:{n:"Behavior",t:Bp},1919054434:{}},U6={1:{n:"CodePage",t:EN},2:{n:"Title",t:qs},3:{n:"Subject",t:qs},4:{n:"Author",t:qs},5:{n:"Keywords",t:qs},6:{n:"Comments",t:qs},7:{n:"Template",t:qs},8:{n:"LastAuthor",t:qs},9:{n:"RevNumber",t:qs},10:{n:"EditTime",t:Sp},11:{n:"LastPrinted",t:Sp},12:{n:"CreatedDate",t:Sp},13:{n:"ModifiedDate",t:Sp},14:{n:"PageCount",t:ra},15:{n:"WordCount",t:ra},16:{n:"CharCount",t:ra},17:{n:"Thumbnail",t:k6},18:{n:"Application",t:qs},19:{n:"DocSecurity",t:ra},255:{},2147483648:{n:"Locale",t:Bp},2147483651:{n:"Behavior",t:Bp},1919054434:{}},hE={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},V6=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function j6(e){return e.map(function(s){return[s>>16&255,s>>8&255,s&255]})}var L6=j6([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),uc=fn(L6),xc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},mw={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},vE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function A6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function M6(e){var s=A6();if(!e||!e.match)return s;var t={};if((e.match(Un)||[]).forEach(function(i){var o=er(i);switch(o[0].replace(Wj,"<")){case"<?xml":break;case"<Types":s.xmlns=o["xmlns"+(o[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[o.Extension]=o.ContentType;break;case"<Override":s[vE[o.ContentType]]!==void 0&&s[vE[o.ContentType]].push(o.PartName);break}}),s.xmlns!==s6.CT)throw new Error("Unknown Namespace: "+s.xmlns);return s.calcchain=s.calcchains.length>0?s.calcchains[0]:"",s.sst=s.strs.length>0?s.strs[0]:"",s.style=s.styles.length>0?s.styles[0]:"",s.defaults=t,delete s.calcchains,s}var Ou={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Gb(e){var s=e.lastIndexOf("/");return e.slice(0,s+1)+"_rels/"+e.slice(s+1)+".rels"}function Tf(e,s){var t={"!id":{}};if(!e)return t;s.charAt(0)!=="/"&&(s="/"+s);var i={};return(e.match(Un)||[]).forEach(function(o){var u=er(o);if(u[0]==="<Relationship"){var c={};c.Type=u.Type,c.Target=u.Target,c.Id=u.Id,u.TargetMode&&(c.TargetMode=u.TargetMode);var f=u.TargetMode==="External"?u.Target:Ef(u.Target,s);t[f]=c,i[u.Id]=c}}),t["!id"]=i,t}var I6="application/vnd.oasis.opendocument.spreadsheet";function F6(e,s){for(var t=xN(e),i,o;i=Ff.exec(t);)switch(i[3]){case"manifest":break;case"file-entry":if(o=er(i[0],!1),o.path=="/"&&o.type!==I6)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(s&&s.WTF)throw i}}var Pf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],$6=(function(){for(var e=new Array(Pf.length),s=0;s<Pf.length;++s){var t=Pf[s],i="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);e[s]=new RegExp("<"+i+"[^>]*>([\\s\\S]*?)</"+i+">")}return e})();function pw(e){var s={};e=Zr(e);for(var t=0;t<Pf.length;++t){var i=Pf[t],o=e.match($6[t]);o!=null&&o.length>0&&(s[i[1]]=Vr(o[1])),i[2]==="date"&&s[i[1]]&&(s[i[1]]=Ks(s[i[1]]))}return s}var B6=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function hw(e,s,t,i){var o=[];if(typeof e=="string")o=iE(e,i);else for(var u=0;u<e.length;++u)o=o.concat(e[u].map(function(v){return{v}}));var c=typeof s=="string"?iE(s,i).map(function(v){return v.v}):s,f=0,h=0;if(c.length>0)for(var x=0;x!==o.length;x+=2){switch(h=+o[x+1].v,o[x].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=h,t.SheetNames=c.slice(f,f+h);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=h,t.DefinedNames=c.slice(f,f+h);break;case"Charts":case"Diagramme":t.Chartsheets=h,t.ChartNames=c.slice(f,f+h);break}f+=h}}function X6(e,s,t){var i={};return s||(s={}),e=Zr(e),B6.forEach(function(o){var u=(e.match(If(o[0]))||[])[1];switch(o[2]){case"string":u&&(s[o[1]]=Vr(u));break;case"bool":s[o[1]]=u==="true";break;case"raw":var c=e.match(new RegExp("<"+o[0]+"[^>]*>([\\s\\S]*?)</"+o[0]+">"));c&&c.length>0&&(i[o[1]]=c[1]);break}}),i.HeadingPairs&&i.TitlesOfParts&&hw(i.HeadingPairs,i.TitlesOfParts,s,t),s}var H6=/<[^>]+>[^<]*/g;function G6(e,s){var t={},i="",o=e.match(H6);if(o)for(var u=0;u!=o.length;++u){var c=o[u],f=er(c);switch(f[0]){case"<?xml":break;case"<Properties":break;case"<property":i=Vr(f.name);break;case"</property>":i=null;break;default:if(c.indexOf("<vt:")===0){var h=c.split(">"),x=h[0].slice(4),v=h[1];switch(x){case"lpstr":case"bstr":case"lpwstr":t[i]=Vr(v);break;case"bool":t[i]=as(v);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[i]=parseInt(v,10);break;case"r4":case"r8":case"decimal":t[i]=parseFloat(v);break;case"filetime":case"date":t[i]=Ks(v);break;case"cy":case"error":t[i]=Vr(v);break;default:if(x.slice(-1)=="/")break;s.WTF&&typeof console<"u"&&console.warn("Unexpected",c,x,h)}}else if(c.slice(0,2)!=="</"){if(s.WTF)throw new Error(c)}}}return t}var W6={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Cb;function z6(e,s,t){Cb||(Cb=hN(W6)),s=Cb[s]||s,e[s]=t}function CN(e){var s=e.read_shift(4),t=e.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+s/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function vw(e,s,t){var i=e.l,o=e.read_shift(0,"lpstr-cp");if(t)for(;e.l-i&3;)++e.l;return o}function gw(e,s,t){var i=e.read_shift(0,"lpwstr");return i}function xw(e,s,t){return s===31?gw(e):vw(e,s,t)}function Wb(e,s,t){return xw(e,s,t===!1?0:4)}function Y6(e,s){if(!s)throw new Error("VtUnalignedString must have positive length");return xw(e,s,0)}function q6(e){for(var s=e.read_shift(4),t=[],i=0;i!=s;++i){var o=e.l;t[i]=e.read_shift(0,"lpwstr").replace(Wn,""),e.l-o&2&&(e.l+=2)}return t}function K6(e){for(var s=e.read_shift(4),t=[],i=0;i!=s;++i)t[i]=e.read_shift(0,"lpstr-cp").replace(Wn,"");return t}function J6(e){var s=e.l,t=Xp(e,fw);e[e.l]==0&&e[e.l+1]==0&&e.l-s&2&&(e.l+=2);var i=Xp(e,ra);return[t,i]}function Q6(e){for(var s=e.read_shift(4),t=[],i=0;i<s/2;++i)t.push(J6(e));return t}function gE(e,s){for(var t=e.read_shift(4),i={},o=0;o!=t;++o){var u=e.read_shift(4),c=e.read_shift(4);i[u]=e.read_shift(c,s===1200?"utf16le":"utf8").replace(Wn,"").replace(yf,"!"),s===1200&&c%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),i}function bw(e){var s=e.read_shift(4),t=e.slice(e.l,e.l+s);return e.l+=s,(s&3)>0&&(e.l+=4-(s&3)&3),t}function Z6(e){var s={};return s.Size=e.read_shift(4),e.l+=s.Size+3-(s.Size-1)%4,s}function Xp(e,s,t){var i=e.read_shift(2),o,u=t||{};if(e.l+=2,s!==pE&&i!==s&&P6.indexOf(s)===-1&&!((s&65534)==4126&&(i&65534)==4126))throw new Error("Expected type "+s+" saw "+i);switch(s===pE?i:s){case 2:return o=e.read_shift(2,"i"),u.raw||(e.l+=2),o;case 3:return o=e.read_shift(4,"i"),o;case 11:return e.read_shift(4)!==0;case 19:return o=e.read_shift(4),o;case 30:return vw(e,i,4).replace(Wn,"");case 31:return gw(e);case 64:return CN(e);case 65:return bw(e);case 71:return Z6(e);case 80:return Wb(e,i,!u.raw).replace(Wn,"");case 81:return Y6(e,i).replace(Wn,"");case 4108:return Q6(e);case 4126:case 4127:return i==4127?q6(e):K6(e);default:throw new Error("TypedPropertyValue unrecognized type "+s+" "+i)}}function xE(e,s){var t=e.l,i=e.read_shift(4),o=e.read_shift(4),u=[],c=0,f=0,h=-1,x={};for(c=0;c!=o;++c){var v=e.read_shift(4),b=e.read_shift(4);u[c]=[v,b+t]}u.sort(function(G,k){return G[1]-k[1]});var O={};for(c=0;c!=o;++c){if(e.l!==u[c][1]){var w=!0;if(c>0&&s)switch(s[u[c-1][0]].t){case 2:e.l+2===u[c][1]&&(e.l+=2,w=!1);break;case 80:e.l<=u[c][1]&&(e.l=u[c][1],w=!1);break;case 4108:e.l<=u[c][1]&&(e.l=u[c][1],w=!1);break}if((!s||c==0)&&e.l<=u[c][1]&&(w=!1,e.l=u[c][1]),w)throw new Error("Read Error: Expected address "+u[c][1]+" at "+e.l+" :"+c)}if(s){var C=s[u[c][0]];if(O[C.n]=Xp(e,C.t,{raw:!0}),C.p==="version"&&(O[C.n]=String(O[C.n]>>16)+"."+("0000"+String(O[C.n]&65535)).slice(-4)),C.n=="CodePage")switch(O[C.n]){case 0:O[C.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:oi(f=O[C.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+O[C.n])}}else if(u[c][0]===1){if(f=O.CodePage=Xp(e,EN),oi(f),h!==-1){var S=e.l;e.l=u[h][1],x=gE(e,f),e.l=S}}else if(u[c][0]===0){if(f===0){h=c,e.l=u[c+1][1];continue}x=gE(e,f)}else{var R=x[u[c][0]],X;switch(e[e.l]){case 65:e.l+=4,X=bw(e);break;case 30:e.l+=4,X=Wb(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,X=Wb(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,X=e.read_shift(4,"i");break;case 19:e.l+=4,X=e.read_shift(4);break;case 5:e.l+=4,X=e.read_shift(8,"f");break;case 11:e.l+=4,X=Ns(e,4);break;case 64:e.l+=4,X=Ks(CN(e));break;default:throw new Error("unparsed value: "+e[e.l])}O[R]=X}}return e.l=t+i,O}function bE(e,s,t){var i=e.content;if(!i)return{};dn(i,0);var o,u,c,f,h=0;i.chk("feff","Byte Order: "),i.read_shift(2);var x=i.read_shift(4),v=i.read_shift(16);if(v!==Pr.utils.consts.HEADER_CLSID&&v!==t)throw new Error("Bad PropertySet CLSID "+v);if(o=i.read_shift(4),o!==1&&o!==2)throw new Error("Unrecognized #Sets: "+o);if(u=i.read_shift(16),f=i.read_shift(4),o===1&&f!==i.l)throw new Error("Length mismatch: "+f+" !== "+i.l);o===2&&(c=i.read_shift(16),h=i.read_shift(4));var b=xE(i,s),O={SystemIdentifier:x};for(var w in b)O[w]=b[w];if(O.FMTID=u,o===1)return O;if(h-i.l==2&&(i.l+=2),i.l!==h)throw new Error("Length mismatch 2: "+i.l+" !== "+h);var C;try{C=xE(i,null)}catch{}for(w in C)O[w]=C[w];return O.FMTID=[u,c],O}function cl(e,s){return e.read_shift(s),null}function eL(e,s,t){for(var i=[],o=e.l+s;e.l<o;)i.push(t(e,o-e.l));if(o!==e.l)throw new Error("Slurp error");return i}function Ns(e,s){return e.read_shift(s)===1}function ys(e){return e.read_shift(2,"u")}function Nw(e,s){return eL(e,s,ys)}function tL(e){var s=e.read_shift(1),t=e.read_shift(1);return t===1?s:s===1}function Kf(e,s,t){var i=e.read_shift(t&&t.biff>=12?2:1),o="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var u=e.read_shift(1);u&&(o="dbcs-cont")}else t.biff==12&&(o="wstr");t.biff>=2&&t.biff<=5&&(o="cpstr");var c=i?e.read_shift(i,o):"";return c}function rL(e){var s=e.read_shift(2),t=e.read_shift(1),i=t&4,o=t&8,u=1+(t&1),c=0,f,h={};o&&(c=e.read_shift(2)),i&&(f=e.read_shift(4));var x=u==2?"dbcs-cont":"sbcs-cont",v=s===0?"":e.read_shift(s,x);return o&&(e.l+=4*c),i&&(e.l+=f),h.t=v,o||(h.raw="<t>"+h.t+"</t>",h.r=h.t),h}function mc(e,s,t){var i;if(t){if(t.biff>=2&&t.biff<=5)return e.read_shift(s,"cpstr");if(t.biff>=12)return e.read_shift(s,"dbcs-cont")}var o=e.read_shift(1);return o===0?i=e.read_shift(s,"sbcs-cont"):i=e.read_shift(s,"dbcs-cont"),i}function Jf(e,s,t){var i=e.read_shift(t&&t.biff==2?1:2);return i===0?(e.l++,""):mc(e,i,t)}function bc(e,s,t){if(t.biff>5)return Jf(e,s,t);var i=e.read_shift(1);return i===0?(e.l++,""):e.read_shift(i,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function sL(e){var s=e.read_shift(1);e.l++;var t=e.read_shift(2);return e.l+=2,[s,t]}function nL(e){var s=e.read_shift(4),t=e.l,i=!1;s>24&&(e.l+=s-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(i=!0),e.l=t);var o=e.read_shift((i?s-24:s)>>1,"utf16le").replace(Wn,"");return i&&(e.l+=24),o}function aL(e){for(var s=e.read_shift(2),t="";s-- >0;)t+="../";var i=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var o=e.read_shift(4);if(o===0)return t+i.replace(/\\/g,"/");var u=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var c=e.read_shift(u>>1,"utf16le").replace(Wn,"");return t+c}function iL(e,s){var t=e.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return nL(e);case"0303000000000000c000000000000046":return aL(e);default:throw new Error("Unsupported Moniker "+t)}}function Op(e){var s=e.read_shift(4),t=s>0?e.read_shift(s,"utf16le").replace(Wn,""):"";return t}function oL(e,s){var t=e.l+s,i=e.read_shift(4);if(i!==2)throw new Error("Unrecognized streamVersion: "+i);var o=e.read_shift(2);e.l+=2;var u,c,f,h,x="",v,b;o&16&&(u=Op(e,t-e.l)),o&128&&(c=Op(e,t-e.l)),(o&257)===257&&(f=Op(e,t-e.l)),(o&257)===1&&(h=iL(e,t-e.l)),o&8&&(x=Op(e,t-e.l)),o&32&&(v=e.read_shift(16)),o&64&&(b=CN(e)),e.l=t;var O=c||f||h||"";O&&x&&(O+="#"+x),O||(O="#"+x),o&2&&O.charAt(0)=="/"&&O.charAt(1)!="/"&&(O="file://"+O);var w={Target:O};return v&&(w.guid=v),b&&(w.time=b),u&&(w.Tooltip=u),w}function Dw(e){var s=e.read_shift(1),t=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(1);return[s,t,i,o]}function Sw(e,s){var t=Dw(e);return t[3]=0,t}function Ii(e){var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2);return{r:s,c:t,ixfe:i}}function lL(e){var s=e.read_shift(2),t=e.read_shift(2);return e.l+=8,{type:s,flags:t}}function cL(e,s,t){return s===0?"":bc(e,s,t)}function uL(e,s,t){var i=t.biff>8?4:2,o=e.read_shift(i),u=e.read_shift(i,"i"),c=e.read_shift(i,"i");return[o,u,c]}function Ow(e){var s=e.read_shift(2),t=yN(e);return[s,t]}function dL(e,s,t){e.l+=4,s-=4;var i=e.l+s,o=Kf(e,s,t),u=e.read_shift(2);if(i-=e.l,u!==i)throw new Error("Malformed AddinUdf: padding = "+i+" != "+u);return e.l+=u,o}function eh(e){var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2);return{s:{c:i,r:s},e:{c:o,r:t}}}function yw(e){var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1);return{s:{c:i,r:s},e:{c:o,r:t}}}var fL=yw;function Ew(e){e.l+=4;var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2);return e.l+=12,[t,s,i]}function mL(e){var s={};return e.l+=4,e.l+=16,s.fSharedNote=e.read_shift(2),e.l+=4,s}function pL(e){var s={};return e.l+=4,e.cf=e.read_shift(2),s}function wn(e){e.l+=2,e.l+=e.read_shift(2)}var hL={0:wn,4:wn,5:wn,6:wn,7:pL,8:wn,9:wn,10:wn,11:wn,12:wn,13:mL,14:wn,15:wn,16:wn,17:wn,18:wn,19:wn,20:wn,21:Ew};function vL(e,s){for(var t=e.l+s,i=[];e.l<t;){var o=e.read_shift(2);e.l-=2;try{i.push(hL[o](e,t-e.l))}catch{return e.l=t,i}}return e.l!=t&&(e.l=t),i}function yp(e,s){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=e.read_shift(2),s-=2,s>=2&&(t.dt=e.read_shift(2),e.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(s>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return e.read_shift(s),t}function gL(e,s){return s===0||e.read_shift(2),1200}function xL(e,s,t){if(t.enc)return e.l+=s,"";var i=e.l,o=bc(e,0,t);return e.read_shift(s+i-e.l),o}function bL(e,s,t){var i=t&&t.biff==8||s==2?e.read_shift(2):(e.l+=s,0);return{fDialog:i&16,fBelow:i&64,fRight:i&128}}function NL(e,s,t){var i=e.read_shift(4),o=e.read_shift(1)&3,u=e.read_shift(1);switch(u){case 0:u="Worksheet";break;case 1:u="Macrosheet";break;case 2:u="Chartsheet";break;case 6:u="VBAModule";break}var c=Kf(e,0,t);return c.length===0&&(c="Sheet1"),{pos:i,hs:o,dt:u,name:c}}function DL(e,s){for(var t=e.l+s,i=e.read_shift(4),o=e.read_shift(4),u=[],c=0;c!=o&&e.l<t;++c)u.push(rL(e));return u.Count=i,u.Unique=o,u}function SL(e,s){var t={};return t.dsst=e.read_shift(2),e.l+=s-2,t}function OL(e){var s={};s.r=e.read_shift(2),s.c=e.read_shift(2),s.cnt=e.read_shift(2)-s.c;var t=e.read_shift(2);e.l+=4;var i=e.read_shift(1);return e.l+=3,i&7&&(s.level=i&7),i&32&&(s.hidden=!0),i&64&&(s.hpt=t/20),s}function yL(e){var s=lL(e);if(s.type!=2211)throw new Error("Invalid Future Record "+s.type);var t=e.read_shift(4);return t!==0}function EL(e){return e.read_shift(2),e.read_shift(4)}function NE(e,s,t){var i=0;t&&t.biff==2||(i=e.read_shift(2));var o=e.read_shift(2);t&&t.biff==2&&(i=1-(o>>15),o&=32767);var u={Unsynced:i&1,DyZero:(i&2)>>1,ExAsc:(i&4)>>2,ExDsc:(i&8)>>3};return[u,o]}function CL(e){var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),c=e.read_shift(2),f=e.read_shift(2),h=e.read_shift(2),x=e.read_shift(2);return{Pos:[s,t],Dim:[i,o],Flags:u,CurTab:c,FirstTab:f,Selected:h,TabRatio:x}}function wL(e,s,t){if(t&&t.biff>=2&&t.biff<5)return{};var i=e.read_shift(2);return{RTL:i&64}}function kL(){}function RL(e,s,t){var i={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return i.name=Kf(e,0,t),i}function TL(e){var s=Ii(e);return s.isst=e.read_shift(4),s}function PL(e,s,t){t.biffguess&&t.biff==2&&(t.biff=5);var i=e.l+s,o=Ii(e);t.biff==2&&e.l++;var u=Jf(e,i-e.l,t);return o.val=u,o}function _L(e,s,t){var i=e.read_shift(2),o=bc(e,0,t);return[i,o]}var UL=bc;function DE(e,s,t){var i=e.l+s,o=t.biff==8||!t.biff?4:2,u=e.read_shift(o),c=e.read_shift(o),f=e.read_shift(2),h=e.read_shift(2);return e.l=i,{s:{r:u,c:f},e:{r:c,c:h}}}function VL(e){var s=e.read_shift(2),t=e.read_shift(2),i=Ow(e);return{r:s,c:t,ixfe:i[0],rknum:i[1]}}function jL(e,s){for(var t=e.l+s-2,i=e.read_shift(2),o=e.read_shift(2),u=[];e.l<t;)u.push(Ow(e));if(e.l!==t)throw new Error("MulRK read error");var c=e.read_shift(2);if(u.length!=c-o+1)throw new Error("MulRK length mismatch");return{r:i,c:o,C:c,rkrec:u}}function LL(e,s){for(var t=e.l+s-2,i=e.read_shift(2),o=e.read_shift(2),u=[];e.l<t;)u.push(e.read_shift(2));if(e.l!==t)throw new Error("MulBlank read error");var c=e.read_shift(2);if(u.length!=c-o+1)throw new Error("MulBlank length mismatch");return{r:i,c:o,C:c,ixfe:u}}function AL(e,s,t,i){var o={},u=e.read_shift(4),c=e.read_shift(4),f=e.read_shift(4),h=e.read_shift(2);return o.patternType=V6[f>>26],i.cellStyles&&(o.alc=u&7,o.fWrap=u>>3&1,o.alcV=u>>4&7,o.fJustLast=u>>7&1,o.trot=u>>8&255,o.cIndent=u>>16&15,o.fShrinkToFit=u>>20&1,o.iReadOrder=u>>22&2,o.fAtrNum=u>>26&1,o.fAtrFnt=u>>27&1,o.fAtrAlc=u>>28&1,o.fAtrBdr=u>>29&1,o.fAtrPat=u>>30&1,o.fAtrProt=u>>31&1,o.dgLeft=c&15,o.dgRight=c>>4&15,o.dgTop=c>>8&15,o.dgBottom=c>>12&15,o.icvLeft=c>>16&127,o.icvRight=c>>23&127,o.grbitDiag=c>>30&3,o.icvTop=f&127,o.icvBottom=f>>7&127,o.icvDiag=f>>14&127,o.dgDiag=f>>21&15,o.icvFore=h&127,o.icvBack=h>>7&127,o.fsxButton=h>>14&1),o}function ML(e,s,t){var i={};return i.ifnt=e.read_shift(2),i.numFmtId=e.read_shift(2),i.flags=e.read_shift(2),i.fStyle=i.flags>>2&1,s-=6,i.data=AL(e,s,i.fStyle,t),i}function IL(e){e.l+=4;var s=[e.read_shift(2),e.read_shift(2)];if(s[0]!==0&&s[0]--,s[1]!==0&&s[1]--,s[0]>7||s[1]>7)throw new Error("Bad Gutters: "+s.join("|"));return s}function SE(e,s,t){var i=Ii(e);(t.biff==2||s==9)&&++e.l;var o=tL(e);return i.val=o,i.t=o===!0||o===!1?"b":"e",i}function FL(e,s,t){t.biffguess&&t.biff==2&&(t.biff=5);var i=Ii(e),o=Rn(e);return i.val=o,i}var OE=cL;function $L(e,s,t){var i=e.l+s,o=e.read_shift(2),u=e.read_shift(2);if(t.sbcch=u,u==1025||u==14849)return[u,o];if(u<1||u>255)throw new Error("Unexpected SupBook type: "+u);for(var c=mc(e,u),f=[];i>e.l;)f.push(Jf(e));return[u,o,c,f]}function yE(e,s,t){var i=e.read_shift(2),o,u={fBuiltIn:i&1,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return t.sbcch===14849&&(o=dL(e,s-2,t)),u.body=o||e.read_shift(s-2),typeof o=="string"&&(u.Name=o),u}var BL=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function EE(e,s,t){var i=e.l+s,o=e.read_shift(2),u=e.read_shift(1),c=e.read_shift(1),f=e.read_shift(t&&t.biff==2?1:2),h=0;(!t||t.biff>=5)&&(t.biff!=5&&(e.l+=2),h=e.read_shift(2),t.biff==5&&(e.l+=2),e.l+=4);var x=mc(e,c,t);o&32&&(x=BL[x.charCodeAt(0)]);var v=i-e.l;t&&t.biff==2&&--v;var b=i==e.l||f===0||!(v>0)?[]:OF(e,v,t,f);return{chKey:u,Name:x,itab:h,rgce:b}}function Cw(e,s,t){if(t.biff<8)return XL(e,s,t);for(var i=[],o=e.l+s,u=e.read_shift(t.biff>8?4:2);u--!==0;)i.push(uL(e,t.biff>8?12:6,t));if(e.l!=o)throw new Error("Bad ExternSheet: "+e.l+" != "+o);return i}function XL(e,s,t){e[e.l+1]==3&&e[e.l]++;var i=Kf(e,s,t);return i.charCodeAt(0)==3?i.slice(1):i}function HL(e,s,t){if(t.biff<8){e.l+=s;return}var i=e.read_shift(2),o=e.read_shift(2),u=mc(e,i,t),c=mc(e,o,t);return[u,c]}function GL(e,s,t){var i=yw(e);e.l++;var o=e.read_shift(1);return s-=8,[yF(e,s,t),o,i]}function CE(e,s,t){var i=fL(e);switch(t.biff){case 2:e.l++,s-=7;break;case 3:case 4:e.l+=2,s-=8;break;default:e.l+=6,s-=12}return[i,DF(e,s,t)]}function WL(e){var s=e.read_shift(4)!==0,t=e.read_shift(4)!==0,i=e.read_shift(4);return[s,t,i]}function zL(e,s,t){if(!(t.biff<8)){var i=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),c=e.read_shift(2),f=bc(e,0,t);return t.biff<8&&e.read_shift(1),[{r:i,c:o},f,c,u]}}function YL(e,s,t){return zL(e,s,t)}function qL(e,s){for(var t=[],i=e.read_shift(2);i--;)t.push(eh(e));return t}function KL(e,s,t){if(t&&t.biff<8)return QL(e,s,t);var i=Ew(e),o=vL(e,s-22,i[1]);return{cmo:i,ft:o}}var JL={8:function(e,s){var t=e.l+s;e.l+=10;var i=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var o=e.read_shift(1);return e.l+=o,e.l=t,{fmt:i}}};function QL(e,s,t){e.l+=4;var i=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,s-=36;var c=[];return c.push((JL[i]||_n)(e,s,t)),{cmo:[o,i,u],ft:c}}function ZL(e,s,t){var i=e.l,o="";try{e.l+=4;var u=(t.lastobj||{cmo:[0,0]}).cmo[1],c;[0,5,7,11,12,14].indexOf(u)==-1?e.l+=6:c=sL(e,6,t);var f=e.read_shift(2);e.read_shift(2),ys(e,2);var h=e.read_shift(2);e.l+=h;for(var x=1;x<e.lens.length-1;++x){if(e.l-i!=e.lens[x])throw new Error("TxO: bad continue record");var v=e[e.l],b=mc(e,e.lens[x+1]-e.lens[x]-1);if(o+=b,o.length>=(v?f:2*f))break}if(o.length!==f&&o.length!==f*2)throw new Error("cchText: "+f+" != "+o.length);return e.l=i+s,{t:o}}catch{return e.l=i+s,{t:o}}}function eA(e,s){var t=eh(e);e.l+=16;var i=oL(e,s-24);return[t,i]}function tA(e,s){e.read_shift(2);var t=eh(e),i=e.read_shift((s-10)/2,"dbcs-cont");return i=i.replace(Wn,""),[t,i]}function rA(e){var s=[0,0],t;return t=e.read_shift(2),s[0]=hE[t]||t,t=e.read_shift(2),s[1]=hE[t]||t,s}function sA(e){for(var s=e.read_shift(2),t=[];s-- >0;)t.push(Sw(e));return t}function nA(e){for(var s=e.read_shift(2),t=[];s-- >0;)t.push(Sw(e));return t}function aA(e){e.l+=2;var s={cxfs:0,crc:0};return s.cxfs=e.read_shift(2),s.crc=e.read_shift(4),s}function ww(e,s,t){if(!t.cellStyles)return _n(e,s);var i=t&&t.biff>=12?4:2,o=e.read_shift(i),u=e.read_shift(i),c=e.read_shift(i),f=e.read_shift(i),h=e.read_shift(2);i==2&&(e.l+=2);var x={s:o,e:u,w:c,ixfe:f,flags:h};return(t.biff>=5||!t.biff)&&(x.level=h>>8&7),x}function iA(e,s){var t={};return s<32||(e.l+=16,t.header=Rn(e),t.footer=Rn(e),e.l+=2),t}function oA(e,s,t){var i={area:!1};if(t.biff!=5)return e.l+=s,i;var o=e.read_shift(1);return e.l+=3,o&16&&(i.area=!0),i}var lA=Ii,cA=Nw,uA=Jf;function dA(e){var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(4),o={fmt:s,env:t,len:i,data:e.slice(e.l,e.l+i)};return e.l+=i,o}function fA(e,s,t){t.biffguess&&t.biff==5&&(t.biff=2);var i=Ii(e);++e.l;var o=bc(e,s-7,t);return i.t="str",i.val=o,i}function mA(e){var s=Ii(e);++e.l;var t=Rn(e);return s.t="n",s.val=t,s}function pA(e){var s=Ii(e);++e.l;var t=e.read_shift(2);return s.t="n",s.val=t,s}function hA(e){var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,"sbcs-cont")}function vA(e,s){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=s-13}function gA(e,s,t){var i=e.l+s,o=Ii(e),u=e.read_shift(2),c=mc(e,u,t);return e.l=i,o.t="str",o.val=c,o}var xA=[2,3,48,49,131,139,140,245],wE=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},s=hN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(f,h){var x=[],v=vl(1);switch(h.type){case"base64":v=ii(xa(f));break;case"binary":v=ii(f);break;case"buffer":case"array":v=f;break}dn(v,0);var b=v.read_shift(1),O=!!(b&136),w=!1,C=!1;switch(b){case 2:break;case 3:break;case 48:w=!0,O=!0;break;case 49:w=!0,O=!0;break;case 131:break;case 139:break;case 140:C=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+b.toString(16))}var S=0,R=521;b==2&&(S=v.read_shift(2)),v.l+=3,b!=2&&(S=v.read_shift(4)),S>1048576&&(S=1e6),b!=2&&(R=v.read_shift(2));var X=v.read_shift(2),G=h.codepage||1252;b!=2&&(v.l+=16,v.read_shift(1),v[v.l]!==0&&(G=e[v[v.l]]),v.l+=1,v.l+=2),C&&(v.l+=36);for(var k=[],ie={},K=Math.min(v.length,b==2?521:R-10-(w?264:0)),z=C?32:11;v.l<K&&v[v.l]!=13;)switch(ie={},ie.name=Af.utils.decode(G,v.slice(v.l,v.l+z)).replace(/[\u0000\r\n].*$/g,""),v.l+=z,ie.type=String.fromCharCode(v.read_shift(1)),b!=2&&!C&&(ie.offset=v.read_shift(4)),ie.len=v.read_shift(1),b==2&&(ie.offset=v.read_shift(2)),ie.dec=v.read_shift(1),ie.name.length&&k.push(ie),b!=2&&(v.l+=C?13:14),ie.type){case"B":(!w||ie.len!=8)&&h.WTF&&console.log("Skipping "+ie.name+":"+ie.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+ie.name+":"+ie.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+ie.type)}if(v[v.l]!==13&&(v.l=R-1),v.read_shift(1)!==13)throw new Error("DBF Terminator not found "+v.l+" "+v[v.l]);v.l=R;var A=0,ce=0;for(x[0]=[],ce=0;ce!=k.length;++ce)x[0][ce]=k[ce].name;for(;S-- >0;){if(v[v.l]===42){v.l+=X;continue}for(++v.l,x[++A]=[],ce=0,ce=0;ce!=k.length;++ce){var T=v.slice(v.l,v.l+k[ce].len);v.l+=k[ce].len,dn(T,0);var H=Af.utils.decode(G,T);switch(k[ce].type){case"C":H.trim().length&&(x[A][ce]=H.replace(/\s+$/,""));break;case"D":H.length===8?x[A][ce]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):x[A][ce]=H;break;case"F":x[A][ce]=parseFloat(H.trim());break;case"+":case"I":x[A][ce]=C?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":x[A][ce]=!0;break;case"N":case"F":x[A][ce]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!O)throw new Error("DBF Unexpected MEMO for type "+b.toString(16));x[A][ce]="##MEMO##"+(C?parseInt(H.trim(),10):T.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(x[A][ce]=+H||0);break;case"@":x[A][ce]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":x[A][ce]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":x[A][ce]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":x[A][ce]=-T.read_shift(-8,"f");break;case"B":if(w&&k[ce].len==8){x[A][ce]=T.read_shift(8,"f");break}case"G":case"P":T.l+=k[ce].len;break;case"0":if(k[ce].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[ce].type)}}}if(b!=2&&v.l<v.length&&v[v.l++]!=26)throw new Error("DBF EOF Marker missing "+(v.l-1)+" of "+v.length+" "+v[v.l-1].toString(16));return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),h.DBF=k,x}function i(f,h){var x=h||{};x.dateNF||(x.dateNF="yyyymmdd");var v=Vu(t(f,x),x);return v["!cols"]=x.DBF.map(function(b){return{wch:b.len,DBF:b}}),delete x.DBF,v}function o(f,h){try{return xl(i(f,h),h)}catch(x){if(h&&h.WTF)throw x}return{SheetNames:[],Sheets:{}}}var u={B:8,C:250,L:1,D:8,"?":0,"":0};function c(f,h){var x=h||{};if(+x.codepage>=0&&oi(+x.codepage),x.type=="string")throw new Error("Cannot write DBF to JS string");var v=Xb(),b=Qb(f,{header:1,raw:!0,cellDates:!0}),O=b[0],w=b.slice(1),C=f["!cols"]||[],S=0,R=0,X=0,G=1;for(S=0;S<O.length;++S){if(((C[S]||{}).DBF||{}).name){O[S]=C[S].DBF.name,++X;continue}if(O[S]!=null){if(++X,typeof O[S]=="number"&&(O[S]=O[S].toString(10)),typeof O[S]!="string")throw new Error("DBF Invalid column name "+O[S]+" |"+typeof O[S]+"|");if(O.indexOf(O[S])!==S){for(R=0;R<1024;++R)if(O.indexOf(O[S]+"_"+R)==-1){O[S]+="_"+R;break}}}}var k=hs(f["!ref"]),ie=[],K=[],z=[];for(S=0;S<=k.e.c-k.s.c;++S){var A="",ce="",T=0,H=[];for(R=0;R<w.length;++R)w[R][S]!=null&&H.push(w[R][S]);if(H.length==0||O[S]==null){ie[S]="?";continue}for(R=0;R<H.length;++R){switch(typeof H[R]){case"number":ce="B";break;case"string":ce="C";break;case"boolean":ce="L";break;case"object":ce=H[R]instanceof Date?"D":"C";break;default:ce="C"}T=Math.max(T,String(H[R]).length),A=A&&A!=ce?"C":ce}T>250&&(T=250),ce=((C[S]||{}).DBF||{}).type,ce=="C"&&C[S].DBF.len>T&&(T=C[S].DBF.len),A=="B"&&ce=="N"&&(A="N",z[S]=C[S].DBF.dec,T=C[S].DBF.len),K[S]=A=="C"||ce=="N"?T:u[A]||0,G+=K[S],ie[S]=A}var Z=v.next(32);for(Z.write_shift(4,318902576),Z.write_shift(4,w.length),Z.write_shift(2,296+32*X),Z.write_shift(2,G),S=0;S<4;++S)Z.write_shift(4,0);for(Z.write_shift(4,0|(+s[CC]||3)<<8),S=0,R=0;S<O.length;++S)if(O[S]!=null){var W=v.next(32),M=(O[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,M,"sbcs"),W.write_shift(1,ie[S]=="?"?"C":ie[S],"sbcs"),W.write_shift(4,R),W.write_shift(1,K[S]||u[ie[S]]||0),W.write_shift(1,z[S]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),R+=K[S]||u[ie[S]]||0}var Ce=v.next(264);for(Ce.write_shift(4,13),S=0;S<65;++S)Ce.write_shift(4,0);for(S=0;S<w.length;++S){var De=v.next(G);for(De.write_shift(1,0),R=0;R<O.length;++R)if(O[R]!=null)switch(ie[R]){case"L":De.write_shift(1,w[S][R]==null?63:w[S][R]?84:70);break;case"B":De.write_shift(8,w[S][R]||0,"f");break;case"N":var we="0";for(typeof w[S][R]=="number"&&(we=w[S][R].toFixed(z[R]||0)),X=0;X<K[R]-we.length;++X)De.write_shift(1,32);De.write_shift(1,we,"sbcs");break;case"D":w[S][R]?(De.write_shift(4,("0000"+w[S][R].getFullYear()).slice(-4),"sbcs"),De.write_shift(2,("00"+(w[S][R].getMonth()+1)).slice(-2),"sbcs"),De.write_shift(2,("00"+w[S][R].getDate()).slice(-2),"sbcs")):De.write_shift(8,"00000000","sbcs");break;case"C":var ge=String(w[S][R]!=null?w[S][R]:"").slice(0,K[R]);for(De.write_shift(1,ge,"sbcs"),X=0;X<K[R]-ge.length;++X)De.write_shift(1,32);break}}return v.next(1).write_shift(1,26),v.end()}return{to_workbook:o,to_sheet:i,from_sheet:c}})(),bA=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},s=new RegExp("\x1BN("+ji(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(O,w){var C=e[w];return typeof C=="number"?Xy(C):C},i=function(O,w,C){var S=w.charCodeAt(0)-32<<4|C.charCodeAt(0)-48;return S==59?O:Xy(S)};e["|"]=254;function o(O,w){switch(w.type){case"base64":return u(xa(O),w);case"binary":return u(O,w);case"buffer":return u(kr&&Buffer.isBuffer(O)?O.toString("binary"):hc(O),w);case"array":return u(fc(O),w)}throw new Error("Unrecognized type "+w.type)}function u(O,w){var C=O.split(/[\n\r]+/),S=-1,R=-1,X=0,G=0,k=[],ie=[],K=null,z={},A=[],ce=[],T=[],H=0,Z;for(+w.codepage>=0&&oi(+w.codepage);X!==C.length;++X){H=0;var W=C[X].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(s,t),M=W.replace(/;;/g,"\0").split(";").map(function(de){return de.replace(/\u0000/g,";")}),Ce=M[0],De;if(W.length>0)switch(Ce){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&ie.push(W.slice(3).replace(/;;/g,";"));break;case"C":var we=!1,ge=!1,He=!1,ue=!1,ke=-1,Ue=-1;for(G=1;G<M.length;++G)switch(M[G].charAt(0)){case"A":break;case"X":R=parseInt(M[G].slice(1))-1,ge=!0;break;case"Y":for(S=parseInt(M[G].slice(1))-1,ge||(R=0),Z=k.length;Z<=S;++Z)k[Z]=[];break;case"K":De=M[G].slice(1),De.charAt(0)==='"'?De=De.slice(1,De.length-1):De==="TRUE"?De=!0:De==="FALSE"?De=!1:isNaN(ci(De))?isNaN(wu(De).getDate())||(De=Ks(De)):(De=ci(De),K!==null&&_u(K)&&(De=Zp(De))),we=!0;break;case"E":ue=!0;var te=Eu(M[G].slice(1),{r:S,c:R});k[S][R]=[k[S][R],te];break;case"S":He=!0,k[S][R]=[k[S][R],"S5S"];break;case"G":break;case"R":ke=parseInt(M[G].slice(1))-1;break;case"C":Ue=parseInt(M[G].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+W)}if(we&&(k[S][R]&&k[S][R].length==2?k[S][R][0]=De:k[S][R]=De,K=null),He){if(ue)throw new Error("SYLK shared formula cannot have own formula");var le=ke>-1&&k[ke][Ue];if(!le||!le[1])throw new Error("SYLK shared formula cannot find base");k[S][R][1]=Aw(le[1],{r:S-ke,c:R-Ue})}break;case"F":var pe=0;for(G=1;G<M.length;++G)switch(M[G].charAt(0)){case"X":R=parseInt(M[G].slice(1))-1,++pe;break;case"Y":for(S=parseInt(M[G].slice(1))-1,Z=k.length;Z<=S;++Z)k[Z]=[];break;case"M":H=parseInt(M[G].slice(1))/20;break;case"F":break;case"G":break;case"P":K=ie[parseInt(M[G].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=M[G].slice(1).split(" "),Z=parseInt(T[0],10);Z<=parseInt(T[1],10);++Z)H=parseInt(T[2],10),ce[Z-1]=H===0?{hidden:!0}:{wch:H},ku(ce[Z-1]);break;case"C":R=parseInt(M[G].slice(1))-1,ce[R]||(ce[R]={});break;case"R":S=parseInt(M[G].slice(1))-1,A[S]||(A[S]={}),H>0?(A[S].hpt=H,A[S].hpx=Xf(H)):H===0&&(A[S].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+W)}pe<1&&(K=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+W)}}return A.length>0&&(z["!rows"]=A),ce.length>0&&(z["!cols"]=ce),w&&w.sheetRows&&(k=k.slice(0,w.sheetRows)),[k,z]}function c(O,w){var C=o(O,w),S=C[0],R=C[1],X=Vu(S,w);return ji(R).forEach(function(G){X[G]=R[G]}),X}function f(O,w){return xl(c(O,w),w)}function h(O,w,C,S){var R="C;Y"+(C+1)+";X"+(S+1)+";K";switch(O.t){case"n":R+=O.v||0,O.f&&!O.F&&(R+=";E"+aI(O.f,{r:C,c:S}));break;case"b":R+=O.v?"TRUE":"FALSE";break;case"e":R+=O.w||O.v;break;case"d":R+='"'+(O.w||O.v)+'"';break;case"s":R+='"'+O.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return R}function x(O,w){w.forEach(function(C,S){var R="F;W"+(S+1)+" "+(S+1)+" ";C.hidden?R+="0":(typeof C.width=="number"&&!C.wpx&&(C.wpx=Gp(C.width)),typeof C.wpx=="number"&&!C.wch&&(C.wch=Wp(C.wpx)),typeof C.wch=="number"&&(R+=Math.round(C.wch))),R.charAt(R.length-1)!=" "&&O.push(R)})}function v(O,w){w.forEach(function(C,S){var R="F;";C.hidden?R+="M0;":C.hpt?R+="M"+20*C.hpt+";":C.hpx&&(R+="M"+20*Vw(C.hpx)+";"),R.length>2&&O.push(R+"R"+(S+1))})}function b(O,w){var C=["ID;PWXL;N;E"],S=[],R=hs(O["!ref"]),X,G=Array.isArray(O),k=`\r
`;C.push("P;PGeneral"),C.push("F;P0;DG0G8;M255"),O["!cols"]&&x(C,O["!cols"]),O["!rows"]&&v(C,O["!rows"]),C.push("B;Y"+(R.e.r-R.s.r+1)+";X"+(R.e.c-R.s.c+1)+";D"+[R.s.c,R.s.r,R.e.c,R.e.r].join(" "));for(var ie=R.s.r;ie<=R.e.r;++ie)for(var K=R.s.c;K<=R.e.c;++K){var z=ir({r:ie,c:K});X=G?(O[ie]||[])[K]:O[z],!(!X||X.v==null&&(!X.f||X.F))&&S.push(h(X,O,ie,K))}return C.join(k)+k+S.join(k)+k+"E"+k}return{to_workbook:f,to_sheet:c,from_sheet:b}})(),NA=(function(){function e(u,c){switch(c.type){case"base64":return s(xa(u),c);case"binary":return s(u,c);case"buffer":return s(kr&&Buffer.isBuffer(u)?u.toString("binary"):hc(u),c);case"array":return s(fc(u),c)}throw new Error("Unrecognized type "+c.type)}function s(u,c){for(var f=u.split(`
`),h=-1,x=-1,v=0,b=[];v!==f.length;++v){if(f[v].trim()==="BOT"){b[++h]=[],x=0;continue}if(!(h<0)){var O=f[v].trim().split(","),w=O[0],C=O[1];++v;for(var S=f[v]||"";(S.match(/["]/g)||[]).length&1&&v<f.length-1;)S+=`
`+f[++v];switch(S=S.trim(),+w){case-1:if(S==="BOT"){b[++h]=[],x=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?b[h][x]=!0:S==="FALSE"?b[h][x]=!1:isNaN(ci(C))?isNaN(wu(C).getDate())?b[h][x]=C:b[h][x]=Ks(C):b[h][x]=ci(C),++x;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),b[h][x++]=S!==""?S:null;break}if(S==="EOD")break}}return c&&c.sheetRows&&(b=b.slice(0,c.sheetRows)),b}function t(u,c){return Vu(e(u,c),c)}function i(u,c){return xl(t(u,c),c)}var o=(function(){var u=function(h,x,v,b,O){h.push(x),h.push(v+","+b),h.push('"'+O.replace(/"/g,'""')+'"')},c=function(h,x,v,b){h.push(x+","+v),h.push(x==1?'"'+b.replace(/"/g,'""')+'"':b)};return function(h){var x=[],v=hs(h["!ref"]),b,O=Array.isArray(h);u(x,"TABLE",0,1,"sheetjs"),u(x,"VECTORS",0,v.e.r-v.s.r+1,""),u(x,"TUPLES",0,v.e.c-v.s.c+1,""),u(x,"DATA",0,0,"");for(var w=v.s.r;w<=v.e.r;++w){c(x,-1,0,"BOT");for(var C=v.s.c;C<=v.e.c;++C){var S=ir({r:w,c:C});if(b=O?(h[w]||[])[C]:h[S],!b){c(x,1,0,"");continue}switch(b.t){case"n":var R=b.w;!R&&b.v!=null&&(R=b.v),R==null?b.f&&!b.F?c(x,1,0,"="+b.f):c(x,1,0,""):c(x,0,R,"V");break;case"b":c(x,0,b.v?1:0,b.v?"TRUE":"FALSE");break;case"s":c(x,1,0,isNaN(b.v)?b.v:'="'+b.v+'"');break;case"d":b.w||(b.w=ja(b.z||dr[14],zn(Ks(b.v)))),c(x,0,b.w,"V");break;default:c(x,1,0,"")}}}c(x,-1,0,"EOD");var X=`\r
`,G=x.join(X);return G}})();return{to_workbook:i,to_sheet:t,from_sheet:o}})(),DA=(function(){function e(b){return b.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function s(b){return b.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(b,O){for(var w=b.split(`
`),C=-1,S=-1,R=0,X=[];R!==w.length;++R){var G=w[R].trim().split(":");if(G[0]==="cell"){var k=Gn(G[1]);if(X.length<=k.r)for(C=X.length;C<=k.r;++C)X[C]||(X[C]=[]);switch(C=k.r,S=k.c,G[2]){case"t":X[C][S]=e(G[3]);break;case"v":X[C][S]=+G[3];break;case"vtf":var ie=G[G.length-1];case"vtc":switch(G[3]){case"nl":X[C][S]=!!+G[4];break;default:X[C][S]=+G[4];break}G[2]=="vtf"&&(X[C][S]=[X[C][S],ie])}}}return O&&O.sheetRows&&(X=X.slice(0,O.sheetRows)),X}function i(b,O){return Vu(t(b,O),O)}function o(b,O){return xl(i(b,O),O)}var u=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function x(b){if(!b||!b["!ref"])return"";for(var O=[],w=[],C,S="",R=Uu(b["!ref"]),X=Array.isArray(b),G=R.s.r;G<=R.e.r;++G)for(var k=R.s.c;k<=R.e.c;++k)if(S=ir({r:G,c:k}),C=X?(b[G]||[])[k]:b[S],!(!C||C.v==null||C.t==="z")){switch(w=["cell",S,"t"],C.t){case"s":case"str":w.push(s(C.v));break;case"n":C.f?(w[2]="vtf",w[3]="n",w[4]=C.v,w[5]=s(C.f)):(w[2]="v",w[3]=C.v);break;case"b":w[2]="vt"+(C.f?"f":"c"),w[3]="nl",w[4]=C.v?"1":"0",w[5]=s(C.f||(C.v?"TRUE":"FALSE"));break;case"d":var ie=zn(Ks(C.v));w[2]="vtc",w[3]="nd",w[4]=""+ie,w[5]=C.w||ja(C.z||dr[14],ie);break;case"e":continue}O.push(w.join(":"))}return O.push("sheet:c:"+(R.e.c-R.s.c+1)+":r:"+(R.e.r-R.s.r+1)+":tvf:1"),O.push("valueformat:1:text-wiki"),O.join(`
`)}function v(b){return[u,c,f,c,x(b),h].join(`
`)}return{to_workbook:o,to_sheet:i,from_sheet:v}})(),$f=(function(){function e(v,b,O,w,C){C.raw?b[O][w]=v:v===""||(v==="TRUE"?b[O][w]=!0:v==="FALSE"?b[O][w]=!1:isNaN(ci(v))?isNaN(wu(v).getDate())?b[O][w]=v:b[O][w]=Ks(v):b[O][w]=ci(v))}function s(v,b){var O=b||{},w=[];if(!v||v.length===0)return w;for(var C=v.split(/[\r\n]/),S=C.length-1;S>=0&&C[S].length===0;)--S;for(var R=10,X=0,G=0;G<=S;++G)X=C[G].indexOf(" "),X==-1?X=C[G].length:X++,R=Math.max(R,X);for(G=0;G<=S;++G){w[G]=[];var k=0;for(e(C[G].slice(0,R).trim(),w,G,k,O),k=1;k<=(C[G].length-R)/10+1;++k)e(C[G].slice(R+(k-1)*10,R+k*10).trim(),w,G,k,O)}return O.sheetRows&&(w=w.slice(0,O.sheetRows)),w}var t={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function o(v){for(var b={},O=!1,w=0,C=0;w<v.length;++w)(C=v.charCodeAt(w))==34?O=!O:!O&&C in t&&(b[C]=(b[C]||0)+1);C=[];for(w in b)Object.prototype.hasOwnProperty.call(b,w)&&C.push([b[w],w]);if(!C.length){b=i;for(w in b)Object.prototype.hasOwnProperty.call(b,w)&&C.push([b[w],w])}return C.sort(function(S,R){return S[0]-R[0]||i[S[1]]-i[R[1]]}),t[C.pop()[1]]||44}function u(v,b){var O=b||{},w="",C=O.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};v.slice(0,4)=="sep="?v.charCodeAt(5)==13&&v.charCodeAt(6)==10?(w=v.charAt(4),v=v.slice(7)):v.charCodeAt(5)==13||v.charCodeAt(5)==10?(w=v.charAt(4),v=v.slice(6)):w=o(v.slice(0,1024)):O&&O.FS?w=O.FS:w=o(v.slice(0,1024));var R=0,X=0,G=0,k=0,ie=0,K=w.charCodeAt(0),z=!1,A=0,ce=v.charCodeAt(0);v=v.replace(/\r\n/mg,`
`);var T=O.dateNF!=null?_j(O.dateNF):null;function H(){var Z=v.slice(k,ie),W={};if(Z.charAt(0)=='"'&&Z.charAt(Z.length-1)=='"'&&(Z=Z.slice(1,-1).replace(/""/g,'"')),Z.length===0)W.t="z";else if(O.raw)W.t="s",W.v=Z;else if(Z.trim().length===0)W.t="s",W.v=Z;else if(Z.charCodeAt(0)==61)Z.charCodeAt(1)==34&&Z.charCodeAt(Z.length-1)==34?(W.t="s",W.v=Z.slice(2,-1).replace(/""/g,'"')):oI(Z)?(W.t="n",W.f=Z.slice(1)):(W.t="s",W.v=Z);else if(Z=="TRUE")W.t="b",W.v=!0;else if(Z=="FALSE")W.t="b",W.v=!1;else if(!isNaN(G=ci(Z)))W.t="n",O.cellText!==!1&&(W.w=Z),W.v=G;else if(!isNaN(wu(Z).getDate())||T&&Z.match(T)){W.z=O.dateNF||dr[14];var M=0;T&&Z.match(T)&&(Z=Uj(Z,O.dateNF,Z.match(T)||[]),M=1),O.cellDates?(W.t="d",W.v=Ks(Z,M)):(W.t="n",W.v=zn(Ks(Z,M))),O.cellText!==!1&&(W.w=ja(W.z,W.v instanceof Date?zn(W.v):W.v)),O.cellNF||delete W.z}else W.t="s",W.v=Z;if(W.t=="z"||(O.dense?(C[R]||(C[R]=[]),C[R][X]=W):C[ir({c:X,r:R})]=W),k=ie+1,ce=v.charCodeAt(k),S.e.c<X&&(S.e.c=X),S.e.r<R&&(S.e.r=R),A==K)++X;else if(X=0,++R,O.sheetRows&&O.sheetRows<=R)return!0}e:for(;ie<v.length;++ie)switch(A=v.charCodeAt(ie)){case 34:ce===34&&(z=!z);break;case K:case 10:case 13:if(!z&&H())break e;break}return ie-k>0&&H(),C["!ref"]=_r(S),C}function c(v,b){return!(b&&b.PRN)||b.FS||v.slice(0,4)=="sep="||v.indexOf("	")>=0||v.indexOf(",")>=0||v.indexOf(";")>=0?u(v,b):Vu(s(v,b),b)}function f(v,b){var O="",w=b.type=="string"?[0,0,0,0]:VN(v,b);switch(b.type){case"base64":O=xa(v);break;case"binary":O=v;break;case"buffer":b.codepage==65001?O=v.toString("utf8"):b.codepage&&typeof Af<"u"||(O=kr&&Buffer.isBuffer(v)?v.toString("binary"):hc(v));break;case"array":O=fc(v);break;case"string":O=v;break;default:throw new Error("Unrecognized type "+b.type)}return w[0]==239&&w[1]==187&&w[2]==191?O=Zr(O.slice(3)):b.type!="string"&&b.type!="buffer"&&b.codepage==65001?O=Zr(O):b.type=="binary"&&typeof Af<"u",O.slice(0,19)=="socialcalc:version:"?DA.to_sheet(b.type=="string"?O:Zr(O),b):c(O,b)}function h(v,b){return xl(f(v,b),b)}function x(v){for(var b=[],O=hs(v["!ref"]),w,C=Array.isArray(v),S=O.s.r;S<=O.e.r;++S){for(var R=[],X=O.s.c;X<=O.e.c;++X){var G=ir({r:S,c:X});if(w=C?(v[S]||[])[X]:v[G],!w||w.v==null){R.push("          ");continue}for(var k=(w.w||(xo(w),w.w)||"").slice(0,10);k.length<10;)k+=" ";R.push(k+(X===0?" ":""))}b.push(R.join(""))}return b.join(`
`)}return{to_workbook:h,to_sheet:f,from_sheet:x}})();function SA(e,s){var t=s||{},i=!!t.WTF;t.WTF=!0;try{var o=bA.to_workbook(e,t);return t.WTF=i,o}catch(u){if(t.WTF=i,!u.message.match(/SYLK bad record ID/)&&i)throw u;return $f.to_workbook(e,s)}}var _f=(function(){function e(te,le,pe){if(te){dn(te,te.l||0);for(var de=pe.Enum||ke;te.l<te.length;){var oe=te.read_shift(2),Q=de[oe]||de[65535],_=te.read_shift(2),J=te.l+_,L=Q.f&&Q.f(te,_,pe);if(te.l=J,le(L,Q,oe))return}}}function s(te,le){switch(le.type){case"base64":return t(ii(xa(te)),le);case"binary":return t(ii(te),le);case"buffer":case"array":return t(te,le)}throw"Unsupported type "+le.type}function t(te,le){if(!te)return te;var pe=le||{},de=pe.dense?[]:{},oe="Sheet1",Q="",_=0,J={},L=[],he=[],q={s:{r:0,c:0},e:{r:0,c:0}},Xe=pe.sheetRows||0;if(te[2]==0&&(te[3]==8||te[3]==9)&&te.length>=16&&te[14]==5&&te[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(te[2]==2)pe.Enum=ke,e(te,function(it,tr,Jt){switch(Jt){case 0:pe.vers=it,it>=4096&&(pe.qpro=!0);break;case 6:q=it;break;case 204:it&&(Q=it);break;case 222:Q=it;break;case 15:case 51:pe.qpro||(it[1].v=it[1].v.slice(1));case 13:case 14:case 16:Jt==14&&(it[2]&112)==112&&(it[2]&15)>1&&(it[2]&15)<15&&(it[1].z=pe.dateNF||dr[14],pe.cellDates&&(it[1].t="d",it[1].v=Zp(it[1].v))),pe.qpro&&it[3]>_&&(de["!ref"]=_r(q),J[oe]=de,L.push(oe),de=pe.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},_=it[3],oe=Q||"Sheet"+(_+1),Q="");var et=pe.dense?(de[it[0].r]||[])[it[0].c]:de[ir(it[0])];if(et){et.t=it[1].t,et.v=it[1].v,it[1].z!=null&&(et.z=it[1].z),it[1].f!=null&&(et.f=it[1].f);break}pe.dense?(de[it[0].r]||(de[it[0].r]=[]),de[it[0].r][it[0].c]=it[1]):de[ir(it[0])]=it[1];break}},pe);else if(te[2]==26||te[2]==14)pe.Enum=Ue,te[2]==14&&(pe.qpro=!0,te.l=0),e(te,function(it,tr,Jt){switch(Jt){case 204:oe=it;break;case 22:it[1].v=it[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(it[3]>_&&(de["!ref"]=_r(q),J[oe]=de,L.push(oe),de=pe.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},_=it[3],oe="Sheet"+(_+1)),Xe>0&&it[0].r>=Xe)break;pe.dense?(de[it[0].r]||(de[it[0].r]=[]),de[it[0].r][it[0].c]=it[1]):de[ir(it[0])]=it[1],q.e.c<it[0].c&&(q.e.c=it[0].c),q.e.r<it[0].r&&(q.e.r=it[0].r);break;case 27:it[14e3]&&(he[it[14e3][0]]=it[14e3][1]);break;case 1537:he[it[0]]=it[1],it[0]==_&&(oe=it[1]);break}},pe);else throw new Error("Unrecognized LOTUS BOF "+te[2]);if(de["!ref"]=_r(q),J[Q||oe]=de,L.push(Q||oe),!he.length)return{SheetNames:L,Sheets:J};for(var Ke={},Dt=[],St=0;St<he.length;++St)J[L[St]]?(Dt.push(he[St]||L[St]),Ke[he[St]]=J[he[St]]||J[L[St]]):(Dt.push(he[St]),Ke[he[St]]={"!ref":"A1"});return{SheetNames:Dt,Sheets:Ke}}function i(te,le){var pe=le||{};if(+pe.codepage>=0&&oi(+pe.codepage),pe.type=="string")throw new Error("Cannot write WK1 to JS string");var de=Xb(),oe=hs(te["!ref"]),Q=Array.isArray(te),_=[];si(de,0,u(1030)),si(de,6,h(oe));for(var J=Math.min(oe.e.r,8191),L=oe.s.r;L<=J;++L)for(var he=mn(L),q=oe.s.c;q<=oe.e.c;++q){L===oe.s.r&&(_[q]=$s(q));var Xe=_[q]+he,Ke=Q?(te[L]||[])[q]:te[Xe];if(!(!Ke||Ke.t=="z"))if(Ke.t=="n")(Ke.v|0)==Ke.v&&Ke.v>=-32768&&Ke.v<=32767?si(de,13,w(L,q,Ke.v)):si(de,14,S(L,q,Ke.v));else{var Dt=xo(Ke);si(de,15,b(L,q,Dt.slice(0,239)))}}return si(de,1),de.end()}function o(te,le){var pe=le||{};if(+pe.codepage>=0&&oi(+pe.codepage),pe.type=="string")throw new Error("Cannot write WK3 to JS string");var de=Xb();si(de,0,c(te));for(var oe=0,Q=0;oe<te.SheetNames.length;++oe)(te.Sheets[te.SheetNames[oe]]||{})["!ref"]&&si(de,27,ue(te.SheetNames[oe],Q++));var _=0;for(oe=0;oe<te.SheetNames.length;++oe){var J=te.Sheets[te.SheetNames[oe]];if(!(!J||!J["!ref"])){for(var L=hs(J["!ref"]),he=Array.isArray(J),q=[],Xe=Math.min(L.e.r,8191),Ke=L.s.r;Ke<=Xe;++Ke)for(var Dt=mn(Ke),St=L.s.c;St<=L.e.c;++St){Ke===L.s.r&&(q[St]=$s(St));var it=q[St]+Dt,tr=he?(J[Ke]||[])[St]:J[it];if(!(!tr||tr.t=="z"))if(tr.t=="n")si(de,23,H(Ke,St,_,tr.v));else{var Jt=xo(tr);si(de,22,A(Ke,St,_,Jt.slice(0,239)))}}++_}}return si(de,1),de.end()}function u(te){var le=Fs(2);return le.write_shift(2,te),le}function c(te){var le=Fs(26);le.write_shift(2,4096),le.write_shift(2,4),le.write_shift(4,0);for(var pe=0,de=0,oe=0,Q=0;Q<te.SheetNames.length;++Q){var _=te.SheetNames[Q],J=te.Sheets[_];if(!(!J||!J["!ref"])){++oe;var L=Uu(J["!ref"]);pe<L.e.r&&(pe=L.e.r),de<L.e.c&&(de=L.e.c)}}return pe>8191&&(pe=8191),le.write_shift(2,pe),le.write_shift(1,oe),le.write_shift(1,de),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(1,1),le.write_shift(1,2),le.write_shift(4,0),le.write_shift(4,0),le}function f(te,le,pe){var de={s:{c:0,r:0},e:{c:0,r:0}};return le==8&&pe.qpro?(de.s.c=te.read_shift(1),te.l++,de.s.r=te.read_shift(2),de.e.c=te.read_shift(1),te.l++,de.e.r=te.read_shift(2),de):(de.s.c=te.read_shift(2),de.s.r=te.read_shift(2),le==12&&pe.qpro&&(te.l+=2),de.e.c=te.read_shift(2),de.e.r=te.read_shift(2),le==12&&pe.qpro&&(te.l+=2),de.s.c==65535&&(de.s.c=de.e.c=de.s.r=de.e.r=0),de)}function h(te){var le=Fs(8);return le.write_shift(2,te.s.c),le.write_shift(2,te.s.r),le.write_shift(2,te.e.c),le.write_shift(2,te.e.r),le}function x(te,le,pe){var de=[{c:0,r:0},{t:"n",v:0},0,0];return pe.qpro&&pe.vers!=20768?(de[0].c=te.read_shift(1),de[3]=te.read_shift(1),de[0].r=te.read_shift(2),te.l+=2):(de[2]=te.read_shift(1),de[0].c=te.read_shift(2),de[0].r=te.read_shift(2)),de}function v(te,le,pe){var de=te.l+le,oe=x(te,le,pe);if(oe[1].t="s",pe.vers==20768){te.l++;var Q=te.read_shift(1);return oe[1].v=te.read_shift(Q,"utf8"),oe}return pe.qpro&&te.l++,oe[1].v=te.read_shift(de-te.l,"cstr"),oe}function b(te,le,pe){var de=Fs(7+pe.length);de.write_shift(1,255),de.write_shift(2,le),de.write_shift(2,te),de.write_shift(1,39);for(var oe=0;oe<de.length;++oe){var Q=pe.charCodeAt(oe);de.write_shift(1,Q>=128?95:Q)}return de.write_shift(1,0),de}function O(te,le,pe){var de=x(te,le,pe);return de[1].v=te.read_shift(2,"i"),de}function w(te,le,pe){var de=Fs(7);return de.write_shift(1,255),de.write_shift(2,le),de.write_shift(2,te),de.write_shift(2,pe,"i"),de}function C(te,le,pe){var de=x(te,le,pe);return de[1].v=te.read_shift(8,"f"),de}function S(te,le,pe){var de=Fs(13);return de.write_shift(1,255),de.write_shift(2,le),de.write_shift(2,te),de.write_shift(8,pe,"f"),de}function R(te,le,pe){var de=te.l+le,oe=x(te,le,pe);if(oe[1].v=te.read_shift(8,"f"),pe.qpro)te.l=de;else{var Q=te.read_shift(2);ie(te.slice(te.l,te.l+Q),oe),te.l+=Q}return oe}function X(te,le,pe){var de=le&32768;return le&=-32769,le=(de?te:0)+(le>=8192?le-16384:le),(de?"":"$")+(pe?$s(le):mn(le))}var G={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function ie(te,le){dn(te,0);for(var pe=[],de=0,oe="",Q="",_="",J="";te.l<te.length;){var L=te[te.l++];switch(L){case 0:pe.push(te.read_shift(8,"f"));break;case 1:Q=X(le[0].c,te.read_shift(2),!0),oe=X(le[0].r,te.read_shift(2),!1),pe.push(Q+oe);break;case 2:{var he=X(le[0].c,te.read_shift(2),!0),q=X(le[0].r,te.read_shift(2),!1);Q=X(le[0].c,te.read_shift(2),!0),oe=X(le[0].r,te.read_shift(2),!1),pe.push(he+q+":"+Q+oe)}break;case 3:if(te.l<te.length){console.error("WK1 premature formula end");return}break;case 4:pe.push("("+pe.pop()+")");break;case 5:pe.push(te.read_shift(2));break;case 6:{for(var Xe="";L=te[te.l++];)Xe+=String.fromCharCode(L);pe.push('"'+Xe.replace(/"/g,'""')+'"')}break;case 8:pe.push("-"+pe.pop());break;case 23:pe.push("+"+pe.pop());break;case 22:pe.push("NOT("+pe.pop()+")");break;case 20:case 21:J=pe.pop(),_=pe.pop(),pe.push(["AND","OR"][L-20]+"("+_+","+J+")");break;default:if(L<32&&k[L])J=pe.pop(),_=pe.pop(),pe.push(_+k[L]+J);else if(G[L]){if(de=G[L][1],de==69&&(de=te[te.l++]),de>pe.length){console.error("WK1 bad formula parse 0x"+L.toString(16)+":|"+pe.join("|")+"|");return}var Ke=pe.slice(-de);pe.length-=de,pe.push(G[L][0]+"("+Ke.join(",")+")")}else return L<=7?console.error("WK1 invalid opcode "+L.toString(16)):L<=24?console.error("WK1 unsupported op "+L.toString(16)):L<=30?console.error("WK1 invalid opcode "+L.toString(16)):L<=115?console.error("WK1 unsupported function opcode "+L.toString(16)):console.error("WK1 unrecognized opcode "+L.toString(16))}}pe.length==1?le[1].f=""+pe[0]:console.error("WK1 bad formula parse |"+pe.join("|")+"|")}function K(te){var le=[{c:0,r:0},{t:"n",v:0},0];return le[0].r=te.read_shift(2),le[3]=te[te.l++],le[0].c=te[te.l++],le}function z(te,le){var pe=K(te);return pe[1].t="s",pe[1].v=te.read_shift(le-4,"cstr"),pe}function A(te,le,pe,de){var oe=Fs(6+de.length);oe.write_shift(2,te),oe.write_shift(1,pe),oe.write_shift(1,le),oe.write_shift(1,39);for(var Q=0;Q<de.length;++Q){var _=de.charCodeAt(Q);oe.write_shift(1,_>=128?95:_)}return oe.write_shift(1,0),oe}function ce(te,le){var pe=K(te);pe[1].v=te.read_shift(2);var de=pe[1].v>>1;if(pe[1].v&1)switch(de&7){case 0:de=(de>>3)*5e3;break;case 1:de=(de>>3)*500;break;case 2:de=(de>>3)/20;break;case 3:de=(de>>3)/200;break;case 4:de=(de>>3)/2e3;break;case 5:de=(de>>3)/2e4;break;case 6:de=(de>>3)/16;break;case 7:de=(de>>3)/64;break}return pe[1].v=de,pe}function T(te,le){var pe=K(te),de=te.read_shift(4),oe=te.read_shift(4),Q=te.read_shift(2);if(Q==65535)return de===0&&oe===3221225472?(pe[1].t="e",pe[1].v=15):de===0&&oe===3489660928?(pe[1].t="e",pe[1].v=42):pe[1].v=0,pe;var _=Q&32768;return Q=(Q&32767)-16446,pe[1].v=(1-_*2)*(oe*Math.pow(2,Q+32)+de*Math.pow(2,Q)),pe}function H(te,le,pe,de){var oe=Fs(14);if(oe.write_shift(2,te),oe.write_shift(1,pe),oe.write_shift(1,le),de==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var Q=0,_=0,J=0,L=0;return de<0&&(Q=1,de=-de),_=Math.log2(de)|0,de/=Math.pow(2,_-31),L=de>>>0,(L&2147483648)==0&&(de/=2,++_,L=de>>>0),de-=L,L|=2147483648,L>>>=0,de*=Math.pow(2,32),J=de>>>0,oe.write_shift(4,J),oe.write_shift(4,L),_+=16383+(Q?32768:0),oe.write_shift(2,_),oe}function Z(te,le){var pe=T(te);return te.l+=le-14,pe}function W(te,le){var pe=K(te),de=te.read_shift(4);return pe[1].v=de>>6,pe}function M(te,le){var pe=K(te),de=te.read_shift(8,"f");return pe[1].v=de,pe}function Ce(te,le){var pe=M(te);return te.l+=le-10,pe}function De(te,le){return te[te.l+le-1]==0?te.read_shift(le,"cstr"):""}function we(te,le){var pe=te[te.l++];pe>le-1&&(pe=le-1);for(var de="";de.length<pe;)de+=String.fromCharCode(te[te.l++]);return de}function ge(te,le,pe){if(!(!pe.qpro||le<21)){var de=te.read_shift(1);te.l+=17,te.l+=1,te.l+=2;var oe=te.read_shift(le-21,"cstr");return[de,oe]}}function He(te,le){for(var pe={},de=te.l+le;te.l<de;){var oe=te.read_shift(2);if(oe==14e3){for(pe[oe]=[0,""],pe[oe][0]=te.read_shift(2);te[te.l];)pe[oe][1]+=String.fromCharCode(te[te.l]),te.l++;te.l++}}return pe}function ue(te,le){var pe=Fs(5+te.length);pe.write_shift(2,14e3),pe.write_shift(2,le);for(var de=0;de<te.length;++de){var oe=te.charCodeAt(de);pe[pe.l++]=oe>127?95:oe}return pe[pe.l++]=0,pe}var ke={0:{n:"BOF",f:ys},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:O},14:{n:"NUMBER",f:C},15:{n:"LABEL",f:v},16:{n:"FORMULA",f:R},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:v},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:De},222:{n:"SHEETNAMELP",f:we},65535:{n:""}},Ue={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:z},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:ce},25:{n:"FORMULA19",f:Z},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:He},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:Ce},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:De},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ge},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:o,to_workbook:s}})();function OA(e){var s={},t=e.match(Un),i=0,o=!1;if(t)for(;i!=t.length;++i){var u=er(t[i]);switch(u[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!u.val)break;case"<shadow>":case"<shadow/>":s.shadow=1;break;case"</shadow>":break;case"<charset":if(u.val=="1")break;s.cp=uN[parseInt(u.val,10)];break;case"<outline":if(!u.val)break;case"<outline>":case"<outline/>":s.outline=1;break;case"</outline>":break;case"<rFont":s.name=u.val;break;case"<sz":s.sz=u.val;break;case"<strike":if(!u.val)break;case"<strike>":case"<strike/>":s.strike=1;break;case"</strike>":break;case"<u":if(!u.val)break;switch(u.val){case"double":s.uval="double";break;case"singleAccounting":s.uval="single-accounting";break;case"doubleAccounting":s.uval="double-accounting";break}case"<u>":case"<u/>":s.u=1;break;case"</u>":break;case"<b":if(u.val=="0")break;case"<b>":case"<b/>":s.b=1;break;case"</b>":break;case"<i":if(u.val=="0")break;case"<i>":case"<i/>":s.i=1;break;case"</i>":break;case"<color":u.rgb&&(s.color=u.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":s.family=u.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":s.valign=u.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(u[0].charCodeAt(1)!==47&&!o)throw new Error("Unrecognized rich format "+u[0])}}return s}var yA=(function(){var e=If("t"),s=If("rPr");function t(u){var c=u.match(e);if(!c)return{t:"s",v:""};var f={t:"s",v:Vr(c[1])},h=u.match(s);return h&&(f.s=OA(h[1])),f}var i=/<(?:\w+:)?r>/g,o=/<\/(?:\w+:)?r>/;return function(c){return c.replace(i,"").split(o).map(t).filter(function(f){return f.v})}})(),EA=(function(){var s=/(\r\n|\n)/g;function t(o,u,c){var f=[];o.u&&f.push("text-decoration: underline;"),o.uval&&f.push("text-underline-style:"+o.uval+";"),o.sz&&f.push("font-size:"+o.sz+"pt;"),o.outline&&f.push("text-effect: outline;"),o.shadow&&f.push("text-shadow: auto;"),u.push('<span style="'+f.join("")+'">'),o.b&&(u.push("<b>"),c.push("</b>")),o.i&&(u.push("<i>"),c.push("</i>")),o.strike&&(u.push("<s>"),c.push("</s>"));var h=o.valign||"";return h=="superscript"||h=="super"?h="sup":h=="subscript"&&(h="sub"),h!=""&&(u.push("<"+h+">"),c.push("</"+h+">")),c.push("</span>"),o}function i(o){var u=[[],o.v,[]];return o.v?(o.s&&t(o.s,u[0],u[2]),u[0].join("")+u[1].replace(s,"<br/>")+u[2].join("")):""}return function(u){return u.map(i).join("")}})(),CA=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,wA=/<(?:\w+:)?r>/,kA=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function wN(e,s){var t=s?s.cellHTML:!0,i={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(i.t=Vr(Zr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),i.r=Zr(e),t&&(i.h=gN(i.t))):e.match(wA)&&(i.r=Zr(e),i.t=Vr(Zr((e.replace(kA,"").match(CA)||[]).join("").replace(Un,""))),t&&(i.h=EA(yA(i.r)))),i):{t:""}}var RA=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,TA=/<(?:\w+:)?(?:si|sstItem)>/g,PA=/<\/(?:\w+:)?(?:si|sstItem)>/;function _A(e,s){var t=[],i="";if(!e)return t;var o=e.match(RA);if(o){i=o[2].replace(TA,"").split(PA);for(var u=0;u!=i.length;++u){var c=wN(i[u].trim(),s);c!=null&&(t[t.length]=c)}o=er(o[1]),t.Count=o.count,t.Unique=o.uniqueCount}return t}function UA(e){return[e.read_shift(4),e.read_shift(4)]}function VA(e,s){var t=[],i=!1;return So(e,function(u,c,f){switch(f){case 159:t.Count=u[0],t.Unique=u[1];break;case 19:t.push(u);break;case 160:return!0;case 35:i=!0;break;case 36:i=!1;break;default:if(c.T,!i||s.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}),t}function kw(e){for(var s=[],t=e.split(""),i=0;i<t.length;++i)s[i]=t[i].charCodeAt(0);return s}function vo(e,s){var t={};return t.Major=e.read_shift(2),t.Minor=e.read_shift(2),s>=4&&(e.l+=s-4),t}function jA(e){var s={};return s.id=e.read_shift(0,"lpp4"),s.R=vo(e,4),s.U=vo(e,4),s.W=vo(e,4),s}function LA(e){for(var s=e.read_shift(4),t=e.l+s-4,i={},o=e.read_shift(4),u=[];o-- >0;)u.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(i.name=e.read_shift(0,"lpp4"),i.comps=u,e.l!=t)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+t);return i}function AA(e){var s=[];e.l+=4;for(var t=e.read_shift(4);t-- >0;)s.push(LA(e));return s}function MA(e){var s=[];e.l+=4;for(var t=e.read_shift(4);t-- >0;)s.push(e.read_shift(0,"lpp4"));return s}function IA(e){var s={};return e.read_shift(4),e.l+=4,s.id=e.read_shift(0,"lpp4"),s.name=e.read_shift(0,"lpp4"),s.R=vo(e,4),s.U=vo(e,4),s.W=vo(e,4),s}function FA(e){var s=IA(e);if(s.ename=e.read_shift(0,"8lpp4"),s.blksz=e.read_shift(4),s.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return s}function Rw(e,s){var t=e.l+s,i={};i.Flags=e.read_shift(4)&63,e.l+=4,i.AlgID=e.read_shift(4);var o=!1;switch(i.AlgID){case 26126:case 26127:case 26128:o=i.Flags==36;break;case 26625:o=i.Flags==4;break;case 0:o=i.Flags==16||i.Flags==4||i.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+i.AlgID}if(!o)throw new Error("Encryption Flags/AlgID mismatch");return i.AlgIDHash=e.read_shift(4),i.KeySize=e.read_shift(4),i.ProviderType=e.read_shift(4),e.l+=8,i.CSPName=e.read_shift(t-e.l>>1,"utf16le"),e.l=t,i}function Tw(e,s){var t={},i=e.l+s;return e.l+=4,t.Salt=e.slice(e.l,e.l+16),e.l+=16,t.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),t.VerifierHash=e.slice(e.l,i),e.l=i,t}function $A(e){var s=vo(e);switch(s.Minor){case 2:return[s.Minor,BA(e)];case 3:return[s.Minor,XA()];case 4:return[s.Minor,HA(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+s.Minor)}function BA(e){var s=e.read_shift(4);if((s&63)!=36)throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4),i=Rw(e,t),o=Tw(e,e.length-e.l);return{t:"Std",h:i,v:o}}function XA(){throw new Error("File is password-protected: ECMA-376 Extensible")}function HA(e){var s=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var t=e.read_shift(e.length-e.l,"utf8"),i={};return t.replace(Un,function(u){var c=er(u);switch(Mi(c[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":s.forEach(function(f){i[f]=c[f]});break;case"<dataIntegrity":i.encryptedHmacKey=c.encryptedHmacKey,i.encryptedHmacValue=c.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":i.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":i.uri=c.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":i.encs.push(c);break;default:throw c[0]}}),i}function GA(e,s){var t={},i=t.EncryptionVersionInfo=vo(e,4);if(s-=4,i.Minor!=2)throw new Error("unrecognized minor version code: "+i.Minor);if(i.Major>4||i.Major<2)throw new Error("unrecognized major version code: "+i.Major);t.Flags=e.read_shift(4),s-=4;var o=e.read_shift(4);return s-=4,t.EncryptionHeader=Rw(e,o),s-=o,t.EncryptionVerifier=Tw(e,s),t}function WA(e){var s={},t=s.EncryptionVersionInfo=vo(e,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return s.Salt=e.read_shift(16),s.EncryptedVerifier=e.read_shift(16),s.EncryptedVerifierHash=e.read_shift(16),s}function zA(e){var s=0,t,i=kw(e),o=i.length+1,u,c,f,h,x;for(t=vl(o),t[0]=i.length,u=1;u!=o;++u)t[u]=i[u-1];for(u=o-1;u>=0;--u)c=t[u],f=(s&16384)===0?0:1,h=s<<1&32767,x=f|h,s=x^c;return s^52811}var Pw=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],s=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],i=function(c){return(c/2|c*128)&255},o=function(c,f){return i(c^f)},u=function(c){for(var f=s[c.length-1],h=104,x=c.length-1;x>=0;--x)for(var v=c[x],b=0;b!=7;++b)v&64&&(f^=t[h]),v*=2,--h;return f};return function(c){for(var f=kw(c),h=u(f),x=f.length,v=vl(16),b=0;b!=16;++b)v[b]=0;var O,w,C;for((x&1)===1&&(O=h>>8,v[x]=o(e[0],O),--x,O=h&255,w=f[f.length-1],v[x]=o(w,O));x>0;)--x,O=h>>8,v[x]=o(f[x],O),--x,O=h&255,v[x]=o(f[x],O);for(x=15,C=15-f.length;C>0;)O=h>>8,v[x]=o(e[C],O),--x,--C,O=h&255,v[x]=o(f[x],O),--x,--C;return v}})(),YA=function(e,s,t,i,o){o||(o=s),i||(i=Pw(e));var u,c;for(u=0;u!=s.length;++u)c=s[u],c^=i[t],c=(c>>5|c<<3)&255,o[u]=c,++t;return[o,t,i]},qA=function(e){var s=0,t=Pw(e);return function(i){var o=YA("",i,s,t);return s=o[1],o[0]}};function KA(e,s,t,i){var o={key:ys(e),verificationBytes:ys(e)};return t.password&&(o.verifier=zA(t.password)),i.valid=o.verificationBytes===o.verifier,i.valid&&(i.insitu=qA(t.password)),o}function JA(e,s,t){var i=t||{};return i.Info=e.read_shift(2),e.l-=2,i.Info===1?i.Data=WA(e):i.Data=GA(e,s),i}function QA(e,s,t){var i={Type:t.biff>=8?e.read_shift(2):0};return i.Type?JA(e,s-2,i):KA(e,t.biff>=8?s:s-2,t,i),i}var ZA=(function(){function e(o,u){switch(u.type){case"base64":return s(xa(o),u);case"binary":return s(o,u);case"buffer":return s(kr&&Buffer.isBuffer(o)?o.toString("binary"):hc(o),u);case"array":return s(fc(o),u)}throw new Error("Unrecognized type "+u.type)}function s(o,u){var c=u||{},f=c.dense?[]:{},h=o.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var x={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(v,b){Array.isArray(f)&&(f[b]=[]);for(var O=/\\\w+\b/g,w=0,C,S=-1;C=O.exec(v);){switch(C[0]){case"\\cell":var R=v.slice(w,O.lastIndex-C[0].length);if(R[0]==" "&&(R=R.slice(1)),++S,R.length){var X={v:R,t:"s"};Array.isArray(f)?f[b][S]=X:f[ir({r:b,c:S})]=X}break}w=O.lastIndex}S>x.e.c&&(x.e.c=S)}),f["!ref"]=_r(x),f}function t(o,u){return xl(e(o,u),u)}function i(o){for(var u=["{\\rtf1\\ansi"],c=hs(o["!ref"]),f,h=Array.isArray(o),x=c.s.r;x<=c.e.r;++x){u.push("\\trowd\\trautofit1");for(var v=c.s.c;v<=c.e.c;++v)u.push("\\cellx"+(v+1));for(u.push("\\pard\\intbl"),v=c.s.c;v<=c.e.c;++v){var b=ir({r:x,c:v});f=h?(o[x]||[])[v]:o[b],!(!f||f.v==null&&(!f.f||f.F))&&(u.push(" "+(f.w||(xo(f),f.w))),u.push("\\cell"))}u.push("\\pard\\intbl\\row")}return u.join("")+"}"}return{to_workbook:t,to_sheet:e,from_sheet:i}})();function eM(e){var s=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(s.slice(0,2),16),parseInt(s.slice(2,4),16),parseInt(s.slice(4,6),16)]}function Bf(e){for(var s=0,t=1;s!=3;++s)t=t*256+(e[s]>255?255:e[s]<0?0:e[s]);return t.toString(16).toUpperCase().slice(1)}function tM(e){var s=e[0]/255,t=e[1]/255,i=e[2]/255,o=Math.max(s,t,i),u=Math.min(s,t,i),c=o-u;if(c===0)return[0,0,s];var f=0,h=0,x=o+u;switch(h=c/(x>1?2-x:x),o){case s:f=((t-i)/c+6)%6;break;case t:f=(i-s)/c+2;break;case i:f=(s-t)/c+4;break}return[f/6,h,x/2]}function rM(e){var s=e[0],t=e[1],i=e[2],o=t*2*(i<.5?i:1-i),u=i-o/2,c=[u,u,u],f=6*s,h;if(t!==0)switch(f|0){case 0:case 6:h=o*f,c[0]+=o,c[1]+=h;break;case 1:h=o*(2-f),c[0]+=h,c[1]+=o;break;case 2:h=o*(f-2),c[1]+=o,c[2]+=h;break;case 3:h=o*(4-f),c[1]+=h,c[2]+=o;break;case 4:h=o*(f-4),c[2]+=o,c[0]+=h;break;case 5:h=o*(6-f),c[2]+=h,c[0]+=o;break}for(var x=0;x!=3;++x)c[x]=Math.round(c[x]*255);return c}function Hp(e,s){if(s===0)return e;var t=tM(eM(e));return s<0?t[2]=t[2]*(1+s):t[2]=1-(1-t[2])*(1-s),Bf(rM(t))}var _w=6,sM=15,nM=1,Hn=_w;function Gp(e){return Math.floor((e+Math.round(128/Hn)/256)*Hn)}function Wp(e){return Math.floor((e-5)/Hn*100+.5)/100}function zb(e){return Math.round((e*Hn+5)/Hn*256)/256}function wb(e){return zb(Wp(Gp(e)))}function kN(e){var s=Math.abs(e-wb(e)),t=Hn;if(s>.005)for(Hn=nM;Hn<sM;++Hn)Math.abs(e-wb(e))<=s&&(s=Math.abs(e-wb(e)),t=Hn);Hn=t}function ku(e){e.width?(e.wpx=Gp(e.width),e.wch=Wp(e.wpx),e.MDW=Hn):e.wpx?(e.wch=Wp(e.wpx),e.width=zb(e.wch),e.MDW=Hn):typeof e.wch=="number"&&(e.width=zb(e.wch),e.wpx=Gp(e.width),e.MDW=Hn),e.customWidth&&delete e.customWidth}var aM=96,Uw=aM;function Vw(e){return e*96/Uw}function Xf(e){return e*Uw/96}var iM={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function oM(e,s,t,i){s.Borders=[];var o={},u=!1;(e[0].match(Un)||[]).forEach(function(c){var f=er(c);switch(Mi(f[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":o={},f.diagonalUp&&(o.diagonalUp=as(f.diagonalUp)),f.diagonalDown&&(o.diagonalDown=as(f.diagonalDown)),s.Borders.push(o);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":u=!0;break;case"</ext>":u=!1;break;default:if(i&&i.WTF&&!u)throw new Error("unrecognized "+f[0]+" in borders")}})}function lM(e,s,t,i){s.Fills=[];var o={},u=!1;(e[0].match(Un)||[]).forEach(function(c){var f=er(c);switch(Mi(f[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":o={},s.Fills.push(o);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":s.Fills.push(o),o={};break;case"<patternFill":case"<patternFill>":f.patternType&&(o.patternType=f.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":o.bgColor||(o.bgColor={}),f.indexed&&(o.bgColor.indexed=parseInt(f.indexed,10)),f.theme&&(o.bgColor.theme=parseInt(f.theme,10)),f.tint&&(o.bgColor.tint=parseFloat(f.tint)),f.rgb&&(o.bgColor.rgb=f.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":o.fgColor||(o.fgColor={}),f.theme&&(o.fgColor.theme=parseInt(f.theme,10)),f.tint&&(o.fgColor.tint=parseFloat(f.tint)),f.rgb!=null&&(o.fgColor.rgb=f.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":u=!0;break;case"</ext>":u=!1;break;default:if(i&&i.WTF&&!u)throw new Error("unrecognized "+f[0]+" in fills")}})}function cM(e,s,t,i){s.Fonts=[];var o={},u=!1;(e[0].match(Un)||[]).forEach(function(c){var f=er(c);switch(Mi(f[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":s.Fonts.push(o),o={};break;case"<name":f.val&&(o.name=Zr(f.val));break;case"<name/>":case"</name>":break;case"<b":o.bold=f.val?as(f.val):1;break;case"<b/>":o.bold=1;break;case"<i":o.italic=f.val?as(f.val):1;break;case"<i/>":o.italic=1;break;case"<u":switch(f.val){case"none":o.underline=0;break;case"single":o.underline=1;break;case"double":o.underline=2;break;case"singleAccounting":o.underline=33;break;case"doubleAccounting":o.underline=34;break}break;case"<u/>":o.underline=1;break;case"<strike":o.strike=f.val?as(f.val):1;break;case"<strike/>":o.strike=1;break;case"<outline":o.outline=f.val?as(f.val):1;break;case"<outline/>":o.outline=1;break;case"<shadow":o.shadow=f.val?as(f.val):1;break;case"<shadow/>":o.shadow=1;break;case"<condense":o.condense=f.val?as(f.val):1;break;case"<condense/>":o.condense=1;break;case"<extend":o.extend=f.val?as(f.val):1;break;case"<extend/>":o.extend=1;break;case"<sz":f.val&&(o.sz=+f.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":f.val&&(o.vertAlign=f.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":f.val&&(o.family=parseInt(f.val,10));break;case"<family/>":case"</family>":break;case"<scheme":f.val&&(o.scheme=f.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(f.val=="1")break;f.codepage=uN[parseInt(f.val,10)];break;case"<color":if(o.color||(o.color={}),f.auto&&(o.color.auto=as(f.auto)),f.rgb)o.color.rgb=f.rgb.slice(-6);else if(f.indexed){o.color.index=parseInt(f.indexed,10);var h=uc[o.color.index];o.color.index==81&&(h=uc[1]),h||(h=uc[1]),o.color.rgb=h[0].toString(16)+h[1].toString(16)+h[2].toString(16)}else f.theme&&(o.color.theme=parseInt(f.theme,10),f.tint&&(o.color.tint=parseFloat(f.tint)),f.theme&&t.themeElements&&t.themeElements.clrScheme&&(o.color.rgb=Hp(t.themeElements.clrScheme[o.color.theme].rgb,o.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":u=!0;break;case"</AlternateContent>":u=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":u=!0;break;case"</ext>":u=!1;break;default:if(i&&i.WTF&&!u)throw new Error("unrecognized "+f[0]+" in fonts")}})}function uM(e,s,t){s.NumberFmt=[];for(var i=ji(dr),o=0;o<i.length;++o)s.NumberFmt[i[o]]=dr[i[o]];var u=e[0].match(Un);if(u)for(o=0;o<u.length;++o){var c=er(u[o]);switch(Mi(c[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var f=Vr(Zr(c.formatCode)),h=parseInt(c.numFmtId,10);if(s.NumberFmt[h]=f,h>0){if(h>392){for(h=392;h>60&&s.NumberFmt[h]!=null;--h);s.NumberFmt[h]=f}cc(f,h)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+c[0]+" in numFmts")}}}var Ep=["numFmtId","fillId","fontId","borderId","xfId"],Cp=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function dM(e,s,t){s.CellXf=[];var i,o=!1;(e[0].match(Un)||[]).forEach(function(u){var c=er(u),f=0;switch(Mi(c[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(i=c,delete i[0],f=0;f<Ep.length;++f)i[Ep[f]]&&(i[Ep[f]]=parseInt(i[Ep[f]],10));for(f=0;f<Cp.length;++f)i[Cp[f]]&&(i[Cp[f]]=as(i[Cp[f]]));if(s.NumberFmt&&i.numFmtId>392){for(f=392;f>60;--f)if(s.NumberFmt[i.numFmtId]==s.NumberFmt[f]){i.numFmtId=f;break}}s.CellXf.push(i);break;case"</xf>":break;case"<alignment":case"<alignment/>":var h={};c.vertical&&(h.vertical=c.vertical),c.horizontal&&(h.horizontal=c.horizontal),c.textRotation!=null&&(h.textRotation=c.textRotation),c.indent&&(h.indent=c.indent),c.wrapText&&(h.wrapText=as(c.wrapText)),i.alignment=h;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":o=!0;break;case"</AlternateContent>":o=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(t&&t.WTF&&!o)throw new Error("unrecognized "+c[0]+" in cellXfs")}})}var fM=(function(){var s=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,i=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,o=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,u=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(f,h,x){var v={};if(!f)return v;f=f.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var b;return(b=f.match(s))&&uM(b,v,x),(b=f.match(o))&&cM(b,v,h,x),(b=f.match(i))&&lM(b,v,h,x),(b=f.match(u))&&oM(b,v,h,x),(b=f.match(t))&&dM(b,v,x),v}})();function mM(e,s){var t=e.read_shift(2),i=Pn(e);return[t,i]}function pM(e,s,t){var i={};i.sz=e.read_shift(2)/20;var o=y6(e);o.fItalic&&(i.italic=1),o.fCondense&&(i.condense=1),o.fExtend&&(i.extend=1),o.fShadow&&(i.shadow=1),o.fOutline&&(i.outline=1),o.fStrikeout&&(i.strike=1);var u=e.read_shift(2);switch(u===700&&(i.bold=1),e.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var c=e.read_shift(1);c!=0&&(i.underline=c);var f=e.read_shift(1);f>0&&(i.family=f);var h=e.read_shift(1);switch(h>0&&(i.charset=h),e.l++,i.color=O6(e),e.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Pn(e),i}var hM=_n;function vM(e,s){var t=e.l+s,i=e.read_shift(2),o=e.read_shift(2);return e.l=t,{ixfe:i,numFmtId:o}}var gM=_n;function xM(e,s,t){var i={};i.NumberFmt=[];for(var o in dr)i.NumberFmt[o]=dr[o];i.CellXf=[],i.Fonts=[];var u=[],c=!1;return So(e,function(h,x,v){switch(v){case 44:i.NumberFmt[h[0]]=h[1],cc(h[1],h[0]);break;case 43:i.Fonts.push(h),h.color.theme!=null&&s&&s.themeElements&&s.themeElements.clrScheme&&(h.color.rgb=Hp(s.themeElements.clrScheme[h.color.theme].rgb,h.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:u[u.length-1]==617&&i.CellXf.push(h);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:c=!0;break;case 36:c=!1;break;case 37:u.push(v),c=!0;break;case 38:u.pop(),c=!1;break;default:if(x.T>0)u.push(v);else if(x.T<0)u.pop();else if(!c||t.WTF&&u[u.length-1]!=37)throw new Error("Unexpected record 0x"+v.toString(16))}}),i}var bM=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function NM(e,s,t){s.themeElements.clrScheme=[];var i={};(e[0].match(Un)||[]).forEach(function(o){var u=er(o);switch(u[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":i.rgb=u.val;break;case"<a:sysClr":i.rgb=u.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":u[0].charAt(1)==="/"?(s.themeElements.clrScheme[bM.indexOf(u[0])]=i,i={}):i.name=u[0].slice(3,u[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+u[0]+" in clrScheme")}})}function DM(){}function SM(){}var OM=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,yM=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,EM=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function CM(e,s,t){s.themeElements={};var i;[["clrScheme",OM,NM],["fontScheme",yM,DM],["fmtScheme",EM,SM]].forEach(function(o){if(!(i=e.match(o[1])))throw new Error(o[0]+" not found in themeElements");o[2](i,s,t)})}var wM=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function jw(e,s){(!e||e.length===0)&&(e=kM());var t,i={};if(!(t=e.match(wM)))throw new Error("themeElements not found in theme");return CM(t[0],i,s),i.raw=e,i}function kM(e,s){var t=[WC];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function RM(e,s,t){var i=e.l+s,o=e.read_shift(4);if(o!==124226){if(!t.cellStyles){e.l=i;return}var u=e.slice(e.l);e.l=i;var c;try{c=GC(u,{type:"array"})}catch{return}var f=ga(c,"theme/theme/theme1.xml",!0);if(f)return jw(f,t)}}function TM(e){return e.read_shift(4)}function PM(e){var s={};switch(s.xclrType=e.read_shift(2),s.nTintShade=e.read_shift(2),s.xclrType){case 0:e.l+=4;break;case 1:s.xclrValue=_M(e,4);break;case 2:s.xclrValue=Dw(e);break;case 3:s.xclrValue=TM(e);break;case 4:e.l+=4;break}return e.l+=8,s}function _M(e,s){return _n(e,s)}function UM(e,s){return _n(e,s)}function VM(e){var s=e.read_shift(2),t=e.read_shift(2)-4,i=[s];switch(s){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:i[1]=PM(e);break;case 6:i[1]=UM(e,t);break;case 14:case 15:i[1]=e.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+s+" "+t)}return i}function jM(e,s){var t=e.l+s;e.l+=2;var i=e.read_shift(2);e.l+=2;for(var o=e.read_shift(2),u=[];o-- >0;)u.push(VM(e,t-e.l));return{ixfe:i,ext:u}}function LM(e,s){s.forEach(function(t){t[0]})}function AM(e,s){return{flags:e.read_shift(4),version:e.read_shift(4),name:Pn(e)}}function MM(e){for(var s=[],t=e.read_shift(4);t-- >0;)s.push([e.read_shift(4),e.read_shift(4)]);return s}function IM(e){return e.l+=4,e.read_shift(4)!=0}function FM(e,s,t){var i={Types:[],Cell:[],Value:[]},o=t||{},u=[],c=!1,f=2;return So(e,function(h,x,v){switch(v){case 335:i.Types.push({name:h.name});break;case 51:h.forEach(function(b){f==1?i.Cell.push({type:i.Types[b[0]-1].name,index:b[1]}):f==0&&i.Value.push({type:i.Types[b[0]-1].name,index:b[1]})});break;case 337:f=h?1:0;break;case 338:f=2;break;case 35:u.push(v),c=!0;break;case 36:u.pop(),c=!1;break;default:if(!x.T){if(!c||o.WTF&&u[u.length-1]!=35)throw new Error("Unexpected record 0x"+v.toString(16))}}}),i}function $M(e,s,t){var i={Types:[],Cell:[],Value:[]};if(!e)return i;var o=!1,u=2,c;return e.replace(Un,function(f){var h=er(f);switch(Mi(h[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":i.Types.push({name:h.name});break;case"</metadataType>":break;case"<futureMetadata":for(var x=0;x<i.Types.length;++x)i.Types[x].name==h.name&&(c=i.Types[x]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":u==1?i.Cell.push({type:i.Types[h.t-1].name,index:+h.v}):u==0&&i.Value.push({type:i.Types[h.t-1].name,index:+h.v});break;case"</rc>":break;case"<cellMetadata":u=1;break;case"</cellMetadata>":u=2;break;case"<valueMetadata":u=0;break;case"</valueMetadata>":u=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;case"<rvb":if(!c)break;c.offsets||(c.offsets=[]),c.offsets.push(+h.i);break;default:if(!o&&t.WTF)throw new Error("unrecognized "+h[0]+" in metadata")}return f}),i}function BM(e){var s=[];if(!e)return s;var t=1;return(e.match(Un)||[]).forEach(function(i){var o=er(i);switch(o[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete o[0],o.i?t=o.i:o.i=t,s.push(o);break}}),s}function XM(e){var s={};s.i=e.read_shift(4);var t={};t.r=e.read_shift(4),t.c=e.read_shift(4),s.r=ir(t);var i=e.read_shift(1);return i&2&&(s.l="1"),i&8&&(s.a="1"),s}function HM(e,s,t){var i=[];return So(e,function(u,c,f){switch(f){case 63:i.push(u);break;default:if(!c.T)throw new Error("Unexpected record 0x"+f.toString(16))}}),i}function GM(e,s,t,i){if(!e)return e;var o=i||{},u=!1;So(e,function(f,h,x){switch(x){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:u=!0;break;case 36:u=!1;break;default:if(!h.T){if(!u||o.WTF)throw new Error("Unexpected record 0x"+x.toString(16))}}},o)}function WM(e,s){if(!e)return"??";var t=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return s["!id"][t].Target}function kE(e,s,t,i){var o=Array.isArray(e),u;s.forEach(function(c){var f=Gn(c.ref);if(o?(e[f.r]||(e[f.r]=[]),u=e[f.r][f.c]):u=e[c.ref],!u){u={t:"z"},o?e[f.r][f.c]=u:e[c.ref]=u;var h=hs(e["!ref"]||"BDWGO1000001:A1");h.s.r>f.r&&(h.s.r=f.r),h.e.r<f.r&&(h.e.r=f.r),h.s.c>f.c&&(h.s.c=f.c),h.e.c<f.c&&(h.e.c=f.c);var x=_r(h);x!==e["!ref"]&&(e["!ref"]=x)}u.c||(u.c=[]);var v={a:c.author,t:c.t,r:c.r,T:t};c.h&&(v.h=c.h);for(var b=u.c.length-1;b>=0;--b){if(!t&&u.c[b].T)return;t&&!u.c[b].T&&u.c.splice(b,1)}if(t&&i){for(b=0;b<i.length;++b)if(v.a==i[b].id){v.a=i[b].name||v.a;break}}u.c.push(v)})}function zM(e,s){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],i=[],o=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);o&&o[1]&&o[1].split(/<\/\w*:?author>/).forEach(function(c){if(!(c===""||c.trim()==="")){var f=c.match(/<(?:\w+:)?author[^>]*>(.*)/);f&&t.push(f[1])}});var u=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return u&&u[1]&&u[1].split(/<\/\w*:?comment>/).forEach(function(c){if(!(c===""||c.trim()==="")){var f=c.match(/<(?:\w+:)?comment[^>]*>/);if(f){var h=er(f[0]),x={author:h.authorId&&t[h.authorId]||"sheetjsghost",ref:h.ref,guid:h.guid},v=Gn(h.ref);if(!(s.sheetRows&&s.sheetRows<=v.r)){var b=c.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),O=!!b&&!!b[1]&&wN(b[1])||{r:"",t:"",h:""};x.r=O.r,O.r=="<t></t>"&&(O.t=O.h=""),x.t=(O.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),s.cellHTML&&(x.h=O.h),i.push(x)}}}}),i}function YM(e,s){var t=[],i=!1,o={},u=0;return e.replace(Un,function(f,h){var x=er(f);switch(Mi(x[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":o={author:x.personId,guid:x.id,ref:x.ref,T:1};break;case"</threadedComment>":o.t!=null&&t.push(o);break;case"<text>":case"<text":u=h+f.length;break;case"</text>":o.t=e.slice(u,h).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":i=!0;break;case"</mentions>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&s.WTF)throw new Error("unrecognized "+x[0]+" in threaded comments")}return f}),t}function qM(e,s){var t=[],i=!1;return e.replace(Un,function(u){var c=er(u);switch(Mi(c[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:c.displayname,id:c.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&s.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return u}),t}function KM(e){var s={};s.iauthor=e.read_shift(4);var t=gc(e);return s.rfx=t.s,s.ref=ir(t.s),e.l+=16,s}var JM=Pn;function QM(e,s){var t=[],i=[],o={},u=!1;return So(e,function(f,h,x){switch(x){case 632:i.push(f);break;case 635:o=f;break;case 637:o.t=f.t,o.h=f.h,o.r=f.r;break;case 636:if(o.author=i[o.iauthor],delete o.iauthor,s.sheetRows&&o.rfx&&s.sheetRows<=o.rfx.r)break;o.t||(o.t=""),delete o.rfx,t.push(o);break;case 3072:break;case 35:u=!0;break;case 36:u=!1;break;case 37:break;case 38:break;default:if(!h.T){if(!u||s.WTF)throw new Error("Unexpected record 0x"+x.toString(16))}}}),t}var ZM="application/vnd.ms-office.vbaProject";function eI(e){var s=Pr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(t,i){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var o=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Pr.utils.cfb_add(s,o,e.FileIndex[i].content)}}),Pr.write(s)}function tI(){return{"!type":"dialog"}}function rI(){return{"!type":"dialog"}}function sI(){return{"!type":"macro"}}function nI(){return{"!type":"macro"}}var Eu=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,s={r:0,c:0};function t(i,o,u,c){var f=!1,h=!1;u.length==0?h=!0:u.charAt(0)=="["&&(h=!0,u=u.slice(1,-1)),c.length==0?f=!0:c.charAt(0)=="["&&(f=!0,c=c.slice(1,-1));var x=u.length>0?parseInt(u,10)|0:0,v=c.length>0?parseInt(c,10)|0:0;return f?v+=s.c:--v,h?x+=s.r:--x,o+(f?"":"$")+$s(v)+(h?"":"$")+mn(x)}return function(o,u){return s=u,o.replace(e,t)}})(),Lw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,aI=(function(){return function(s,t){return s.replace(Lw,function(i,o,u,c,f,h){var x=DN(c)-(u?0:t.c),v=NN(h)-(f?0:t.r),b=v==0?"":f?v+1:"["+v+"]",O=x==0?"":u?x+1:"["+x+"]";return o+"R"+b+"C"+O})}})();function Aw(e,s){return e.replace(Lw,function(t,i,o,u,c,f){return i+(o=="$"?o+u:$s(DN(u)+s.c))+(c=="$"?c+f:mn(NN(f)+s.r))})}function iI(e,s,t){var i=Uu(s),o=i.s,u=Gn(t),c={r:u.r-o.r,c:u.c-o.c};return Aw(e,c)}function oI(e){return e.length!=1}function RE(e){return e.replace(/_xlfn\./g,"")}function Ss(e){e.l+=1}function gl(e,s){var t=e.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Mw(e,s,t){var i=2;if(t){if(t.biff>=2&&t.biff<=5)return Iw(e);t.biff==12&&(i=4)}var o=e.read_shift(i),u=e.read_shift(i),c=gl(e),f=gl(e);return{s:{r:o,c:c[0],cRel:c[1],rRel:c[2]},e:{r:u,c:f[0],cRel:f[1],rRel:f[2]}}}function Iw(e){var s=gl(e),t=gl(e),i=e.read_shift(1),o=e.read_shift(1);return{s:{r:s[0],c:i,cRel:s[1],rRel:s[2]},e:{r:t[0],c:o,cRel:t[1],rRel:t[2]}}}function lI(e,s,t){if(t.biff<8)return Iw(e);var i=e.read_shift(t.biff==12?4:2),o=e.read_shift(t.biff==12?4:2),u=gl(e),c=gl(e);return{s:{r:i,c:u[0],cRel:u[1],rRel:u[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function Fw(e,s,t){if(t&&t.biff>=2&&t.biff<=5)return cI(e);var i=e.read_shift(t&&t.biff==12?4:2),o=gl(e);return{r:i,c:o[0],cRel:o[1],rRel:o[2]}}function cI(e){var s=gl(e),t=e.read_shift(1);return{r:s[0],c:t,cRel:s[1],rRel:s[2]}}function uI(e){var s=e.read_shift(2),t=e.read_shift(2);return{r:s,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function dI(e,s,t){var i=t&&t.biff?t.biff:8;if(i>=2&&i<=5)return fI(e);var o=e.read_shift(i>=12?4:2),u=e.read_shift(2),c=(u&16384)>>14,f=(u&32768)>>15;if(u&=16383,f==1)for(;o>524287;)o-=1048576;if(c==1)for(;u>8191;)u=u-16384;return{r:o,c:u,cRel:c,rRel:f}}function fI(e){var s=e.read_shift(2),t=e.read_shift(1),i=(s&32768)>>15,o=(s&16384)>>14;return s&=16383,i==1&&s>=8192&&(s=s-16384),o==1&&t>=128&&(t=t-256),{r:s,c:t,cRel:o,rRel:i}}function mI(e,s,t){var i=(e[e.l++]&96)>>5,o=Mw(e,t.biff>=2&&t.biff<=5?6:8,t);return[i,o]}function pI(e,s,t){var i=(e[e.l++]&96)>>5,o=e.read_shift(2,"i"),u=8;if(t)switch(t.biff){case 5:e.l+=12,u=6;break;case 12:u=12;break}var c=Mw(e,u,t);return[i,o,c]}function hI(e,s,t){var i=(e[e.l++]&96)>>5;return e.l+=t&&t.biff>8?12:t.biff<8?6:8,[i]}function vI(e,s,t){var i=(e[e.l++]&96)>>5,o=e.read_shift(2),u=8;if(t)switch(t.biff){case 5:e.l+=12,u=6;break;case 12:u=12;break}return e.l+=u,[i,o]}function gI(e,s,t){var i=(e[e.l++]&96)>>5,o=lI(e,s-1,t);return[i,o]}function xI(e,s,t){var i=(e[e.l++]&96)>>5;return e.l+=t.biff==2?6:t.biff==12?14:7,[i]}function TE(e){var s=e[e.l+1]&1,t=1;return e.l+=4,[s,t]}function bI(e,s,t){e.l+=2;for(var i=e.read_shift(t&&t.biff==2?1:2),o=[],u=0;u<=i;++u)o.push(e.read_shift(t&&t.biff==2?1:2));return o}function NI(e,s,t){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(t&&t.biff==2?1:2)]}function DI(e,s,t){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(t&&t.biff==2?1:2)]}function SI(e){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(2)]}function OI(e,s,t){var i=e[e.l+1]&255?1:0;return e.l+=t&&t.biff==2?3:4,[i]}function $w(e){var s=e.read_shift(1),t=e.read_shift(1);return[s,t]}function yI(e){return e.read_shift(2),$w(e)}function EI(e){return e.read_shift(2),$w(e)}function CI(e,s,t){var i=(e[e.l]&96)>>5;e.l+=1;var o=Fw(e,0,t);return[i,o]}function wI(e,s,t){var i=(e[e.l]&96)>>5;e.l+=1;var o=dI(e,0,t);return[i,o]}function kI(e,s,t){var i=(e[e.l]&96)>>5;e.l+=1;var o=e.read_shift(2);t&&t.biff==5&&(e.l+=12);var u=Fw(e,0,t);return[i,o,u]}function RI(e,s,t){var i=(e[e.l]&96)>>5;e.l+=1;var o=e.read_shift(t&&t.biff<=3?1:2);return[TF[o],Hw[o],i]}function TI(e,s,t){var i=e[e.l++],o=e.read_shift(1),u=t&&t.biff<=3?[i==88?-1:0,e.read_shift(1)]:PI(e);return[o,(u[0]===0?Hw:RF)[u[1]]]}function PI(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function _I(e,s,t){e.l+=t&&t.biff==2?3:4}function UI(e,s,t){if(e.l++,t&&t.biff==12)return[e.read_shift(4,"i"),0];var i=e.read_shift(2),o=e.read_shift(t&&t.biff==2?1:2);return[i,o]}function VI(e){return e.l++,xc[e.read_shift(1)]}function jI(e){return e.l++,e.read_shift(2)}function LI(e){return e.l++,e.read_shift(1)!==0}function AI(e){return e.l++,Rn(e)}function MI(e,s,t){return e.l++,Kf(e,s-1,t)}function II(e,s){var t=[e.read_shift(1)];if(s==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Ns(e,1)?"TRUE":"FALSE",s!=12&&(e.l+=7);break;case 37:case 16:t[1]=xc[e[e.l]],e.l+=s==12?4:8;break;case 0:e.l+=8;break;case 1:t[1]=Rn(e);break;case 2:t[1]=bc(e,0,{biff:s>0&&s<8?2:s});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function FI(e,s,t){for(var i=e.read_shift(t.biff==12?4:2),o=[],u=0;u!=i;++u)o.push((t.biff==12?gc:eh)(e));return o}function $I(e,s,t){var i=0,o=0;t.biff==12?(i=e.read_shift(4),o=e.read_shift(4)):(o=1+e.read_shift(1),i=1+e.read_shift(2)),t.biff>=2&&t.biff<8&&(--i,--o==0&&(o=256));for(var u=0,c=[];u!=i&&(c[u]=[]);++u)for(var f=0;f!=o;++f)c[u][f]=II(e,t.biff);return c}function BI(e,s,t){var i=e.read_shift(1)>>>5&3,o=!t||t.biff>=8?4:2,u=e.read_shift(o);switch(t.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[i,0,u]}function XI(e,s,t){if(t.biff==5)return HI(e);var i=e.read_shift(1)>>>5&3,o=e.read_shift(2),u=e.read_shift(4);return[i,o,u]}function HI(e){var s=e.read_shift(1)>>>5&3,t=e.read_shift(2,"i");e.l+=8;var i=e.read_shift(2);return e.l+=12,[s,t,i]}function GI(e,s,t){var i=e.read_shift(1)>>>5&3;e.l+=t&&t.biff==2?3:4;var o=e.read_shift(t&&t.biff==2?1:2);return[i,o]}function WI(e,s,t){var i=e.read_shift(1)>>>5&3,o=e.read_shift(t&&t.biff==2?1:2);return[i,o]}function zI(e,s,t){var i=e.read_shift(1)>>>5&3;return e.l+=4,t.biff<8&&e.l--,t.biff==12&&(e.l+=2),[i]}function YI(e,s,t){var i=(e[e.l++]&96)>>5,o=e.read_shift(2),u=4;if(t)switch(t.biff){case 5:u=15;break;case 12:u=6;break}return e.l+=u,[i,o]}var qI=_n,KI=_n,JI=_n;function Qf(e,s,t){return e.l+=2,[uI(e)]}function RN(e){return e.l+=6,[]}var QI=Qf,ZI=RN,eF=RN,tF=Qf;function Bw(e){return e.l+=2,[ys(e),e.read_shift(2)&1]}var rF=Qf,sF=Bw,nF=RN,aF=Qf,iF=Qf,oF=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function lF(e){e.l+=2;var s=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(4),o=e.read_shift(2),u=e.read_shift(2),c=oF[t>>2&31];return{ixti:s,coltype:t&3,rt:c,idx:i,c:o,C:u}}function cF(e){return e.l+=2,[e.read_shift(4)]}function uF(e,s,t){return e.l+=5,e.l+=2,e.l+=t.biff==2?1:4,["PTGSHEET"]}function dF(e,s,t){return e.l+=t.biff==2?4:5,["PTGENDSHEET"]}function fF(e){var s=e.read_shift(1)>>>5&3,t=e.read_shift(2);return[s,t]}function mF(e){var s=e.read_shift(1)>>>5&3,t=e.read_shift(2);return[s,t]}function pF(e){return e.l+=4,[0,0]}var PE={1:{n:"PtgExp",f:UI},2:{n:"PtgTbl",f:JI},3:{n:"PtgAdd",f:Ss},4:{n:"PtgSub",f:Ss},5:{n:"PtgMul",f:Ss},6:{n:"PtgDiv",f:Ss},7:{n:"PtgPower",f:Ss},8:{n:"PtgConcat",f:Ss},9:{n:"PtgLt",f:Ss},10:{n:"PtgLe",f:Ss},11:{n:"PtgEq",f:Ss},12:{n:"PtgGe",f:Ss},13:{n:"PtgGt",f:Ss},14:{n:"PtgNe",f:Ss},15:{n:"PtgIsect",f:Ss},16:{n:"PtgUnion",f:Ss},17:{n:"PtgRange",f:Ss},18:{n:"PtgUplus",f:Ss},19:{n:"PtgUminus",f:Ss},20:{n:"PtgPercent",f:Ss},21:{n:"PtgParen",f:Ss},22:{n:"PtgMissArg",f:Ss},23:{n:"PtgStr",f:MI},26:{n:"PtgSheet",f:uF},27:{n:"PtgEndSheet",f:dF},28:{n:"PtgErr",f:VI},29:{n:"PtgBool",f:LI},30:{n:"PtgInt",f:jI},31:{n:"PtgNum",f:AI},32:{n:"PtgArray",f:xI},33:{n:"PtgFunc",f:RI},34:{n:"PtgFuncVar",f:TI},35:{n:"PtgName",f:BI},36:{n:"PtgRef",f:CI},37:{n:"PtgArea",f:mI},38:{n:"PtgMemArea",f:GI},39:{n:"PtgMemErr",f:qI},40:{n:"PtgMemNoMem",f:KI},41:{n:"PtgMemFunc",f:WI},42:{n:"PtgRefErr",f:zI},43:{n:"PtgAreaErr",f:hI},44:{n:"PtgRefN",f:wI},45:{n:"PtgAreaN",f:gI},46:{n:"PtgMemAreaN",f:fF},47:{n:"PtgMemNoMemN",f:mF},57:{n:"PtgNameX",f:XI},58:{n:"PtgRef3d",f:kI},59:{n:"PtgArea3d",f:pI},60:{n:"PtgRefErr3d",f:YI},61:{n:"PtgAreaErr3d",f:vI},255:{}},hF={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},vF={1:{n:"PtgElfLel",f:Bw},2:{n:"PtgElfRw",f:aF},3:{n:"PtgElfCol",f:QI},6:{n:"PtgElfRwV",f:iF},7:{n:"PtgElfColV",f:tF},10:{n:"PtgElfRadical",f:rF},11:{n:"PtgElfRadicalS",f:nF},13:{n:"PtgElfColS",f:ZI},15:{n:"PtgElfColSV",f:eF},16:{n:"PtgElfRadicalLel",f:sF},25:{n:"PtgList",f:lF},29:{n:"PtgSxName",f:cF},255:{}},gF={0:{n:"PtgAttrNoop",f:pF},1:{n:"PtgAttrSemi",f:OI},2:{n:"PtgAttrIf",f:DI},4:{n:"PtgAttrChoose",f:bI},8:{n:"PtgAttrGoto",f:NI},16:{n:"PtgAttrSum",f:_I},32:{n:"PtgAttrBaxcel",f:TE},33:{n:"PtgAttrBaxcel",f:TE},64:{n:"PtgAttrSpace",f:yI},65:{n:"PtgAttrSpaceSemi",f:EI},128:{n:"PtgAttrIfError",f:SI},255:{}};function Zf(e,s,t,i){if(i.biff<8)return _n(e,s);for(var o=e.l+s,u=[],c=0;c!==t.length;++c)switch(t[c][0]){case"PtgArray":t[c][1]=$I(e,0,i),u.push(t[c][1]);break;case"PtgMemArea":t[c][2]=FI(e,t[c][1],i),u.push(t[c][2]);break;case"PtgExp":i&&i.biff==12&&(t[c][1][1]=e.read_shift(4),u.push(t[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[c][0]}return s=o-e.l,s!==0&&u.push(_n(e,s)),u}function em(e,s,t){for(var i=e.l+s,o,u,c=[];i!=e.l;)s=i-e.l,u=e[e.l],o=PE[u]||PE[hF[u]],(u===24||u===25)&&(o=(u===24?vF:gF)[e[e.l+1]]),!o||!o.f?_n(e,s):c.push([o.n,o.f(e,s,t)]);return c}function xF(e){for(var s=[],t=0;t<e.length;++t){for(var i=e[t],o=[],u=0;u<i.length;++u){var c=i[u];if(c)switch(c[0]){case 2:o.push('"'+c[1].replace(/"/g,'""')+'"');break;default:o.push(c[1])}else o.push("")}s.push(o.join(","))}return s.join(";")}var bF={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function NF(e,s){if(!e&&!(s&&s.biff<=5&&s.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Xw(e,s,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[s]))return e.SheetNames[s];if(!e.XTI)return"SH33TJSERR6";var i=e.XTI[s];if(t.biff<8)return s>1e4&&(s-=65536),s<0&&(s=-s),s==0?"":e.XTI[s-1];if(!i)return"SH33TJSERR1";var o="";if(t.biff>8)switch(e[i[0]][0]){case 357:return o=i[1]==-1?"#REF":e.SheetNames[i[1]],i[1]==i[2]?o:o+":"+e.SheetNames[i[2]];case 358:return t.SID!=null?e.SheetNames[t.SID]:"SH33TJSSAME"+e[i[0]][0];case 355:default:return"SH33TJSSRC"+e[i[0]][0]}switch(e[i[0]][0][0]){case 1025:return o=i[1]==-1?"#REF":e.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?o:o+":"+e.SheetNames[i[2]];case 14849:return e[i[0]].slice(1).map(function(u){return u.Name}).join(";;");default:return e[i[0]][0][3]?(o=i[1]==-1?"#REF":e[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?o:o+":"+e[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function _E(e,s,t){var i=Xw(e,s,t);return i=="#REF"?i:NF(i,t)}function kn(e,s,t,i,o){var u=o&&o.biff||8,c={s:{c:0,r:0}},f=[],h,x,v,b=0,O=0,w,C="";if(!e[0]||!e[0][0])return"";for(var S=-1,R="",X=0,G=e[0].length;X<G;++X){var k=e[0][X];switch(k[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=f.pop(),x=f.pop(),S>=0){switch(e[0][S][1][0]){case 0:R=ps(" ",e[0][S][1][1]);break;case 1:R=ps("\r",e[0][S][1][1]);break;default:if(R="",o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][S][1][0])}x=x+R,S=-1}f.push(x+bF[k[0]]+h);break;case"PtgIsect":h=f.pop(),x=f.pop(),f.push(x+" "+h);break;case"PtgUnion":h=f.pop(),x=f.pop(),f.push(x+","+h);break;case"PtgRange":h=f.pop(),x=f.pop(),f.push(x+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":v=kf(k[1][1],c,o),f.push(Rf(v,u));break;case"PtgRefN":v=t?kf(k[1][1],t,o):k[1][1],f.push(Rf(v,u));break;case"PtgRef3d":b=k[1][1],v=kf(k[1][2],c,o),C=_E(i,b,o),f.push(C+"!"+Rf(v,u));break;case"PtgFunc":case"PtgFuncVar":var ie=k[1][0],K=k[1][1];ie||(ie=0),ie&=127;var z=ie==0?[]:f.slice(-ie);f.length-=ie,K==="User"&&(K=z.shift()),f.push(K+"("+z.join(",")+")");break;case"PtgBool":f.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(k[1]);break;case"PtgNum":f.push(String(k[1]));break;case"PtgStr":f.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(k[1]);break;case"PtgAreaN":w=fE(k[1][1],t?{s:t}:c,o),f.push(Eb(w,o));break;case"PtgArea":w=fE(k[1][1],c,o),f.push(Eb(w,o));break;case"PtgArea3d":b=k[1][1],w=k[1][2],C=_E(i,b,o),f.push(C+"!"+Eb(w,o));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":O=k[1][2];var A=(i.names||[])[O-1]||(i[0]||[])[O],ce=A?A.Name:"SH33TJSNAME"+String(O);ce&&ce.slice(0,6)=="_xlfn."&&!o.xlfn&&(ce=ce.slice(6)),f.push(ce);break;case"PtgNameX":var T=k[1][1];O=k[1][2];var H;if(o.biff<=5)T<0&&(T=-T),i[T]&&(H=i[T][O]);else{var Z="";if(((i[T]||[])[0]||[])[0]==14849||(((i[T]||[])[0]||[])[0]==1025?i[T][O]&&i[T][O].itab>0&&(Z=i.SheetNames[i[T][O].itab-1]+"!"):Z=i.SheetNames[O-1]+"!"),i[T]&&i[T][O])Z+=i[T][O].Name;else if(i[0]&&i[0][O])Z+=i[0][O].Name;else{var W=(Xw(i,T,o)||"").split(";;");W[O-1]?Z=W[O-1]:Z+="SH33TJSERRX"}f.push(Z);break}H||(H={Name:"SH33TJSERRY"}),f.push(H.Name);break;case"PtgParen":var M="(",Ce=")";if(S>=0){switch(R="",e[0][S][1][0]){case 2:M=ps(" ",e[0][S][1][1])+M;break;case 3:M=ps("\r",e[0][S][1][1])+M;break;case 4:Ce=ps(" ",e[0][S][1][1])+Ce;break;case 5:Ce=ps("\r",e[0][S][1][1])+Ce;break;default:if(o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][S][1][0])}S=-1}f.push(M+f.pop()+Ce);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":v={c:k[1][1],r:k[1][0]};var De={c:t.c,r:t.r};if(i.sharedf[ir(v)]){var we=i.sharedf[ir(v)];f.push(kn(we,c,De,i,o))}else{var ge=!1;for(h=0;h!=i.arrayf.length;++h)if(x=i.arrayf[h],!(v.c<x[0].s.c||v.c>x[0].e.c)&&!(v.r<x[0].s.r||v.r>x[0].e.r)){f.push(kn(x[1],c,De,i,o)),ge=!0;break}ge||f.push(k[1])}break;case"PtgArray":f.push("{"+xF(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=X;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var He=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(o.biff!=3&&S>=0&&He.indexOf(e[0][X][0])==-1){k=e[0][S];var ue=!0;switch(k[1][0]){case 4:ue=!1;case 0:R=ps(" ",k[1][1]);break;case 5:ue=!1;case 1:R=ps("\r",k[1][1]);break;default:if(R="",o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}f.push((ue?R:"")+f.pop()+(ue?"":R)),S=-1}}if(f.length>1&&o.WTF)throw new Error("bad formula stack");return f[0]}function DF(e,s,t){var i=e.l+s,o=t.biff==2?1:2,u,c=e.read_shift(o);if(c==65535)return[[],_n(e,s-2)];var f=em(e,c,t);return s!==c+o&&(u=Zf(e,s-c-o,f,t)),e.l=i,[f,u]}function SF(e,s,t){var i=e.l+s,o=t.biff==2?1:2,u,c=e.read_shift(o);if(c==65535)return[[],_n(e,s-2)];var f=em(e,c,t);return s!==c+o&&(u=Zf(e,s-c-o,f,t)),e.l=i,[f,u]}function OF(e,s,t,i){var o=e.l+s,u=em(e,i,t),c;return o!==e.l&&(c=Zf(e,o-e.l,u,t)),[u,c]}function yF(e,s,t){var i=e.l+s,o,u=e.read_shift(2),c=em(e,u,t);return u==65535?[[],_n(e,s-2)]:(s!==u+2&&(o=Zf(e,i-u-2,c,t)),[c,o])}function EF(e){var s;if(mo(e,e.l+6)!==65535)return[Rn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return s=e[e.l+2]===1,e.l+=8,[s,"b"];case 2:return s=e[e.l+2],e.l+=8,[s,"e"];case 3:return e.l+=8,["","s"]}return[]}function kb(e,s,t){var i=e.l+s,o=Ii(e);t.biff==2&&++e.l;var u=EF(e),c=e.read_shift(1);t.biff!=2&&(e.read_shift(1),t.biff>=5&&e.read_shift(4));var f=SF(e,i-e.l,t);return{cell:o,val:u[0],formula:f,shared:c>>3&1,tt:u[1]}}function th(e,s,t){var i=e.read_shift(4),o=em(e,i,t),u=e.read_shift(4),c=u>0?Zf(e,u,o,t):null;return[o,c]}var CF=th,rh=th,wF=th,kF=th,RF={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Hw={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},TF={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function UE(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(s,t){return t.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Rb(e){var s=e.split(":"),t=s[0].split(".")[0];return[t,s[0].split(".")[1]+(s.length>1?":"+(s[1].split(".")[1]||s[1].split(".")[0]):"")]}var Uf={},Cu={};function Vf(e,s){if(e){var t=[.7,.7,.75,.75,.3,.3];s=="xlml"&&(t=[1,1,1,1,.5,.5]),e.left==null&&(e.left=t[0]),e.right==null&&(e.right=t[1]),e.top==null&&(e.top=t[2]),e.bottom==null&&(e.bottom=t[3]),e.header==null&&(e.header=t[4]),e.footer==null&&(e.footer=t[5])}}function Gw(e,s,t,i,o,u){try{i.cellNF&&(e.z=dr[s])}catch(f){if(i.WTF)throw f}if(!(e.t==="z"&&!i.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ks(e.v)),(!i||i.cellText!==!1)&&e.t!=="z")try{if(dr[s]==null&&cc(Pj[s]||"General",s),e.t==="e")e.w=e.w||xc[e.v];else if(s===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Mf(e.v);else if(e.t==="d"){var c=zn(e.v);(c|0)===c?e.w=c.toString(10):e.w=Mf(c)}else{if(e.v===void 0)return"";e.w=dc(e.v,Cu)}else e.t==="d"?e.w=ja(s,zn(e.v),Cu):e.w=ja(s,e.v,Cu)}catch(f){if(i.WTF)throw f}if(i.cellStyles&&t!=null)try{e.s=u.Fills[t],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Hp(o.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),i.WTF&&(e.s.fgColor.raw_rgb=o.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Hp(o.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),i.WTF&&(e.s.bgColor.raw_rgb=o.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(f){if(i.WTF&&u.Fills)throw f}}}function PF(e,s){var t=hs(s);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(e["!ref"]=_r(t))}var _F=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,UF=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,VF=/<(?:\w:)?hyperlink [^>]*>/mg,jF=/"(\w*:\w*)"/,LF=/<(?:\w:)?col\b[^>]*[\/]?>/g,AF=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,MF=/<(?:\w:)?pageMargins[^>]*\/>/g,Ww=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,IF=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,FF=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function $F(e,s,t,i,o,u,c){if(!e)return e;i||(i={"!id":{}});var f=s.dense?[]:{},h={s:{r:2e6,c:2e6},e:{r:0,c:0}},x="",v="",b=e.match(UF);b?(x=e.slice(0,b.index),v=e.slice(b.index+b[0].length)):x=v=e;var O=x.match(Ww);O?TN(O[0],f,o,t):(O=x.match(IF))&&BF(O[0],O[1]||"",f,o,t);var w=(x.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(w>0){var C=x.slice(w,w+50).match(jF);C&&PF(f,C[1])}var S=x.match(FF);S&&S[1]&&YF(S[1],o);var R=[];if(s.cellStyles){var X=x.match(LF);X&&GF(R,X)}b&&qF(b[1],f,s,h,u,c);var G=v.match(AF);G&&(f["!autofilter"]=WF(G[0]));var k=[],ie=v.match(_F);if(ie)for(w=0;w!=ie.length;++w)k[w]=hs(ie[w].slice(ie[w].indexOf('"')+1));var K=v.match(VF);K&&XF(f,K,i);var z=v.match(MF);if(z&&(f["!margins"]=HF(er(z[0]))),!f["!ref"]&&h.e.c>=h.s.c&&h.e.r>=h.s.r&&(f["!ref"]=_r(h)),s.sheetRows>0&&f["!ref"]){var A=hs(f["!ref"]);s.sheetRows<=+A.e.r&&(A.e.r=s.sheetRows-1,A.e.r>h.e.r&&(A.e.r=h.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>h.e.c&&(A.e.c=h.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),f["!fullref"]=f["!ref"],f["!ref"]=_r(A))}return R.length>0&&(f["!cols"]=R),k.length>0&&(f["!merges"]=k),f}function TN(e,s,t,i){var o=er(e);t.Sheets[i]||(t.Sheets[i]={}),o.codeName&&(t.Sheets[i].CodeName=Vr(Zr(o.codeName)))}function BF(e,s,t,i,o){TN(e.slice(0,e.indexOf(">")),t,i,o)}function XF(e,s,t){for(var i=Array.isArray(e),o=0;o!=s.length;++o){var u=er(Zr(s[o]),!0);if(!u.ref)return;var c=((t||{})["!id"]||[])[u.id];c?(u.Target=c.Target,u.location&&(u.Target+="#"+Vr(u.location))):(u.Target="#"+Vr(u.location),c={Target:u.Target,TargetMode:"Internal"}),u.Rel=c,u.tooltip&&(u.Tooltip=u.tooltip,delete u.tooltip);for(var f=hs(u.ref),h=f.s.r;h<=f.e.r;++h)for(var x=f.s.c;x<=f.e.c;++x){var v=ir({c:x,r:h});i?(e[h]||(e[h]=[]),e[h][x]||(e[h][x]={t:"z",v:void 0}),e[h][x].l=u):(e[v]||(e[v]={t:"z",v:void 0}),e[v].l=u)}}}function HF(e){var s={};return["left","right","top","bottom","header","footer"].forEach(function(t){e[t]&&(s[t]=parseFloat(e[t]))}),s}function GF(e,s){for(var t=!1,i=0;i!=s.length;++i){var o=er(s[i],!0);o.hidden&&(o.hidden=as(o.hidden));var u=parseInt(o.min,10)-1,c=parseInt(o.max,10)-1;for(o.outlineLevel&&(o.level=+o.outlineLevel||0),delete o.min,delete o.max,o.width=+o.width,!t&&o.width&&(t=!0,kN(o.width)),ku(o);u<=c;)e[u++]=fn(o)}}function WF(e){var s={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return s}var zF=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function YF(e,s){s.Views||(s.Views=[{}]),(e.match(zF)||[]).forEach(function(t,i){var o=er(t);s.Views[i]||(s.Views[i]={}),+o.zoomScale&&(s.Views[i].zoom=+o.zoomScale),as(o.rightToLeft)&&(s.Views[i].RTL=!0)})}var qF=(function(){var e=/<(?:\w+:)?c[ \/>]/,s=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,i=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,o=/ref=["']([^"']*)["']/,u=If("v"),c=If("f");return function(h,x,v,b,O,w){for(var C=0,S="",R=[],X=[],G=0,k=0,ie=0,K="",z,A,ce=0,T=0,H,Z,W=0,M=0,Ce=Array.isArray(w.CellXf),De,we=[],ge=[],He=Array.isArray(x),ue=[],ke={},Ue=!1,te=!!v.sheetStubs,le=h.split(s),pe=0,de=le.length;pe!=de;++pe){S=le[pe].trim();var oe=S.length;if(oe!==0){var Q=0;e:for(C=0;C<oe;++C)switch(S[C]){case">":if(S[C-1]!="/"){++C;break e}if(v&&v.cellStyles){if(A=er(S.slice(Q,C),!0),ce=A.r!=null?parseInt(A.r,10):ce+1,T=-1,v.sheetRows&&v.sheetRows<ce)continue;ke={},Ue=!1,A.ht&&(Ue=!0,ke.hpt=parseFloat(A.ht),ke.hpx=Xf(ke.hpt)),A.hidden=="1"&&(Ue=!0,ke.hidden=!0),A.outlineLevel!=null&&(Ue=!0,ke.level=+A.outlineLevel),Ue&&(ue[ce-1]=ke)}break;case"<":Q=C;break}if(Q>=C)break;if(A=er(S.slice(Q,C),!0),ce=A.r!=null?parseInt(A.r,10):ce+1,T=-1,!(v.sheetRows&&v.sheetRows<ce)){b.s.r>ce-1&&(b.s.r=ce-1),b.e.r<ce-1&&(b.e.r=ce-1),v&&v.cellStyles&&(ke={},Ue=!1,A.ht&&(Ue=!0,ke.hpt=parseFloat(A.ht),ke.hpx=Xf(ke.hpt)),A.hidden=="1"&&(Ue=!0,ke.hidden=!0),A.outlineLevel!=null&&(Ue=!0,ke.level=+A.outlineLevel),Ue&&(ue[ce-1]=ke)),R=S.slice(C).split(e);for(var _=0;_!=R.length&&R[_].trim().charAt(0)=="<";++_);for(R=R.slice(_),C=0;C!=R.length;++C)if(S=R[C].trim(),S.length!==0){if(X=S.match(t),G=C,k=0,ie=0,S="<c "+(S.slice(0,1)=="<"?">":"")+S,X!=null&&X.length===2){for(G=0,K=X[1],k=0;k!=K.length&&!((ie=K.charCodeAt(k)-64)<1||ie>26);++k)G=26*G+ie;--G,T=G}else++T;for(k=0;k!=S.length&&S.charCodeAt(k)!==62;++k);if(++k,A=er(S.slice(0,k),!0),A.r||(A.r=ir({r:ce-1,c:T})),K=S.slice(k),z={t:""},(X=K.match(u))!=null&&X[1]!==""&&(z.v=Vr(X[1])),v.cellFormula){if((X=K.match(c))!=null&&X[1]!==""){if(z.f=Vr(Zr(X[1])).replace(/\r\n/g,`
`),v.xlfn||(z.f=RE(z.f)),X[0].indexOf('t="array"')>-1)z.F=(K.match(o)||[])[1],z.F.indexOf(":")>-1&&we.push([hs(z.F),z.F]);else if(X[0].indexOf('t="shared"')>-1){Z=er(X[0]);var J=Vr(Zr(X[1]));v.xlfn||(J=RE(J)),ge[parseInt(Z.si,10)]=[Z,J,A.r]}}else(X=K.match(/<f[^>]*\/>/))&&(Z=er(X[0]),ge[Z.si]&&(z.f=iI(ge[Z.si][1],ge[Z.si][2],A.r)));var L=Gn(A.r);for(k=0;k<we.length;++k)L.r>=we[k][0].s.r&&L.r<=we[k][0].e.r&&L.c>=we[k][0].s.c&&L.c<=we[k][0].e.c&&(z.F=we[k][1])}if(A.t==null&&z.v===void 0)if(z.f||z.F)z.v=0,z.t="n";else if(te)z.t="z";else continue;else z.t=A.t||"n";switch(b.s.c>T&&(b.s.c=T),b.e.c<T&&(b.e.c=T),z.t){case"n":if(z.v==""||z.v==null){if(!te)continue;z.t="z"}else z.v=parseFloat(z.v);break;case"s":if(typeof z.v>"u"){if(!te)continue;z.t="z"}else H=Uf[parseInt(z.v,10)],z.v=H.t,z.r=H.r,v.cellHTML&&(z.h=H.h);break;case"str":z.t="s",z.v=z.v!=null?Zr(z.v):"",v.cellHTML&&(z.h=gN(z.v));break;case"inlineStr":X=K.match(i),z.t="s",X!=null&&(H=wN(X[1]))?(z.v=H.t,v.cellHTML&&(z.h=H.h)):z.v="";break;case"b":z.v=as(z.v);break;case"d":v.cellDates?z.v=Ks(z.v,1):(z.v=zn(Ks(z.v,1)),z.t="n");break;case"e":(!v||v.cellText!==!1)&&(z.w=z.v),z.v=mw[z.v];break}if(W=M=0,De=null,Ce&&A.s!==void 0&&(De=w.CellXf[A.s],De!=null&&(De.numFmtId!=null&&(W=De.numFmtId),v.cellStyles&&De.fillId!=null&&(M=De.fillId))),Gw(z,W,M,v,O,w),v.cellDates&&Ce&&z.t=="n"&&_u(dr[W])&&(z.t="d",z.v=Zp(z.v)),A.cm&&v.xlmeta){var he=(v.xlmeta.Cell||[])[+A.cm-1];he&&he.type=="XLDAPR"&&(z.D=!0)}if(He){var q=Gn(A.r);x[q.r]||(x[q.r]=[]),x[q.r][q.c]=z}else x[A.r]=z}}}}ue.length>0&&(x["!rows"]=ue)}})();function KF(e,s){var t={},i=e.l+s;t.r=e.read_shift(4),e.l+=4;var o=e.read_shift(2);e.l+=1;var u=e.read_shift(1);return e.l=i,u&7&&(t.level=u&7),u&16&&(t.hidden=!0),u&32&&(t.hpt=o/20),t}var JF=gc;function QF(){}function ZF(e,s){var t={},i=e[e.l];return++e.l,t.above=!(i&64),t.left=!(i&128),e.l+=18,t.name=D6(e),t}function e7(e){var s=La(e);return[s]}function t7(e){var s=vc(e);return[s]}function r7(e){var s=La(e),t=e.read_shift(1);return[s,t,"b"]}function s7(e){var s=vc(e),t=e.read_shift(1);return[s,t,"b"]}function n7(e){var s=La(e),t=e.read_shift(1);return[s,t,"e"]}function a7(e){var s=vc(e),t=e.read_shift(1);return[s,t,"e"]}function i7(e){var s=La(e),t=e.read_shift(4);return[s,t,"s"]}function o7(e){var s=vc(e),t=e.read_shift(4);return[s,t,"s"]}function l7(e){var s=La(e),t=Rn(e);return[s,t,"n"]}function zw(e){var s=vc(e),t=Rn(e);return[s,t,"n"]}function c7(e){var s=La(e),t=yN(e);return[s,t,"n"]}function u7(e){var s=vc(e),t=yN(e);return[s,t,"n"]}function d7(e){var s=La(e),t=SN(e);return[s,t,"is"]}function f7(e){var s=La(e),t=Pn(e);return[s,t,"str"]}function m7(e){var s=vc(e),t=Pn(e);return[s,t,"str"]}function p7(e,s,t){var i=e.l+s,o=La(e);o.r=t["!row"];var u=e.read_shift(1),c=[o,u,"b"];if(t.cellFormula){e.l+=2;var f=rh(e,i-e.l,t);c[3]=kn(f,null,o,t.supbooks,t)}else e.l=i;return c}function h7(e,s,t){var i=e.l+s,o=La(e);o.r=t["!row"];var u=e.read_shift(1),c=[o,u,"e"];if(t.cellFormula){e.l+=2;var f=rh(e,i-e.l,t);c[3]=kn(f,null,o,t.supbooks,t)}else e.l=i;return c}function v7(e,s,t){var i=e.l+s,o=La(e);o.r=t["!row"];var u=Rn(e),c=[o,u,"n"];if(t.cellFormula){e.l+=2;var f=rh(e,i-e.l,t);c[3]=kn(f,null,o,t.supbooks,t)}else e.l=i;return c}function g7(e,s,t){var i=e.l+s,o=La(e);o.r=t["!row"];var u=Pn(e),c=[o,u,"str"];if(t.cellFormula){e.l+=2;var f=rh(e,i-e.l,t);c[3]=kn(f,null,o,t.supbooks,t)}else e.l=i;return c}var x7=gc;function b7(e,s){var t=e.l+s,i=gc(e),o=ON(e),u=Pn(e),c=Pn(e),f=Pn(e);e.l=t;var h={rfx:i,relId:o,loc:u,display:f};return c&&(h.Tooltip=c),h}function N7(){}function D7(e,s,t){var i=e.l+s,o=uw(e),u=e.read_shift(1),c=[o];if(c[2]=u,t.cellFormula){var f=CF(e,i-e.l,t);c[1]=f}else e.l=i;return c}function S7(e,s,t){var i=e.l+s,o=gc(e),u=[o];if(t.cellFormula){var c=kF(e,i-e.l,t);u[1]=c,e.l=i}else e.l=i;return u}var O7=["left","right","top","bottom","header","footer"];function y7(e){var s={};return O7.forEach(function(t){s[t]=Rn(e)}),s}function E7(e){var s=e.read_shift(2);return e.l+=28,{RTL:s&32}}function C7(){}function w7(){}function k7(e,s,t,i,o,u,c){if(!e)return e;var f=s||{};i||(i={"!id":{}});var h=f.dense?[]:{},x,v={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=!1,O=!1,w,C,S,R,X,G,k,ie,K,z=[];f.biff=12,f["!row"]=0;var A=0,ce=!1,T=[],H={},Z=f.supbooks||o.supbooks||[[]];if(Z.sharedf=H,Z.arrayf=T,Z.SheetNames=o.SheetNames||o.Sheets.map(function(He){return He.name}),!f.supbooks&&(f.supbooks=Z,o.Names))for(var W=0;W<o.Names.length;++W)Z[0][W+1]=o.Names[W];var M=[],Ce=[],De=!1;zp[16]={n:"BrtShortReal",f:zw};var we;if(So(e,function(ue,ke,Ue){if(!O)switch(Ue){case 148:x=ue;break;case 0:w=ue,f.sheetRows&&f.sheetRows<=w.r&&(O=!0),ie=mn(R=w.r),f["!row"]=w.r,(ue.hidden||ue.hpt||ue.level!=null)&&(ue.hpt&&(ue.hpx=Xf(ue.hpt)),Ce[ue.r]=ue);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(C={t:ue[2]},ue[2]){case"n":C.v=ue[1];break;case"s":k=Uf[ue[1]],C.v=k.t,C.r=k.r;break;case"b":C.v=!!ue[1];break;case"e":C.v=ue[1],f.cellText!==!1&&(C.w=xc[C.v]);break;case"str":C.t="s",C.v=ue[1];break;case"is":C.t="s",C.v=ue[1].t;break}if((S=c.CellXf[ue[0].iStyleRef])&&Gw(C,S.numFmtId,null,f,u,c),X=ue[0].c==-1?X+1:ue[0].c,f.dense?(h[R]||(h[R]=[]),h[R][X]=C):h[$s(X)+ie]=C,f.cellFormula){for(ce=!1,A=0;A<T.length;++A){var te=T[A];w.r>=te[0].s.r&&w.r<=te[0].e.r&&X>=te[0].s.c&&X<=te[0].e.c&&(C.F=_r(te[0]),ce=!0)}!ce&&ue.length>3&&(C.f=ue[3])}if(v.s.r>w.r&&(v.s.r=w.r),v.s.c>X&&(v.s.c=X),v.e.r<w.r&&(v.e.r=w.r),v.e.c<X&&(v.e.c=X),f.cellDates&&S&&C.t=="n"&&_u(dr[S.numFmtId])){var le=lc(C.v);le&&(C.t="d",C.v=new Date(le.y,le.m-1,le.d,le.H,le.M,le.S,le.u))}we&&(we.type=="XLDAPR"&&(C.D=!0),we=void 0);break;case 1:case 12:if(!f.sheetStubs||b)break;C={t:"z",v:void 0},X=ue[0].c==-1?X+1:ue[0].c,f.dense?(h[R]||(h[R]=[]),h[R][X]=C):h[$s(X)+ie]=C,v.s.r>w.r&&(v.s.r=w.r),v.s.c>X&&(v.s.c=X),v.e.r<w.r&&(v.e.r=w.r),v.e.c<X&&(v.e.c=X),we&&(we.type=="XLDAPR"&&(C.D=!0),we=void 0);break;case 176:z.push(ue);break;case 49:we=((f.xlmeta||{}).Cell||[])[ue-1];break;case 494:var pe=i["!id"][ue.relId];for(pe?(ue.Target=pe.Target,ue.loc&&(ue.Target+="#"+ue.loc),ue.Rel=pe):ue.relId==""&&(ue.Target="#"+ue.loc),R=ue.rfx.s.r;R<=ue.rfx.e.r;++R)for(X=ue.rfx.s.c;X<=ue.rfx.e.c;++X)f.dense?(h[R]||(h[R]=[]),h[R][X]||(h[R][X]={t:"z",v:void 0}),h[R][X].l=ue):(G=ir({c:X,r:R}),h[G]||(h[G]={t:"z",v:void 0}),h[G].l=ue);break;case 426:if(!f.cellFormula)break;T.push(ue),K=f.dense?h[R][X]:h[$s(X)+ie],K.f=kn(ue[1],v,{r:w.r,c:X},Z,f),K.F=_r(ue[0]);break;case 427:if(!f.cellFormula)break;H[ir(ue[0].s)]=ue[1],K=f.dense?h[R][X]:h[$s(X)+ie],K.f=kn(ue[1],v,{r:w.r,c:X},Z,f);break;case 60:if(!f.cellStyles)break;for(;ue.e>=ue.s;)M[ue.e--]={width:ue.w/256,hidden:!!(ue.flags&1),level:ue.level},De||(De=!0,kN(ue.w/256)),ku(M[ue.e+1]);break;case 161:h["!autofilter"]={ref:_r(ue)};break;case 476:h["!margins"]=ue;break;case 147:o.Sheets[t]||(o.Sheets[t]={}),ue.name&&(o.Sheets[t].CodeName=ue.name),(ue.above||ue.left)&&(h["!outline"]={above:ue.above,left:ue.left});break;case 137:o.Views||(o.Views=[{}]),o.Views[0]||(o.Views[0]={}),ue.RTL&&(o.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:b=!0;break;case 36:b=!1;break;case 37:b=!0;break;case 38:b=!1;break;default:if(!ke.T){if(!b||f.WTF)throw new Error("Unexpected record 0x"+Ue.toString(16))}}},f),delete f.supbooks,delete f["!row"],!h["!ref"]&&(v.s.r<2e6||x&&(x.e.r>0||x.e.c>0||x.s.r>0||x.s.c>0))&&(h["!ref"]=_r(x||v)),f.sheetRows&&h["!ref"]){var ge=hs(h["!ref"]);f.sheetRows<=+ge.e.r&&(ge.e.r=f.sheetRows-1,ge.e.r>v.e.r&&(ge.e.r=v.e.r),ge.e.r<ge.s.r&&(ge.s.r=ge.e.r),ge.e.c>v.e.c&&(ge.e.c=v.e.c),ge.e.c<ge.s.c&&(ge.s.c=ge.e.c),h["!fullref"]=h["!ref"],h["!ref"]=_r(ge))}return z.length>0&&(h["!merges"]=z),M.length>0&&(h["!cols"]=M),Ce.length>0&&(h["!rows"]=Ce),h}function R7(e){var s=[],t=e.match(/^<c:numCache>/),i;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(u){var c=u.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);c&&(s[+c[1]]=t?+c[2]:c[2])});var o=Vr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(u){i=u.replace(/<.*?>/g,"")}),[s,o,i]}function T7(e,s,t,i,o,u){var c=u||{"!type":"chart"};if(!e)return u;var f=0,h=0,x="A",v={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(b){var O=R7(b);v.s.r=v.s.c=0,v.e.c=f,x=$s(f),O[0].forEach(function(w,C){c[x+mn(C)]={t:"n",v:w,z:O[1]},h=C}),v.e.r<h&&(v.e.r=h),++f}),f>0&&(c["!ref"]=_r(v)),c}function P7(e,s,t,i,o){if(!e)return e;i||(i={"!id":{}});var u={"!type":"chart","!drawel":null,"!rel":""},c,f=e.match(Ww);return f&&TN(f[0],u,o,t),(c=e.match(/drawing r:id="(.*?)"/))&&(u["!rel"]=c[1]),i["!id"][u["!rel"]]&&(u["!drawel"]=i["!id"][u["!rel"]]),u}function _7(e,s){e.l+=10;var t=Pn(e);return{name:t}}function U7(e,s,t,i,o){if(!e)return e;i||(i={"!id":{}});var u={"!type":"chart","!drawel":null,"!rel":""},c=!1;return So(e,function(h,x,v){switch(v){case 550:u["!rel"]=h;break;case 651:o.Sheets[t]||(o.Sheets[t]={}),h.name&&(o.Sheets[t].CodeName=h.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:c=!0;break;case 36:c=!1;break;case 37:break;case 38:break;default:if(!(x.T>0)){if(!(x.T<0)){if(!c||s.WTF)throw new Error("Unexpected record 0x"+v.toString(16))}}}},s),i["!id"][u["!rel"]]&&(u["!drawel"]=i["!id"][u["!rel"]]),u}var Yw=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],V7=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],j7=[],L7=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function VE(e,s){for(var t=0;t!=e.length;++t)for(var i=e[t],o=0;o!=s.length;++o){var u=s[o];if(i[u[0]]==null)i[u[0]]=u[1];else switch(u[2]){case"bool":typeof i[u[0]]=="string"&&(i[u[0]]=as(i[u[0]]));break;case"int":typeof i[u[0]]=="string"&&(i[u[0]]=parseInt(i[u[0]],10));break}}}function jE(e,s){for(var t=0;t!=s.length;++t){var i=s[t];if(e[i[0]]==null)e[i[0]]=i[1];else switch(i[2]){case"bool":typeof e[i[0]]=="string"&&(e[i[0]]=as(e[i[0]]));break;case"int":typeof e[i[0]]=="string"&&(e[i[0]]=parseInt(e[i[0]],10));break}}}function qw(e){jE(e.WBProps,Yw),jE(e.CalcPr,L7),VE(e.WBView,V7),VE(e.Sheets,j7),Cu.date1904=as(e.WBProps.date1904)}var A7="][*?/\\".split("");function M7(e,s){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return A7.forEach(function(i){if(e.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var I7=/<\w+:workbook/;function F7(e,s){if(!e)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},i=!1,o="xmlns",u={},c=0;if(e.replace(Un,function(h,x){var v=er(h);switch(Mi(v[0])){case"<?xml":break;case"<workbook":h.match(I7)&&(o="xmlns"+h.match(/<(\w+):/)[1]),t.xmlns=v[o];break;case"</workbook>":break;case"<fileVersion":delete v[0],t.AppVersion=v;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Yw.forEach(function(b){if(v[b[0]]!=null)switch(b[2]){case"bool":t.WBProps[b[0]]=as(v[b[0]]);break;case"int":t.WBProps[b[0]]=parseInt(v[b[0]],10);break;default:t.WBProps[b[0]]=v[b[0]]}}),v.codeName&&(t.WBProps.CodeName=Zr(v.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete v[0],t.WBView.push(v);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(v.state){case"hidden":v.Hidden=1;break;case"veryHidden":v.Hidden=2;break;default:v.Hidden=0}delete v.state,v.name=Vr(Zr(v.name)),delete v[0],t.Sheets.push(v);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":i=!0;break;case"</definedNames>":i=!1;break;case"<definedName":u={},u.Name=Zr(v.name),v.comment&&(u.Comment=v.comment),v.localSheetId&&(u.Sheet=+v.localSheetId),as(v.hidden||"0")&&(u.Hidden=!0),c=x+h.length;break;case"</definedName>":u.Ref=Vr(Zr(e.slice(c,x))),t.Names.push(u);break;case"<definedName/>":break;case"<calcPr":delete v[0],t.CalcPr=v;break;case"<calcPr/>":delete v[0],t.CalcPr=v;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":i=!0;break;case"</AlternateContent>":i=!1;break;case"<revisionPtr":break;default:if(!i&&s.WTF)throw new Error("unrecognized "+v[0]+" in workbook")}return h}),n6.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return qw(t),t}function $7(e,s){var t={};return t.Hidden=e.read_shift(4),t.iTabID=e.read_shift(4),t.strRelID=Hb(e),t.name=Pn(e),t}function B7(e,s){var t={},i=e.read_shift(4);t.defaultThemeVersion=e.read_shift(4);var o=s>8?Pn(e):"";return o.length>0&&(t.CodeName=o),t.autoCompressPictures=!!(i&65536),t.backupFile=!!(i&64),t.checkCompatibility=!!(i&4096),t.date1904=!!(i&1),t.filterPrivacy=!!(i&8),t.hidePivotFieldList=!!(i&1024),t.promptedSolutions=!!(i&16),t.publishItems=!!(i&2048),t.refreshAllConnections=!!(i&262144),t.saveExternalLinkValues=!!(i&128),t.showBorderUnselectedTables=!!(i&4),t.showInkAnnotation=!!(i&32),t.showObjects=["all","placeholders","none"][i>>13&3],t.showPivotChartFilter=!!(i&32768),t.updateLinks=["userSet","never","always"][i>>8&3],t}function X7(e,s){var t={};return e.read_shift(4),t.ArchID=e.read_shift(4),e.l+=s-8,t}function H7(e,s,t){var i=e.l+s;e.l+=4,e.l+=1;var o=e.read_shift(4),u=S6(e),c=wF(e,0,t),f=ON(e);e.l=i;var h={Name:u,Ptg:c};return o<268435455&&(h.Sheet=o),f&&(h.Comment=f),h}function G7(e,s){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},i=[],o=!1;s||(s={}),s.biff=12;var u=[],c=[[]];return c.SheetNames=[],c.XTI=[],zp[16]={n:"BrtFRTArchID$",f:X7},So(e,function(h,x,v){switch(v){case 156:c.SheetNames.push(h.name),t.Sheets.push(h);break;case 153:t.WBProps=h;break;case 39:h.Sheet!=null&&(s.SID=h.Sheet),h.Ref=kn(h.Ptg,null,null,c,s),delete s.SID,delete h.Ptg,u.push(h);break;case 1036:break;case 357:case 358:case 355:case 667:c[0].length?c.push([v,h]):c[0]=[v,h],c[c.length-1].XTI=[];break;case 362:c.length===0&&(c[0]=[],c[0].XTI=[]),c[c.length-1].XTI=c[c.length-1].XTI.concat(h),c.XTI=c.XTI.concat(h);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:i.push(v),o=!0;break;case 36:i.pop(),o=!1;break;case 37:i.push(v),o=!0;break;case 38:i.pop(),o=!1;break;case 16:break;default:if(!x.T){if(!o||s.WTF&&i[i.length-1]!=37&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+v.toString(16))}}},s),qw(t),t.Names=u,t.supbooks=c,t}function W7(e,s,t){return s.slice(-4)===".bin"?G7(e,t):F7(e,t)}function z7(e,s,t,i,o,u,c,f){return s.slice(-4)===".bin"?k7(e,i,t,o,u,c,f):$F(e,i,t,o,u,c,f)}function Y7(e,s,t,i,o,u,c,f){return s.slice(-4)===".bin"?U7(e,i,t,o,u):P7(e,i,t,o,u)}function q7(e,s,t,i,o,u,c,f){return s.slice(-4)===".bin"?sI():nI()}function K7(e,s,t,i,o,u,c,f){return s.slice(-4)===".bin"?tI():rI()}function J7(e,s,t,i){return s.slice(-4)===".bin"?xM(e,t,i):fM(e,t,i)}function Q7(e,s,t){return jw(e,t)}function Z7(e,s,t){return s.slice(-4)===".bin"?VA(e,t):_A(e,t)}function e8(e,s,t){return s.slice(-4)===".bin"?QM(e,t):zM(e,t)}function t8(e,s,t){return s.slice(-4)===".bin"?HM(e):BM(e)}function r8(e,s,t,i){return t.slice(-4)===".bin"?GM(e,s,t,i):void 0}function s8(e,s,t){return s.slice(-4)===".bin"?FM(e,s,t):$M(e,s,t)}var Kw=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Jw=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ri(e,s){var t=e.split(/\s+/),i=[];if(i[0]=t[0],t.length===1)return i;var o=e.match(Kw),u,c,f,h;if(o)for(h=0;h!=o.length;++h)u=o[h].match(Jw),(c=u[1].indexOf(":"))===-1?i[u[1]]=u[2].slice(1,u[2].length-1):(u[1].slice(0,6)==="xmlns:"?f="xmlns"+u[1].slice(6):f=u[1].slice(c+1),i[f]=u[2].slice(1,u[2].length-1));return i}function n8(e){var s=e.split(/\s+/),t={};if(s.length===1)return t;var i=e.match(Kw),o,u,c,f;if(i)for(f=0;f!=i.length;++f)o=i[f].match(Jw),(u=o[1].indexOf(":"))===-1?t[o[1]]=o[2].slice(1,o[2].length-1):(o[1].slice(0,6)==="xmlns:"?c="xmlns"+o[1].slice(6):c=o[1].slice(u+1),t[c]=o[2].slice(1,o[2].length-1));return t}var jf;function a8(e,s){var t=jf[e]||Vr(e);return t==="General"?dc(s):ja(t,s)}function i8(e,s,t,i){var o=i;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":o=as(i);break;case"i2":case"int":o=parseInt(i,10);break;case"r4":case"float":o=parseFloat(i);break;case"date":case"dateTime.tz":o=Ks(i);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}e[Vr(s)]=o}function o8(e,s,t){if(e.t!=="z"){if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||xc[e.v]:s==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Mf(e.v):e.w=dc(e.v):e.w=a8(s||"General",e.v)}catch(u){if(t.WTF)throw u}try{var i=jf[s]||s||"General";if(t.cellNF&&(e.z=i),t.cellDates&&e.t=="n"&&_u(i)){var o=lc(e.v);o&&(e.t="d",e.v=new Date(o.y,o.m-1,o.d,o.H,o.M,o.S,o.u))}}catch(u){if(t.WTF)throw u}}}function l8(e,s,t){if(t.cellStyles&&s.Interior){var i=s.Interior;i.Pattern&&(i.patternType=iM[i.Pattern]||i.Pattern)}e[s.ID]=s}function c8(e,s,t,i,o,u,c,f,h,x){var v="General",b=i.StyleID,O={};x=x||{};var w=[],C=0;for(b===void 0&&f&&(b=f.StyleID),b===void 0&&c&&(b=c.StyleID);u[b]!==void 0&&(u[b].nf&&(v=u[b].nf),u[b].Interior&&w.push(u[b].Interior),!!u[b].Parent);)b=u[b].Parent;switch(t.Type){case"Boolean":i.t="b",i.v=as(e);break;case"String":i.t="s",i.r=sE(Vr(e)),i.v=e.indexOf("<")>-1?Vr(s||e).replace(/<.*?>/g,""):i.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),i.v=(Ks(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),i.v!==i.v?i.v=Vr(e):i.v<60&&(i.v=i.v-1),(!v||v=="General")&&(v="yyyy-mm-dd");case"Number":i.v===void 0&&(i.v=+e),i.t||(i.t="n");break;case"Error":i.t="e",i.v=mw[e],x.cellText!==!1&&(i.w=e);break;default:e==""&&s==""?i.t="z":(i.t="s",i.v=sE(s||e));break}if(o8(i,v,x),x.cellFormula!==!1)if(i.Formula){var S=Vr(i.Formula);S.charCodeAt(0)==61&&(S=S.slice(1)),i.f=Eu(S,o),delete i.Formula,i.ArrayRange=="RC"?i.F=Eu("RC:RC",o):i.ArrayRange&&(i.F=Eu(i.ArrayRange,o),h.push([hs(i.F),i.F]))}else for(C=0;C<h.length;++C)o.r>=h[C][0].s.r&&o.r<=h[C][0].e.r&&o.c>=h[C][0].s.c&&o.c<=h[C][0].e.c&&(i.F=h[C][1]);x.cellStyles&&(w.forEach(function(R){!O.patternType&&R.patternType&&(O.patternType=R.patternType)}),i.s=O),i.StyleID!==void 0&&(i.ixfe=i.StyleID)}function u8(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Tb(e,s){var t=s||{};IC();var i=Of(xN(e));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(i=Zr(i));var o=i.slice(0,1024).toLowerCase(),u=!1;if(o=o.replace(/".*?"/g,""),(o.indexOf(">")&1023)>Math.min(o.indexOf(",")&1023,o.indexOf(";")&1023)){var c=fn(t);return c.type="string",$f.to_workbook(i,c)}if(o.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(tr){o.indexOf("<"+tr)>=0&&(u=!0)}),u)return b8(i,t);jf={"General Number":"General","General Date":dr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":dr[15],"Short Date":dr[14],"Long Time":dr[19],"Medium Time":dr[18],"Short Time":dr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:dr[2],Standard:dr[4],Percent:dr[10],Scientific:dr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var f,h=[],x,v={},b=[],O=t.dense?[]:{},w="",C={},S={},R=ri('<Data ss:Type="String">'),X=0,G=0,k=0,ie={s:{r:2e6,c:2e6},e:{r:0,c:0}},K={},z={},A="",ce=0,T=[],H={},Z={},W=0,M=[],Ce=[],De={},we=[],ge,He=!1,ue=[],ke=[],Ue={},te=0,le=0,pe={Sheets:[],WBProps:{date1904:!1}},de={};Ff.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"");for(var oe="";f=Ff.exec(i);)switch(f[3]=(oe=f[3]).toLowerCase()){case"data":if(oe=="data"){if(f[1]==="/"){if((x=h.pop())[0]!==f[3])throw new Error("Bad state: "+x.join("|"))}else f[0].charAt(f[0].length-2)!=="/"&&h.push([f[3],!0]);break}if(h[h.length-1][1])break;f[1]==="/"?c8(i.slice(X,f.index),A,R,h[h.length-1][0]=="comment"?De:C,{c:G,r:k},K,we[G],S,ue,t):(A="",R=ri(f[0]),X=f.index+f[0].length);break;case"cell":if(f[1]==="/")if(Ce.length>0&&(C.c=Ce),(!t.sheetRows||t.sheetRows>k)&&C.v!==void 0&&(t.dense?(O[k]||(O[k]=[]),O[k][G]=C):O[$s(G)+mn(k)]=C),C.HRef&&(C.l={Target:Vr(C.HRef)},C.HRefScreenTip&&(C.l.Tooltip=C.HRefScreenTip),delete C.HRef,delete C.HRefScreenTip),(C.MergeAcross||C.MergeDown)&&(te=G+(parseInt(C.MergeAcross,10)|0),le=k+(parseInt(C.MergeDown,10)|0),T.push({s:{c:G,r:k},e:{c:te,r:le}})),!t.sheetStubs)C.MergeAcross?G=te+1:++G;else if(C.MergeAcross||C.MergeDown){for(var Q=G;Q<=te;++Q)for(var _=k;_<=le;++_)(Q>G||_>k)&&(t.dense?(O[_]||(O[_]=[]),O[_][Q]={t:"z"}):O[$s(Q)+mn(_)]={t:"z"});G=te+1}else++G;else C=n8(f[0]),C.Index&&(G=+C.Index-1),G<ie.s.c&&(ie.s.c=G),G>ie.e.c&&(ie.e.c=G),f[0].slice(-2)==="/>"&&++G,Ce=[];break;case"row":f[1]==="/"||f[0].slice(-2)==="/>"?(k<ie.s.r&&(ie.s.r=k),k>ie.e.r&&(ie.e.r=k),f[0].slice(-2)==="/>"&&(S=ri(f[0]),S.Index&&(k=+S.Index-1)),G=0,++k):(S=ri(f[0]),S.Index&&(k=+S.Index-1),Ue={},(S.AutoFitHeight=="0"||S.Height)&&(Ue.hpx=parseInt(S.Height,10),Ue.hpt=Vw(Ue.hpx),ke[k]=Ue),S.Hidden=="1"&&(Ue.hidden=!0,ke[k]=Ue));break;case"worksheet":if(f[1]==="/"){if((x=h.pop())[0]!==f[3])throw new Error("Bad state: "+x.join("|"));b.push(w),ie.s.r<=ie.e.r&&ie.s.c<=ie.e.c&&(O["!ref"]=_r(ie),t.sheetRows&&t.sheetRows<=ie.e.r&&(O["!fullref"]=O["!ref"],ie.e.r=t.sheetRows-1,O["!ref"]=_r(ie))),T.length&&(O["!merges"]=T),we.length>0&&(O["!cols"]=we),ke.length>0&&(O["!rows"]=ke),v[w]=O}else ie={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=G=0,h.push([f[3],!1]),x=ri(f[0]),w=Vr(x.Name),O=t.dense?[]:{},T=[],ue=[],ke=[],de={name:w,Hidden:0},pe.Sheets.push(de);break;case"table":if(f[1]==="/"){if((x=h.pop())[0]!==f[3])throw new Error("Bad state: "+x.join("|"))}else{if(f[0].slice(-2)=="/>")break;h.push([f[3],!1]),we=[],He=!1}break;case"style":f[1]==="/"?l8(K,z,t):z=ri(f[0]);break;case"numberformat":z.nf=Vr(ri(f[0]).Format||"General"),jf[z.nf]&&(z.nf=jf[z.nf]);for(var J=0;J!=392&&dr[J]!=z.nf;++J);if(J==392){for(J=57;J!=392;++J)if(dr[J]==null){cc(z.nf,J);break}}break;case"column":if(h[h.length-1][0]!=="table")break;if(ge=ri(f[0]),ge.Hidden&&(ge.hidden=!0,delete ge.Hidden),ge.Width&&(ge.wpx=parseInt(ge.Width,10)),!He&&ge.wpx>10){He=!0,Hn=_w;for(var L=0;L<we.length;++L)we[L]&&ku(we[L])}He&&ku(ge),we[ge.Index-1||we.length]=ge;for(var he=0;he<+ge.Span;++he)we[we.length]=fn(ge);break;case"namedrange":if(f[1]==="/")break;pe.Names||(pe.Names=[]);var q=er(f[0]),Xe={Name:q.Name,Ref:Eu(q.RefersTo.slice(1),{r:0,c:0})};pe.Sheets.length>0&&(Xe.Sheet=pe.Sheets.length-1),pe.Names.push(Xe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(f[0].slice(-2)==="/>")break;f[1]==="/"?A+=i.slice(ce,f.index):ce=f.index+f[0].length;break;case"interior":if(!t.cellStyles)break;z.Interior=ri(f[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(f[0].slice(-2)==="/>")break;f[1]==="/"?z6(H,oe,i.slice(W,f.index)):W=f.index+f[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(f[1]==="/"){if((x=h.pop())[0]!==f[3])throw new Error("Bad state: "+x.join("|"))}else h.push([f[3],!1]);break;case"comment":if(f[1]==="/"){if((x=h.pop())[0]!==f[3])throw new Error("Bad state: "+x.join("|"));u8(De),Ce.push(De)}else h.push([f[3],!1]),x=ri(f[0]),De={a:x.Author};break;case"autofilter":if(f[1]==="/"){if((x=h.pop())[0]!==f[3])throw new Error("Bad state: "+x.join("|"))}else if(f[0].charAt(f[0].length-2)!=="/"){var Ke=ri(f[0]);O["!autofilter"]={ref:Eu(Ke.Range).replace(/\$/g,"")},h.push([f[3],!0])}break;case"name":break;case"datavalidation":if(f[1]==="/"){if((x=h.pop())[0]!==f[3])throw new Error("Bad state: "+x.join("|"))}else f[0].charAt(f[0].length-2)!=="/"&&h.push([f[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(f[1]==="/"){if((x=h.pop())[0]!==f[3])throw new Error("Bad state: "+x.join("|"))}else f[0].charAt(f[0].length-2)!=="/"&&h.push([f[3],!0]);break;case"null":break;default:if(h.length==0&&f[3]=="document"||h.length==0&&f[3]=="uof")return $E(i,t);var Dt=!0;switch(h[h.length-1][0]){case"officedocumentsettings":switch(f[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Dt=!1}break;case"componentoptions":switch(f[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Dt=!1}break;case"excelworkbook":switch(f[3]){case"date1904":pe.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Dt=!1}break;case"workbookoptions":switch(f[3]){case"owcversion":break;case"height":break;case"width":break;default:Dt=!1}break;case"worksheetoptions":switch(f[3]){case"visible":if(f[0].slice(-2)!=="/>")if(f[1]==="/")switch(i.slice(W,f.index)){case"SheetHidden":de.Hidden=1;break;case"SheetVeryHidden":de.Hidden=2;break}else W=f.index+f[0].length;break;case"header":O["!margins"]||Vf(O["!margins"]={},"xlml"),isNaN(+er(f[0]).Margin)||(O["!margins"].header=+er(f[0]).Margin);break;case"footer":O["!margins"]||Vf(O["!margins"]={},"xlml"),isNaN(+er(f[0]).Margin)||(O["!margins"].footer=+er(f[0]).Margin);break;case"pagemargins":var St=er(f[0]);O["!margins"]||Vf(O["!margins"]={},"xlml"),isNaN(+St.Top)||(O["!margins"].top=+St.Top),isNaN(+St.Left)||(O["!margins"].left=+St.Left),isNaN(+St.Right)||(O["!margins"].right=+St.Right),isNaN(+St.Bottom)||(O["!margins"].bottom=+St.Bottom);break;case"displayrighttoleft":pe.Views||(pe.Views=[]),pe.Views[0]||(pe.Views[0]={}),pe.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":O["!outline"]||(O["!outline"]={}),O["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":O["!outline"]||(O["!outline"]={}),O["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Dt=!1}break;case"pivottable":case"pivotcache":switch(f[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Dt=!1}break;case"pagebreaks":switch(f[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Dt=!1}break;case"autofilter":switch(f[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Dt=!1}break;case"querytable":switch(f[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Dt=!1}break;case"datavalidation":switch(f[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Dt=!1}break;case"sorting":case"conditionalformatting":switch(f[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Dt=!1}break;case"mapinfo":case"schema":case"data":switch(f[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Dt=!1}break;case"smarttags":break;default:Dt=!1;break}if(Dt||f[3].match(/!\[CDATA/))break;if(!h[h.length-1][1])throw"Unrecognized tag: "+f[3]+"|"+h.join("|");if(h[h.length-1][0]==="customdocumentproperties"){if(f[0].slice(-2)==="/>")break;f[1]==="/"?i8(Z,oe,M,i.slice(W,f.index)):(M=f,W=f.index+f[0].length);break}if(t.WTF)throw"Unrecognized tag: "+f[3]+"|"+h.join("|")}var it={};return!t.bookSheets&&!t.bookProps&&(it.Sheets=v),it.SheetNames=b,it.Workbook=pe,it.SSF=fn(dr),it.Props=H,it.Custprops=Z,it}function Yb(e,s){switch(UN(s=s||{}),s.type||"base64"){case"base64":return Tb(xa(e),s);case"binary":case"buffer":case"file":return Tb(e,s);case"array":return Tb(hc(e),s)}}function d8(e){var s={},t=e.content;if(t.l=28,s.AnsiUserType=t.read_shift(0,"lpstr-ansi"),s.AnsiClipboardFormat=E6(t),t.length-t.l<=4)return s;var i=t.read_shift(4);if(i==0||i>40||(t.l-=4,s.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(i=t.read_shift(4),i!==1907505652)||(s.UnicodeClipboardFormat=C6(t),i=t.read_shift(4),i==0||i>40))return s;t.l-=4,s.Reserved2=t.read_shift(0,"lpwstr")}var f8=[60,1084,2066,2165,2175];function m8(e,s,t,i,o){var u=i,c=[],f=t.slice(t.l,t.l+u);if(o&&o.enc&&o.enc.insitu&&f.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:o.enc.insitu(f)}c.push(f),t.l+=u;for(var h=mo(t,t.l),x=qb[h],v=0;x!=null&&f8.indexOf(h)>-1;)u=mo(t,t.l+2),v=t.l+4,h==2066?v+=4:(h==2165||h==2175)&&(v+=12),f=t.slice(v,t.l+4+u),c.push(f),t.l+=4+u,x=qb[h=mo(t,t.l)];var b=dl(c);dn(b,0);var O=0;b.lens=[];for(var w=0;w<c.length;++w)b.lens.push(O),O+=c[w].length;if(b.length<i)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+b.length+" < "+i;return s.f(b,b.length,o)}function Pi(e,s,t){if(e.t!=="z"&&e.XF){var i=0;try{i=e.z||e.XF.numFmtId||0,s.cellNF&&(e.z=dr[i])}catch(u){if(s.WTF)throw u}if(!s||s.cellText!==!1)try{e.t==="e"?e.w=e.w||xc[e.v]:i===0||i=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Mf(e.v):e.w=dc(e.v):e.w=ja(i,e.v,{date1904:!!t,dateNF:s&&s.dateNF})}catch(u){if(s.WTF)throw u}if(s.cellDates&&i&&e.t=="n"&&_u(dr[i]||String(i))){var o=lc(e.v);o&&(e.t="d",e.v=new Date(o.y,o.m-1,o.d,o.H,o.M,o.S,o.u))}}}function wp(e,s,t){return{v:e,ixfe:s,t}}function p8(e,s){var t={opts:{}},i={},o=s.dense?[]:{},u={},c={},f=null,h=[],x="",v={},b,O="",w,C,S,R,X={},G=[],k,ie,K=[],z=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},ce={},T=function(qe){return qe<8?uc[qe]:qe<64&&z[qe-8]||uc[qe]},H=function(qe,ut,Ct){var $e=ut.XF.data;if(!(!$e||!$e.patternType||!Ct||!Ct.cellStyles)){ut.s={},ut.s.patternType=$e.patternType;var nt;(nt=Bf(T($e.icvFore)))&&(ut.s.fgColor={rgb:nt}),(nt=Bf(T($e.icvBack)))&&(ut.s.bgColor={rgb:nt})}},Z=function(qe,ut,Ct){if(!(Ue>1)&&!(Ct.sheetRows&&qe.r>=Ct.sheetRows)){if(Ct.cellStyles&&ut.XF&&ut.XF.data&&H(qe,ut,Ct),delete ut.ixfe,delete ut.XF,b=qe,O=ir(qe),(!c||!c.s||!c.e)&&(c={s:{r:0,c:0},e:{r:0,c:0}}),qe.r<c.s.r&&(c.s.r=qe.r),qe.c<c.s.c&&(c.s.c=qe.c),qe.r+1>c.e.r&&(c.e.r=qe.r+1),qe.c+1>c.e.c&&(c.e.c=qe.c+1),Ct.cellFormula&&ut.f){for(var $e=0;$e<G.length;++$e)if(!(G[$e][0].s.c>qe.c||G[$e][0].s.r>qe.r)&&!(G[$e][0].e.c<qe.c||G[$e][0].e.r<qe.r)){ut.F=_r(G[$e][0]),(G[$e][0].s.c!=qe.c||G[$e][0].s.r!=qe.r)&&delete ut.f,ut.f&&(ut.f=""+kn(G[$e][1],c,qe,ue,W));break}}Ct.dense?(o[qe.r]||(o[qe.r]=[]),o[qe.r][qe.c]=ut):o[O]=ut}},W={enc:!1,sbcch:0,snames:[],sharedf:X,arrayf:G,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!s&&!!s.cellStyles,WTF:!!s&&!!s.wtf};s.password&&(W.password=s.password);var M,Ce=[],De=[],we=[],ge=[],He=!1,ue=[];ue.SheetNames=W.snames,ue.sharedf=W.sharedf,ue.arrayf=W.arrayf,ue.names=[],ue.XTI=[];var ke=0,Ue=0,te=0,le=[],pe=[],de;W.codepage=1200,oi(1200);for(var oe=!1;e.l<e.length-1;){var Q=e.l,_=e.read_shift(2);if(_===0&&ke===10)break;var J=e.l===e.length?0:e.read_shift(2),L=qb[_];if(L&&L.f){if(s.bookSheets&&ke===133&&_!==133)break;if(ke=_,L.r===2||L.r==12){var he=e.read_shift(2);if(J-=2,!W.enc&&he!==_&&((he&255)<<8|he>>8)!==_)throw new Error("rt mismatch: "+he+"!="+_);L.r==12&&(e.l+=10,J-=10)}var q={};if(_===10?q=L.f(e,J,W):q=m8(_,L,e,J,W),Ue==0&&[9,521,1033,2057].indexOf(ke)===-1)continue;switch(_){case 34:t.opts.Date1904=A.WBProps.date1904=q;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(W.enc||(e.l=0),W.enc=q,!s.password)throw new Error("File is password-protected");if(q.valid==null)throw new Error("Encryption scheme unsupported");if(!q.valid)throw new Error("Password is incorrect");break;case 92:W.lastuser=q;break;case 66:var Xe=Number(q);switch(Xe){case 21010:Xe=1200;break;case 32768:Xe=1e4;break;case 32769:Xe=1252;break}oi(W.codepage=Xe),oe=!0;break;case 317:W.rrtabid=q;break;case 25:W.winlocked=q;break;case 439:t.opts.RefreshAll=q;break;case 12:t.opts.CalcCount=q;break;case 16:t.opts.CalcDelta=q;break;case 17:t.opts.CalcIter=q;break;case 13:t.opts.CalcMode=q;break;case 14:t.opts.CalcPrecision=q;break;case 95:t.opts.CalcSaveRecalc=q;break;case 15:W.CalcRefMode=q;break;case 2211:t.opts.FullCalc=q;break;case 129:q.fDialog&&(o["!type"]="dialog"),q.fBelow||((o["!outline"]||(o["!outline"]={})).above=!0),q.fRight||((o["!outline"]||(o["!outline"]={})).left=!0);break;case 224:K.push(q);break;case 430:ue.push([q]),ue[ue.length-1].XTI=[];break;case 35:case 547:ue[ue.length-1].push(q);break;case 24:case 536:de={Name:q.Name,Ref:kn(q.rgce,c,null,ue,W)},q.itab>0&&(de.Sheet=q.itab-1),ue.names.push(de),ue[0]||(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].push(q),q.Name=="_xlnm._FilterDatabase"&&q.itab>0&&q.rgce&&q.rgce[0]&&q.rgce[0][0]&&q.rgce[0][0][0]=="PtgArea3d"&&(pe[q.itab-1]={ref:_r(q.rgce[0][0][1][2])});break;case 22:W.ExternCount=q;break;case 23:ue.length==0&&(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].XTI=ue[ue.length-1].XTI.concat(q),ue.XTI=ue.XTI.concat(q);break;case 2196:if(W.biff<8)break;de!=null&&(de.Comment=q[1]);break;case 18:o["!protect"]=q;break;case 19:q!==0&&W.WTF&&console.error("Password verifier: "+q);break;case 133:u[q.pos]=q,W.snames.push(q.name);break;case 10:{if(--Ue)break;if(c.e){if(c.e.r>0&&c.e.c>0){if(c.e.r--,c.e.c--,o["!ref"]=_r(c),s.sheetRows&&s.sheetRows<=c.e.r){var Ke=c.e.r;c.e.r=s.sheetRows-1,o["!fullref"]=o["!ref"],o["!ref"]=_r(c),c.e.r=Ke}c.e.r++,c.e.c++}Ce.length>0&&(o["!merges"]=Ce),De.length>0&&(o["!objects"]=De),we.length>0&&(o["!cols"]=we),ge.length>0&&(o["!rows"]=ge),A.Sheets.push(ce)}x===""?v=o:i[x]=o,o=s.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(W.biff===8&&(W.biff={9:2,521:3,1033:4}[_]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[q.BIFFVer]||8),W.biffguess=q.BIFFVer==0,q.BIFFVer==0&&q.dt==4096&&(W.biff=5,oe=!0,oi(W.codepage=28591)),W.biff==8&&q.BIFFVer==0&&q.dt==16&&(W.biff=2),Ue++)break;if(o=s.dense?[]:{},W.biff<8&&!oe&&(oe=!0,oi(W.codepage=s.codepage||1252)),W.biff<5||q.BIFFVer==0&&q.dt==4096){x===""&&(x="Sheet1"),c={s:{r:0,c:0},e:{r:0,c:0}};var Dt={pos:e.l-J,name:x};u[Dt.pos]=Dt,W.snames.push(x)}else x=(u[Q]||{name:""}).name;q.dt==32&&(o["!type"]="chart"),q.dt==64&&(o["!type"]="macro"),Ce=[],De=[],W.arrayf=G=[],we=[],ge=[],He=!1,ce={Hidden:(u[Q]||{hs:0}).hs,name:x}}break;case 515:case 3:case 2:o["!type"]=="chart"&&(s.dense?(o[q.r]||[])[q.c]:o[ir({c:q.c,r:q.r})])&&++q.c,k={ixfe:q.ixfe,XF:K[q.ixfe]||{},v:q.val,t:"n"},te>0&&(k.z=le[k.ixfe>>8&63]),Pi(k,s,t.opts.Date1904),Z({c:q.c,r:q.r},k,s);break;case 5:case 517:k={ixfe:q.ixfe,XF:K[q.ixfe],v:q.val,t:q.t},te>0&&(k.z=le[k.ixfe>>8&63]),Pi(k,s,t.opts.Date1904),Z({c:q.c,r:q.r},k,s);break;case 638:k={ixfe:q.ixfe,XF:K[q.ixfe],v:q.rknum,t:"n"},te>0&&(k.z=le[k.ixfe>>8&63]),Pi(k,s,t.opts.Date1904),Z({c:q.c,r:q.r},k,s);break;case 189:for(var St=q.c;St<=q.C;++St){var it=q.rkrec[St-q.c][0];k={ixfe:it,XF:K[it],v:q.rkrec[St-q.c][1],t:"n"},te>0&&(k.z=le[k.ixfe>>8&63]),Pi(k,s,t.opts.Date1904),Z({c:St,r:q.r},k,s)}break;case 6:case 518:case 1030:{if(q.val=="String"){f=q;break}if(k=wp(q.val,q.cell.ixfe,q.tt),k.XF=K[k.ixfe],s.cellFormula){var tr=q.formula;if(tr&&tr[0]&&tr[0][0]&&tr[0][0][0]=="PtgExp"){var Jt=tr[0][0][1][0],et=tr[0][0][1][1],ft=ir({r:Jt,c:et});X[ft]?k.f=""+kn(q.formula,c,q.cell,ue,W):k.F=((s.dense?(o[Jt]||[])[et]:o[ft])||{}).F}else k.f=""+kn(q.formula,c,q.cell,ue,W)}te>0&&(k.z=le[k.ixfe>>8&63]),Pi(k,s,t.opts.Date1904),Z(q.cell,k,s),f=q}break;case 7:case 519:if(f)f.val=q,k=wp(q,f.cell.ixfe,"s"),k.XF=K[k.ixfe],s.cellFormula&&(k.f=""+kn(f.formula,c,f.cell,ue,W)),te>0&&(k.z=le[k.ixfe>>8&63]),Pi(k,s,t.opts.Date1904),Z(f.cell,k,s),f=null;else throw new Error("String record expects Formula");break;case 33:case 545:{G.push(q);var Fe=ir(q[0].s);if(w=s.dense?(o[q[0].s.r]||[])[q[0].s.c]:o[Fe],s.cellFormula&&w){if(!f||!Fe||!w)break;w.f=""+kn(q[1],c,q[0],ue,W),w.F=_r(q[0])}}break;case 1212:{if(!s.cellFormula)break;if(O){if(!f)break;X[ir(f.cell)]=q[0],w=s.dense?(o[f.cell.r]||[])[f.cell.c]:o[ir(f.cell)],(w||{}).f=""+kn(q[0],c,b,ue,W)}}break;case 253:k=wp(h[q.isst].t,q.ixfe,"s"),h[q.isst].h&&(k.h=h[q.isst].h),k.XF=K[k.ixfe],te>0&&(k.z=le[k.ixfe>>8&63]),Pi(k,s,t.opts.Date1904),Z({c:q.c,r:q.r},k,s);break;case 513:s.sheetStubs&&(k={ixfe:q.ixfe,XF:K[q.ixfe],t:"z"},te>0&&(k.z=le[k.ixfe>>8&63]),Pi(k,s,t.opts.Date1904),Z({c:q.c,r:q.r},k,s));break;case 190:if(s.sheetStubs)for(var ct=q.c;ct<=q.C;++ct){var vt=q.ixfe[ct-q.c];k={ixfe:vt,XF:K[vt],t:"z"},te>0&&(k.z=le[k.ixfe>>8&63]),Pi(k,s,t.opts.Date1904),Z({c:ct,r:q.r},k,s)}break;case 214:case 516:case 4:k=wp(q.val,q.ixfe,"s"),k.XF=K[k.ixfe],te>0&&(k.z=le[k.ixfe>>8&63]),Pi(k,s,t.opts.Date1904),Z({c:q.c,r:q.r},k,s);break;case 0:case 512:Ue===1&&(c=q);break;case 252:h=q;break;case 1054:if(W.biff==4){le[te++]=q[1];for(var mt=0;mt<te+163&&dr[mt]!=q[1];++mt);mt>=163&&cc(q[1],te+163)}else cc(q[1],q[0]);break;case 30:{le[te++]=q;for(var At=0;At<te+163&&dr[At]!=q;++At);At>=163&&cc(q,te+163)}break;case 229:Ce=Ce.concat(q);break;case 93:De[q.cmo[0]]=W.lastobj=q;break;case 438:W.lastobj.TxO=q;break;case 127:W.lastobj.ImData=q;break;case 440:for(R=q[0].s.r;R<=q[0].e.r;++R)for(S=q[0].s.c;S<=q[0].e.c;++S)w=s.dense?(o[R]||[])[S]:o[ir({c:S,r:R})],w&&(w.l=q[1]);break;case 2048:for(R=q[0].s.r;R<=q[0].e.r;++R)for(S=q[0].s.c;S<=q[0].e.c;++S)w=s.dense?(o[R]||[])[S]:o[ir({c:S,r:R})],w&&w.l&&(w.l.Tooltip=q[1]);break;case 28:{if(W.biff<=5&&W.biff>=2)break;w=s.dense?(o[q[0].r]||[])[q[0].c]:o[ir(q[0])];var hr=De[q[2]];w||(s.dense?(o[q[0].r]||(o[q[0].r]=[]),w=o[q[0].r][q[0].c]={t:"z"}):w=o[ir(q[0])]={t:"z"},c.e.r=Math.max(c.e.r,q[0].r),c.s.r=Math.min(c.s.r,q[0].r),c.e.c=Math.max(c.e.c,q[0].c),c.s.c=Math.min(c.s.c,q[0].c)),w.c||(w.c=[]),C={a:q[1],t:hr.TxO.t},w.c.push(C)}break;case 2173:LM(K[q.ixfe],q.ext);break;case 125:{if(!W.cellStyles)break;for(;q.e>=q.s;)we[q.e--]={width:q.w/256,level:q.level||0,hidden:!!(q.flags&1)},He||(He=!0,kN(q.w/256)),ku(we[q.e+1])}break;case 520:{var pr={};q.level!=null&&(ge[q.r]=pr,pr.level=q.level),q.hidden&&(ge[q.r]=pr,pr.hidden=!0),q.hpt&&(ge[q.r]=pr,pr.hpt=q.hpt,pr.hpx=Xf(q.hpt))}break;case 38:case 39:case 40:case 41:o["!margins"]||Vf(o["!margins"]={}),o["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[_]]=q;break;case 161:o["!margins"]||Vf(o["!margins"]={}),o["!margins"].header=q.header,o["!margins"].footer=q.footer;break;case 574:q.RTL&&(A.Views[0].RTL=!0);break;case 146:z=q;break;case 2198:M=q;break;case 140:ie=q;break;case 442:x?ce.CodeName=q||ce.name:A.WBProps.CodeName=q||"ThisWorkbook";break}}else L||console.error("Missing Info for XLS Record 0x"+_.toString(16)),e.l+=J}return t.SheetNames=ji(u).sort(function(rr,qe){return Number(rr)-Number(qe)}).map(function(rr){return u[rr].name}),s.bookSheets||(t.Sheets=i),!t.SheetNames.length&&v["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=v)):t.Preamble=v,t.Sheets&&pe.forEach(function(rr,qe){t.Sheets[t.SheetNames[qe]]["!autofilter"]=rr}),t.Strings=h,t.SSF=fn(dr),W.enc&&(t.Encryption=W.enc),M&&(t.Themes=M),t.Metadata={},ie!==void 0&&(t.Metadata.Country=ie),ue.names.length>0&&(A.Names=ue.names),t.Workbook=A,t}var LE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function h8(e,s,t){var i=Pr.find(e,"/!DocumentSummaryInformation");if(i&&i.size>0)try{var o=bE(i,_6,LE.DSI);for(var u in o)s[u]=o[u]}catch(x){if(t.WTF)throw x}var c=Pr.find(e,"/!SummaryInformation");if(c&&c.size>0)try{var f=bE(c,U6,LE.SI);for(var h in f)s[h]==null&&(s[h]=f[h])}catch(x){if(t.WTF)throw x}s.HeadingPairs&&s.TitlesOfParts&&(hw(s.HeadingPairs,s.TitlesOfParts,s,t),delete s.HeadingPairs,delete s.TitlesOfParts)}function Qw(e,s){s||(s={}),UN(s),wC(),s.codepage&&dN(s.codepage);var t,i;if(e.FullPaths){if(Pr.find(e,"/encryption"))throw new Error("File is password-protected");t=Pr.find(e,"!CompObj"),i=Pr.find(e,"/Workbook")||Pr.find(e,"/Book")}else{switch(s.type){case"base64":e=ii(xa(e));break;case"binary":e=ii(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}dn(e,0),i={content:e}}var o,u;if(t&&d8(t),s.bookProps&&!s.bookSheets)o={};else{var c=kr?"buffer":"array";if(i&&i.content)o=p8(i.content,s);else if((u=Pr.find(e,"PerfectOffice_MAIN"))&&u.content)o=_f.to_workbook(u.content,(s.type=c,s));else if((u=Pr.find(e,"NativeContent_MAIN"))&&u.content)o=_f.to_workbook(u.content,(s.type=c,s));else throw(u=Pr.find(e,"MN0"))&&u.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");s.bookVBA&&e.FullPaths&&Pr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(o.vbaraw=eI(e))}var f={};return e.FullPaths&&h8(e,f,s),o.Props=o.Custprops=f,s.bookFiles&&(o.cfb=e),o}var zp={0:{f:KF},1:{f:e7},2:{f:c7},3:{f:n7},4:{f:r7},5:{f:l7},6:{f:f7},7:{f:i7},8:{f:g7},9:{f:v7},10:{f:p7},11:{f:h7},12:{f:t7},13:{f:u7},14:{f:a7},15:{f:s7},16:{f:zw},17:{f:m7},18:{f:o7},19:{f:SN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:H7},40:{},42:{},43:{f:pM},44:{f:mM},45:{f:hM},46:{f:gM},47:{f:vM},48:{},49:{f:x6},50:{},51:{f:MM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ww},62:{f:d7},63:{f:XM},64:{f:C7},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:_n,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:E7},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ZF},148:{f:JF,p:16},151:{f:N7},152:{},153:{f:B7},154:{},155:{},156:{f:$7},157:{},158:{},159:{T:1,f:UA},160:{T:-1},161:{T:1,f:gc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:x7},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:AM},336:{T:-1},337:{f:IM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Hb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Cw},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:D7},427:{f:S7},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:y7},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:QF},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:b7},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Hb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:JM},633:{T:1},634:{T:-1},635:{T:1,f:KM},636:{T:-1},637:{f:N6},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:_7},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:w7},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},qb={6:{f:kb},10:{f:cl},12:{f:ys},13:{f:ys},14:{f:Ns},15:{f:Ns},16:{f:Rn},17:{f:Ns},18:{f:Ns},19:{f:ys},20:{f:OE},21:{f:OE},23:{f:Cw},24:{f:EE},25:{f:Ns},26:{},27:{},28:{f:YL},29:{},34:{f:Ns},35:{f:yE},38:{f:Rn},39:{f:Rn},40:{f:Rn},41:{f:Rn},42:{f:Ns},43:{f:Ns},47:{f:QA},49:{f:RL},51:{f:ys},60:{},61:{f:CL},64:{f:Ns},65:{f:kL},66:{f:ys},77:{},80:{},81:{},82:{},85:{f:ys},89:{},90:{},91:{},92:{f:xL},93:{f:KL},94:{},95:{f:Ns},96:{},97:{},99:{f:Ns},125:{f:ww},128:{f:IL},129:{f:bL},130:{f:ys},131:{f:Ns},132:{f:Ns},133:{f:NL},134:{},140:{f:rA},141:{f:ys},144:{},146:{f:nA},151:{},152:{},153:{},154:{},155:{},156:{f:ys},157:{},158:{},160:{f:cA},161:{f:iA},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:jL},190:{f:LL},193:{f:cl},197:{},198:{},199:{},200:{},201:{},202:{f:Ns},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ys},220:{},221:{f:Ns},222:{},224:{f:ML},225:{f:gL},226:{f:cl},227:{},229:{f:qL},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:DL},253:{f:TL},255:{f:SL},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Nw},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ns},353:{f:cl},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:$L},431:{f:Ns},432:{},433:{},434:{},437:{},438:{f:ZL},439:{f:Ns},440:{f:eA},441:{},442:{f:Jf},443:{},444:{f:ys},445:{},446:{},448:{f:cl},449:{f:EL,r:2},450:{f:cl},512:{f:DE},513:{f:lA},515:{f:FL},516:{f:PL},517:{f:SE},519:{f:uA},520:{f:OL},523:{},545:{f:CE},549:{f:NE},566:{},574:{f:wL},638:{f:VL},659:{},1048:{},1054:{f:_L},1084:{},1212:{f:GL},2048:{f:tA},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:yp},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:cl},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:aA,r:12},2173:{f:jM,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ns,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:HL,r:12},2197:{},2198:{f:RM,r:12},2199:{},2200:{},2201:{},2202:{f:WL,r:12},2203:{f:cl},2204:{},2205:{},2206:{},2207:{},2211:{f:yL},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ys},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:oA},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:sA},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:DE},1:{},2:{f:pA},3:{f:mA},4:{f:fA},5:{f:SE},7:{f:hA},8:{},9:{f:yp},11:{},22:{f:ys},30:{f:UL},31:{},32:{},33:{f:CE},36:{},37:{f:NE},50:{f:vA},62:{},52:{},67:{},68:{f:ys},69:{},86:{},126:{},127:{f:dA},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:gA},223:{},234:{},354:{},421:{},518:{f:kb},521:{f:yp},536:{f:EE},547:{f:yE},561:{},579:{},1030:{f:kb},1033:{f:yp},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function si(e,s,t,i){var o=s;if(!isNaN(o)){var u=(t||[]).length||0,c=e.next(4);c.write_shift(2,o),c.write_shift(2,u),u>0&&ow(t)&&e.push(t)}}function AE(e,s){var t=s||{},i=t.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var o=e.match(/<table/i);if(!o)throw new Error("Invalid HTML: could not find <table>");var u=e.match(/<\/table/i),c=o.index,f=u&&u.index||e.length,h=Fj(e.slice(c,f),/(:?<tr[^>]*>)/i,"<tr>"),x=-1,v=0,b=0,O=0,w={s:{r:1e7,c:1e7},e:{r:0,c:0}},C=[];for(c=0;c<h.length;++c){var S=h[c].trim(),R=S.slice(0,3).toLowerCase();if(R=="<tr"){if(++x,t.sheetRows&&t.sheetRows<=x){--x;break}v=0;continue}if(!(R!="<td"&&R!="<th")){var X=S.split(/<\/t[dh]>/i);for(f=0;f<X.length;++f){var G=X[f].trim();if(G.match(/<t[dh]/i)){for(var k=G,ie=0;k.charAt(0)=="<"&&(ie=k.indexOf(">"))>-1;)k=k.slice(ie+1);for(var K=0;K<C.length;++K){var z=C[K];z.s.c==v&&z.s.r<x&&x<=z.e.r&&(v=z.e.c+1,K=-1)}var A=er(G.slice(0,G.indexOf(">")));O=A.colspan?+A.colspan:1,((b=+A.rowspan)>1||O>1)&&C.push({s:{r:x,c:v},e:{r:x+(b||1)-1,c:v+O-1}});var ce=A.t||A["data-t"]||"";if(!k.length){v+=O;continue}if(k=YC(k),w.s.r>x&&(w.s.r=x),w.e.r<x&&(w.e.r=x),w.s.c>v&&(w.s.c=v),w.e.c<v&&(w.e.c=v),!k.length){v+=O;continue}var T={t:"s",v:k};t.raw||!k.trim().length||ce=="s"||(k==="TRUE"?T={t:"b",v:!0}:k==="FALSE"?T={t:"b",v:!1}:isNaN(ci(k))?isNaN(wu(k).getDate())||(T={t:"d",v:Ks(k)},t.cellDates||(T={t:"n",v:zn(T.v)}),T.z=t.dateNF||dr[14]):T={t:"n",v:ci(k)}),t.dense?(i[x]||(i[x]=[]),i[x][v]=T):i[ir({r:x,c:v})]=T,v+=O}}}}return i["!ref"]=_r(w),C.length&&(i["!merges"]=C),i}function v8(e,s,t,i){for(var o=e["!merges"]||[],u=[],c=s.s.c;c<=s.e.c;++c){for(var f=0,h=0,x=0;x<o.length;++x)if(!(o[x].s.r>t||o[x].s.c>c)&&!(o[x].e.r<t||o[x].e.c<c)){if(o[x].s.r<t||o[x].s.c<c){f=-1;break}f=o[x].e.r-o[x].s.r+1,h=o[x].e.c-o[x].s.c+1;break}if(!(f<0)){var v=ir({r:t,c}),b=i.dense?(e[t]||[])[c]:e[v],O=b&&b.v!=null&&(b.h||gN(b.w||(xo(b),b.w)||""))||"",w={};f>1&&(w.rowspan=f),h>1&&(w.colspan=h),i.editable?O='<span contenteditable="true">'+O+"</span>":b&&(w["data-t"]=b&&b.t||"z",b.v!=null&&(w["data-v"]=b.v),b.z!=null&&(w["data-z"]=b.z),b.l&&(b.l.Target||"#").charAt(0)!="#"&&(O='<a href="'+b.l.Target+'">'+O+"</a>")),w.id=(i.id||"sjs")+"-"+v,u.push(r6("td",O,w))}}var C="<tr>";return C+u.join("")+"</tr>"}var g8='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',x8="</body></html>";function b8(e,s){var t=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return xl(AE(t[0],s),s);var i=jN();return t.forEach(function(o,u){LN(i,AE(o,s),"Sheet"+(u+1))}),i}function N8(e,s,t){var i=[];return i.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function D8(e,s){var t=s||{},i=t.header!=null?t.header:g8,o=t.footer!=null?t.footer:x8,u=[i],c=Uu(e["!ref"]);t.dense=Array.isArray(e),u.push(N8(e,c,t));for(var f=c.s.r;f<=c.e.r;++f)u.push(v8(e,c,f,t));return u.push("</table>"+o),u.join("")}function Zw(e,s,t){var i=t||{},o=0,u=0;if(i.origin!=null)if(typeof i.origin=="number")o=i.origin;else{var c=typeof i.origin=="string"?Gn(i.origin):i.origin;o=c.r,u=c.c}var f=s.getElementsByTagName("tr"),h=Math.min(i.sheetRows||1e7,f.length),x={s:{r:0,c:0},e:{r:o,c:u}};if(e["!ref"]){var v=Uu(e["!ref"]);x.s.r=Math.min(x.s.r,v.s.r),x.s.c=Math.min(x.s.c,v.s.c),x.e.r=Math.max(x.e.r,v.e.r),x.e.c=Math.max(x.e.c,v.e.c),o==-1&&(x.e.r=o=v.e.r+1)}var b=[],O=0,w=e["!rows"]||(e["!rows"]=[]),C=0,S=0,R=0,X=0,G=0,k=0;for(e["!cols"]||(e["!cols"]=[]);C<f.length&&S<h;++C){var ie=f[C];if(ME(ie)){if(i.display)continue;w[S]={hidden:!0}}var K=ie.children;for(R=X=0;R<K.length;++R){var z=K[R];if(!(i.display&&ME(z))){var A=z.hasAttribute("data-v")?z.getAttribute("data-v"):z.hasAttribute("v")?z.getAttribute("v"):YC(z.innerHTML),ce=z.getAttribute("data-z")||z.getAttribute("z");for(O=0;O<b.length;++O){var T=b[O];T.s.c==X+u&&T.s.r<S+o&&S+o<=T.e.r&&(X=T.e.c+1-u,O=-1)}k=+z.getAttribute("colspan")||1,((G=+z.getAttribute("rowspan")||1)>1||k>1)&&b.push({s:{r:S+o,c:X+u},e:{r:S+o+(G||1)-1,c:X+u+(k||1)-1}});var H={t:"s",v:A},Z=z.getAttribute("data-t")||z.getAttribute("t")||"";A!=null&&(A.length==0?H.t=Z||"z":i.raw||A.trim().length==0||Z=="s"||(A==="TRUE"?H={t:"b",v:!0}:A==="FALSE"?H={t:"b",v:!1}:isNaN(ci(A))?isNaN(wu(A).getDate())||(H={t:"d",v:Ks(A)},i.cellDates||(H={t:"n",v:zn(H.v)}),H.z=i.dateNF||dr[14]):H={t:"n",v:ci(A)})),H.z===void 0&&ce!=null&&(H.z=ce);var W="",M=z.getElementsByTagName("A");if(M&&M.length)for(var Ce=0;Ce<M.length&&!(M[Ce].hasAttribute("href")&&(W=M[Ce].getAttribute("href"),W.charAt(0)!="#"));++Ce);W&&W.charAt(0)!="#"&&(H.l={Target:W}),i.dense?(e[S+o]||(e[S+o]=[]),e[S+o][X+u]=H):e[ir({c:X+u,r:S+o})]=H,x.e.c<X+u&&(x.e.c=X+u),X+=k}}++S}return b.length&&(e["!merges"]=(e["!merges"]||[]).concat(b)),x.e.r=Math.max(x.e.r,S-1+o),e["!ref"]=_r(x),S>=h&&(e["!fullref"]=_r((x.e.r=f.length-C+S-1+o,x))),e}function ek(e,s){var t=s||{},i=t.dense?[]:{};return Zw(i,e,s)}function S8(e,s){return xl(ek(e,s),s)}function ME(e){var s="",t=O8(e);return t&&(s=t(e).getPropertyValue("display")),s||(s=e.style&&e.style.display),s==="none"}function O8(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function y8(e){var s=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(i,o){return Array(parseInt(o,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Vr(s.replace(/<[^>]*>/g,""));return[t]}var IE={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function tk(e,s){var t=s||{},i=xN(e),o=[],u,c,f={name:""},h="",x=0,v,b,O={},w=[],C=t.dense?[]:{},S,R,X={value:""},G="",k=0,ie=[],K=-1,z=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},ce=0,T={},H=[],Z={},W=0,M=0,Ce=[],De=1,we=1,ge=[],He={Names:[]},ue={},ke=["",""],Ue=[],te={},le="",pe=0,de=!1,oe=!1,Q=0;for(Ff.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");S=Ff.exec(i);)switch(S[3]=S[3].replace(/_.*$/,"")){case"table":case"":S[1]==="/"?(A.e.c>=A.s.c&&A.e.r>=A.s.r?C["!ref"]=_r(A):C["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=A.e.r&&(C["!fullref"]=C["!ref"],A.e.r=t.sheetRows-1,C["!ref"]=_r(A)),H.length&&(C["!merges"]=H),Ce.length&&(C["!rows"]=Ce),v.name=v.||v.name,typeof JSON<"u"&&JSON.stringify(v),w.push(v.name),O[v.name]=C,oe=!1):S[0].charAt(S[0].length-2)!=="/"&&(v=er(S[0],!1),K=z=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,C=t.dense?[]:{},H=[],Ce=[],oe=!0);break;case"table-row-group":S[1]==="/"?--ce:++ce;break;case"table-row":case"":if(S[1]==="/"){K+=De,De=1;break}if(b=er(S[0],!1),b.?K=b.-1:K==-1&&(K=0),De=+b["number-rows-repeated"]||1,De<10)for(Q=0;Q<De;++Q)ce>0&&(Ce[K+Q]={level:ce});z=-1;break;case"covered-table-cell":S[1]!=="/"&&++z,t.sheetStubs&&(t.dense?(C[K]||(C[K]=[]),C[K][z]={t:"z"}):C[ir({r:K,c:z})]={t:"z"}),G="",ie=[];break;case"table-cell":case"":if(S[0].charAt(S[0].length-2)==="/")++z,X=er(S[0],!1),we=parseInt(X["number-columns-repeated"]||"1",10),R={t:"z",v:null},X.formula&&t.cellFormula!=!1&&(R.f=UE(Vr(X.formula))),(X.||X["value-type"])=="string"&&(R.t="s",R.v=Vr(X["string-value"]||""),t.dense?(C[K]||(C[K]=[]),C[K][z]=R):C[ir({r:K,c:z})]=R),z+=we-1;else if(S[1]!=="/"){++z,G="",k=0,ie=[],we=1;var _=De?K+De-1:K;if(z>A.e.c&&(A.e.c=z),z<A.s.c&&(A.s.c=z),K<A.s.r&&(A.s.r=K),_>A.e.r&&(A.e.r=_),X=er(S[0],!1),Ue=[],te={},R={t:X.||X["value-type"],v:null},t.cellFormula)if(X.formula&&(X.formula=Vr(X.formula)),X["number-matrix-columns-spanned"]&&X["number-matrix-rows-spanned"]&&(W=parseInt(X["number-matrix-rows-spanned"],10)||0,M=parseInt(X["number-matrix-columns-spanned"],10)||0,Z={s:{r:K,c:z},e:{r:K+W-1,c:z+M-1}},R.F=_r(Z),ge.push([Z,R.F])),X.formula)R.f=UE(X.formula);else for(Q=0;Q<ge.length;++Q)K>=ge[Q][0].s.r&&K<=ge[Q][0].e.r&&z>=ge[Q][0].s.c&&z<=ge[Q][0].e.c&&(R.F=ge[Q][1]);switch((X["number-columns-spanned"]||X["number-rows-spanned"])&&(W=parseInt(X["number-rows-spanned"],10)||0,M=parseInt(X["number-columns-spanned"],10)||0,Z={s:{r:K,c:z},e:{r:K+W-1,c:z+M-1}},H.push(Z)),X["number-columns-repeated"]&&(we=parseInt(X["number-columns-repeated"],10)),R.t){case"boolean":R.t="b",R.v=as(X["boolean-value"]);break;case"float":R.t="n",R.v=parseFloat(X.value);break;case"percentage":R.t="n",R.v=parseFloat(X.value);break;case"currency":R.t="n",R.v=parseFloat(X.value);break;case"date":R.t="d",R.v=Ks(X["date-value"]),t.cellDates||(R.t="n",R.v=zn(R.v)),R.z="m/d/yy";break;case"time":R.t="n",R.v=Aj(X["time-value"])/86400,t.cellDates&&(R.t="d",R.v=Zp(R.v)),R.z="HH:MM:SS";break;case"number":R.t="n",R.v=parseFloat(X.);break;default:if(R.t==="string"||R.t==="text"||!R.t)R.t="s",X["string-value"]!=null&&(G=Vr(X["string-value"]),ie=[]);else throw new Error("Unsupported value type "+R.t)}}else{if(de=!1,R.t==="s"&&(R.v=G||"",ie.length&&(R.R=ie),de=k==0),ue.Target&&(R.l=ue),Ue.length>0&&(R.c=Ue,Ue=[]),G&&t.cellText!==!1&&(R.w=G),de&&(R.t="z",delete R.v),(!de||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=K))for(var J=0;J<De;++J){if(we=parseInt(X["number-columns-repeated"]||"1",10),t.dense)for(C[K+J]||(C[K+J]=[]),C[K+J][z]=J==0?R:fn(R);--we>0;)C[K+J][z+we]=fn(R);else for(C[ir({r:K+J,c:z})]=R;--we>0;)C[ir({r:K+J,c:z+we})]=fn(R);A.e.c<=z&&(A.e.c=z)}we=parseInt(X["number-columns-repeated"]||"1",10),z+=we-1,we=0,R={},G="",ie=[]}ue={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(S[1]==="/"){if((u=o.pop())[0]!==S[3])throw"Bad state: "+u}else S[0].charAt(S[0].length-2)!=="/"&&o.push([S[3],!0]);break;case"annotation":if(S[1]==="/"){if((u=o.pop())[0]!==S[3])throw"Bad state: "+u;te.t=G,ie.length&&(te.R=ie),te.a=le,Ue.push(te)}else S[0].charAt(S[0].length-2)!=="/"&&o.push([S[3],!1]);le="",pe=0,G="",k=0,ie=[];break;case"creator":S[1]==="/"?le=i.slice(pe,S.index):pe=S.index+S[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(S[1]==="/"){if((u=o.pop())[0]!==S[3])throw"Bad state: "+u}else S[0].charAt(S[0].length-2)!=="/"&&o.push([S[3],!1]);G="",k=0,ie=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(S[1]==="/"){if(T[f.name]=h,(u=o.pop())[0]!==S[3])throw"Bad state: "+u}else S[0].charAt(S[0].length-2)!=="/"&&(h="",f=er(S[0],!1),o.push([S[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(o[o.length-1][0]){case"time-style":case"date-style":c=er(S[0],!1),h+=IE[S[3]][c.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(o[o.length-1][0]){case"time-style":case"date-style":c=er(S[0],!1),h+=IE[S[3]][c.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(S[0].slice(-2)==="/>")break;if(S[1]==="/")switch(o[o.length-1][0]){case"number-style":case"date-style":case"time-style":h+=i.slice(x,S.index);break}else x=S.index+S[0].length;break;case"named-range":c=er(S[0],!1),ke=Rb(c["cell-range-address"]);var L={Name:c.name,Ref:ke[0]+"!"+ke[1]};oe&&(L.Sheet=w.length),He.Names.push(L);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(o[o.length-1][0])>-1)break;if(S[1]==="/"&&(!X||!X["string-value"])){var he=y8(i.slice(k,S.index));G=(G.length>0?G+`
`:"")+he[0]}else er(S[0],!1),k=S.index+S[0].length;break;case"s":break;case"database-range":if(S[1]==="/")break;try{ke=Rb(er(S[0])["target-range-address"]),O[ke[0]]["!autofilter"]={ref:ke[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(S[1]!=="/"){if(ue=er(S[0],!1),!ue.href)break;ue.Target=Vr(ue.href),delete ue.href,ue.Target.charAt(0)=="#"&&ue.Target.indexOf(".")>-1?(ke=Rb(ue.Target.slice(1)),ue.Target="#"+ke[0]+"!"+ke[1]):ue.Target.match(/^\.\.[\\\/]/)&&(ue.Target=ue.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(S[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(S)}}var q={Sheets:O,SheetNames:w,Workbook:He};return t.bookSheets&&delete q.Sheets,q}function FE(e,s){s=s||{},Ua(e,"META-INF/manifest.xml")&&F6(Os(e,"META-INF/manifest.xml"),s);var t=ga(e,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var i=tk(Zr(t),s);return Ua(e,"meta.xml")&&(i.Props=pw(Os(e,"meta.xml"))),i}function $E(e,s){return tk(e,s)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function PN(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Kb(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Zr(hc(e))}function Jb(e){var s=e.reduce(function(o,u){return o+u.length},0),t=new Uint8Array(s),i=0;return e.forEach(function(o){t.set(o,i),i+=o.length}),t}function BE(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function E8(e,s){for(var t=(e[s+15]&127)<<7|e[s+14]>>1,i=e[s+14]&1,o=s+13;o>=s;--o)i=i*256+e[o];return(e[s+15]&128?-i:i)*Math.pow(10,t-6176)}function Hf(e,s){var t=s?s[0]:0,i=e[t]&127;e:if(e[t++]>=128&&(i|=(e[t]&127)<<7,e[t++]<128||(i|=(e[t]&127)<<14,e[t++]<128)||(i|=(e[t]&127)<<21,e[t++]<128)||(i+=(e[t]&127)*Math.pow(2,28),++t,e[t++]<128)||(i+=(e[t]&127)*Math.pow(2,35),++t,e[t++]<128)||(i+=(e[t]&127)*Math.pow(2,42),++t,e[t++]<128)))break e;return s&&(s[0]=t),i}function Bs(e){var s=0,t=e[s]&127;e:if(e[s++]>=128){if(t|=(e[s]&127)<<7,e[s++]<128||(t|=(e[s]&127)<<14,e[s++]<128)||(t|=(e[s]&127)<<21,e[s++]<128))break e;t|=(e[s]&127)<<28}return t}function Tn(e){for(var s=[],t=[0];t[0]<e.length;){var i=t[0],o=Hf(e,t),u=o&7;o=Math.floor(o/8);var c=0,f;if(o==0)break;switch(u){case 0:{for(var h=t[0];e[t[0]++]>=128;);f=e.slice(h,t[0])}break;case 5:c=4,f=e.slice(t[0],t[0]+c),t[0]+=c;break;case 1:c=8,f=e.slice(t[0],t[0]+c),t[0]+=c;break;case 2:c=Hf(e,t),f=e.slice(t[0],t[0]+c),t[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(u," for Field ").concat(o," at offset ").concat(i))}var x={data:f,type:u};s[o]==null?s[o]=[x]:s[o].push(x)}return s}function _N(e,s){return e?.map(function(t){return s(t.data)})||[]}function C8(e){for(var s,t=[],i=[0];i[0]<e.length;){var o=Hf(e,i),u=Tn(e.slice(i[0],i[0]+o));i[0]+=o;var c={id:Bs(u[1][0].data),messages:[]};u[2].forEach(function(f){var h=Tn(f.data),x=Bs(h[3][0].data);c.messages.push({meta:h,data:e.slice(i[0],i[0]+x)}),i[0]+=x}),(s=u[3])!=null&&s[0]&&(c.merge=Bs(u[3][0].data)>>>0>0),t.push(c)}return t}function w8(e,s){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var t=[0],i=Hf(s,t),o=[];t[0]<s.length;){var u=s[t[0]]&3;if(u==0){var c=s[t[0]++]>>2;if(c<60)++c;else{var f=c-59;c=s[t[0]],f>1&&(c|=s[t[0]+1]<<8),f>2&&(c|=s[t[0]+2]<<16),f>3&&(c|=s[t[0]+3]<<24),c>>>=0,c++,t[0]+=f}o.push(s.slice(t[0],t[0]+c)),t[0]+=c;continue}else{var h=0,x=0;if(u==1?(x=(s[t[0]]>>2&7)+4,h=(s[t[0]++]&224)<<3,h|=s[t[0]++]):(x=(s[t[0]++]>>2)+1,u==2?(h=s[t[0]]|s[t[0]+1]<<8,t[0]+=2):(h=(s[t[0]]|s[t[0]+1]<<8|s[t[0]+2]<<16|s[t[0]+3]<<24)>>>0,t[0]+=4)),o=[Jb(o)],h==0)throw new Error("Invalid offset 0");if(h>o[0].length)throw new Error("Invalid offset beyond length");if(x>=h)for(o.push(o[0].slice(-h)),x-=h;x>=o[o.length-1].length;)o.push(o[o.length-1]),x-=o[o.length-1].length;o.push(o[0].slice(-h,-h+x))}}var v=Jb(o);if(v.length!=i)throw new Error("Unexpected length: ".concat(v.length," != ").concat(i));return v}function k8(e){for(var s=[],t=0;t<e.length;){var i=e[t++],o=e[t]|e[t+1]<<8|e[t+2]<<16;t+=3,s.push(w8(i,e.slice(t,t+o))),t+=o}if(t!==e.length)throw new Error("data is not a valid framed stream!");return Jb(s)}function R8(e,s,t,i){var o=PN(e),u=o.getUint32(4,!0),c=(i>1?12:8)+BE(u&(i>1?3470:398))*4,f=-1,h=-1,x=NaN,v=new Date(2001,0,1);u&512&&(f=o.getUint32(c,!0),c+=4),c+=BE(u&(i>1?12288:4096))*4,u&16&&(h=o.getUint32(c,!0),c+=4),u&32&&(x=o.getFloat64(c,!0),c+=8),u&64&&(v.setTime(v.getTime()+o.getFloat64(c,!0)*1e3),c+=8);var b;switch(e[2]){case 0:break;case 2:b={t:"n",v:x};break;case 3:b={t:"s",v:s[h]};break;case 5:b={t:"d",v};break;case 6:b={t:"b",v:x>0};break;case 7:b={t:"n",v:x/86400};break;case 8:b={t:"e",v:0};break;case 9:if(f>-1)b={t:"s",v:t[f]};else if(h>-1)b={t:"s",v:s[h]};else if(!isNaN(x))b={t:"n",v:x};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return b}function T8(e,s,t){var i=PN(e),o=i.getUint32(8,!0),u=12,c=-1,f=-1,h=NaN,x=NaN,v=new Date(2001,0,1);o&1&&(h=E8(e,u),u+=16),o&2&&(x=i.getFloat64(u,!0),u+=8),o&4&&(v.setTime(v.getTime()+i.getFloat64(u,!0)*1e3),u+=8),o&8&&(f=i.getUint32(u,!0),u+=4),o&16&&(c=i.getUint32(u,!0),u+=4);var b;switch(e[1]){case 0:break;case 2:b={t:"n",v:h};break;case 3:b={t:"s",v:s[f]};break;case 5:b={t:"d",v};break;case 6:b={t:"b",v:x>0};break;case 7:b={t:"n",v:x/86400};break;case 8:b={t:"e",v:0};break;case 9:if(c>-1)b={t:"s",v:t[c]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(o&31," : ").concat(e.slice(0,4)));break;case 10:b={t:"n",v:h};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(o&31," : ").concat(e.slice(0,4)))}return b}function P8(e,s,t){switch(e[0]){case 0:case 1:case 2:case 3:return R8(e,s,t,e[0]);case 5:return T8(e,s,t);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function hl(e){var s=Tn(e);return Hf(s[1][0].data)}function XE(e,s){var t=Tn(s.data),i=Bs(t[1][0].data),o=t[3],u=[];return(o||[]).forEach(function(c){var f=Tn(c.data),h=Bs(f[1][0].data)>>>0;switch(i){case 1:u[h]=Kb(f[3][0].data);break;case 8:{var x=e[hl(f[9][0].data)][0],v=Tn(x.data),b=e[hl(v[1][0].data)][0],O=Bs(b.meta[1][0].data);if(O!=2001)throw new Error("2000 unexpected reference to ".concat(O));var w=Tn(b.data);u[h]=w[3].map(function(C){return Kb(C.data)}).join("")}break}}),u}function _8(e,s){var t,i,o,u,c,f,h,x,v,b,O,w,C,S,R=Tn(e),X=Bs(R[1][0].data)>>>0,G=Bs(R[2][0].data)>>>0,k=((i=(t=R[8])==null?void 0:t[0])==null?void 0:i.data)&&Bs(R[8][0].data)>0||!1,ie,K;if((u=(o=R[7])==null?void 0:o[0])!=null&&u.data&&s!=0)ie=(f=(c=R[7])==null?void 0:c[0])==null?void 0:f.data,K=(x=(h=R[6])==null?void 0:h[0])==null?void 0:x.data;else if((b=(v=R[4])==null?void 0:v[0])!=null&&b.data&&s!=1)ie=(w=(O=R[4])==null?void 0:O[0])==null?void 0:w.data,K=(S=(C=R[3])==null?void 0:C[0])==null?void 0:S.data;else throw"NUMBERS Tile missing ".concat(s," cell storage");for(var z=k?4:1,A=PN(ie),ce=[],T=0;T<ie.length/2;++T){var H=A.getUint16(T*2,!0);H<65535&&ce.push([T,H])}if(ce.length!=G)throw"Expected ".concat(G," cells, found ").concat(ce.length);var Z=[];for(T=0;T<ce.length-1;++T)Z[ce[T][0]]=K.subarray(ce[T][1]*z,ce[T+1][1]*z);return ce.length>=1&&(Z[ce[ce.length-1][0]]=K.subarray(ce[ce.length-1][1]*z)),{R:X,cells:Z}}function U8(e,s){var t,i=Tn(s.data),o=(t=i?.[7])!=null&&t[0]?Bs(i[7][0].data)>>>0>0?1:0:-1,u=_N(i[5],function(c){return _8(c,o)});return{nrows:Bs(i[4][0].data)>>>0,data:u.reduce(function(c,f){return c[f.R]||(c[f.R]=[]),f.cells.forEach(function(h,x){if(c[f.R][x])throw new Error("Duplicate cell r=".concat(f.R," c=").concat(x));c[f.R][x]=h}),c},[])}}function V8(e,s,t){var i,o=Tn(s.data),u={s:{r:0,c:0},e:{r:0,c:0}};if(u.e.r=(Bs(o[6][0].data)>>>0)-1,u.e.r<0)throw new Error("Invalid row varint ".concat(o[6][0].data));if(u.e.c=(Bs(o[7][0].data)>>>0)-1,u.e.c<0)throw new Error("Invalid col varint ".concat(o[7][0].data));t["!ref"]=_r(u);var c=Tn(o[4][0].data),f=XE(e,e[hl(c[4][0].data)][0]),h=(i=c[17])!=null&&i[0]?XE(e,e[hl(c[17][0].data)][0]):[],x=Tn(c[3][0].data),v=0;x[1].forEach(function(b){var O=Tn(b.data),w=e[hl(O[2][0].data)][0],C=Bs(w.meta[1][0].data);if(C!=6002)throw new Error("6001 unexpected reference to ".concat(C));var S=U8(e,w);S.data.forEach(function(R,X){R.forEach(function(G,k){var ie=ir({r:v+X,c:k}),K=P8(G,f,h);K&&(t[ie]=K)})}),v+=S.nrows})}function j8(e,s){var t=Tn(s.data),i={"!ref":"A1"},o=e[hl(t[2][0].data)],u=Bs(o[0].meta[1][0].data);if(u!=6001)throw new Error("6000 unexpected reference to ".concat(u));return V8(e,o[0],i),i}function L8(e,s){var t,i=Tn(s.data),o={name:(t=i[1])!=null&&t[0]?Kb(i[1][0].data):"",sheets:[]},u=_N(i[2],hl);return u.forEach(function(c){e[c].forEach(function(f){var h=Bs(f.meta[1][0].data);h==6e3&&o.sheets.push(j8(e,f))})}),o}function A8(e,s){var t=jN(),i=Tn(s.data),o=_N(i[1],hl);if(o.forEach(function(u){e[u].forEach(function(c){var f=Bs(c.meta[1][0].data);if(f==2){var h=L8(e,c);h.sheets.forEach(function(x,v){LN(t,x,v==0?h.name:h.name+"_"+v,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function Pb(e){var s,t,i,o,u={},c=[];if(e.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)){var x;try{x=k8(h.content)}catch(b){return console.log("?? "+h.content.length+" "+(b.message||b))}var v;try{v=C8(x)}catch(b){return console.log("## "+(b.message||b))}v.forEach(function(b){u[b.id]=b.messages,c.push(b.id)})}}),!c.length)throw new Error("File has no messages");var f=((o=(i=(t=(s=u?.[1])==null?void 0:s[0])==null?void 0:t.meta)==null?void 0:i[1])==null?void 0:o[0].data)&&Bs(u[1][0].meta[1][0].data)==1&&u[1][0];if(f||c.forEach(function(h){u[h].forEach(function(x){var v=Bs(x.meta[1][0].data)>>>0;if(v==1)if(!f)f=x;else throw new Error("Document has multiple roots")})}),!f)throw new Error("Cannot find Document root");return A8(u,f)}function M8(e){return function(t){for(var i=0;i!=e.length;++i){var o=e[i];t[o[0]]===void 0&&(t[o[0]]=o[1]),o[2]==="n"&&(t[o[0]]=Number(t[o[0]]))}}}function UN(e){M8([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function I8(e){return Ou.WS.indexOf(e)>-1?"sheet":e==Ou.CS?"chart":e==Ou.DS?"dialog":e==Ou.MS?"macro":e&&e.length?e:"sheet"}function F8(e,s){if(!e)return 0;try{e=s.map(function(i){return i.id||(i.id=i.strRelID),[i.name,e["!id"][i.id].Target,I8(e["!id"][i.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function $8(e,s,t,i,o,u,c,f,h,x,v,b){try{u[i]=Tf(ga(e,t,!0),s);var O=Os(e,s),w;switch(f){case"sheet":w=z7(O,s,o,h,u[i],x,v,b);break;case"chart":if(w=Y7(O,s,o,h,u[i],x,v,b),!w||!w["!drawel"])break;var C=Ef(w["!drawel"].Target,s),S=Gb(C),R=WM(ga(e,C,!0),Tf(ga(e,S,!0),C)),X=Ef(R,C),G=Gb(X);w=T7(ga(e,X,!0),X,h,Tf(ga(e,G,!0),X),x,w);break;case"macro":w=q7(O,s,o,h,u[i],x,v,b);break;case"dialog":w=K7(O,s,o,h,u[i],x,v,b);break;default:throw new Error("Unrecognized sheet type "+f)}c[i]=w;var k=[];u&&u[i]&&ji(u[i]).forEach(function(ie){var K="";if(u[i][ie].Type==Ou.CMNT){K=Ef(u[i][ie].Target,s);var z=e8(Os(e,K,!0),K,h);if(!z||!z.length)return;kE(w,z,!1)}u[i][ie].Type==Ou.TCMNT&&(K=Ef(u[i][ie].Target,s),k=k.concat(YM(Os(e,K,!0),h)))}),k&&k.length&&kE(w,k,!0,h.people||[])}catch(ie){if(h.WTF)throw ie}}function Pa(e){return e.charAt(0)=="/"?e.slice(1):e}function B8(e,s){if(IC(),s=s||{},UN(s),Ua(e,"META-INF/manifest.xml")||Ua(e,"objectdata.xml"))return FE(e,s);if(Ua(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Pb<"u"){if(e.FileIndex)return Pb(e);var t=Pr.utils.cfb_new();return tE(e).forEach(function(Ce){Xj(t,Ce,Bj(e,Ce))}),Pb(t)}throw new Error("Unsupported NUMBERS file")}if(!Ua(e,"[Content_Types].xml"))throw Ua(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ua(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var i=tE(e),o=M6(ga(e,"[Content_Types].xml")),u=!1,c,f;if(o.workbooks.length===0&&(f="xl/workbook.xml",Os(e,f,!0)&&o.workbooks.push(f)),o.workbooks.length===0){if(f="xl/workbook.bin",!Os(e,f,!0))throw new Error("Could not find workbook");o.workbooks.push(f),u=!0}o.workbooks[0].slice(-3)=="bin"&&(u=!0);var h={},x={};if(!s.bookSheets&&!s.bookProps){if(Uf=[],o.sst)try{Uf=Z7(Os(e,Pa(o.sst)),o.sst,s)}catch(Ce){if(s.WTF)throw Ce}s.cellStyles&&o.themes.length&&(h=Q7(ga(e,o.themes[0].replace(/^\//,""),!0)||"",o.themes[0],s)),o.style&&(x=J7(Os(e,Pa(o.style)),o.style,h,s))}o.links.map(function(Ce){try{var De=Tf(ga(e,Gb(Pa(Ce))),Ce);return r8(Os(e,Pa(Ce)),De,Ce,s)}catch{}});var v=W7(Os(e,Pa(o.workbooks[0])),o.workbooks[0],s),b={},O="";o.coreprops.length&&(O=Os(e,Pa(o.coreprops[0]),!0),O&&(b=pw(O)),o.extprops.length!==0&&(O=Os(e,Pa(o.extprops[0]),!0),O&&X6(O,b,s)));var w={};(!s.bookSheets||s.bookProps)&&o.custprops.length!==0&&(O=ga(e,Pa(o.custprops[0]),!0),O&&(w=G6(O,s)));var C={};if((s.bookSheets||s.bookProps)&&(v.Sheets?c=v.Sheets.map(function(De){return De.name}):b.Worksheets&&b.SheetNames.length>0&&(c=b.SheetNames),s.bookProps&&(C.Props=b,C.Custprops=w),s.bookSheets&&typeof c<"u"&&(C.SheetNames=c),s.bookSheets?C.SheetNames:s.bookProps))return C;c={};var S={};s.bookDeps&&o.calcchain&&(S=t8(Os(e,Pa(o.calcchain)),o.calcchain));var R=0,X={},G,k;{var ie=v.Sheets;b.Worksheets=ie.length,b.SheetNames=[];for(var K=0;K!=ie.length;++K)b.SheetNames[K]=ie[K].name}var z=u?"bin":"xml",A=o.workbooks[0].lastIndexOf("/"),ce=(o.workbooks[0].slice(0,A+1)+"_rels/"+o.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");Ua(e,ce)||(ce="xl/_rels/workbook."+z+".rels");var T=Tf(ga(e,ce,!0),ce.replace(/_rels.*/,"s5s"));(o.metadata||[]).length>=1&&(s.xlmeta=s8(Os(e,Pa(o.metadata[0])),o.metadata[0],s)),(o.people||[]).length>=1&&(s.people=qM(Os(e,Pa(o.people[0])),s)),T&&(T=F8(T,v.Sheets));var H=Os(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(R=0;R!=b.Worksheets;++R){var Z="sheet";if(T&&T[R]?(G="xl/"+T[R][1].replace(/[\/]?xl\//,""),Ua(e,G)||(G=T[R][1]),Ua(e,G)||(G=ce.replace(/_rels\/.*$/,"")+T[R][1]),Z=T[R][2]):(G="xl/worksheets/sheet"+(R+1-H)+"."+z,G=G.replace(/sheet0\./,"sheet.")),k=G.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),s&&s.sheets!=null)switch(typeof s.sheets){case"number":if(R!=s.sheets)continue e;break;case"string":if(b.SheetNames[R].toLowerCase()!=s.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(s.sheets)){for(var W=!1,M=0;M!=s.sheets.length;++M)typeof s.sheets[M]=="number"&&s.sheets[M]==R&&(W=1),typeof s.sheets[M]=="string"&&s.sheets[M].toLowerCase()==b.SheetNames[R].toLowerCase()&&(W=1);if(!W)continue e}}$8(e,G,k,b.SheetNames[R],R,X,c,Z,s,v,h,x)}return C={Directory:o,Workbook:v,Props:b,Custprops:w,Deps:S,Sheets:c,SheetNames:b.SheetNames,Strings:Uf,Styles:x,Themes:h,SSF:fn(dr)},s&&s.bookFiles&&(e.files?(C.keys=i,C.files=e.files):(C.keys=[],C.files={},e.FullPaths.forEach(function(Ce,De){Ce=Ce.replace(/^Root Entry[\/]/,""),C.keys.push(Ce),C.files[Ce]=e.FileIndex[De]}))),s&&s.bookVBA&&(o.vba.length>0?C.vbaraw=Os(e,Pa(o.vba[0]),!0):o.defaults&&o.defaults.bin===ZM&&(C.vbaraw=Os(e,"xl/vbaProject.bin",!0))),C}function X8(e,s){var t=s||{},i="Workbook",o=Pr.find(e,i);try{if(i="/!DataSpaces/Version",o=Pr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(jA(o.content),i="/!DataSpaces/DataSpaceMap",o=Pr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);var u=AA(o.content);if(u.length!==1||u[0].comps.length!==1||u[0].comps[0].t!==0||u[0].name!=="StrongEncryptionDataSpace"||u[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",o=Pr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);var c=MA(o.content);if(c.length!=1||c[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",o=Pr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);FA(o.content)}catch{}if(i="/EncryptionInfo",o=Pr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);var f=$A(o.content);if(i="/EncryptedPackage",o=Pr.find(e,i),!o||!o.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(f[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(f[1],o.content,t.password||"",t);if(f[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(f[1],o.content,t.password||"",t);throw new Error("File is password-protected")}function VN(e,s){var t="";switch((s||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=xa(e.slice(0,12));break;case"binary":t=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(s&&s.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function H8(e,s){return Pr.find(e,"EncryptedPackage")?X8(e,s):Qw(e,s)}function G8(e,s){var t,i=e,o=s||{};return o.type||(o.type=kr&&Buffer.isBuffer(e)?"buffer":"base64"),t=GC(i,o),B8(t,o)}function rk(e,s){var t=0;e:for(;t<e.length;)switch(e.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return Yb(e.slice(t),s);default:break e}return $f.to_workbook(e,s)}function W8(e,s){var t="",i=VN(e,s);switch(s.type){case"base64":t=xa(e);break;case"binary":t=e;break;case"buffer":t=e.toString("binary");break;case"array":t=fc(e);break;default:throw new Error("Unrecognized type "+s.type)}return i[0]==239&&i[1]==187&&i[2]==191&&(t=Zr(t)),s.type="binary",rk(t,s)}function z8(e,s){var t=e;return s.type=="base64"&&(t=xa(t)),t=Af.utils.decode(1200,t.slice(2),"str"),s.type="binary",rk(t,s)}function Y8(e){return e.match(/[^\x00-\x7F]/)?Cf(e):e}function _b(e,s,t,i){return i?(t.type="string",$f.to_workbook(e,t)):$f.to_workbook(s,t)}function Yp(e,s){wC();var t=s||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Yp(new Uint8Array(e),(t=fn(t),t.type="array",t));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var i=e,o=[0,0,0,0],u=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Cu={},t.dateNF&&(Cu.dateNF=t.dateNF),t.type||(t.type=kr&&Buffer.isBuffer(e)?"buffer":"base64"),t.type=="file"&&(t.type=kr?"buffer":"binary",i=jj(e),typeof Uint8Array<"u"&&!kr&&(t.type="array")),t.type=="string"&&(u=!0,t.type="binary",t.codepage=65001,i=Y8(e)),t.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var c=new ArrayBuffer(3),f=new Uint8Array(c);if(f.foo="bar",!f.foo)return t=fn(t),t.type="array",Yp(fN(i),t)}switch((o=VN(i,t))[0]){case 208:if(o[1]===207&&o[2]===17&&o[3]===224&&o[4]===161&&o[5]===177&&o[6]===26&&o[7]===225)return H8(Pr.read(i,t),t);break;case 9:if(o[1]<=8)return Qw(i,t);break;case 60:return Yb(i,t);case 73:if(o[1]===73&&o[2]===42&&o[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(o[1]===68)return SA(i,t);break;case 84:if(o[1]===65&&o[2]===66&&o[3]===76)return NA.to_workbook(i,t);break;case 80:return o[1]===75&&o[2]<9&&o[3]<9?G8(i,t):_b(e,i,t,u);case 239:return o[3]===60?Yb(i,t):_b(e,i,t,u);case 255:if(o[1]===254)return z8(i,t);if(o[1]===0&&o[2]===2&&o[3]===0)return _f.to_workbook(i,t);break;case 0:if(o[1]===0&&(o[2]>=2&&o[3]===0||o[2]===0&&(o[3]===8||o[3]===9)))return _f.to_workbook(i,t);break;case 3:case 131:case 139:case 140:return wE.to_workbook(i,t);case 123:if(o[1]===92&&o[2]===114&&o[3]===116)return ZA.to_workbook(i,t);break;case 10:case 13:case 32:return W8(i,t);case 137:if(o[1]===80&&o[2]===78&&o[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return xA.indexOf(o[0])>-1&&o[2]<=12&&o[3]<=31?wE.to_workbook(i,t):_b(e,i,t,u)}function q8(e,s,t,i,o,u,c,f){var h=mn(t),x=f.defval,v=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),b=!0,O=o===1?[]:{};if(o!==1)if(Object.defineProperty)try{Object.defineProperty(O,"__rowNum__",{value:t,enumerable:!1})}catch{O.__rowNum__=t}else O.__rowNum__=t;if(!c||e[t])for(var w=s.s.c;w<=s.e.c;++w){var C=c?e[t][w]:e[i[w]+h];if(C===void 0||C.t===void 0){if(x===void 0)continue;u[w]!=null&&(O[u[w]]=x);continue}var S=C.v;switch(C.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+C.t)}if(u[w]!=null){if(S==null)if(C.t=="e"&&S===null)O[u[w]]=null;else if(x!==void 0)O[u[w]]=x;else if(v&&S===null)O[u[w]]=null;else continue;else O[u[w]]=v&&(C.t!=="n"||C.t==="n"&&f.rawNumbers!==!1)?S:xo(C,S,f);S!=null&&(b=!1)}}return{row:O,isempty:b}}function Qb(e,s){if(e==null||e["!ref"]==null)return[];var t={t:"n",v:0},i=0,o=1,u=[],c=0,f="",h={s:{r:0,c:0},e:{r:0,c:0}},x=s||{},v=x.range!=null?x.range:e["!ref"];switch(x.header===1?i=1:x.header==="A"?i=2:Array.isArray(x.header)?i=3:x.header==null&&(i=0),typeof v){case"string":h=hs(v);break;case"number":h=hs(e["!ref"]),h.s.r=v;break;default:h=v}i>0&&(o=0);var b=mn(h.s.r),O=[],w=[],C=0,S=0,R=Array.isArray(e),X=h.s.r,G=0,k={};R&&!e[X]&&(e[X]=[]);var ie=x.skipHidden&&e["!cols"]||[],K=x.skipHidden&&e["!rows"]||[];for(G=h.s.c;G<=h.e.c;++G)if(!(ie[G]||{}).hidden)switch(O[G]=$s(G),t=R?e[X][G]:e[O[G]+b],i){case 1:u[G]=G-h.s.c;break;case 2:u[G]=O[G];break;case 3:u[G]=x.header[G-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),f=c=xo(t,null,x),S=k[c]||0,!S)k[c]=1;else{do f=c+"_"+S++;while(k[f]);k[c]=S,k[f]=1}u[G]=f}for(X=h.s.r+o;X<=h.e.r;++X)if(!(K[X]||{}).hidden){var z=q8(e,h,X,O,i,u,R,x);(z.isempty===!1||(i===1?x.blankrows!==!1:x.blankrows))&&(w[C++]=z.row)}return w.length=C,w}var HE=/"/g;function K8(e,s,t,i,o,u,c,f){for(var h=!0,x=[],v="",b=mn(t),O=s.s.c;O<=s.e.c;++O)if(i[O]){var w=f.dense?(e[t]||[])[O]:e[i[O]+b];if(w==null)v="";else if(w.v!=null){h=!1,v=""+(f.rawNumbers&&w.t=="n"?w.v:xo(w,null,f));for(var C=0,S=0;C!==v.length;++C)if((S=v.charCodeAt(C))===o||S===u||S===34||f.forceQuotes){v='"'+v.replace(HE,'""')+'"';break}v=="ID"&&(v='"ID"')}else w.f!=null&&!w.F?(h=!1,v="="+w.f,v.indexOf(",")>=0&&(v='"'+v.replace(HE,'""')+'"')):v="";x.push(v)}return f.blankrows===!1&&h?null:x.join(c)}function sk(e,s){var t=[],i=s??{};if(e==null||e["!ref"]==null)return"";var o=hs(e["!ref"]),u=i.FS!==void 0?i.FS:",",c=u.charCodeAt(0),f=i.RS!==void 0?i.RS:`
`,h=f.charCodeAt(0),x=new RegExp((u=="|"?"\\|":u)+"+$"),v="",b=[];i.dense=Array.isArray(e);for(var O=i.skipHidden&&e["!cols"]||[],w=i.skipHidden&&e["!rows"]||[],C=o.s.c;C<=o.e.c;++C)(O[C]||{}).hidden||(b[C]=$s(C));for(var S=0,R=o.s.r;R<=o.e.r;++R)(w[R]||{}).hidden||(v=K8(e,o,R,b,c,h,u,i),v!=null&&(i.strip&&(v=v.replace(x,"")),(v||i.blankrows!==!1)&&t.push((S++?f:"")+v)));return delete i.dense,t.join("")}function J8(e,s){s||(s={}),s.FS="	",s.RS=`
`;var t=sk(e,s);return t}function Q8(e){var s="",t,i="";if(e==null||e["!ref"]==null)return[];var o=hs(e["!ref"]),u="",c=[],f,h=[],x=Array.isArray(e);for(f=o.s.c;f<=o.e.c;++f)c[f]=$s(f);for(var v=o.s.r;v<=o.e.r;++v)for(u=mn(v),f=o.s.c;f<=o.e.c;++f)if(s=c[f]+u,t=x?(e[v]||[])[f]:e[s],i="",t!==void 0){if(t.F!=null){if(s=t.F,!t.f)continue;i=t.f,s.indexOf(":")==-1&&(s=s+":"+s)}if(t.f!=null)i=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)i=""+t.v;else if(t.t=="b")i=t.v?"TRUE":"FALSE";else if(t.w!==void 0)i="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?i="'"+t.v:i=""+t.v}}h[h.length]=s+"="+i}return h}function nk(e,s,t){var i=t||{},o=+!i.skipHeader,u=e||{},c=0,f=0;if(u&&i.origin!=null)if(typeof i.origin=="number")c=i.origin;else{var h=typeof i.origin=="string"?Gn(i.origin):i.origin;c=h.r,f=h.c}var x,v={s:{c:0,r:0},e:{c:f,r:c+s.length-1+o}};if(u["!ref"]){var b=hs(u["!ref"]);v.e.c=Math.max(v.e.c,b.e.c),v.e.r=Math.max(v.e.r,b.e.r),c==-1&&(c=b.e.r+1,v.e.r=c+s.length-1+o)}else c==-1&&(c=0,v.e.r=s.length-1+o);var O=i.header||[],w=0;s.forEach(function(S,R){ji(S).forEach(function(X){(w=O.indexOf(X))==-1&&(O[w=O.length]=X);var G=S[X],k="z",ie="",K=ir({c:f+w,r:c+R+o});x=Gf(u,K),G&&typeof G=="object"&&!(G instanceof Date)?u[K]=G:(typeof G=="number"?k="n":typeof G=="boolean"?k="b":typeof G=="string"?k="s":G instanceof Date?(k="d",i.cellDates||(k="n",G=zn(G)),ie=i.dateNF||dr[14]):G===null&&i.nullError&&(k="e",G=0),x?(x.t=k,x.v=G,delete x.w,delete x.R,ie&&(x.z=ie)):u[K]=x={t:k,v:G},ie&&(x.z=ie))})}),v.e.c=Math.max(v.e.c,f+O.length-1);var C=mn(c);if(o)for(w=0;w<O.length;++w)u[$s(w+f)+C]={t:"s",v:O[w]};return u["!ref"]=_r(v),u}function Z8(e,s){return nk(null,e,s)}function Gf(e,s,t){if(typeof s=="string"){if(Array.isArray(e)){var i=Gn(s);return e[i.r]||(e[i.r]=[]),e[i.r][i.c]||(e[i.r][i.c]={t:"z"})}return e[s]||(e[s]={t:"z"})}return typeof s!="number"?Gf(e,ir(s)):Gf(e,ir({r:s,c:t||0}))}function e9(e,s){if(typeof s=="number"){if(s>=0&&e.SheetNames.length>s)return s;throw new Error("Cannot find sheet # "+s)}else if(typeof s=="string"){var t=e.SheetNames.indexOf(s);if(t>-1)return t;throw new Error("Cannot find sheet name |"+s+"|")}else throw new Error("Cannot find sheet |"+s+"|")}function jN(){return{SheetNames:[],Sheets:{}}}function LN(e,s,t,i){var o=1;if(!t)for(;o<=65535&&e.SheetNames.indexOf(t="Sheet"+o)!=-1;++o,t=void 0);if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&e.SheetNames.indexOf(t)>=0){var u=t.match(/(^.*?)(\d+)$/);o=u&&+u[2]||0;var c=u&&u[1]||t;for(++o;o<=65535&&e.SheetNames.indexOf(t=c+o)!=-1;++o);}if(M7(t),e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return e.SheetNames.push(t),e.Sheets[t]=s,t}function t9(e,s,t){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var i=e9(e,s);switch(e.Workbook.Sheets[i]||(e.Workbook.Sheets[i]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}e.Workbook.Sheets[i].Hidden=t}function r9(e,s){return e.z=s,e}function ak(e,s,t){return s?(e.l={Target:s},t&&(e.l.Tooltip=t)):delete e.l,e}function s9(e,s,t){return ak(e,"#"+s,t)}function n9(e,s,t){e.c||(e.c=[]),e.c.push({t:s,a:t||"SheetJS"})}function a9(e,s,t,i){for(var o=typeof s!="string"?s:hs(s),u=typeof s=="string"?s:_r(s),c=o.s.r;c<=o.e.r;++c)for(var f=o.s.c;f<=o.e.c;++f){var h=Gf(e,c,f);h.t="n",h.F=u,delete h.v,c==o.s.r&&f==o.s.c&&(h.f=t,i&&(h.D=!0))}return e}var GE={encode_col:$s,encode_row:mn,encode_cell:ir,encode_range:_r,decode_col:DN,decode_row:NN,split_cell:g6,decode_cell:Gn,decode_range:Uu,format_cell:xo,sheet_add_aoa:cw,sheet_add_json:nk,sheet_add_dom:Zw,aoa_to_sheet:Vu,json_to_sheet:Z8,table_to_sheet:ek,table_to_book:S8,sheet_to_csv:sk,sheet_to_txt:J8,sheet_to_json:Qb,sheet_to_html:D8,sheet_to_formulae:Q8,sheet_to_row_object_array:Qb,sheet_get_cell:Gf,book_new:jN,book_append_sheet:LN,book_set_sheet_visibility:t9,cell_set_number_format:r9,cell_set_hyperlink:ak,cell_set_internal_link:s9,cell_add_comment:n9,sheet_set_array_formula:a9,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const i9=({isOpen:e,onClose:s,onImport:t,onDeleteAll:i})=>{const[o,u]=E.useState(null),[c,f]=E.useState([]),[h,x]=E.useState(!1),[v,b]=E.useState(null),[O,w]=E.useState([]),[C,S]=E.useState(""),R=E.useRef(null),X=H=>{const Z=H.target.files?.[0];Z&&(u(Z),b(null),f([]),w([]),S(""))},G=H=>{const Z=Math.round(H*24*60*60),W=Math.floor(Z/3600),M=Math.floor(Z%3600/60),Ce=Z%60;return`${W.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}:${Ce.toString().padStart(2,"0")}`},k=H=>{const Z=H.toString().toLowerCase();let W=H,M=!1,Ce=!1;return(Z.includes("ppt")||Z.includes("powerpoint"))&&(M=!0,W=W.replace(/\+?\s*ppt\s*\+?/gi,"").replace(/\+?\s*powerpoint\s*\+?/gi,"")),(Z.includes("q&a")||Z.includes("qa"))&&(Ce=!0,W=W.replace(/\+?\s*q&a\s*\+?/gi,"").replace(/\s*\+\s*qa\s*\+?/gi,"")),W=W.replace(/^\++|\++$/g,"").replace(/\s*\+\s*/g," ").trim(),{shotType:W,hasPPT:M,hasQA:Ce}},ie=(H,Z)=>{if(!H.trim())return null;const W=H.split(/\r?\n/).map(M=>M.trim()).filter(M=>M.length>0);if(W.length>=2){let M=W[0],Ce="Seat";M.startsWith("*P*")?(Ce="Podium",M=M.replace("*P*","").trim()):M.startsWith("*M*")?(Ce="Moderator",M=M.replace("*M*","").trim()):M.startsWith("*V*")&&(Ce="Virtual",M=M.replace("*V*","").trim());const De=W[1];let we="",ge="";for(let ue=W.length-1;ue>=2;ue--){const ke=W[ue];if(ke&&[/^https?:\/\/.+/i,/^www\..+/i,/^[a-zA-Z0-9-]+\.[a-zA-Z]{2,}/i,/^\/.+\.(jpg|jpeg|png|gif|webp)$/i,/^.+\/(.+)\.(jpg|jpeg|png|gif|webp)$/i].some(le=>le.test(ke))){let le=ke.trim();!le.startsWith("http://")&&!le.startsWith("https://")&&(le.startsWith("www.")||le.includes(".")&&!le.startsWith("/"))&&(le="https://"+le),we=le,ue>2&&W[ue-1]&&(ge=W[ue-1]);break}}if(!we&&W.length>2){for(let ue=2;ue<W.length;ue++){const ke=W[ue];if(ke&&(ke.includes(".jpg")||ke.includes(".jpeg")||ke.includes(".png")||ke.includes(".gif")||ke.includes(".webp")||ke.includes("http")||ke.includes("www.")||ke.includes(".")&&ke.length>10)){let Ue=ke.trim();!Ue.startsWith("http://")&&!Ue.startsWith("https://")&&(Ue.startsWith("www.")||Ue.includes(".")&&!Ue.startsWith("/"))&&(Ue="https://"+Ue),we=Ue;break}}we||(W.length===3||W.length>3)&&(ge=W[2])}return{id:`speaker-${Z}`,slot:Z,location:Ce,fullName:M,title:De,org:ge,photoUrl:we}}return null},K=async()=>{if(o){x(!0),b(null);try{const H=await o.arrayBuffer(),Z=Yp(H),W=Z.SheetNames;if(w(W),W.length>1){S(W[0]),f([]);return}const M=W[0],Ce=Z.Sheets[M],De=GE.sheet_to_json(Ce,{header:1});if(De.length<12)throw new Error("Excel file must have at least 12 rows. Headers should be in row 11, data should start from row 12.");const we=De[10];if(!we||we.length===0)throw new Error("No headers found in row 11. Please ensure headers are in row 11.");const ge=[];for(let He=11;He<De.length;He++){const ue=De[He];if(!ue||ue.length===0)continue;const ke={row:He-10,cue:"",segmentName:"",duration:"",shotType:"",hasPPT:!1,hasQA:!1,programType:"",notes:"",assets:"",speakers:""};if(ue[0]&&(ke.cue=ue[0].toString()),ue[2]){let te=ue[2].toString();te.toLowerCase()==="pod transition"&&(te="Podium Transition"),ke.programType=te}if(ue[3]){const te=ue[3];typeof te=="number"&&te<1?ke.duration=G(te):ke.duration=te.toString()}if(ue[9]&&(ke.segmentName=ue[9].toString()),ue[10]){const te=ue[10].toString(),{shotType:le,hasPPT:pe,hasQA:de}=k(te);ke.shotType=le,ke.hasPPT=pe,ke.hasQA=de}ue[11]&&(ke.notes=ue[11].toString()),ue[13]&&(ke.assets=ue[13].toString());const Ue=[];for(let te=21;te<=27;te++)if(ue[te]){const le=ue[te].toString().trim();if(le&&le.length>0&&le!==""){const pe=te-20,de=ie(le,pe);de&&de.fullName&&de.fullName.trim()!==""&&Ue.push(de)}}Ue.length>0&&(ke.speakers=JSON.stringify(Ue)),ge.push(ke)}f(ge),console.log(" Excel parsing completed:",ge.length,"rows")}catch(H){console.error(" Error parsing Excel:",H),b(H instanceof Error?H.message:"Failed to parse Excel file")}finally{x(!1)}}},z=async()=>{if(!(!o||!C)){x(!0),b(null);try{const H=await o.arrayBuffer(),W=Yp(H).Sheets[C],M=GE.sheet_to_json(W,{header:1});if(M.length<12)throw new Error("Excel file must have at least 12 rows. Headers should be in row 11, data should start from row 12.");const Ce=M[10];if(!Ce||Ce.length===0)throw new Error("No headers found in row 11. Please ensure headers are in row 11.");const De=[];for(let we=11;we<M.length;we++){const ge=M[we];if(!ge||ge.length===0)continue;const He={row:we-10,cue:"",segmentName:"",duration:"",shotType:"",hasPPT:!1,hasQA:!1,programType:"",notes:"",assets:"",speakers:""};if(ge[0]&&(He.cue=ge[0].toString()),ge[2]){let ke=ge[2].toString();ke.toLowerCase()==="pod transition"&&(ke="Podium Transition"),He.programType=ke}if(ge[3]){const ke=ge[3];typeof ke=="number"&&ke<1?He.duration=G(ke):He.duration=ke.toString()}if(ge[9]&&(He.segmentName=ge[9].toString()),ge[10]){const ke=ge[10].toString(),{shotType:Ue,hasPPT:te,hasQA:le}=k(ke);He.shotType=Ue,He.hasPPT=te,He.hasQA=le}ge[11]&&(He.notes=ge[11].toString()),ge[13]&&(He.assets=ge[13].toString());const ue=[];for(let ke=21;ke<=27;ke++)if(ge[ke]){const Ue=ge[ke].toString().trim();if(Ue&&Ue.length>0&&Ue!==""){const te=ke-20,le=ie(Ue,te);le&&le.fullName&&le.fullName.trim()!==""&&ue.push(le)}}ue.length>0&&(He.speakers=JSON.stringify(ue)),De.push(He)}f(De),console.log(" Excel parsing completed:",De.length,"rows")}catch(H){console.error(" Error parsing Excel:",H),b(H instanceof Error?H.message:"Failed to parse Excel file")}finally{x(!1)}}},A=()=>{c.length!==0&&(t(c),s())},ce=()=>{window.confirm("Are you sure you want to delete ALL existing schedule items? This action cannot be undone.")&&i()},T=()=>{u(null),f([]),b(null),w([]),S(""),s()};return e?a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Import Excel File"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:475,columnNumber:11},void 0),a.jsxDEV("button",{onClick:T,className:"text-gray-400 hover:text-white text-2xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:476,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:474,columnNumber:9},void 0),a.jsxDEV("div",{className:"space-y-4",children:[c.length===0&&a.jsxDEV("div",{className:"bg-red-900/20 border border-red-600 rounded-md p-4",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-red-400 font-semibold mb-1",children:"Clear Existing Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:490,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-gray-300 text-sm",children:"Delete all existing schedule items before importing new data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:491,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:489,columnNumber:17},void 0),a.jsxDEV("button",{onClick:ce,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition-colors",children:"Delete All Rows"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:493,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:488,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:487,columnNumber:13},void 0),c.length===0&&a.jsxDEV("div",{className:"bg-slate-700 p-4 rounded-md",children:[a.jsxDEV("h3",{className:"text-white font-semibold mb-2",children:"Excel File Format Requirements:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:506,columnNumber:15},void 0),a.jsxDEV("ul",{className:"text-gray-300 text-sm space-y-1",children:[a.jsxDEV("li",{children:" Headers should be in row 11, data should start from row 12"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:508,columnNumber:17},void 0),a.jsxDEV("li",{children:" Expected columns: A=CUE, C=Program Type, D=Duration, J=Segment Name, K=Shot Type+PPT+QA, L=Notes, N=Assets, V-AB=Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:509,columnNumber:17},void 0),a.jsxDEV("li",{children:' "Pod Transition" will be converted to "Podium Transition"'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:510,columnNumber:17},void 0),a.jsxDEV("li",{children:" Excel decimal time format (0.002083...) will be converted to HH:MM:SS"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:511,columnNumber:17},void 0),a.jsxDEV("li",{children:" Speaker format: Name, Title, [Org], Photo URL (with line breaks). Use *P* (Podium), *M* (Moderator), *V* (Virtual) prefixes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:512,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:507,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:505,columnNumber:13},void 0),c.length===0&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Select Excel File (.xlsx, .xls)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:520,columnNumber:15},void 0),a.jsxDEV("input",{ref:R,type:"file",accept:".xlsx,.xls",onChange:X,className:"block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:523,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:519,columnNumber:13},void 0),o&&c.length===0&&a.jsxDEV("div",{className:"bg-slate-700 p-3 rounded-md",children:[a.jsxDEV("p",{className:"text-white text-sm",children:[a.jsxDEV("strong",{children:"Selected file:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:537,columnNumber:17},void 0)," ",o.name]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:536,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-gray-300 text-sm",children:[a.jsxDEV("strong",{children:"Size:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:540,columnNumber:17},void 0)," ",(o.size/1024).toFixed(2)," KB"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:539,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:535,columnNumber:13},void 0),O.length>1&&c.length===0&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:["Select Sheet (",O.length," sheets found)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:548,columnNumber:15},void 0),a.jsxDEV("select",{value:C,onChange:H=>S(H.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:O.map(H=>a.jsxDEV("option",{value:H,children:H},H,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:557,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:551,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:547,columnNumber:13},void 0),c.length===0&&a.jsxDEV("div",{className:"flex justify-center gap-4",children:[a.jsxDEV("button",{onClick:O.length>1?z:K,disabled:!o||h||O.length>1&&!C,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-md transition-colors",children:h?"Parsing...":"Parse Excel File"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:568,columnNumber:15},void 0),a.jsxDEV("button",{onClick:T,className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-md transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:575,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:567,columnNumber:13},void 0),v&&a.jsxDEV("div",{className:"bg-red-600 text-white p-3 rounded-md",children:[a.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:587,columnNumber:15},void 0)," ",v]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:586,columnNumber:13},void 0),c.length>0&&a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-3",children:["Preview (",c.length," rows found)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:594,columnNumber:15},void 0),a.jsxDEV("div",{className:"border border-slate-600 rounded-md bg-slate-700 max-h-96 overflow-auto",children:a.jsxDEV("table",{className:"w-full",children:[a.jsxDEV("thead",{className:"sticky top-0 bg-slate-600",children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:603,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:604,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Segment Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:605,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:606,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Shot Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:607,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"PPT/QA"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:608,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Program Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:609,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Notes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:610,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm border-r border-slate-500",children:"Assets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:611,columnNumber:23},void 0),a.jsxDEV("th",{className:"px-3 py-2 text-left text-white text-sm",children:"Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:612,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:602,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:601,columnNumber:19},void 0),a.jsxDEV("tbody",{children:c.map((H,Z)=>a.jsxDEV("tr",{className:"border-t border-slate-600 hover:bg-slate-600",children:[a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:H.row},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:618,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:H.cue},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:619,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:H.segmentName},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:620,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:H.duration},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:621,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:H.shotType},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:622,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:[H.hasPPT&&"PPT ",H.hasQA&&"QA",!H.hasPPT&&!H.hasQA&&"-"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:623,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:H.programType},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:628,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:H.notes?H.notes.length>30?`${H.notes.substring(0,30)}...`:H.notes:"None"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:629,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm border-r border-slate-500",children:H.assets?H.assets.length>30?`${H.assets.substring(0,30)}...`:H.assets:"None"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:632,columnNumber:25},void 0),a.jsxDEV("td",{className:"px-3 py-2 text-white text-sm",children:H.speakers?(()=>{try{const W=JSON.parse(H.speakers);return W.length>0?a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("div",{className:"font-medium",children:[W.length," speaker(s)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:642,columnNumber:37},void 0),W.map((M,Ce)=>a.jsxDEV("div",{className:"text-xs text-gray-300",children:[a.jsxDEV("div",{children:[" ",M.fullName," (",M.location,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:645,columnNumber:41},void 0),a.jsxDEV("div",{className:"text-gray-400",children:["  ",M.title]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:646,columnNumber:41},void 0),M.org&&a.jsxDEV("div",{className:"text-gray-400",children:["  ",M.org]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:647,columnNumber:57},void 0),M.photoUrl&&a.jsxDEV("div",{className:"text-blue-300 text-xs truncate max-w-xs",children:[" ",M.photoUrl.length>40?`${M.photoUrl.substring(0,40)}...`:M.photoUrl]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:649,columnNumber:43},void 0)]},Ce,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:644,columnNumber:39},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:641,columnNumber:35},void 0):"None"}catch{return"None"}})():"None"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:635,columnNumber:25},void 0)]},Z,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:617,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:615,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:600,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:599,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex justify-center gap-4 mt-4",children:[a.jsxDEV("button",{onClick:A,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition-colors",children:["Import ",c.length," Items"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:672,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{u(null),f([]),b(null),R.current&&(R.current.value="")},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:"Import Another File"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:678,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:671,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:593,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:484,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:473,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/ExcelImportModal.tsx",lineNumber:472,columnNumber:5},void 0):null},o9=()=>{const e=Js(),s=Ai();let t=e.state?.event,i=e.state?.userRole;const{user:o,loading:u}=Do(),[c,f]=E.useState("VIEWER"),[h,x]=E.useState(!1),[v,b]=E.useState(!1),[O,w]=E.useState([]),[C,S]=E.useState([]),[R,X]=E.useState(!1),[G,k]=E.useState(new Map),ie=E.useRef(new Map),K=E.useRef(new Set),z=(p,y,D)=>{if(c!=="EDITOR"&&c!=="OPERATOR"||!o||!t?.id){console.log(" Not logging change - missing requirements:",{role:c,user:!!o,event:!!t?.id});return}let U=y,Y,se;D?.itemId&&(Y=T.findIndex(je=>je.id===D.itemId)+1,se=T.find(je=>je.id===D.itemId)?.customFields?.cue||"CUE",U=`ROW ${Y} - ${cs(se)}: ${y}`),Is.addChange({eventId:t.id,userId:o.id,userName:o.full_name||o.email||"Unknown",userRole:c,action:p,description:U,details:D,rowNumber:Y,cueNumber:se,segmentName:D?.itemName||D?.segmentName});const ve=Is.getLocalChanges();w(ve.slice(0,100)),console.log(" Change logged to buffer:",U)},A=(p,y,D,U)=>{if(c!=="EDITOR"&&c!=="OPERATOR"){console.log(" Not logging change - user role is not EDITOR or OPERATOR:",c);return}const Y=U?.fieldName?.includes("Name")||U?.fieldName?.includes("segmentName")||U?.fieldName?.includes("cue")||U?.fieldName?.includes("custom"),se=Y?`text_${U?.itemId}_${U?.fieldName}`:p,ve=ie.current.get(se);ve&&(clearTimeout(ve),ie.current.delete(se)),k(ot=>{const xt=new Map(ot);for(const[Vt,Bt]of xt.entries())Bt.originalKey===se&&xt.delete(Vt);return xt});let Pe=D,je={...U};if(U?.itemId){const ot=T.findIndex(Bt=>Bt.id===U.itemId)+1,Vt=T.find(Bt=>Bt.id===U.itemId)?.customFields?.cue||"CUE";Pe=`ROW ${ot} - ${cs(Vt)}: ${D}`,je={...U,rowNumber:ot,cueNumber:Vt}}if(Y)k(ot=>{const xt=new Map(ot);for(const[Bt,ns]of xt.entries())ns.originalKey===se&&xt.delete(Bt);const Vt=`${se}_${Date.now()}`;return xt.set(Vt,{action:y,description:Pe,details:je,timestamp:new Date,user:o?.full_name||o?.email||"Unknown User",originalKey:se}),console.log(" Updated text field pending change:",Vt,"for baseKey:",se),console.log(" Total pending changes:",xt.size),console.log(" Pending change details:",{action:y,description:Pe,baseKey:se,uniqueKey:Vt}),xt});else{const ot=`${se}_${Date.now()}`;k(xt=>{const Vt=new Map(xt.set(ot,{action:y,description:Pe,details:je,timestamp:new Date,user:o?.full_name||o?.email||"Unknown User",originalKey:se}));return console.log(" Added pending change:",ot,"for baseKey:",se),console.log(" Total pending changes:",Vt.size),console.log(" Pending change details:",{action:y,description:Pe,baseKey:se,uniqueKey:ot}),Vt})}const st=setTimeout(async()=>{console.log(" TIMEOUT FIRED for baseKey:",se),k(ot=>{let xt=null,Vt=null;console.log(" TIMEOUT: Looking for baseKey:",se),console.log(" TIMEOUT: Available pending changes:",Array.from(ot.entries()).map(([ns,ts])=>({key:ns,originalKey:ts.originalKey})));for(const[ns,ts]of ot.entries())if(ts.originalKey===se){xt=ts,Vt=ns,console.log(" TIMEOUT: Found match - key:",ns,"originalKey:",ts.originalKey);break}console.log(" TIMEOUT: Found pending change:",xt?"YES":"NO"),console.log(" TIMEOUT: Change key:",Vt),console.log(" TIMEOUT: Has change key in prev:",ot.has(Vt||""));const Bt=`${se}-${xt?.timestamp?.getTime()||Date.now()}`;if(console.log(" TIMEOUT: Change ID:",Bt),console.log(" TIMEOUT: Already processed:",K.current.has(Bt)),xt&&Vt&&ot.has(Vt)&&o&&t?.id&&!K.current.has(Bt)){console.log(" TIMEOUT: Processing change..."),K.current.add(Bt);const ns={eventId:t.id,userId:o.id,userName:o.full_name||o.email||"Unknown",userRole:c||"VIEWER",action:xt?.action||"unknown",description:xt?.description||"unknown",details:xt?.details||{},rowNumber:xt?.details?.rowNumber,cueNumber:xt?.details?.cueNumber,segmentName:xt?.details?.itemName||xt?.details?.segmentName};console.log(" Adding change to service:",ns),Is.addChange(ns);const ts=Is.getLocalChanges();console.log(" Local changes after adding to service:",ts.length),console.log(" Latest change:",ts[ts.length-1]),console.log(" Current changeLog state length:",O.length),w(ts.slice(0,100)),console.log(" Set changeLog to:",ts.slice(0,100).length,"changes"),console.log(" Debounced change logged to change log service:",xt?.description||"unknown"),console.log(" Removed pending change from queue:",Vt),console.log(" Auto-syncing changes after timeout... (with 3s additional delay)"),setTimeout(()=>{Bu().then(()=>{console.log(" Auto-sync completed after timeout + 3s delay"),or(!0),console.log(" Set skipNextSync flag to prevent false reset")}).catch(Oa=>{console.error(" Auto-sync failed after timeout + 3s delay:",Oa)})},3e3),ie.current.delete(se);const qn=new Map(ot);return qn.delete(Vt),console.log(" Pending changes after removal:",qn.size),console.log(" Remaining pending keys:",Array.from(qn.keys())),qn}else{ie.current.delete(se),K.current.has(Bt)?console.log(" Prevented duplicate processing of change:",Bt):console.log(" Pending change already processed or removed:",se);const ns=Date.now(),ts=new Map(ot);let qn=0;for(const[Oa,Yu]of ts.entries()){const jo=ns-Yu.timestamp.getTime();jo>15e3&&(console.log(" Removing stale pending change:",Oa,"age:",jo+"ms"),ts.delete(Oa),qn++)}return qn>0?(console.log(" Removed",qn,"stale pending changes"),ts):ot}})},5e3);ie.current.set(se,st),console.log(" Set timeout for baseKey:",se,"in",5e3,"ms"),console.log(" Total active timeouts:",ie.current.size)},ce=async()=>{console.log(" Finalizing all pending changes...");const p=Array.from(G.entries());if(p.length===0){console.log(" No pending changes to finalize");return}ie.current.forEach(U=>{clearTimeout(U)}),ie.current.clear(),console.log(` Processing ${p.length} pending changes immediately...`);const y=new Set;for(const[U,Y]of p)if(Y&&o&&t?.id){const se=`${Y.originalKey||U}-${Y.timestamp.getTime()}`;if(K.current.has(se)){console.log(" Skipping already processed change:",se);continue}K.current.add(se),y.add(se);let ve=Y.description,Pe,je;Y.details?.itemId&&(Pe=T.findIndex(ot=>ot.id===Y.details.itemId)+1,je=T.find(ot=>ot.id===Y.details.itemId)?.customFields?.cue||"CUE",ve=`ROW ${Pe} - ${cs(je)}: ${Y.description}`),Is.addChange({eventId:t.id,userId:o.id,userName:o.full_name||o.email||"Unknown",userRole:c||"VIEWER",action:Y.action,description:ve,details:Y.details,rowNumber:Pe,cueNumber:je,segmentName:Y.details?.itemName||Y.details?.segmentName}),console.log(" Processed pending change immediately:",ve)}k(new Map);const D=Is.getLocalChanges();w(D.slice(0,100)),console.log(` All ${y.size} pending changes processed immediately`),console.log(" Auto-syncing changes after manual finalization...");try{await Bu(),console.log(" Auto-sync completed after manual finalization")}catch(U){console.error(" Auto-sync failed after manual finalization:",U)}setTimeout(()=>{y.forEach(U=>{K.current.delete(U)}),console.log(" Cleaned up processed change tracking for",y.size,"changes")},6e4)};if(E.useEffect(()=>()=>{ie.current.forEach(p=>clearTimeout(p))},[]),E.useEffect(()=>{const p=setInterval(()=>{k(y=>{const D=Date.now(),U=new Map(y);let Y=0;for(const[se,ve]of U.entries()){const Pe=D-ve.timestamp.getTime();Pe>2e4&&(console.log(" Periodic cleanup: Removing stale pending change:",se,"age:",Pe+"ms"),U.delete(se),Y++)}return Y>0&&console.log(" Periodic cleanup: Removed",Y,"stale pending changes"),U})},5e3);return()=>clearInterval(p)},[]),E.useEffect(()=>{const p=Is.getChangesCount().unsynced;jt(p)},[O,G]),!t){const p=localStorage.getItem("events");if(p){const y=JSON.parse(p);t=y[y.length-1]}}Math.random()<.01&&(console.log("Event from location.state:",e.state?.event),console.log("Final event data:",t));const[T,H]=E.useState([]),[Z,W]=E.useState([]),[M,Ce]=E.useState({}),[De,we]=E.useState(t?.name||""),[ge,He]=E.useState(""),[ue,ke]=E.useState({}),[Ue,te]=E.useState(1),[le,pe]=E.useState(null),[de,oe]=E.useState(!1),[Q,_]=E.useState({show:!1}),[J,L]=E.useState(!1),[he,q]=E.useState(!1),[Xe,Ke]=E.useState(null),[Dt,St]=E.useState(!1),[it,tr]=E.useState(!1),[Jt,et]=E.useState(null),[ft,Fe]=E.useState(!1),[ct,vt]=E.useState(null),[mt,At]=E.useState([]),[hr,pr]=E.useState(!1),[rr,qe]=E.useState(null),[ut,Ct]=E.useState(!1),[$e,nt]=E.useState(null),[yt,It]=E.useState(!1),[_e,Ze]=E.useState(null),[be,Ge]=E.useState([]),[We,Ot]=E.useState({}),[Pt,xr]=E.useState({}),[Sr,Or]=E.useState({}),[ws,lr]=E.useState({}),[Mt,sr]=E.useState({}),[Ut,ar]=E.useState(null),[zr,Xs]=E.useState(null),[Se,V]=E.useState(!1),[re,ee]=E.useState(null),[ae,I]=E.useState(null),[F,me]=E.useState(null),[Ee,xe]=E.useState({}),[Ne,ye]=E.useState({}),[ze,tt]=E.useState(new Set),[Ve,at]=E.useState({activeTimer:null}),[pt,ht]=E.useState({elapsed:0,total:0}),[Xt,vr]=E.useState(0),[Kr,Vn]=E.useState(null),[ba,is]=E.useState({}),[pn,ss]=E.useState(!1),[$r,Nc]=E.useState(null),[Oo,yo]=E.useState(null),[bl,jn]=E.useState(!1),[Ln,sa]=E.useState(""),[Fi,di]=E.useState(!1),[Eo,$i]=E.useState(!1),[Dc,Co]=E.useState(!1),[ju,fi]=E.useState(!1),[Bi,Xi]=E.useState(!1),[yr,Sc]=E.useState(!1),[Na,Kt]=E.useState([]),[Oc,ks]=E.useState({totalBackups:0,lastBackup:null,autoBackups:0,manualBackups:0}),[Hi,na]=E.useState(!1),[hn,vs]=E.useState(null),[jr,yc]=E.useState(!0),[vn,Qs]=E.useState(null),[zt,gn]=E.useState({start:!0,programType:!0,duration:!0,segmentName:!0,shotType:!0,pptQA:!0,notes:!0,assets:!0,participants:!1,speakers:!0,public:!0,custom:!0}),[mi,wo]=E.useState({}),[fr,ko]=E.useState({start:128,programType:224,duration:224,segmentName:320,shotType:192,pptQA:192,notes:384,assets:192,participants:256,speakers:384,public:128}),[Ro,pi]=E.useState({}),[Rs,To]=E.useState(!1);E.useEffect(()=>{const p=localStorage.getItem(`followEnabled_${t?.id}`);p!==null&&To(p==="true")},[t?.id]),E.useEffect(()=>{localStorage.setItem(`followEnabled_${t?.id}`,Rs.toString())},[Rs,t?.id]),E.useEffect(()=>{Rs&&F&&setTimeout(()=>{const p=document.querySelector(`[data-item-id="${F}"]`);if(p){const y=p.getBoundingClientRect(),D=window.pageYOffset||document.documentElement.scrollTop,U=y.top+D,Y=document.querySelector("#main-scroll-container .h-24");let se=100;Y&&(se=Y.getBoundingClientRect().height+20);const Pe=U-se-230;window.scrollTo({top:Math.max(0,Pe),behavior:"smooth"}),console.log(" Follow: Scrolled to active item:",F,"position:",Pe)}},150)},[F,Rs]);const[Da,Zs]=E.useState(new Set),cs=p=>p?p.includes("CUE ")?p:p.match(/^CUE\d+$/)?p.replace(/^CUE(\d+)$/,"CUE $1"):`CUE ${p}`:"CUE",[Gi,aa]=E.useState(new Set),[Nl,ia]=E.useState(null),[Ec,B]=E.useState(!1),[Oe,Me]=E.useState(!1),[Ye,gt]=E.useState(!0),[$t,jt]=E.useState(0),[Ht,mr]=E.useState(null),[Er,Hr]=E.useState(0),[Gr,or]=E.useState(!1),[cr,Yr]=E.useState(!1),[Yn,hi]=E.useState(null),[Aa,vi]=E.useState(20),[Dl,Po]=E.useState(!1),Ma=E.useRef(null),Lu=E.useRef(null),Cc=E.useRef(null),gs=E.useRef({isDragging:!1,startX:0,scrollLeft:0,container:null}),Br=()=>{console.log(" User started editing - pausing sync"),Yr(!0),Yn&&clearTimeout(Yn);const p=setTimeout(()=>{console.log(" User stopped editing - resuming sync"),Yr(!1),Sl()},5e3);hi(p)},xn=()=>{console.log(" Modal opened - pausing sync until closed"),Yr(!0),Yn&&(clearTimeout(Yn),hi(null))},Sl=E.useCallback(()=>{Ma.current&&clearInterval(Ma.current),vi(20),Po(!1);const p=setInterval(()=>{vi(y=>y<=1?(console.log(" Countdown sync: Triggering WebSocket sync request"),Po(!0),bt&&t?.id&&(bt.emitSyncRequest(),console.log(" Countdown sync: Emitted sync request via WebSocket")),setTimeout(()=>{Po(!1),vi(20)},3e3),0):y-1)},1e3);Ma.current=p},[bt,t?.id]),tm=E.useCallback(()=>{Ma.current&&(clearInterval(Ma.current),Ma.current=null),vi(20),Po(!1)},[]),es=()=>{console.log(" Modal closed - resuming sync in 5 seconds");const p=setTimeout(()=>{console.log(" User stopped editing - resuming sync"),Yr(!1),Sl()},5e3);hi(p)};E.useEffect(()=>{if(u){console.log(" Authentication still loading, waiting...");return}o&&t?.id?(async()=>{try{console.log(" Loading role from API for user:",o.id,"event:",t.id);const y=await Nt.getCurrentUserSession(o.id,t.id);if(console.log(" User session from API:",y),y&&y.event_id===t.id&&y.role)return f(y.role),console.log(" Loaded role from localStorage:",y.role),localStorage.setItem(`userRole_${t.id}`,y.role),console.log(" Updated localStorage with role:",y.role),!0;console.log(" No valid role found in localStorage:",{hasSession:!!y,eventIdMatch:y?.event_id===t.id,hasRole:!!y?.role,userSessionEventId:y?.event_id,currentEventId:t.id,userRole:y?.role})}catch(y){console.log(" Failed to load role from API:",y)}return!1})().then(y=>{if(y){console.log(" Using role from API");return}if(i&&["VIEWER","EDITOR","OPERATOR"].includes(i)){f(i),Nt.saveUserSession(t.id,o.id,o.full_name||o.email||"Unknown",i).then(se=>{se?console.log(" Role saved to API from navigation state:",i):console.log(" Failed to save role to API, using localStorage only")}),localStorage.setItem(`userRole_${t.id}`,i),console.log(" Saved role to localStorage:",i),console.log(" Using role from navigation state (no API role found):",i);return}const D=localStorage.getItem(`userRole_${t.id}`);if(console.log(" Checking localStorage for role:",{eventId:t.id,savedRole:D}),D&&["VIEWER","EDITOR","OPERATOR"].includes(D)){f(D),console.log(" Using role from localStorage fallback:",D),Nt.saveUserSession(t.id,o.id,o.full_name||o.email||"Unknown",D).then(se=>{se?console.log(" Role synced to API from localStorage:",D):console.log(" Failed to sync role to API, keeping localStorage only")});return}const U=Object.keys(localStorage),Y=U.filter(se=>se.startsWith("userRole_"));if(console.log(" Checking all localStorage role keys:",Y),console.log(" Current event ID:",t.id),console.log(" All localStorage keys:",U),Y.length>0){const se=Y[Y.length-1],ve=localStorage.getItem(se);if(console.log(" Found latest role in localStorage:",{key:se,role:ve}),ve&&["VIEWER","EDITOR","OPERATOR"].includes(ve)){f(ve),console.log(" Using latest role from localStorage:",ve),localStorage.setItem(`userRole_${t.id}`,ve),Nt.saveUserSession(t.id,o.id,o.full_name||o.email||"Unknown",ve).then(Pe=>{Pe?console.log(" Role synced to API from latest localStorage:",ve):console.log(" Failed to sync role to API, keeping localStorage only")});return}}console.log(" No role found, showing role selection modal"),x(!0)}):!o&&t?.id&&(console.log(" No user authenticated, defaulting to VIEWER role"),f("VIEWER"))},[o,t?.id,u,i,s]),E.useEffect(()=>{if(t?.id){console.log(" Loading change log data for event:",t.id),Is.reloadLocalChanges();const p=Is.getLocalChanges();w(p.slice(0,100)),console.log(" Loaded local changes:",p.length),$u(),Ia(),us(),El(),Rc(),nh();const y=setInterval(()=>{const D=Is.getLocalChanges();w(D.slice(0,100))},2e3);return()=>clearInterval(y)}},[t?.id]);const[sh,Ol]=E.useState(!1),[yl,Au]=E.useState(null),[rm,wc]=E.useState(!1);E.useEffect(()=>{t?.id&&T.length>0&&!rm&&(console.log(" Schedule loaded, checking for running timers for event:",t.id),ah(),wc(!0))},[t?.id,T.length,rm]);const sm=async()=>{if(t?.id)try{const p=await Es.getCompletedCues(t.id);if(p){const y={};p.forEach(D=>{D.item_id&&(y[D.item_id]=!0)}),lr(y),console.log(" Synced completed cues:",y)}}catch(p){console.warn(" Error syncing completed cues:",p)}},bn=async()=>{if(t?.id)try{await Rc()}catch(p){console.warn(" Error syncing sub-cue timers:",p)}};E.useEffect(()=>{t?.id&&sm()},[t?.id]),E.useEffect(()=>{t?.id&&bn()},[t?.id]),E.useEffect(()=>{if(!t?.id||!o?.id)return;(async()=>{try{const y=await Es.getActiveTimers(t.id);if(!y){console.warn(" No timer data found");return}const D=y?.[0];if(D&&D.user_id===o.id)return;if(D){const U=D.timer_state||"unknown",Y=parseInt(D.item_id),se=D.is_active,ve=D.started_at;let Pe=U;if((U==="unknown"||!U)&&(se&&ve?Pe="running":se?Pe="loaded":Pe="stopped"),Pe==="running"){me(Y),is(ot=>({...ot,[Y]:!0})),Ot(ot=>({...ot,[Y]:!0}));const je=T.findIndex(ot=>ot.id===Y),st=new Set;if(je!==-1)for(let ot=je+1;ot<T.length&&T[ot].isIndented;ot++)st.add(T[ot].id);aa(st),ia(Y)}else if(Pe==="loaded"){me(Y),is(ot=>({...ot,[Y]:!0})),Ot({});const je=T.findIndex(ot=>ot.id===Y),st=new Set;if(je!==-1)for(let ot=je+1;ot<T.length&&T[ot].isIndented;ot++)st.add(T[ot].id);aa(st),ia(Y)}else Pe==="stopped"&&(me(null),is({}),Ot({}),aa(new Set),ia(null))}else me(null),is({}),Ot({}),aa(new Set),ia(null)}catch(y){console.warn(" Top text sync error:",y)}})()},[t?.id,o?.id,T]),E.useEffect(()=>{if(!t?.id||!o)return;console.log(" Setting up real-time WebSocket sync with 5-second reliability check");const p=setInterval(()=>{console.log(" 5s reliability: Ensuring WebSocket updates are processed"),pe(y=>y)},5e3);return()=>{console.log(" Cleaning up 5-second reliability check timer"),clearInterval(p)}},[t?.id,o?.id]),E.useEffect(()=>()=>{console.log(" Cleaning up on component unmount")},[]),E.useEffect(()=>{if(t?.id&&o?.id&&c&&c!=="VIEWER"){console.log(" Saving current role to API:",c);try{const p=o.full_name||o.email||"Unknown";Nt.saveUserSession(t.id,o.id,p,c),console.log(" Role saved to API:",c)}catch(p){console.error(" Failed to save role to API:",p)}}},[t?.id,o?.id,c]),E.useEffect(()=>()=>{if(t?.id&&o?.id&&c&&c!=="VIEWER"){console.log(" Saving current role to API before navigating away:",c);try{const p=o.full_name||o.email||"Unknown";Nt.saveUserSession(t.id,o.id,p,c),console.log(" Role saved to API on navigation away:",c)}catch(p){console.error(" Failed to save role to API on navigation away:",p)}}},[t?.id,o?.id,c]);const Ia=async()=>{if(t?.id)try{console.log(" Loading completed cues from API for event:",t.id);const p=await Nt.getCompletedCues(t.id);if(p&&p.length>0){console.log(" Found completed cues:",p);const y={};p.forEach(D=>{if(D.item_id){if(F&&D.item_id===F){console.log(" Skipping currently loaded cue from completed cues:",D.item_id);return}y[D.item_id]=!0}}),lr(y),console.log(" Set completedCues state:",y)}else console.log(" No completed cues found")}catch(p){console.error(" Error loading completed cues from API:",p),console.log(" This means the completed_cues table or functions need to be created first"),console.log(" Please check your Neon database setup")}},us=async()=>{if(t?.id)try{console.log(" Loading indented cues from API for event:",t.id);const p=await Nt.getIndentedCues(t.id);if(p&&p.length>0){console.log(" Found indented cues:",p);const y={};p.forEach(D=>{D.item_id&&D.parent_item_id&&(y[D.item_id]={parentId:D.parent_item_id,userId:D.user_id||"",userName:D.user_name||""})}),sr(y),console.log(" Set indentedCues state:",y)}else console.log(" No indented cues found"),sr({})}catch(p){console.error(" Error loading indented cues from API:",p),console.log(" This means the indented_cues table or functions need to be created first"),console.log(" Please check your Neon database setup")}},Fa=p=>{const y=T.findIndex(D=>D.id===p);if(y===-1)return null;for(let D=y-1;D>=0;D--){const U=T[D];if(!Mt[U.id])return U.id}return null},Mu=async p=>{if(!(!t?.id||!o?.id))try{if(Mt[p])console.log(" Removing indented status for item:",p),await Nt.unmarkCueIndented(t.id,p)&&(sr(D=>{const U={...D};return delete U[p],U}),console.log(" Successfully removed indented status"));else{const y=Fa(p);if(!y){console.log(" No parent cue found for item:",p);return}console.log(" Adding indented status for item:",p,"with parent:",y),await Nt.markCueIndented(t.id,p,y,o.id,o.name||"Unknown User",c||"VIEWER")&&(sr(U=>({...U,[p]:{parentId:y,userId:o.id,userName:o.name||"Unknown User"}})),console.log(" Successfully added indented status"))}}catch(y){console.error(" Error toggling indented status:",y)}};E.useCallback(()=>t?.id?(console.log(" Starting countdown sync for Browser B"),setInterval(async()=>{try{const y=await Nt.getActiveTimer(t.id);y&&y.timer_state==="running"&&y.started_at&&y.elapsed_seconds!==void 0&&y.duration_seconds!==void 0&&xe(D=>({...D,[y.item_id]:{elapsed:y.elapsed_seconds,total:y.duration_seconds,startedAt:new Date(y.started_at)}}))}catch(y){console.warn(" Failed to sync countdown from server:",y)}},1e3)):void 0,[t?.id]),E.useEffect(()=>{!t?.id||o?.id},[t?.id,o?.id]);const kc=async()=>{if(t?.id)try{console.log(" Checking for active timer in API for event:",t.id);const p=await Nt.getActiveTimer(t.id);if(console.log(" API response:",p),p){if(console.log(" Loading timer from API:",p),me(p.item_id),is(D=>({...D,[p.item_id]:!0})),p.timer_state==="running"){console.log(" Timer is running, setting up with server timing"),xe(U=>({...U,[p.item_id]:{elapsed:p.elapsed_seconds,total:p.duration_seconds,startedAt:new Date(p.started_at)}}));const D=setInterval(async()=>{try{const U=await Nt.getActiveTimer(t.id);U&&U.item_id===p.item_id&&xe(Y=>({...Y,[p.item_id]:{elapsed:U.elapsed_seconds,total:U.duration_seconds,startedAt:new Date(U.started_at)}}))}catch(U){console.warn(" Failed to sync timer from server:",U)}},1e3);xr(U=>({...U,[p.item_id]:D}))}else p.timer_state==="loaded"&&(console.log(" Timer is loaded but not started"),xe(D=>({...D,[p.item_id]:{elapsed:0,total:p.duration_seconds,startedAt:null}})),Object.keys(We).forEach(D=>{We[parseInt(D)]&&clearInterval(Pt[parseInt(D)])}),Ot({}));if(T.find(D=>D.id===p.item_id)){const D=T.findIndex(Y=>Y.id===p.item_id),U=new Set;if(D!==-1)for(let Y=D+1;Y<T.length&&T[Y].isIndented;Y++)U.add(T[Y].id);aa(U)}console.log(" Active timer loaded from API with accurate timing")}else{console.log(" No active timer found in API - checking for recently completed cues");let y=!0;try{const D=[];if(D&&D.length>0){console.log(" Found recent timer actions:",D);const U=D.filter(se=>se.action_type==="LOAD_CUE"&&new Date(se.action_timestamp).getTime()>Date.now()-5e3);console.log(" Recent LOAD_CUE actions found:",U.length,U),U.length>0&&(console.log(" Recent LOAD_CUE action found, keeping local state"),y=!1);const Y=D.filter(se=>se.action_type==="STOP_TIMER"&&new Date(se.action_timestamp).getTime()>Date.now()-3e4);Y.length>0&&(console.log(" Found recent stop actions, updating completed cues:",Y),Y.forEach(se=>{if(se.item_id){lr(Pe=>({...Pe,[se.item_id]:!0})),Zs(Pe=>new Set([...Pe,se.item_id]));const ve=T.findIndex(Pe=>Pe.id===se.item_id);if(ve!==-1)for(let Pe=ve+1;Pe<T.length&&T[Pe].isIndented;Pe++)lr(je=>({...je,[T[Pe].id]:!0})),Zs(je=>new Set([...je,T[Pe].id]))}}))}}catch(D){console.warn(" Failed to check for recent timer actions:",D)}y&&!F?(console.log(" No recent LOAD_CUE actions and no active item, clearing local timer state"),me(null),is({}),xe({}),Object.keys(We).forEach(D=>{We[parseInt(D)]&&clearInterval(Pt[parseInt(D)])}),Ot({})):console.log(y&&F?" No recent LOAD_CUE actions but active item exists, keeping loaded state - activeItemId:":" Recent LOAD_CUE action found, keeping local state - activeItemId:",F)}}catch(p){console.error(" Error loading active timer from API:",p)}},Rc=async()=>{t?.id},El=async()=>{if(t?.id)try{const{data:p,error:y}=await Nt.getActiveSubCueTimers(t.id);if(y){console.error(" Error loading sub-cue timers:",y);return}p&&p.length>0&&(console.log(" Loaded sub-cue timers from API:",p),console.log(" Setting up sub-cue timer states..."),p.forEach(D=>{const U=D.item_id,Y=D.duration_seconds||0;if(console.log(` Setting up sub-cue timer for item ${U}:`,{elapsed:D.elapsed_seconds||0,total:Y,startedAt:D.started_at?new Date(D.started_at):null,timer_state:D.timer_state}),ye(se=>({...se,[U]:{elapsed:D.elapsed_seconds||0,total:Y,startedAt:D.started_at?new Date(D.started_at):null}})),D.timer_state==="running"){console.log(` Starting local timer interval for sub-cue item ${U}`);const se=setInterval(()=>{ye(ve=>{if(ve[U]&&ve[U].startedAt){const Pe=ve[U].startedAt,je=Pe instanceof Date?Pe.getTime():new Date(Pe).getTime(),st=Math.floor((Date.now()-je)/1e3);return{...ve,[U]:{...ve[U],elapsed:st}}}return ve})},100);Or(ve=>(console.log(` Setting sub-cue timer state for item ${U}`),{...ve,[U]:se}))}else console.log(` Sub-cue timer for item ${U} is not running, state: ${D.timer_state}`)}))}catch(p){console.error(" Error loading sub-cue timers:",p)}},nh=async()=>{if(t?.id){console.log(" Testing database connection...");try{const{data:p,error:y}=await Nt.getLastLoadedCue(t.id);y?(console.error(" Database test failed:",y),console.log(" This means the SQL migration needs to be run first"),console.log(" Please check your Neon database setup")):(console.log(" Database connection test passed"),console.log(" Test data received:",p))}catch(p){console.error(" Database connection test error:",p)}}},ah=async()=>{if(!t?.id){console.log(" No event ID for checking running timers");return}console.log(" Checking for running timers for event:",t.id);try{console.log(" Using fallback timer detection..."),Au({cueName:"Timer Detected",remainingTime:"Check Console"}),Ol(!0),console.log(" Fallback timer popup shown")}catch(p){console.error(" Error checking running timers:",p)}},Iu=async()=>{if(console.log(" Master sync: Getting active timer from database..."),!t?.id){console.warn(" No event selected for sync");return}try{const p=await Nt.getActiveTimer(t.id);if(!p){console.log(" No active timer found in database");return}console.log(" Found active timer in database:",p);const y=new Date,D=Math.floor(y.getTime()/1e3),U=new Date(p.started_at),Y=Math.floor(U.getTime()/1e3),se=p.duration_seconds||0,ve=p.is_running;if(console.log(" Timer calculation:",{currentTime:D,startTimeSeconds:Y,durationSeconds:se,isRunning:ve,currentTimeFormatted:y.toISOString(),startTimeFormatted:U.toISOString()}),me(p.item_id),ve){const Pe=D-Y,je=se-Pe;if(console.log(" Time calculation for running timer:",{elapsedSeconds:Pe,remainingSeconds:je,isOverdue:je<0}),xe(st=>({...st,[p.item_id]:{elapsed:Pe,total:se,startedAt:U}})),je!==0){je>0?console.log(` Timer synced: ${je} seconds remaining - starting countdown`):console.log(` Timer synced: ${Math.abs(je)} seconds overdue - starting count up`),We[p.item_id]&&clearInterval(Pt[p.item_id]);const st=setInterval(()=>{xe(ot=>{const xt=ot[p.item_id];if(!xt)return ot;const Vt=xt.elapsed+1,Bt=xt.total-Vt;return Bt>0?console.log(` Timer countdown: ${Bt} seconds remaining`):console.log(Bt===0?" Timer just expired":` Timer count up: ${Math.abs(Bt)} seconds overdue`),{...ot,[p.item_id]:{...xt,elapsed:Vt}}})},1e3);xr(ot=>({...ot,[p.item_id]:st}))}else console.log(" Timer just expired")}else console.log(" Timer is loaded but not running - setting duration only"),xe(Pe=>({...Pe,[p.item_id]:{elapsed:0,total:se,startedAt:null}})),console.log(` Timer synced: Set loaded duration to ${se} seconds`)}catch(p){console.error(" Error during master sync:",p)}},Fu=async()=>{if(!(!t?.id||!o?.id))try{console.log(" Backing up schedule data..."),await Nt.saveRunOfShowData({event_id:t.id,event_name:t.name,event_date:t.date,schedule_items:T,custom_columns:Z,settings:{}}),console.log(" Schedule data backed up")}catch(p){console.error(" Error backing up schedule data:",p)}},$u=async()=>{if(!t?.id){console.log(" No event ID for loading master change log");return}try{console.log(" Loading master change log for event:",t.id);const p=await Is.getMasterChangeLog(t.id,100);S(p),console.log(" Loaded master change log:",p.length,"changes"),p.length===0&&console.log(" No master changes found - this might be normal for new events")}catch(p){console.error(" Error loading master change log:",p),S([])}},Bu=async()=>{if(!t?.id||!o){console.log(" Cannot sync - missing event ID or user");return}if(!jr){console.log(" Skipping sync - page not visible");return}if(ft||it||hr||yt||Bi){console.log(" Skipping sync - modal is open");return}if(cr){console.log(" Skipping sync - user is actively editing");return}try{console.log(" Syncing schedule data to database...");const p={event_id:t.id,event_name:t.name,event_date:t.date,schedule_items:T,custom_columns:Z,settings:{eventName:De,masterStartTime:ge,dayStartTimes:ue}};await Nt.saveRunOfShowData(p,{userId:o.id,userName:o.full_name||o.email||"Unknown User",userRole:c||"VIEWER"})?(console.log(" Schedule data synced to database successfully"),await $u(),console.log(" Master change log refreshed after sync")):console.log(" Failed to sync schedule data to database")}catch(p){console.error(" Error syncing schedule data to database:",p)}},nm=async()=>{if(prompt("Enter password to clear all change logs:")!=="1615"){alert("Incorrect password. Change logs not cleared.");return}if(confirm(` WARNING: This will permanently delete ALL change logs (local and master) for this event. This action cannot be undone.

Are you sure you want to continue?`))try{if(Is.clearLocalChanges(),w([]),console.log(" Local changes cleared"),t?.id){if(console.log(" Attempting to clear master change log for event:",t.id),console.log(" Current user:",o?.id,o?.email),!o){console.error(" No user found"),alert(" Authentication error. Please refresh and try again.");return}const D=await Is.clearMasterChangeLog(t.id);if(console.log(" Clear master result:",D),D.success){S([]),console.log(" Master change log cleared successfully"),alert(` Successfully cleared ${D.deletedCount} master change log entries`),console.log(" Verifying master change log is cleared...");const U=await Is.getMasterChangeLog(t.id);console.log(" Master change log after clearing:",U.length,"records"),S(U),U.length===0?alert(` All change logs cleared successfully!

- Local changes:  Cleared
- Master changes:  Cleared (${D.deletedCount} records deleted)`):alert(` Partial success:

- Local changes:  Cleared
- Master changes:  ${D.deletedCount} deleted, but ${U.length} remain

Some records may be protected by RLS policies.`)}else console.log(" Failed to clear master change log:",D.error),alert(` Partial success:

- Local changes:  Cleared
- Master changes:  Failed

Error: ${D.error}

This might be due to database permissions. Check the console for details.`)}else alert(" Error: No event ID found. Cannot clear master change log.")}catch(D){console.error("Error clearing change logs:",D),alert(" Error clearing change logs. Check the console for details.")}};E.useEffect(()=>{if(console.log(" Toast useEffect triggered:",{activeTimersCount:Object.keys(We).length,activeTimers:We,timeToastEnabled:Ye,scheduleLength:T.length}),Object.keys(We).length===0){console.log(" Toast: No active timers, hiding toast"),Me(!1);return}if(!Ye){console.log(" Toast: Toast disabled by user");return}const p=parseInt(Object.keys(We)[0]);console.log(" Toast: Active timer ID:",p);const y=T.find(D=>D.id===p);if(console.log(" Toast: Found active item:",y?y.segmentName:"NOT FOUND"),y)try{const D=new Date,U=T.findIndex(se=>se.id===y.id),Y=Vo(U);if(Y){const[se,ve]=Y.split(" "),[Pe,je]=se.split(":").map(Number);let st=Pe;ve==="PM"&&Pe!==12&&(st+=12),ve==="AM"&&Pe===12&&(st=0);const ot=new Date,xt=new Date(ot.getFullYear(),ot.getMonth(),ot.getDate(),st,je),Vt=D.getTime()-xt.getTime(),Bt=Math.round(Vt/(1e3*60));Hr(Math.abs(Bt)),Bt<-1?(console.log(" Toast: Setting status to EARLY, difference:",Bt),mr("early"),Me(!0)):Bt>1?(console.log(" Toast: Setting status to LATE, difference:",Bt),mr("late"),Me(!0)):(console.log(" Toast: Setting status to ON-TIME, difference:",Bt),mr("on-time"),Me(!0)),console.log(" Toast: Should be visible now - showTimeToast set to true");const ns=setTimeout(()=>{console.log(" Toast: Auto-closing after 10 seconds"),Me(!1)},1e4);return()=>clearTimeout(ns)}}catch(D){console.error(" Toast: Error calculating time status:",D),Me(!1)}},[We,T,Ye]);const ih=()=>{if(!Rs)return;const p=document.querySelector(`[data-item-id="${F}"]`);if(p){const y=p.getBoundingClientRect(),D=window.pageYOffset||document.documentElement.scrollTop,U=y.top+D,Y=document.querySelector("#main-scroll-container .h-24");let se=100;Y&&(se=Y.getBoundingClientRect().height+20);const Pe=U-se-230;window.scrollTo({top:Math.max(0,Pe),behavior:"smooth"})}},[Ar,Ts]=E.useState({cue:"",day:1,programType:"PreShow/End",shotType:"",segmentName:"",durationHours:0,durationMinutes:0,durationSeconds:0,notes:"",assets:"",speakers:"",speakersText:"",hasPPT:!1,hasQA:!1,timerId:"",isPublic:!1,isIndented:!1,customFields:{}});E.useEffect(()=>{Ts(p=>({...p,day:Ue}))},[Ue]);const Xu=["PreShow/End","Podium Transition","Panel Transition","Sub Cue","No Transition","Video","Panel+Remote","Remote Only","Break","TBD","KILLED"],$a={"PreShow/End":"#8B5CF6","Podium Transition":"#8B4513","Panel Transition":"#404040","Sub Cue":"#F3F4F6","No Transition":"#059669",Video:"#F59E0B","Panel+Remote":"#1E40AF","Remote Only":"#60A5FA",Break:"#EC4899",TBD:"#6B7280",KILLED:"#DC2626"},Nn=(p,y,D,U,Y)=>{let se=6.5;if(p&&p.trim()!==""){const ve=document.createElement("div");ve.style.position="absolute",ve.style.visibility="hidden";const xt=(fr.notes-32-1)/16;ve.style.width=`${xt}rem`,ve.style.padding="0.75rem",ve.style.fontSize="1rem",ve.style.lineHeight="1.5",ve.style.fontFamily="system-ui, -apple-system, sans-serif",ve.style.whiteSpace="pre-wrap",ve.style.wordWrap="break-word",ve.innerHTML=p,document.body.appendChild(ve);const Vt=ve.scrollHeight;document.body.removeChild(ve);const ts=Vt/16+3;se=Math.max(se,ts)}if(D&&D.trim()!=="")try{const ve=JSON.parse(D);if(Array.isArray(ve)&&ve.length>0){const Pe=ve.filter(je=>je.fullName&&je.fullName.trim()!=="");if(Pe.length>0){const ot=4+Pe.length*1.5;se=Math.max(se,ot)}}}catch{if(D.includes(`
`)){const je=4+D.split(`
`).filter(st=>st.trim()!=="").length*1.5;se=Math.max(se,je)}}if(y&&y.trim()!=="")try{const ve=JSON.parse(y);if(Array.isArray(ve)&&ve.length>0){const Pe=ve.filter(je=>je.fullName&&je.fullName.trim()!=="");if(Pe.length>0){const ot=4+Pe.length*1.5;se=Math.max(se,ot)}}}catch{if(y.includes(`
`)){const je=4+y.split(`
`).filter(st=>st.trim()!=="").length*1.5;se=Math.max(se,je)}}return U&&Y&&Y.length>0&&Y.forEach(ve=>{const Pe=U[ve.name];if(Pe&&Pe.trim()!==""){const je=Pe.split(`
`),Bt=3+Math.max(2,je.length)*1.6+1;se=Math.max(se,Bt)}}),`${se}rem`},Hu=p=>{if(!p||p.trim()==="")return"3.5rem";let y=1;try{const se=JSON.parse(p);if(Array.isArray(se)){const ve=se.filter(Pe=>Pe.fullName&&Pe.fullName.trim()!=="");y=Math.max(1,ve.length)}}catch{y=Math.max(1,p.split(`
`).filter(ve=>ve.trim()!=="").length)}const Y=3+(y-1)*1.5;return`${Math.max(3.5,Y)}rem`},am=()=>{let p=0;T.forEach(Y=>{!Mt[Y.id]&&(Y.day||1)===Ue&&(p+=(Y.durationHours||0)*3600+(Y.durationMinutes||0)*60+(Y.durationSeconds||0))});const y=Math.floor(p/3600),D=Math.floor(p%3600/60),U=p%60;return{hours:y,minutes:D,seconds:U,totalSeconds:p}},im=p=>{const y=document.getElementById("notes-editor");if(!y)return;y.focus();const D=window.getSelection();if(!D||D.rangeCount===0)return;const U=D.getRangeAt(0),Y=U.toString(),se=document.createElement(p),ve=document.createElement("li");ve.textContent=Y||"List item",se.appendChild(ve),U.deleteContents(),U.insertNode(se);const Pe=document.createRange();Pe.setStartAfter(ve),Pe.collapse(!0),D.removeAllRanges(),D.addRange(Pe)},Xr=(p,y)=>{const D=document.getElementById("notes-editor");if(D){D.focus();try{switch(p){case"bold":document.execCommand("bold",!1);break;case"italic":document.execCommand("italic",!1);break;case"underline":document.execCommand("underline",!1);break;case"color":y&&document.execCommand("foreColor",!1,y);break;case"highlight":y&&y!=="none"?document.execCommand("backColor",!1,y):document.execCommand("removeFormat",!1);break;case"fontSize":y&&document.execCommand("fontSize",!1,y);break;case"bullet":im("ul");break;case"list":im("ol");break;case"left":document.execCommand("justifyLeft",!1);break;case"center":document.execCommand("justifyCenter",!1);break;case"right":document.execCommand("justifyRight",!1);break;case"undo":document.execCommand("undo",!1);break;case"redo":document.execCommand("redo",!1);break}}catch{console.warn("Formatting command not supported:",p)}}},oh=()=>{const p=document.getElementById("notes-editor");if(p&&Jt!==null){const y=p.innerHTML;if(Jt===-1)Ts(D=>({...D,notes:y}));else{const D=T.find(Y=>Y.id===Jt)?.notes||"",U=T.find(Y=>Y.id===Jt);H(Y=>Y.map(se=>se.id===Jt?{...se,notes:y}:se)),U&&z("FIELD_UPDATE",`Updated notes for "${U.segmentName}"`,{changeType:"FIELD_CHANGE",itemId:U.id,itemName:U.segmentName,fieldName:"notes",oldValue:D,newValue:y,details:{fieldType:"text",characterChange:y.length-D.length}})}tr(!1),et(null),es()}},lh=()=>{if(ct!==null){const p=JSON.stringify(mt);if(ct===-1)Ts(y=>({...y,speakersText:p}));else{const y=T.find(U=>U.id===ct)?.speakersText||"",D=T.find(U=>U.id===ct);H(U=>U.map(Y=>Y.id===ct?{...Y,speakersText:p}:Y)),D&&z("FIELD_UPDATE",`Updated speakers for "${D.segmentName}"`,{changeType:"FIELD_CHANGE",itemId:D.id,itemName:D.segmentName,fieldName:"speakers",oldValue:y,newValue:p,details:{fieldType:"speakers",speakerCount:mt.length,characterChange:p.length-y.length}})}Fe(!1),vt(null),es()}},ch=()=>{if(rr!==null){const p=document.getElementById("assets-list");if(p){const y=p.querySelectorAll(".asset-item"),D=[];y.forEach(Y=>{const se=Y.querySelector(".asset-name"),ve=Y.querySelector(".asset-link");if(se&&ve){const Pe=se.value.trim(),je=ve.value.trim();Pe&&D.push(je?`${Pe}|${je}`:Pe)}});const U=D.join("||");if(rr===-1)Ts(Y=>({...Y,assets:U}));else{const Y=T.find(ve=>ve.id===rr)?.assets||"",se=T.find(ve=>ve.id===rr);H(ve=>ve.map(Pe=>Pe.id===rr?{...Pe,assets:U}:Pe)),se&&z("FIELD_UPDATE",`Updated assets for "${se.segmentName}"`,{changeType:"FIELD_CHANGE",itemId:se.id,itemName:se.segmentName,fieldName:"assets",oldValue:Y,newValue:U,details:{fieldType:"assets",assetCount:D.length,characterChange:U.length-Y.length}})}pr(!1),qe(null),es()}}},om=()=>{const p=document.getElementById("assets-list");if(p){const y=document.createElement("div");y.className="asset-item p-3 bg-slate-700 rounded-lg space-y-3",y.innerHTML=`
        <div class="flex gap-3 items-center">
          <input type="text" class="asset-name flex-1 px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500" placeholder="Asset name..." />
          <button type="button" class="toggle-link px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors text-sm">
            + Link
          </button>
          <button type="button" class="remove-asset px-3 py-2 bg-red-600 hover:bg-red-500 text-white rounded transition-colors">Remove</button>
        </div>
        <div class="asset-link-container hidden">
          <input type="url" class="asset-link w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500" placeholder="Enter asset URL..." />
        </div>
      `;const D=y.querySelector(".toggle-link"),U=y.querySelector(".asset-link-container"),Y=y.querySelector(".asset-link");D?.addEventListener("click",()=>{U?.classList.contains("hidden")?(U.classList.remove("hidden"),D.textContent=" Link",D.classList.remove("bg-blue-600","hover:bg-blue-500"),D.classList.add("bg-slate-600","hover:bg-slate-500"),Y?.focus()):(U?.classList.add("hidden"),D.textContent="+ Link",D.classList.remove("bg-slate-600","hover:bg-slate-500"),D.classList.add("bg-blue-600","hover:bg-blue-500"),Y&&(Y.value=""))}),y.querySelector(".remove-asset")?.addEventListener("click",()=>{y.remove()}),p.appendChild(y)}},lm=()=>{if(be.length>=7)return;const p=be.map(U=>U.slot),y=[1,2,3,4,5,6,7].find(U=>!p.includes(U))||1,D={id:`speaker_${Date.now()}`,slot:y,location:"Podium",fullName:"",title:"",org:"",photoLink:""};Ge(U=>[...U,D].sort((Y,se)=>Y.slot-se.slot))},uh=p=>{Ge(y=>y.filter(D=>D.id!==p))},Wi=(p,y,D)=>{Ge(U=>U.map(Y=>Y.id===p?{...Y,[y]:D}:Y).sort((Y,se)=>Y.slot-se.slot))},dh=()=>{if(_e!==null){const p=JSON.stringify(be);_e===-1?Ts(y=>({...y,speakers:p})):H(y=>y.map(D=>D.id===_e?{...D,speakers:p}:D)),It(!1),Ze(null)}},cm=()=>{if(mt.length>=7)return;const p=mt.map(U=>U.slot),y=[1,2,3,4,5,6,7].find(U=>!p.includes(U))||1,D={id:Date.now().toString(),fullName:"",location:"Podium",slot:y,title:"",org:"",photoLink:""};At(U=>[...U,D])},fh=p=>{At(y=>y.filter(D=>D.id!==p))},zi=(p,y,D)=>{At(U=>U.map(Y=>Y.id===p?{...Y,[y]:D}:Y))},mh=(p,y)=>{if(mt.some(U=>U.id!==p&&U.slot===y)){const U=mt.find(Y=>Y.id!==p&&Y.slot===y);if(U){const Y=mt.find(se=>se.id===p);Y&&zi(U.id,"slot",Y.slot)}}zi(p,"slot",y)},ph=(p,y)=>{const D=be.find(Y=>Y.id===p);if(!D)return;const U=be.find(Y=>Y.id!==p&&Y.slot===y);if(U){const Y=be.map(se=>se.id===p?{...se,slot:y}:se.id===U.id?{...se,slot:D.slot}:se);Ge(Y)}else Wi(p,"slot",y)},Tc=p=>{if(!p)return"Click to add participants...";try{const y=JSON.parse(p);return!Array.isArray(y)||y.length===0?"Click to add participants...":y.sort((D,U)=>D.slot-U.slot).map(D=>`${D.location==="Podium"?"P":D.location==="Seat"?"S":D.location==="Virtual"?"V":"M"}${D.slot} - ${D.fullName||"Unnamed"}`).join(`
`)}catch{return"Click to add participants..."}},Ba=p=>{if(!p)return"Click to add speakers...";try{const y=JSON.parse(p);return!Array.isArray(y)||y.length===0?"Click to add speakers...":y.sort((D,U)=>D.slot-U.slot).filter(D=>D.fullName&&D.fullName.trim()!=="").map(D=>`${D.location==="Podium"?"P":D.location==="Seat"?"S":D.location==="Virtual"?"V":"M"}${D.slot} - ${D.fullName||"Unnamed"}`).join(`
`)}catch{return"Click to add speakers..."}},Cl=["Podium","2-Shot","3-Shot","4-Shot","5-Shot","6-Shot","7-Shot","Ted-Talk"],um=p=>{if(isNaN(p)||p===void 0||p===null)return console.warn(" formatTime received invalid value:",p),"00:00:00";const y=p<0,D=Math.abs(p),U=Math.floor(D/3600),Y=Math.floor(D%3600/60),se=Math.floor(D%60);return`${y?"-":""}${U.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}`},gi=p=>{if(isNaN(p)||p===void 0||p===null)return console.warn(" formatSubCueTime received invalid value:",p),"00:00";const y=p<0,D=Math.abs(p),U=Math.floor(D/3600),Y=Math.floor(D%3600/60),se=Math.floor(D%60),ve=y?"-":"";return U===0?`${ve}${Y.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}`:`${ve}${U.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}`},wl=p=>{if(!Mt[p])return!1;const y=Mt[p].parentId;return y?We[y]!==void 0:!1},hh=()=>{if(Ve?.activeTimer){const D=pt;return D.total-D.elapsed}const p=Object.keys(We);if(p.length>0){const D=parseInt(p[0]);if(Ee[D]){const U=Ee[D];return U.total-U.elapsed}}const y=Object.keys(Sr);if(y.length>0){const D=parseInt(y[0]);if(Ne[D]){const U=Ne[D];return U.total-U.elapsed}}if(F&&Ee[F]){const D=Ee[F];return D.total-D.elapsed}return 0},vh=()=>{if(Ve?.activeTimer){const D=pt,U=D.total-D.elapsed;return U<0?0:D.total>0?U/D.total*100:0}const p=Object.keys(We);if(p.length>0){const D=parseInt(p[0]);if(Ee[D]){const U=Ee[D],Y=U.total-U.elapsed;return Y<0?0:U.total>0?Y/U.total*100:0}}const y=Object.keys(Sr);if(y.length>0){const D=parseInt(y[0]);if(Ne[D]){const U=Ne[D],Y=U.total-U.elapsed;return U.total>0?Y/U.total*100:0}}if(F&&Ee[F]){const D=Ee[F],U=D.total-D.elapsed;return D.total>0?U/D.total*100:0}return 0},gh=()=>{if(Ve?.activeTimer){const D=pt,U=D.total-D.elapsed;return U<0?"bg-red-500":U>120?"#10b981":U>30?"#f59e0b":"#ef4444"}const p=Object.keys(We);if(p.length>0){const D=parseInt(p[0]);if(Ee[D]){const U=Ee[D],Y=U.total-U.elapsed;return Y<0?"bg-red-500":Y>120?"#10b981":Y>30?"#f59e0b":"#ef4444"}}const y=Object.keys(Sr);if(y.length>0){const D=parseInt(y[0]);if(Ne[D]){const U=Ne[D],Y=U.total-U.elapsed;return Y>120?"#10b981":Y>30?"#f59e0b":"#ef4444"}}if(F&&Ee[F]){const D=Ee[F],U=D.total-D.elapsed;return U>120?"#10b981":U>30?"#f59e0b":"#ef4444"}return"transparent"},xh=()=>{if(Ve?.activeTimer){const y=pt,D=y.total-y.elapsed;return D>120?"#10b981":D>30?"#f59e0b":"#ef4444"}const p=Object.keys(We);if(p.length>0){const y=parseInt(p[0]);if(Ee[y]){const D=Ee[y],U=D.total-D.elapsed;return U>120?"#10b981":U>30?"#f59e0b":"#ef4444"}}if(F&&Ee[F]){const y=Ee[F],D=y.total-y.elapsed;return D>120?"#10b981":D>30?"#f59e0b":"#ef4444"}return"#ffffff"},kl=async p=>{if(console.log(" ADJUST TIMER CLICKED:",p,"seconds"),console.log(" activeItemId:",F),console.log(" user:",o),console.log(" event:",t),!F||!o||!t?.id){console.log(" Cannot adjust timer - missing data:",{activeItemId:F,user:!!o,eventId:t?.id});return}if(T.length===0){console.log(" Schedule is empty - waiting for data to load"),alert("Schedule is still loading. Please wait a moment and try again.");return}const y=typeof F=="string"?parseInt(F):F,D=T.find(je=>je.id===y);if(!D){console.log(" Cannot find active item in schedule"),console.log(" Active item ID type:",typeof F,F),console.log(" Schedule item IDs:",T.map(je=>({id:je.id,type:typeof je.id})));return}console.log(" Found item:",D.segmentName);const U=Math.max(0,D.durationHours*3600+D.durationMinutes*60+D.durationSeconds+p),Y=Math.floor(U/3600),se=Math.floor(U%3600/60),ve=U%60,Pe=T.map(je=>je.id===y?{...je,durationHours:Y,durationMinutes:se,durationSeconds:ve}:je);H(Pe),Ee[y]&&(console.log(" Updating timer duration for item:",y,"new duration:",U),xe(je=>({...je,[y]:{...je[y],total:U}})),We[y]&&(console.log(" Updating running timer duration in database for real-time sync"),await Nt.updateTimerDuration(t.id,y,U))),console.log(" Marking user as editing (timer duration change)"),Br(),console.log(" Timer duration updated - running timer synced immediately, schedule will sync after pause")},bh=async p=>{if(console.log(" loadCue function STARTED with itemId:",p),console.log(" user:",o),console.log(" event:",t),console.log(" currentUserRole:",c),!o||!t?.id){console.log(" Missing user or event ID:",{user:!!o,eventId:t?.id});return}Object.keys(We).forEach(async se=>{if(We[parseInt(se)]){clearInterval(Pt[parseInt(se)]),lr(Pe=>({...Pe,[parseInt(se)]:!0}));const ve=T.find(Pe=>Pe.id===parseInt(se));console.log(" About to mark cue as completed:",{eventId:t.id,itemId:parseInt(se),userId:o.id,cueId:ve?.customFields?.cue||"CUE"});try{const Pe=await Nt.markCueCompleted(t.id,parseInt(se),ve?.customFields?.cue||"CUE",o.id,o.full_name||o.email||"Unknown User",c||"VIEWER");console.log(" Mark completed result:",Pe)}catch(Pe){console.error(" Error marking cue as completed:",Pe)}}}),Ot({}),console.log(" Stopping all timers in API for event:",t.id,"user:",o.id);const y=await Nt.stopAllTimersForEvent(t.id,o.id,o.full_name||o.email||"Unknown User",c||"VIEWER");if(console.log(" Stop all timers result:",y),Ut&&(console.log(" Stopping sub-cue timer because new cue is being loaded"),await _c()),F&&F!==p){Zs(Pe=>new Set([...Pe,F])),lr(Pe=>({...Pe,[F]:!0}));const se=T.find(Pe=>Pe.id===F);console.log(" About to mark active cue as completed:",{eventId:t.id,itemId:F,userId:o.id,cueId:se?.customFields?.cue||"CUE"});try{const Pe=await Nt.markCueCompleted(t.id,F,se?.customFields?.cue||"CUE",o.id,o.full_name||o.email||"Unknown User",c||"VIEWER");console.log(" Mark active completed result:",Pe)}catch(Pe){console.error(" Error marking active cue as completed:",Pe)}const ve=T.findIndex(Pe=>Pe.id===F);if(ve!==-1)for(let Pe=ve+1;Pe<T.length&&T[Pe].isIndented;Pe++)lr(je=>({...je,[T[Pe].id]:!0})),Zs(je=>new Set([...je,T[Pe].id])),await Nt.markCueCompleted(t.id,T[Pe].id,T[Pe].customFields?.cue||"CUE",o.id,o.full_name||o.email||"Unknown User",c||"VIEWER")}lr(se=>{const ve={...se};delete ve[p];const Pe=T.findIndex(je=>je.id===p);if(Pe!==-1)for(let je=Pe+1;je<T.length&&T[je].isIndented;je++)delete ve[T[je].id];return ve}),Zs(se=>{const ve=new Set(se);ve.delete(p);const Pe=T.findIndex(je=>je.id===p);if(Pe!==-1)for(let je=Pe+1;je<T.length&&T[je].isIndented;je++)ve.delete(T[je].id);return ve});const D=T.find(se=>se.id===p);if(D){console.log(" Item found:",D),console.log(" Item ID type:",typeof D.id,"Value:",D.id),console.log(" Item duration values:",{durationHours:D.durationHours,durationMinutes:D.durationMinutes,durationSeconds:D.durationSeconds});const se=D.durationHours*3600+D.durationMinutes*60+D.durationSeconds;console.log(" Calculated total seconds:",se),console.log(" Item duration breakdown:",{durationHours:D.durationHours,durationMinutes:D.durationMinutes,durationSeconds:D.durationSeconds,totalSeconds:se});const ve=typeof p=="string"?parseInt(p):p;console.log(" Numeric item ID:",ve),console.log(" Optimistic UI update - showing loaded state immediately"),xe(xt=>({...xt,[p]:{elapsed:0,total:se,startedAt:null}})),me(p),is(xt=>({...xt,[p]:!0}));const je=T.findIndex(xt=>xt.id===p)+1,st=cs(D.customFields.cue),ot=D.timerId;console.log(" Loading CUE in API:",{eventId:t.id,itemId:ve,userId:o.id,totalSeconds:se,rowNumber:je,cueDisplay:st,timerId:ot}),console.log(" About to call DatabaseService.loadCue..."),console.log(" DatabaseService object:",typeof Nt),console.log(" DatabaseService.loadCue function:",typeof Nt.loadCue),console.log(" Testing API configuration...");try{await Es.healthCheck(),console.log(" API server is running")}catch(xt){console.error(" Error connecting to API server:",xt)}try{console.log(" Calling DatabaseService.loadCue now...");const xt=await Nt.loadCue(t.id,ve,o.id,se,je,st,ot);console.log(" Load CUE result:",xt),xt?console.log(" Load CUE succeeded!"):console.error(" Load CUE failed - check database connection and functions")}catch(xt){console.error(" Load CUE error:",xt),console.error(" Error stack:",xt.stack)}console.log(" Finished loadCue database call"),ia(ve);try{await Nt.updateLastLoadedCue(t.id,ve,"loaded"),console.log(" Last loaded CUE saved")}catch(xt){console.log(" Could not save last loaded CUE (migration may not be run):",xt)}await Fu(),console.log(" Load CUE action completed locally")}const U=T.findIndex(se=>se.id===p),Y=new Set;if(U!==-1)for(let se=U+1;se<T.length&&T[se].isIndented;se++)Y.add(T[se].id);aa(Y)},dm=async()=>{if(Object.keys(We).forEach(p=>{We[parseInt(p)]&&clearInterval(Pt[parseInt(p)])}),Object.keys(Sr).forEach(p=>{Sr[parseInt(p)]&&clearInterval(Sr[parseInt(p)])}),t?.id)try{await Nt.clearCompletedCues(t.id),console.log(" Cleared completed cues from database"),await Nt.clearAllActiveTimersForEvent(t.id),console.log(" Cleared all active timers from API")}catch(p){console.warn(" Failed to clear database:",p)}Ot({}),Or({}),xe({}),ye({}),lr({}),me(null),Zs(new Set),aa(new Set),ia(null),Ce({}),console.log(" RunOfShow: Emitting reset all states event to other pages"),bt.emitResetAllStates(),console.log(" RunOfShow: Reset all states event emitted")},en=()=>{ss(!1),$r&&!$r.closed&&$r.close();const p=Object.keys(We),y=p.length>0?T.find(Y=>We[Y.id]):T.find(Y=>Y.id===F),D={isRunning:p.length>0,elapsedTime:y&&Ee[y.id]?Ee[y.id].elapsed:0,totalDuration:y?y.durationHours*3600+y.durationMinutes*60+y.durationSeconds:0,eventId:t?.id,mainTimer:y?{cue:y.customFields.cue||"CUE",segmentName:y.segmentName||""}:null,secondaryTimer:Ut?{itemId:Ut.itemId,remaining:Ut.remaining,duration:Ut.duration,cue:T.find(Y=>Y.id===Ut.itemId)?.customFields.cue||"CUE",segmentName:T.find(Y=>Y.id===Ut.itemId)?.segmentName||""}:null},U=window.open("/fullscreen-timer","fullScreenTimer","width=1920,height=1080,fullscreen=yes,menubar=no,toolbar=no,location=no,status=no,scrollbars=no,resizable=yes");U&&(Nc(U),U.addEventListener("load",()=>{U.postMessage({type:"TIMER_UPDATE",...D},"*")}))},fm=()=>{ss(!1),Oo&&!Oo.closed&&Oo.close();const p=Object.keys(We),y=p.length>0?T.find(se=>We[se.id]):T.find(se=>se.id===F),D={isRunning:p.length>0,elapsedTime:y&&Ee[y.id]?Ee[y.id].elapsed:0,totalDuration:y?y.durationHours*3600+y.durationMinutes*60+y.durationSeconds:0,eventId:t?.id,mainTimer:y?{cue:y.customFields.cue||"CUE",segmentName:y.segmentName||""}:null,secondaryTimer:Ut?{itemId:Ut.itemId,remaining:Ut.remaining,duration:Ut.duration,cue:T.find(se=>se.id===Ut.itemId)?.customFields.cue||"CUE",segmentName:T.find(se=>se.id===Ut.itemId)?.segmentName||""}:null},U=t?.id?`/clock?eventId=${t.id}`:"/clock",Y=window.open(U,"clock","width=1920,height=1080,fullscreen=yes,menubar=no,toolbar=no,location=no,status=no,scrollbars=no,resizable=yes");Y&&(yo(Y),Y.addEventListener("load",()=>{Y.postMessage({type:"TIMER_UPDATE",...D},"*")}))};E.useEffect(()=>{const p=()=>{I(null),ee(null),ss(!1)};return document.addEventListener("click",p),()=>document.removeEventListener("click",p)},[]),E.useEffect(()=>{if(it&&Jt!==null){const p=document.getElementById("notes-editor");if(p)if(Jt===-1)p.innerHTML=Ar.notes||"";else{const y=T.find(D=>D.id===Jt);p.innerHTML=y?.notes||""}}},[it,Jt,T,Ar.notes]),E.useEffect(()=>{if(ft&&ct!==null)if(ct===-1)if(Ar.speakersText)try{const p=JSON.parse(Ar.speakersText);At(Array.isArray(p)?p:[])}catch{At([])}else At([]);else{const p=T.find(y=>y.id===ct);if(p?.speakersText)try{const y=JSON.parse(p.speakersText);At(Array.isArray(y)?y:[])}catch{At([])}else At([])}},[ft,ct,T,Ar.speakersText]),E.useEffect(()=>{if(hr&&rr!==null){const p=document.getElementById("assets-list");if(p){p.innerHTML="";let y="";rr===-1?y=Ar.assets||"":y=T.find(U=>U.id===rr)?.assets||"",y&&y.split("||").forEach(U=>{if(U.trim()){const[Y,se]=U.split("|"),ve=se&&se.trim()!=="",Pe=document.createElement("div");Pe.className="asset-item p-3 bg-slate-700 rounded-lg space-y-3",Pe.innerHTML=`
                <div class="flex gap-3 items-center">
                  <input type="text" class="asset-name flex-1 px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500" placeholder="Asset name..." value="${Y||""}" />
                  <button type="button" class="toggle-link px-3 py-2 text-white rounded transition-colors text-sm ${ve?"bg-slate-600 hover:bg-slate-500":"bg-blue-600 hover:bg-blue-500"}">
                    ${ve?" Link":"+ Link"}
                  </button>
                  <button type="button" class="remove-asset px-3 py-2 bg-red-600 hover:bg-red-500 text-white rounded transition-colors">Remove</button>
                </div>
                <div class="asset-link-container ${ve?"":"hidden"}">
                  <input type="url" class="asset-link w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500" placeholder="Enter asset URL..." value="${se||""}" />
                </div>
              `;const je=Pe.querySelector(".toggle-link"),st=Pe.querySelector(".asset-link-container"),ot=Pe.querySelector(".asset-link");je?.addEventListener("click",()=>{st?.classList.contains("hidden")?(st.classList.remove("hidden"),je.textContent=" Link",je.classList.remove("bg-blue-600","hover:bg-blue-500"),je.classList.add("bg-slate-600","hover:bg-slate-500"),ot?.focus()):(st?.classList.add("hidden"),je.textContent="+ Link",je.classList.remove("bg-slate-600","hover:bg-slate-500"),je.classList.add("bg-blue-600","hover:bg-blue-500"),ot&&(ot.value=""))}),Pe.querySelector(".remove-asset")?.addEventListener("click",()=>{Pe.remove()}),p.appendChild(Pe)}}),p.children.length===0&&om()}}},[hr,rr,T,Ar.assets]),E.useEffect(()=>{if(yt&&_e!==null)if(_e===-1)if(Ar.speakers)try{const p=JSON.parse(Ar.speakers);Ge(Array.isArray(p)?p:[])}catch{Ge([])}else Ge([]);else{const p=T.find(y=>y.id===_e);if(p?.speakers)try{const y=JSON.parse(p.speakers);Ge(Array.isArray(y)?y:[])}catch{Ge([])}else Ge([])}},[yt,_e,T,Ar.speakers]);const Sa=Wr.useCallback(Nh(async()=>{if(t?.id)try{const p={event_id:t.id,event_name:t.name,event_date:t.date,schedule_items:T,custom_columns:Z,settings:{eventName:De,masterStartTime:ge,dayStartTimes:ue,lastSaved:new Date().toISOString()}};Math.random()<.05&&console.log(" Auto-saving to API:",{eventId:t.id,scheduleItemsCount:T.length,customColumnsCount:Z.length,eventName:De,masterStartTime:ge,sampleScheduleItem:T[0]?{id:T[0].id,segmentName:T[0].segmentName,speakersText:T[0].speakersText?"Has speakers data":"No speakers data",speakers:T[0].speakers?"Has speakers data":"No speakers data"}:"No schedule items"});const y=await Nt.saveRunOfShowData(p,{userId:o?.id||"unknown",userName:o?.full_name||o?.email||"Unknown User",userRole:c||"VIEWER"});Math.random()<.1&&console.log(" Auto-saved to API successfully")}catch(p){console.error(" Error auto-saving to API:",p)}},3e4),[t?.id,t?.name,t?.date,T,Z,De,ge,ue]);function Nh(p,y){let D;return((...U)=>{clearTimeout(D),D=setTimeout(()=>p(...U),y)})}const Dh=E.useCallback(async()=>{if(t?.id)try{console.log(" Loading from API for event:",t.id);const p=Nt.getRunOfShowData(t.id),y=new Promise((U,Y)=>setTimeout(()=>Y(new Error("Database query timeout after 10 seconds")),1e4)),D=await Promise.race([p,y]);if(console.log(" Debug - Raw data from API:",D),console.log(" Debug - schedule_items:",D?.schedule_items),console.log(" Debug - custom_columns:",D?.custom_columns),console.log(" Debug - settings:",D?.settings),D){console.log(" Data loaded from API:",{scheduleItemsCount:D.schedule_items?.length||0,customColumnsCount:D.custom_columns?.length||0,eventName:D.settings?.eventName,masterStartTime:D.settings?.masterStartTime,sampleScheduleItem:D.schedule_items?.[0]?{id:D.schedule_items[0].id,segmentName:D.schedule_items[0].segmentName,speakersText:D.schedule_items[0].speakersText?"Has speakers data":"No speakers data",speakers:D.schedule_items[0].speakers?"Has speakers data":"No speakers data"}:"No schedule items"});const U=D.schedule_items?[...D.schedule_items]:[];H(U),W(D.custom_columns||[]),D.settings?.eventName&&we(D.settings.eventName),D.settings?.masterStartTime&&He(D.settings.masterStartTime),D.settings?.dayStartTimes&&ke(D.settings.dayStartTimes),pe(D.updated_at||null),oe(!1),_({show:!1}),console.log(" Run of Show data loaded from API successfully"),setTimeout(()=>{kc()},100)}else{console.log(" No data found in API, falling back to localStorage for event:",t.id);const U=localStorage.getItem(`runOfShowSchedule_${t.id}`),Y=localStorage.getItem(`customColumns_${t.id}`),se=localStorage.getItem(`eventName_${t.id}`),ve=localStorage.getItem(`masterStartTime_${t.id}`),Pe=localStorage.getItem(`dayStartTimes_${t.id}`);if(U)try{const je=JSON.parse(U);console.log(" Parsed schedule from localStorage:",je);const st=je.map(ot=>({...ot,day:ot.day||1}));H(st),console.log(" Loaded schedule from localStorage:",st.length,"items"),console.log(" First few items:",st.slice(0,3))}catch(je){console.error(" Error parsing schedule from localStorage:",je),console.log(" Raw localStorage data:",U)}else console.log(" No schedule found in localStorage for event:",t.id);Y&&(W(JSON.parse(Y)),console.log(" Loaded custom columns from localStorage")),se&&(we(se),console.log(" Loaded event name from localStorage")),ve&&(He(ve),console.log(" Loaded master start time from localStorage")),Pe&&(ke(JSON.parse(Pe)),console.log(" Loaded day start times from localStorage"))}}catch(p){console.error(" Error loading run of show data from API:",p),console.error(" Error details:",{message:p.message,stack:p.stack,eventId:t?.id}),console.log(" Falling back to localStorage due to error");const y=localStorage.getItem(`runOfShowSchedule_${t.id}`);if(y)try{const U=JSON.parse(y).map(Y=>({...Y,day:Y.day||1}));H(U),console.log(" Loaded schedule from localStorage after error:",U.length,"items"),console.log(" First few items after error:",U.slice(0,3))}catch(D){console.error(" Error parsing schedule from localStorage after error:",D),console.log(" Raw localStorage data after error:",y)}else console.log(" No schedule found in localStorage after error for event:",t.id)}},[t?.id]),mm=E.useCallback(async()=>{if(t?.id)try{console.log(" Loading changes dynamically for event:",t.id);const p=await Nt.loadChangesDynamically(t.id);if(p){console.log(" Dynamic changes loaded:",{scheduleItemsCount:p.schedule_items?.length||0,customColumnsCount:p.custom_columns?.length||0,lastModifiedBy:p.last_modified_by_name});const y=p.schedule_items?[...p.schedule_items]:[];H(y),W(p.custom_columns||[]),p.settings?.eventName&&we(p.settings.eventName),p.settings?.masterStartTime&&He(p.settings.masterStartTime),p.settings?.dayStartTimes&&ke(p.settings.dayStartTimes),pe(p.updated_at||null),oe(!1),_({show:!1}),console.log(" Changes loaded dynamically - timers preserved")}}catch(p){console.error(" Error loading changes dynamically:",p)}},[t?.id]);E.useEffect(()=>{console.log(" useEffect triggered for event ID:",t?.id),t?.id?(console.log(" Calling loadFromAPI for event:",t.id),Dh()):console.log(" No event ID available for loading data")},[t?.id]),E.useEffect(()=>{if(!t?.id)return;console.log(" Setting up WebSocket-only real-time connections for event:",t.id);const p={onRunOfShowDataUpdated:D=>{if(console.log(" Real-time: Run of show data updated via WebSocket"),D&&D.last_modified_by===o?.id){console.log(" Skipping WebSocket update - change made by current user");return}if(cr){console.log(" Skipping WebSocket update - user is actively editing");return}console.log(" Real-time: Updating local data with remote changes"),setTimeout(()=>{D.schedule_items&&Array.isArray(D.schedule_items)&&(H(D.schedule_items),console.log(" Real-time: Schedule items updated")),D.custom_columns&&Array.isArray(D.custom_columns)&&(W(D.custom_columns),console.log(" Real-time: Custom columns updated")),D.settings&&(D.settings.eventName!==void 0&&(we(D.settings.eventName),console.log(" Real-time: Event name updated")),D.settings.masterStartTime!==void 0&&(He(D.settings.masterStartTime),console.log(" Real-time: Master start time updated")),D.settings.dayStartTimes!==void 0&&(ke(D.settings.dayStartTimes),console.log(" Real-time: Day start times updated"))),or(!0),console.log(" Real-time: Skipping change detection to prevent delays"),D.updated_at&&pe(D.updated_at),console.log(" Real-time: All schedule data updated via WebSocket")},100)},onCompletedCuesUpdated:D=>{if(console.log(" Real-time: Completed cues updated via WebSocket"),D&&D.cleared)console.log(" Real-time: All completed cues cleared via WebSocket"),lr({});else if(D&&D.removed&&D.item_id)lr(U=>{const Y={...U};return delete Y[D.item_id],Y});else if(D&&Array.isArray(D)){const U=D.reduce((Y,se)=>(Y[se.item_id]=!0,Y),{});lr(U)}else D&&D.item_id&&lr(U=>({...U,[D.item_id]:!0}))},onResetAllStates:D=>{console.log(" Real-time: Reset all states received via WebSocket"),Ot({}),Or({}),xe({}),ye({}),lr({}),me(null),Zs(new Set),aa(new Set),ia(null),at({activeTimer:null}),console.log(" RunOfShow: All states reset via WebSocket")},onTimerUpdated:D=>{if(console.log(" Real-time: Timer updated via WebSocket"),console.log(" RunOfShow: Event ID check:",{received:D?.event_id,expected:t?.id,match:D?.event_id===t?.id}),D&&D.event_id===t?.id){if(at(U=>({...U,activeTimer:D})),D.item_id){xe(Y=>({...Y,[D.item_id]:{elapsed:D.elapsed_seconds||0,total:D.duration_seconds||300,startedAt:D.started_at?new Date(D.started_at):null}}));const U=typeof D.item_id=="string"?parseInt(D.item_id):D.item_id;D.timer_state==="running"?(Ot(Y=>({...Y,[U]:!0})),me(U),is(Y=>({...Y,[U]:!0})),console.log(" RunOfShow: Timer RUNNING - button states updated:",U)):D.timer_state==="loaded"?(Ot(Y=>{const se={...Y};return delete se[U],se}),me(U),is(Y=>({...Y,[U]:!0})),console.log(" RunOfShow: Timer LOADED - button states updated:",U)):D.timer_state==="stopped"&&(Ot(Y=>{const se={...Y};return delete se[U],se}),is(Y=>{const se={...Y};return delete se[U],se}),F===U&&me(null),console.log(" RunOfShow: Timer STOPPED - button states updated:",U))}console.log(" RunOfShow: Timer updated via WebSocket:",D)}else console.log(" RunOfShow: Timer update ignored - event ID mismatch or no data")},onTimerStopped:D=>{console.log(" Real-time: Timer stopped via WebSocket"),D&&D.event_id===t?.id&&(at(U=>({...U,activeTimer:null})),console.log(" RunOfShow: Timer cleared via WebSocket"))},onTimersStopped:D=>{console.log(" Real-time: All timers stopped via WebSocket"),D&&D.event_id===t?.id&&(at(U=>({...U,activeTimer:null})),me(null),Ot({}),console.log(" RunOfShow: All timers cleared via WebSocket"))},onTimerStarted:D=>{console.log(" Real-time: Timer started via WebSocket"),D&&D.item_id&&Ot(U=>({...U,[D.item_id]:!0}))},onSubCueTimerStarted:D=>{console.log(" Real-time: Sub-cue timer started via WebSocket"),D&&D.event_id===t?.id&&(at(U=>({...U,secondaryTimer:D})),console.log(" RunOfShow: Sub-cue timer started via WebSocket:",D))},onSubCueTimerStopped:D=>{console.log(" Real-time: Sub-cue timer stopped via WebSocket"),D&&D.event_id===t?.id&&(at(U=>({...U,secondaryTimer:null})),console.log(" RunOfShow: Sub-cue timer stopped via WebSocket"))},onServerTime:D=>{const U=new Date(D.serverTime).getTime(),Y=new Date().getTime(),se=U-Y;vr(se),console.log(" Clock sync:",{serverTime:D.serverTime,clientTime:new Date().toISOString(),offsetMs:se,offsetSeconds:Math.floor(se/1e3)})},onActiveTimersUpdated:D=>{console.log(" Real-time: Active timers updated via WebSocket");let U=D;if(Array.isArray(D)&&D.length>0&&(U=D[0],console.log(" RunOfShow: Processing first timer from array:",U)),console.log(" RunOfShow: Event ID check:",{received:U?.event_id,expected:t?.id,match:U?.event_id===t?.id}),U&&U.event_id===t?.id){const Y=Ve?.activeTimer;if(Y&&Y.id===U.id&&Y.timer_state===U.timer_state&&Y.is_active===U.is_active&&Y.is_running===U.is_running){console.log(" RunOfShow: Ignoring duplicate timer update:",U.id);return}if(U.timer_state==="stopped"||!U.is_active||U.is_running===!1&&U.is_active===!1)at(se=>({...se,activeTimer:null})),me(null),Ot({}),console.log(" RunOfShow: Timer stopped via WebSocket - cleared timer data and old state");else{const se=Ve?.activeTimer;if(se&&se.id===U.id&&(se.timer_state==="stopped"||!se.is_active)){console.log(" RunOfShow: Ignoring stale timer data for stopped timer:",U.id);return}at(ve=>({...ve,activeTimer:U})),console.log(" RunOfShow: Active timer updated via WebSocket:",U)}}else console.log(" RunOfShow: Active timers update ignored - event ID mismatch or no data")},onConnectionChange:D=>{console.log(` WebSocket connection ${D?"established":"lost"} for event: ${t.id}`)},onInitialSync:async()=>{console.log(" WebSocket initial sync triggered - loading current state");try{const D=await fetch(`https://ros-50-production.up.railway.app/api/completed-cues/${t?.id}`);if(D.ok){const U=await D.json();console.log(" Initial sync: Loaded completed cues:",U);const Y=U.reduce((se,ve)=>(se[ve.item_id]=!0,se),{});lr(Y),console.log(" Initial sync: Converted completed cues to object format:",Y)}}catch(D){console.error(" Initial sync failed to load completed cues:",D)}}};bt.connect(t.id,p);const y=()=>{document.hidden?(console.log(" Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(t.id)):bt.isConnected()||(console.log(" Tab visible - reconnecting WebSocket"),bt.connect(t.id,p),p.onInitialSync?.())};return document.addEventListener("visibilitychange",y),()=>{console.log(" Disconnecting WebSocket connections for event:",t.id),bt.disconnect(t.id),document.removeEventListener("visibilitychange",y)}},[t?.id]),E.useEffect(()=>{if(Ve?.activeTimer?.is_running&&Ve?.activeTimer?.is_active){const p=Ve.activeTimer,y=new Date(p.started_at),D=p.duration_seconds||0;console.log(" Hybrid timer - Setup with clock offset:",{started_at:p.started_at,total:D,clockOffsetMs:Xt,clockOffsetSeconds:Math.floor(Xt/1e3)});const U=()=>{const se=new Date(Date.now()+Xt),ve=Math.floor((se.getTime()-y.getTime())/1e3);ht({elapsed:ve,total:D})};U();const Y=setInterval(U,1e3);return()=>clearInterval(Y)}else if(Ve?.activeTimer&&!Ve?.activeTimer?.is_running){const p=Ve.activeTimer;ht({elapsed:0,total:p.duration_seconds||0})}else Ve?.activeTimer||ht({elapsed:0,total:0})},[Ve?.activeTimer?.is_running,Ve?.activeTimer?.is_active,Ve?.activeTimer?.started_at,Ve?.activeTimer?.duration_seconds,Ve?.activeTimer,Xt]),E.useEffect(()=>{console.log(" Schedule state changed:",{scheduleLength:T.length,firstItem:T[0]?{id:T[0].id,segmentName:T[0].segmentName,programType:T[0].programType}:"No items",eventId:t?.id})},[T,t?.id]);const Gu=async()=>{if(!t?.id){console.log(" No event ID available for loading backups");return}try{console.log(" Loading backups for event:",t.id),console.log(" Event details:",{id:t.id,name:t.name});const p=await ic.testBackupTable(),y=await ic.getBackupsForEvent(t.id);console.log(" Raw backup data received:",y),Kt(y),console.log(" Loading backup stats...");const D=await ic.getBackupStats(t.id);console.log(" Backup stats:",D),ks(D),console.log(` Loaded ${y.length} backups successfully`)}catch(p){console.error(" Error loading backups:",p),console.error(" Error details:",{message:p.message,stack:p.stack,eventId:t?.id}),Kt([]),ks({totalBackups:0,lastBackup:null,autoBackups:0,manualBackups:0})}},pm=async()=>{if(t?.id)try{console.log(" Creating manual backup for event:",t.id);const p=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),y=`${t.name}  ${p}`;await ic.createBackup(t.id,T,Z,t,"manual",y,o?.id,o?.full_name||o?.email,o?.role),console.log(" Manual backup created:",y);const D=await ic.getBackupStats(t.id);ks(D),alert(` Manual backup created successfully!

Backup: ${y}
Schedule Items: ${T.length}
Custom Columns: ${Z.length}`)}catch(p){console.error(" Error creating manual backup:",p),alert(` Error creating manual backup: ${p.message}`)}},Wu=p=>{vs(p),na(!0)},Rl=async()=>{if(!(!t?.id||!hn))try{console.log(" Restoring from backup:",hn.id);const p=await ic.restoreFromBackup(hn.id);H(p.scheduleData),W(p.customColumnsData),localStorage.setItem(`runOfShowSchedule_${t.id}`,JSON.stringify(p.scheduleData)),localStorage.setItem(`customColumns_${t.id}`,JSON.stringify(p.customColumnsData)),z("RESTORE_BACKUP",`Restored from backup: ${p.backupName}`,{changeType:"RESTORE",backupName:p.backupName,backupId:hn.id,itemCount:p.scheduleData.length,customColumnsCount:p.customColumnsData.length}),await Nt.saveRunOfShowData({event_id:t.id,schedule_items:p.scheduleData,custom_columns:p.customColumnsData,event_data:p.eventData},{userId:o?.id||"unknown",userName:o?.full_name||o?.email||"Unknown User",userRole:o?.role||"VIEWER"}),console.log(" Triggering auto-save after backup restore..."),Br(),console.log(" Restored from backup:",p.backupName),na(!1),Xi(!1),vs(null),alert(` Data restored from backup!

Backup: ${p.backupName}
Date: ${new Date(p.backupTimestamp).toLocaleString()}

Schedule Items: ${p.scheduleData.length}
Custom Columns: ${p.customColumnsData.length}`)}catch(p){console.error(" Error restoring from backup:",p),alert(` Error restoring from backup: ${p.message}`)}},Sh=async p=>{if(confirm("Are you sure you want to delete this backup?"))try{console.log(" Deleting backup:",p),await ic.deleteBackup(p),console.log(" Backup deleted successfully"),alert("Backup deleted successfully"),await Gu()}catch(y){console.error(" Error deleting backup:",y),alert(`Error deleting backup: ${y.message}`)}};E.useEffect(()=>{if(!t?.id){console.log(" No event ID, skipping change detection");return}console.log(" Starting change detection for event:",t.id),Sl();const p=async()=>{try{if(Gr){console.log(" Skipping sync check - user just made a change"),or(!1),Sl();return}if(cr){console.log(" Skipping sync check - user is actively editing");return}console.log(" Running change check...");const D=await Nt.checkForChanges(t.id,le??void 0);D.hasChanges?(console.log(" Changes detected:",D),oe(!0),_({show:!0,lastModifiedBy:D.lastModifiedBy,lastModifiedByName:D.lastModifiedByName}),jr?(console.log(" Loading changes automatically..."),await mm()):console.log(" Changes detected but page not visible - will load when page becomes visible")):console.log(" No changes detected")}catch(D){console.error(" Error checking for changes:",D)}};p();const y=setInterval(p,300*1e3);return()=>{clearInterval(y),tm()}},[t?.id,le,jr,tm]),E.useEffect(()=>{jr&&de&&(console.log(" Page became visible with pending changes - loading changes..."),mm())},[jr,de]),E.useEffect(()=>{Bi&&t?.id&&Gu()},[Bi,t?.id]),E.useEffect(()=>{const p=()=>{const y=!document.hidden;console.log(` Page visibility changed: ${y?"visible":"hidden"}`),yc(y),y?(console.log(" Page became visible, checking for changes..."),Tl()):(Qs(new Date),console.log(" Page became hidden, recording last sync time"))};return document.addEventListener("visibilitychange",p),()=>document.removeEventListener("visibilitychange",p)},[]);const Tl=async()=>{if(!t?.id||!vn){console.log(" No event ID or last sync time, skipping change check");return}try{console.log(" Checking for changes since last sync...");const p=await Nt.getRunOfShowData(t.id);if(p){const y=new Date(p.last_change_at||new Date);console.log(" Latest change time:",y),console.log(" Last sync time:",vn),y>vn?(console.log(" Changes detected since last sync, updating local data..."),H(p.schedule_items||[]),W(p.custom_columns||[]),localStorage.setItem(`runOfShowSchedule_${t.id}`,JSON.stringify(p.schedule_items||[])),localStorage.setItem(`customColumns_${t.id}`,JSON.stringify(p.custom_columns||[])),console.log(" Local data updated with latest changes")):console.log(" No changes detected since last sync")}}catch(p){console.error(" Error checking for changes on return:",p)}};E.useEffect(()=>{t?.id&&(localStorage.setItem(`runOfShowSchedule_${t.id}`,JSON.stringify(T)),window.dispatchEvent(new CustomEvent("scheduleUpdated",{detail:{eventId:t.id,schedule:T}})),console.log(" Schedule saved and event dispatched for event:",t.id),cr?(console.log(" User-initiated schedule change detected - auto-saving"),Sa()):console.log(" Schedule change from API/sync - skipping auto-save"))},[T,t?.id,Sa,cr]),E.useEffect(()=>{if(!t?.id)return;const p=()=>{console.log(" Updating graphics data for live JSON files..."),localStorage.setItem(`runOfShowSchedule_${t.id}`,JSON.stringify(T)),localStorage.setItem(`customColumns_${t.id}`,JSON.stringify(Z)),localStorage.setItem(`eventName_${t.id}`,De),localStorage.setItem(`masterStartTime_${t.id}`,ge),localStorage.setItem(`dayStartTimes_${t.id}`,JSON.stringify(ue)),window.dispatchEvent(new CustomEvent("scheduleUpdated",{detail:{eventId:t.id,schedule:T}}))};p();const y=setInterval(p,30*1e3);return()=>clearInterval(y)},[t?.id,T,Z,De,ge,ue]),E.useEffect(()=>{t?.id&&(localStorage.setItem(`customColumns_${t.id}`,JSON.stringify(Z)),cr?(console.log(" User-initiated custom columns change detected - auto-saving"),Sa()):console.log(" Custom columns change from API/sync - skipping auto-save"))},[Z,t?.id,Sa,cr]),E.useEffect(()=>{t?.id&&(localStorage.setItem(`eventName_${t.id}`,De),cr?(console.log(" User-initiated event name change detected - auto-saving"),Sa()):console.log(" Event name change from API/sync - skipping auto-save"))},[De,t?.id,Sa,cr]),E.useEffect(()=>{t?.id&&(console.log(" Master start time useEffect triggered:",{masterStartTime:ge,isUserEditing:cr,eventId:t.id}),localStorage.setItem(`masterStartTime_${t.id}`,ge),cr?(console.log(" User-initiated master start time change detected - auto-saving to API"),Sa()):console.log(" Master start time change from API/sync - skipping auto-save"))},[ge,t?.id,Sa,cr]),E.useEffect(()=>{t?.id&&(console.log(" Day start times useEffect triggered:",{dayStartTimes:ue,isUserEditing:cr,eventId:t.id}),localStorage.setItem(`dayStartTimes_${t.id}`,JSON.stringify(ue)),cr?(console.log(" User-initiated day start times change detected - auto-saving to API"),Sa()):console.log(" Day start times change from API/sync - skipping auto-save"))},[ue,t?.id,Sa,cr]),E.useEffect(()=>{if($r&&!$r.closed){const p=Object.keys(We),y=p.length>0?T.find(U=>We[U.id]):T.find(U=>U.id===F),D={type:"TIMER_UPDATE",isRunning:p.length>0,elapsedTime:y&&Ee[y.id]?Ee[y.id].elapsed:0,totalDuration:y&&Ee[y.id]?Ee[y.id].total:y?y.durationHours*3600+y.durationMinutes*60+y.durationSeconds:0,eventId:t?.id,itemId:y?.id,mainTimer:y?{cue:y.customFields.cue||"CUE",segmentName:y.segmentName||""}:null,secondaryTimer:Ut?{itemId:Ut.itemId,remaining:Ut.remaining,duration:Ut.duration,cue:T.find(U=>U.id===Ut.itemId)?.customFields.cue||"CUE",segmentName:T.find(U=>U.id===Ut.itemId)?.segmentName||""}:null};$r.postMessage(D,"*")}},[We,Ee,F,T,ge,De,$r,Ut]);const Oh=p=>{const y=()=>{const Y="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let se="";for(let ve=0;ve<5;ve++)se+=Y.charAt(Math.floor(Math.random()*Y.length));return se},D={...p,id:Date.now(),timerId:y(),isIndented:p.isIndented||!1,customFields:{cue:p.cue?`CUE${p.cue}`:"CUE"}};Xe!==null?(H(Y=>{const se=[...Y];return se.splice(Xe+1,0,D),se}),Ke(null)):H(Y=>[...Y,D]);const U=Xe!==null?Xe+2:T.length+1;z("ADD_ITEM",`Added new schedule item: "${D.segmentName}"`,{changeType:"ADD",itemId:D.id,itemName:D.segmentName,rowNumber:U,cueNumber:D.customFields.cue?parseInt(D.customFields.cue,10):null,details:{day:D.day,programType:D.programType,shotType:D.shotType,position:`Row ${U}`,durationHours:D.durationHours,durationMinutes:D.durationMinutes,totalDurationMinutes:D.durationHours*60+D.durationMinutes,speakers:D.speakers||"None",speakersText:D.speakersText||"None",notes:D.notes||"",assets:D.assets||"None",hasPPT:D.hasPPT,hasQA:D.hasQA,timerId:D.timerId,isPublic:D.isPublic,isIndented:D.isIndented}}),L(!1),es(),Ts({cue:"",day:Ue,programType:"PreShow/End",shotType:"",segmentName:"",durationHours:0,durationMinutes:0,durationSeconds:0,notes:"",assets:"",speakers:"",speakersText:"",hasPPT:!1,hasQA:!1,timerId:"",isPublic:!1,isIndented:!1,customFields:{}})},hm=p=>{const y={name:p,id:Date.now().toString()};W(D=>[...D,y]),H(D=>D.map(U=>({...U,customFields:{...U.customFields,[p]:""}}))),z("COLUMN_ADD",`Added custom column "${p}"`,{changeType:"COLUMN_ADD",columnName:p,details:{columnType:"text",affectedItems:T.length,defaultValue:""}}),St(!1),es()},yh=p=>{const y=Z.find(D=>D.id===p);y&&(W(D=>D.filter(U=>U.id!==p)),H(D=>D.map(U=>{const{[y.name]:Y,...se}=U.customFields;return{...U,customFields:se}})),z("COLUMN_REMOVE",`Removed custom column "${y.name}"`,{changeType:"COLUMN_REMOVE",columnName:y.name,details:{affectedItems:T.length,columnId:y.id}}))},Jr=(p,y)=>{p.preventDefault(),p.stopPropagation();const D=p.clientX,U=fr[y]||256;document.body.style.cursor="col-resize",document.body.style.userSelect="none";const Y=ve=>{const Pe=ve.clientX-D,je=Math.max(100,U+Pe);ko(st=>({...st,[y]:je}))},se=()=>{document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",se)};document.addEventListener("mousemove",Y),document.addEventListener("mouseup",se)},Pc=(p,y)=>{p.preventDefault(),p.stopPropagation();const D=p.clientX,U=Ro[y]||256;document.body.style.cursor="col-resize",document.body.style.userSelect="none";const Y=ve=>{const Pe=ve.clientX-D,je=Math.max(100,U+Pe);pi(st=>({...st,[y]:je}))},se=()=>{document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",se)};document.addEventListener("mousemove",Y),document.addEventListener("mouseup",se)},_o=async p=>{if(!(!o||!t?.id))if(We[p]){clearInterval(Pt[p]);const y=`${p}_drift`;We[y]&&clearInterval(Pt[y]),Ot(Y=>{const se={...Y};return delete se[p],delete se[y],se}),xr(Y=>{const se={...Y};return delete se[p],delete se[y],se}),tt(Y=>{const se=new Set(Y);return se.delete(p),se}),lr(Y=>{const se={...Y,[p]:!0};return console.log(" ToggleTimer: Updated completedCues for main item:",p,"new state:",se),se}),Zs(Y=>new Set([...Y,p]));const D=Ee[p];if(D&&D.elapsed>0){const Y=(D.total||0)/60,se=(D.elapsed||0)/60,ve=Math.floor(se-Y);if(Math.abs(ve)>=1){const Pe=ve>0?"over":"under";console.log(` Automatic overtime detected: ${Math.abs(ve)} minutes ${Pe} for cue ${p}`),Ce(je=>({...je,[p]:ve})),z("OVERTIME_DETECTED",{cueId:p,scheduledDuration:Math.floor(Y),actualDuration:Math.floor(se),overtimeMinutes:ve,overtimeType:Pe})}}try{const Y=T.find(se=>se.id===p);await Nt.markCueCompleted(t.id,p,Y?.customFields?.cue||"CUE",o.id,o.full_name||o.email||"Unknown User",c||"VIEWER")}catch(Y){console.warn(" Failed to mark cue as completed in database:",Y),console.log(" This means the completed_cues table needs to be created first")}const U=T.findIndex(Y=>Y.id===p);if(console.log(" ToggleTimer: Current index for item",p,":",U),U!==-1){console.log(" ToggleTimer: Looking for indented items after index",U);for(let Y=U+1;Y<T.length;Y++)if(console.log(" ToggleTimer: Checking item at index",Y,":",T[Y].segmentName,"isIndented:",T[Y].isIndented),T[Y].isIndented){console.log(" ToggleTimer: Marking indented item as completed:",T[Y].id,T[Y].segmentName),lr(se=>{const ve={...se,[T[Y].id]:!0};return console.log(" ToggleTimer: Updated completedCues for indented item:",T[Y].id,"new state:",ve),ve}),Zs(se=>new Set([...se,T[Y].id]));try{await Nt.markCueCompleted(t.id,T[Y].id,T[Y].customFields?.cue||"CUE",o.id,o.full_name||o.email||"Unknown User",c||"VIEWER"),console.log(" ToggleTimer: Successfully marked indented item as completed in database:",T[Y].id)}catch(se){console.error(" ToggleTimer: Failed to mark indented item as completed in database:",T[Y].id,se)}}else{console.log(" ToggleTimer: Hit non-indented item, stopping search at index",Y);break}}else console.log(" ToggleTimer: Could not find current item in schedule:",p);is(Y=>{const se={...Y};return delete se[p],se}),F===p&&me(null),xe(Y=>{const se={...Y};return delete se[p],se}),Ut&&(console.log(" Stopping sub-cue timer because main timer was stopped"),await _c()),console.log(" Stopping timer in API for item:",p),await Nt.stopTimer(t.id,p,o.id,o.full_name||o.email||"Unknown User",c||"VIEWER"),console.log(" Timer stopped in API");try{await Nt.updateLastLoadedCue(t.id,p,"stopped"),console.log(" Last loaded CUE saved as stopped")}catch(Y){console.log(" Could not save last loaded CUE as stopped (migration may not be run):",Y)}await Fu()}else{if(Object.keys(We).length>0)return;const y=T.find(D=>D.id===p);if(y){const D=y.durationHours*3600+y.durationMinutes*60+y.durationSeconds;console.log(" Optimistic UI update - showing running state immediately");const U=new Date;xe(st=>({...st,[p]:{elapsed:0,total:D,startedAt:U}}));const Y=setInterval(()=>{xe(st=>{if(st[p]){const ot=Date.now(),xt=st[p].startedAt;let Vt;xt instanceof Date?Vt=xt.getTime():typeof xt=="string"?Vt=new Date(xt).getTime():(console.warn(" startedAt is not a Date or string:",xt),Vt=ot);const Bt=Math.floor((ot-Vt)/1e3),ns=D-Bt;return Bt<=10&&console.log(` Timer ${p}: Elapsed=${Bt}s, Remaining=${ns}s, Start=${new Date(Vt).toISOString()}, Now=${new Date(ot).toISOString()}`),{...st,[p]:{...st[p],elapsed:Bt}}}return st})},1e3);xr(st=>({...st,[p]:Y})),Ot(st=>({...st,[p]:!0})),console.log(` Timer ${p} started - WebSocket will handle all synchronization`),console.log(` Timer ${p} will receive updates via WebSocket`);const ve=T.findIndex(st=>st.id===p)+1,Pe=cs(y.customFields.cue),je=y.timerId;console.log(" Starting timer in API for item:",p,"at:",U.toISOString(),"row:",ve,"cue:",Pe,"timerId:",je);try{const st=await Nt.startTimer(t.id,p,o.id,D,U,ve,Pe,je);console.log(" Timer started in API:",st),st||console.error(" Start timer failed - check database connection and functions")}catch(st){console.error(" Start timer error:",st)}try{await Nt.updateLastLoadedCue(t.id,p,"running"),console.log(" Last loaded CUE saved as running")}catch(st){console.log(" Could not save last loaded CUE as running (migration may not be run):",st)}console.log(" Timer started locally with drift detection enabled"),await Fu(),Zs(st=>{const ot=new Set(st);ot.delete(p);const xt=T.findIndex(Vt=>Vt.id===p);if(xt!==-1)for(let Vt=xt+1;Vt<T.length&&T[Vt].isIndented;Vt++)ot.delete(T[Vt].id);return ot})}}},Uo=async p=>{if(!o||!t?.id)return;const y=T.find(D=>D.id===p);if(y&&Mt[p]){const D=y.durationHours*3600+y.durationMinutes*60+y.durationSeconds;console.log(" Starting secondary timer for item:",p,"Duration:",D,"s"),ye(Y=>({...Y,[p]:{elapsed:0,total:D,startedAt:new Date}}));const U=setInterval(()=>{ye(Y=>{const se=Y[p];if(!se)return Y;const ve=Math.floor((Date.now()-(se.startedAt?.getTime()||Date.now()))/1e3);return Math.max(0,se.total-ve),{...Y,[p]:{...se,elapsed:ve}}}),ar(Y=>{if(!Y)return null;if(Ec)return Y;const se=Y.startedAt?.getTime()||Date.now(),ve=Math.floor((Date.now()-se)/1e3),Pe=Math.max(0,Y.duration-ve);if(Pe===0){console.log(" Sub-cue timer reached 0 - holding for a beat");const je=t?.id;console.log(" Current event ID for database call:",je),setTimeout(()=>{console.log(" Sub-cue timer auto-stopping after hold - clearing local state"),zr&&(clearInterval(zr),Xs(null)),Object.keys(Sr).forEach(st=>{Sr[parseInt(st)]&&clearInterval(Sr[parseInt(st)])}),Or({}),ye({}),ar(null),setTimeout(async()=>{try{if(je){console.log(" Clearing sub-cue timer from database after 3s delay with event ID:",je);const st=await Nt.stopSubCueTimer(je);console.log(" Database stop result:",st),console.log(" Sub-cue timer stopped in database (is_active = false)")}else console.error(" No event ID available for database call")}catch(st){console.error(" Error stopping sub-cue timer in database:",st),console.error(" Error details:",st)}},3e3)},1e3)}return{...Y,remaining:Pe}})},1e3);Or(Y=>({...Y,[p]:U})),ar({itemId:p,remaining:D,duration:D,isActive:!0,startedAt:new Date,timerState:"running"});try{console.log(" User ID:",o.id,"Event ID:",t.id);const Y=T.find(je=>je.id===p),se=T.findIndex(je=>je.id===p)+1,ve=Y?cs(Y.customFields.cue):`CUE ${p}`,Pe=Y?.timerId||`SUB${p}`;try{console.log(" Starting sub-cue timer for item:",p,"(will auto-stop any existing timers)");const je=await Nt.startSubCueTimer(t.id,p,o.id,D,se,ve,Pe,o.full_name||o.email||"Unknown User",c||"VIEWER");console.log(" Secondary timer started in Supabase for item:",p,"Result:",je),je?.error&&console.error(" Secondary timer database error:",je.error)}catch(je){console.error(" Secondary timer call failed:",je)}try{console.log(" Sub-cue timer started locally"),console.log(" Secondary timer action broadcasted")}catch(je){console.error(" Error broadcasting secondary timer action:",je)}await Rc()}catch(Y){console.error(" Error starting secondary timer:",Y),clearInterval(U),Or(se=>{const ve={...se};return delete ve[p],ve}),ye(se=>{const ve={...se};return delete ve[p],ve})}}},_c=async()=>{if(t?.id){console.log(" Stopping secondary timer..."),ar(null),zr&&(clearInterval(zr),Xs(null)),Object.keys(Sr).forEach(p=>{Sr[parseInt(p)]&&clearInterval(Sr[parseInt(p)])}),Or({}),ye({}),console.log(" Local secondary timer state cleared");try{console.log(" Stopping sub-cue timer in database with event ID:",t.id);const p=await Nt.stopSubCueTimer(t.id);console.log(" Database stop result:",p),console.log(" Secondary timer stopped in database (is_active = false)");try{console.log(" Broadcasting STOP_SECONDARY_TIMER action..."),console.log(" Sub-cue timer stopped locally"),console.log(" Secondary timer stop action broadcasted successfully")}catch(y){console.error(" Error broadcasting secondary timer stop action:",y)}}catch(p){console.error(" Error stopping sub-cue timer in database:",p),console.error(" Error details:",p)}try{await Rc()}catch(p){console.error(" Error loading updated timer from Supabase:",p)}}},Eh=p=>{if(!p)return"";let y=p.toString().trim();return y=y.replace(/^CUE\s*/i,""),y=y.trim(),y},vm=async p=>{try{console.log(" Processing Excel import:",p);const y=`This will add ${p.length} new items to your schedule. Continue?`;if(!window.confirm(y)){console.log(" Excel import cancelled by user");return}const D=p.map((U,Y)=>{const se=U.duration?U.duration.split(":"):["0","0","0"],ve=parseInt(se[0])||0,Pe=parseInt(se[1])||0,je=parseInt(se[2])||0,st=Math.max(...T.map(xt=>xt.id),0)+Y+1;let ot=U.speakers||"";if(U.speakers)try{const xt=JSON.parse(U.speakers);if(Array.isArray(xt)){const Vt=xt.map(Bt=>({...Bt,photoLink:Bt.photoUrl||Bt.photoLink||"",photoUrl:void 0}));ot=JSON.stringify(Vt)}}catch(xt){console.warn("Failed to transform speaker data:",xt)}return{id:st,segmentName:U.segmentName||`Imported Item ${Y+1}`,programType:U.programType||"",shotType:U.shotType||"",durationHours:ve,durationMinutes:Pe,durationSeconds:je,notes:U.notes||"",assets:U.assets||"",speakers:ot,speakersText:ot,hasPPT:U.hasPPT||!1,hasQA:U.hasQA||!1,timerId:U.timerId||"",isPublic:U.isPublic||!1,isIndented:U.isIndented||!1,day:U.day||Ue,customFields:{cue:Eh(U.cue)||`CUE ${Y+1}`,...U.customFields}}});H(U=>[...U,...D]),console.log(" Imported items with assets:",D.filter(U=>U.assets).map(U=>({id:U.id,segmentName:U.segmentName,assets:U.assets}))),z("IMPORT_EXCEL",`Imported ${D.length} items from Excel`,{changeType:"IMPORT",itemCount:D.length,source:"Excel"}),console.log(" Triggering auto-save after Excel import..."),Br(),console.log(" Excel import completed successfully")}catch(y){console.error(" Error importing Excel data:",y),alert("Error importing Excel data. Please check the file format and try again.")}},Ch=()=>{try{const p=T.length;H([]),z("DELETE_ALL",`Deleted all ${p} schedule items`,{changeType:"DELETE_ALL",itemCount:p,source:"Excel Import Modal"}),console.log(` Deleted all ${p} schedule items`)}catch(p){console.error(" Error deleting all schedule items:",p),alert("Error deleting schedule items. Please try again.")}},gm=p=>{if(window.confirm("Delete this schedule item?")){const y=T.find(D=>D.id===p);if(H(D=>D.filter(U=>U.id!==p)),ee(null),y){const D=T.findIndex(U=>U.id===p)+1;z("REMOVE_ITEM",`Deleted schedule item: "${y.segmentName}"`,{changeType:"DELETE",itemId:y.id,itemName:y.segmentName,rowNumber:D,cueNumber:y.customFields.cue?parseInt(y.customFields.cue,10):null,details:{day:y.day,programType:y.programType,shotType:y.shotType,position:`Row ${D}`,durationHours:y.durationHours,durationMinutes:y.durationMinutes,totalDurationMinutes:y.durationHours*60+y.durationMinutes,speakers:y.speakers||"None",speakersText:y.speakersText||"None",notes:y.notes||"",assets:y.assets||"None",hasPPT:y.hasPPT,hasQA:y.hasQA,timerId:y.timerId,isPublic:y.isPublic,isIndented:y.isIndented}})}}},zu=(p,y)=>{const D=T.findIndex(Pe=>Pe.id===p);if(D===-1)return;const U=y==="up"?D-1:D+1;if(U<0||U>=T.length)return;const Y=T[D],se=D+1,ve=U+1;H(Pe=>{const je=[...Pe];return[je[D],je[U]]=[je[U],je[D]],je}),Y&&z("MOVE_ITEM",`Moved "${Y.segmentName}" from row ${se} to row ${ve}`,{changeType:"MOVE",itemId:Y.id,itemName:Y.segmentName,details:{fromRow:se,toRow:ve,direction:y}}),ee(null)},xm=(p,y)=>{const D=T.findIndex(Pe=>Pe.id===p);if(D===-1)return;const U=y-1;if(U<0||U>=T.length||U===D)return;const Y=T[D],se=D+1,ve=y;H(Pe=>{const je=[...Pe],st=je[D];return je.splice(D,1),je.splice(U,0,st),je}),Y&&z("MOVE_ITEM",`Moved "${Y.segmentName}" from row ${se} to row ${ve}`,{changeType:"MOVE",itemId:Y.id,itemName:Y.segmentName,details:{fromRow:se,toRow:ve,direction:"specific"}}),ee(null)},Vo=p=>{const y=T[p];if(!y||Mt[y.id])return"";const D=y.day||1,U=ue[D]||ge;if(!U)return"";let Y=0;for(let Vt=0;Vt<p;Vt++){const Bt=T[Vt];(Bt.day||1)===D&&!Mt[Bt.id]&&(Y+=(Bt.durationHours||0)*3600+(Bt.durationMinutes||0)*60+(Bt.durationSeconds||0))}const[se,ve]=U.split(":").map(Number),je=se*3600+ve*60+Y,st=Math.floor(je/3600)%24,ot=Math.floor(je%3600/60),xt=new Date;return xt.setHours(st,ot,0,0),xt.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},bm=p=>{const y=T[p];if(!y||Mt[y.id])return"";const D=Vo(p);if(!D)return"";let U=0;for(let Bt=0;Bt<p;Bt++){const ns=T[Bt],ts=ns.day||1,qn=y.day||1;ts===qn&&!Mt[ns.id]&&(U+=M[ns.id]||0)}if(U===0)return D;const[Y,se]=D.split(" "),[ve,Pe]=Y.split(":").map(Number);let je=ve;se==="PM"&&ve!==12&&(je+=12),se==="AM"&&ve===12&&(je=0);const st=je*60+Pe+U,ot=Math.floor(st/60)%24,xt=st%60,Vt=new Date;return Vt.setHours(ot,xt,0,0),Vt.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},oa=()=>{const p=T.filter(y=>(y.day||1)===Ue);return T.filter(y=>y.isIndented),p.filter(y=>y.isIndented),p};return E.useEffect(()=>{const p=()=>{const y=window.pageYOffset||document.documentElement.scrollTop;V(y>100)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]),E.useEffect(()=>{const p=document.getElementById("main-scroll-container");if(!p)return;let y=!1;const D=(ve,Pe)=>{y||(y=!0,Pe.scrollLeft=ve.scrollLeft,requestAnimationFrame(()=>{y=!1}))},U=()=>{const ve=document.querySelector(".sticky-header-scroll-container");ve&&D(p,ve)},Y=()=>{const ve=document.querySelector(".sticky-header-scroll-container");ve&&D(ve,p)};p.addEventListener("scroll",U);const se=new MutationObserver(()=>{const ve=document.querySelector(".sticky-header-scroll-container");ve&&ve.addEventListener("scroll",Y)});return se.observe(document.body,{childList:!0,subtree:!0}),()=>{p.removeEventListener("scroll",U),se.disconnect()}},[]),E.useEffect(()=>{const p=ve=>{const Pe=xt=>{if(xt.button!==0)return;const Vt=xt.target;Vt.tagName==="INPUT"||Vt.tagName==="TEXTAREA"||Vt.tagName==="BUTTON"||Vt.tagName==="SELECT"||Vt.closest("button")||Vt.closest("input")||Vt.closest("textarea")||Vt.closest("select")||Vt.classList.contains("cursor-col-resize")||(gs.current={isDragging:!0,startX:xt.pageX-ve.offsetLeft,scrollLeft:ve.scrollLeft,container:ve},ve.style.cursor="grabbing",ve.style.userSelect="none",xt.preventDefault())},je=xt=>{if(!gs.current.isDragging)return;xt.preventDefault();const Bt=(xt.pageX-(gs.current.container?.offsetLeft||0)-gs.current.startX)*1.5;gs.current.container&&(gs.current.container.scrollLeft=gs.current.scrollLeft-Bt)},st=()=>{gs.current.isDragging&&gs.current.container&&(gs.current.container.style.cursor="grab",gs.current.container.style.userSelect=""),gs.current.isDragging=!1},ot=()=>{gs.current.isDragging&&gs.current.container&&(gs.current.container.style.cursor="grab",gs.current.container.style.userSelect=""),gs.current.isDragging=!1};return ve.style.cursor="grab",ve.addEventListener("mousedown",Pe),document.addEventListener("mousemove",je),document.addEventListener("mouseup",st),ve.addEventListener("mouseleave",ot),()=>{ve.style.cursor="",ve.removeEventListener("mousedown",Pe),document.removeEventListener("mousemove",je),document.removeEventListener("mouseup",st),ve.removeEventListener("mouseleave",ot)}},y=document.getElementById("main-scroll-container");let D;y&&(Lu.current=y,D=p(y));const U=document.querySelector(".sticky-header-scroll-container");let Y;U&&(Cc.current=U,Y=p(U));const se=new MutationObserver(()=>{const ve=document.querySelector(".sticky-header-scroll-container");ve&&!Cc.current&&(Cc.current=ve,Y=p(ve))});return se.observe(document.body,{childList:!0,subtree:!0}),()=>{D&&D(),Y&&Y(),se.disconnect()}},[]),E.useEffect(()=>{F!==null&&setTimeout(()=>{ih()},100)},[F,Rs]),E.useEffect(()=>{if(Rs&&Object.keys(We).length>0){const p=parseInt(Object.keys(We)[0]),y=document.querySelector(`[data-item-id="${p}"]`);y&&setTimeout(()=>{const D=document.querySelector("#main-scroll-container .h-24");let U=100;if(D){const ve=D.getBoundingClientRect(),Pe=document.querySelector("#main-scroll-container")?.getBoundingClientRect();Pe&&(U=ve.bottom-Pe.top-120)}const Y=y.getBoundingClientRect(),se=document.querySelector("#main-scroll-container")?.getBoundingClientRect();if(se){const ve=Y.top-se.top-U;window.scrollTo({top:ve,behavior:"smooth"})}},100)}},[We,Rs]),t?a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-slate-200",children:[!jr&&a.jsxDEV("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-yellow-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-yellow-300 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7099,columnNumber:11},void 0),a.jsxDEV("span",{className:"text-sm font-medium",children:"Tab Hidden - Syncing Paused"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7100,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7098,columnNumber:9},void 0),a.jsxDEV(fC,{isOpen:h,onClose:()=>x(!1),onRoleSelected:p=>{if(f(p),t?.id&&o?.id)try{const y=o.full_name||o.email||"Unknown";Nt.saveUserSession(t.id,o.id,y,p).then(D=>{D?console.log(" Role saved to API from RunOfShowPage:",p):console.log(" Failed to save role to API, using localStorage only")}),localStorage.setItem(`userRole_${t.id}`,p),console.log(" Saved role to localStorage from RunOfShowPage:",p)}catch(y){console.error(" Failed to save role to API from RunOfShowPage:",y),localStorage.setItem(`userRole_${t.id}`,p),console.log(" Saved role to localStorage as fallback:",p)}x(!1)},eventId:t?.id||""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7105,columnNumber:7},void 0),sh&&yl&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4 border-2 border-orange-500",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-orange-400 text-2xl font-bold mb-4",children:" Timer Running"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7143,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-white text-lg mb-2",children:a.jsxDEV("strong",{children:yl.cueName},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7147,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7146,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-orange-300 text-xl font-mono mb-6",children:[yl.remainingTime," remaining"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7149,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex gap-3 justify-center",children:[a.jsxDEV("button",{onClick:()=>Ol(!1),className:"px-6 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded transition-colors",children:"Dismiss"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7153,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{Ol(!1),Iu()},className:"px-6 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded transition-colors",children:"Sync Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7159,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7152,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7142,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7141,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7140,columnNumber:9},void 0),v&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Change Log"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7180,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>X(!1),className:`px-3 py-1 rounded text-sm transition-colors ${R?"bg-slate-600 text-slate-300 hover:bg-slate-500":"bg-blue-600 text-white"}`,children:["Local (",O.length,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7182,columnNumber:19},void 0),a.jsxDEV("button",{onClick:()=>X(!0),className:`px-3 py-1 rounded text-sm transition-colors ${R?"bg-blue-600 text-white":"bg-slate-600 text-slate-300 hover:bg-slate-500"}`,children:["Master (",C.length,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7192,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7181,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7179,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[!R&&a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:async()=>{console.log(" Sync button clicked - starting sync..."),await Bu();const p=Is.getLocalChanges();console.log(" Local changes after sync:",p.length),w(p),console.log(" Local change log refreshed after sync")},className:"px-3 py-1 bg-green-600 hover:bg-green-500 text-white text-sm rounded transition-colors",title:"Sync changes to Supabase",children:" Sync"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7207,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>{Is.reloadLocalChanges();const p=Is.getLocalChanges();w(p.slice(0,100)),console.log(" Manually reloaded local changes:",p.length)},className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",title:"Reload local changes",children:" Reload"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7222,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7206,columnNumber:19},void 0),R&&a.jsxDEV("button",{onClick:async()=>{console.log(" Manual reload button clicked...");const p=C.length;console.log(" Master log entries before reload:",p),await $u(),console.log(" Master change log reloaded"),console.log(" Master log entries after reload:",C.length)},className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",title:"Reload master change log",children:" Reload"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7237,columnNumber:19},void 0),a.jsxDEV("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white text-2xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7252,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7204,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7178,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:R?C.length===0?a.jsxDEV("p",{className:"text-gray-400 text-center py-8",children:"No master changes found"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7265,columnNumber:19},void 0):a.jsxDEV("div",{className:"space-y-3",children:C.map(p=>{const y=p.new_values_json||{},D=p.metadata||{},U=p.row_number||D.rowNumber||y.rowNumber,Y=p.cue_number||D.cueNumber||y.cueNumber,se=p.user_role||D.userRole||"EDITOR",ve=p.field_name||y.fieldName||y.changeType,Pe=p.old_value||y.oldValue,je=p.new_value||y.newValue,st=p.description||y.itemName;return a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4",children:[a.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:`text-white text-xs px-2 py-1 rounded ${p.action==="ADD_ITEM"?"bg-green-600":p.action==="REMOVE_ITEM"?"bg-red-600":p.action==="FIELD_UPDATE"?"bg-blue-600":p.action==="MOVE_ITEM"?"bg-yellow-600":p.action==="COLUMN_ADD"?"bg-purple-600":p.action==="COLUMN_REMOVE"?"bg-orange-600":"bg-blue-600"}`,children:p.action},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7284,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-gray-300 text-sm",children:["by ",p.user_name]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7295,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-gray-500 text-xs",children:["(",se,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7299,columnNumber:29},void 0),U&&a.jsxDEV("span",{className:"text-gray-400 text-xs bg-slate-600 px-2 py-1 rounded",children:["ROW ",U]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7304,columnNumber:31},void 0),Y&&Y!=="CUE"&&a.jsxDEV("span",{className:"text-gray-400 text-xs bg-slate-600 px-2 py-1 rounded",children:cs(Y)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7309,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7283,columnNumber:27},void 0),a.jsxDEV("div",{className:"text-gray-400 text-xs",children:new Date(p.created_at||p.timestamp||p.change_timestamp).toLocaleString()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7314,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7282,columnNumber:25},void 0),a.jsxDEV("div",{className:"space-y-1 text-sm",children:[p.action==="FIELD_UPDATE"&&(ve||y.fieldName)&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Field:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7324,columnNumber:31},void 0)," ",ve||y.fieldName]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7323,columnNumber:31},void 0),p.action==="FIELD_UPDATE"&&(Pe!==void 0||y.oldValue!==void 0)&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Changed from:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7331,columnNumber:33},void 0),a.jsxDEV("span",{className:"text-red-300 ml-1",children:['"',Pe||y.oldValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7332,columnNumber:31},void 0),a.jsxDEV("span",{className:"text-gray-400 mx-1",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7333,columnNumber:31},void 0),a.jsxDEV("span",{className:"text-green-300",children:['"',je||y.newValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7334,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7330,columnNumber:31},void 0),p.action==="FIELD_UPDATE"&&!ve&&!y.fieldName&&st&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Change:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7341,columnNumber:31},void 0)," ",st]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7340,columnNumber:29},void 0),p.batch_id&&a.jsxDEV("div",{className:"text-gray-500 text-xs mt-2 pt-2 border-t border-slate-600",children:["Batch: ",p.batch_id.slice(0,8),"... | Synced: ",new Date(p.batch_created_at).toLocaleString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7347,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7320,columnNumber:27},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7281,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7267,columnNumber:19},void 0):O.length===0&&G.size===0?a.jsxDEV("p",{className:"text-gray-400 text-center py-8",children:"No local changes recorded yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7360,columnNumber:19},void 0):a.jsxDEV("div",{className:"space-y-3",children:[O.map(p=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4",children:[a.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:`text-white text-xs px-2 py-1 rounded ${p.action==="ADD_ITEM"?"bg-green-600":p.action==="REMOVE_ITEM"?"bg-red-600":p.action==="FIELD_UPDATE"?"bg-blue-600":p.action==="MOVE_ITEM"?"bg-yellow-600":p.action==="COLUMN_ADD"?"bg-purple-600":p.action==="COLUMN_REMOVE"?"bg-orange-600":p.action==="AUTO_SAVE"?"bg-gray-600":"bg-blue-600"}`,children:p.action},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7367,columnNumber:27},void 0),p.details?.processedBy&&a.jsxDEV("span",{className:`text-white text-xs px-2 py-1 rounded ${p.details.processedBy==="TIMEOUT"?"bg-orange-600":p.details.processedBy==="SAVE_BUTTON"?"bg-purple-600":"bg-gray-600"}`,children:p.details.processedBy},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7380,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-gray-300 text-sm",children:["by ",p.userName]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7388,columnNumber:27},void 0),p.details?.itemId&&a.jsxDEV("span",{className:"text-gray-400 text-xs",children:["Item #",p.details.itemId]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7392,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7366,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-gray-400 text-xs",children:p.timestamp.toLocaleString()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7397,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7365,columnNumber:23},void 0),p.details&&a.jsxDEV("div",{className:"space-y-1 text-sm",children:[(p.details?.rowNumber||p.details?.cueNumber)&&a.jsxDEV("div",{className:"text-gray-300",children:a.jsxDEV("strong",{children:["Row ",p.details?.rowNumber||"?"," | ",cs(p.details?.cueNumber)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7407,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7406,columnNumber:29},void 0),p.action==="ADD_ITEM"&&p.details.details&&a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Program Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7415,columnNumber:33},void 0)," ",p.details.details.programType]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7414,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Shot Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7418,columnNumber:33},void 0)," ",p.details.details.shotType]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7417,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Duration:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7421,columnNumber:33},void 0)," ",p.details.details.durationHours,"h ",p.details.details.durationMinutes,"m"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7420,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Speakers:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7424,columnNumber:33},void 0)," ",p.details.details.speakers]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7423,columnNumber:31},void 0),p.details.details.notes&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Notes:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7428,columnNumber:35},void 0)," ",p.details.details.notes]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7427,columnNumber:33},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Position:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7432,columnNumber:33},void 0)," ",p.details.details.position]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7431,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7413,columnNumber:29},void 0),p.action==="REMOVE_ITEM"&&p.details.details&&a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Program Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7441,columnNumber:33},void 0)," ",p.details.details.programType]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7440,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Shot Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7444,columnNumber:33},void 0)," ",p.details.details.shotType]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7443,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Duration:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7447,columnNumber:33},void 0)," ",p.details.details.durationHours,"h ",p.details.details.durationMinutes,"m"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7446,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Speakers:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7450,columnNumber:33},void 0)," ",p.details.details.speakers]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7449,columnNumber:31},void 0),p.details.details.notes&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Notes:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7454,columnNumber:35},void 0)," ",p.details.details.notes]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7453,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7439,columnNumber:29},void 0),p.action!=="ADD_ITEM"&&p.action!=="REMOVE_ITEM"&&p.details.fieldName&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Field:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7463,columnNumber:31},void 0)," ",p.details.fieldName]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7462,columnNumber:29},void 0),p.action!=="ADD_ITEM"&&p.action!=="REMOVE_ITEM"&&p.details.fieldName==="speakers"&&p.details.details&&a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Speaker Count:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7471,columnNumber:33},void 0)," ",p.details.details.speakerCount||0]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7470,columnNumber:31},void 0),p.details.newValue&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Speakers:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7475,columnNumber:35},void 0),a.jsxDEV("div",{className:"mt-1 text-sm text-blue-300",children:(()=>{try{const y=JSON.parse(p.details.newValue);if(Array.isArray(y))return y.sort((D,U)=>D.slot-U.slot).map(D=>`${D.slot}. ${D.fullName||D.name||"Unknown"} (${D.location||"Unknown"})`).join(", ")}catch{return"Unable to parse speakers"}return"No speakers"})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7476,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7474,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7469,columnNumber:29},void 0),p.action!=="ADD_ITEM"&&p.action!=="REMOVE_ITEM"&&p.details.fieldName==="assets"&&p.details.details&&a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Asset Count:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7501,columnNumber:33},void 0)," ",p.details.details.assetCount||0]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7500,columnNumber:31},void 0),p.details.newValue&&a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Assets:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7505,columnNumber:35},void 0),a.jsxDEV("div",{className:"mt-1 text-sm text-blue-300",children:p.details.newValue.split("||").filter(D=>D.trim()).map(D=>{if(D.includes("|")){const[U,Y]=D.split("|");return`${U}${Y?` (${Y})`:""}`}return D}).join(", ")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7506,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7504,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7499,columnNumber:29},void 0),p.action==="MOVE_ITEM"&&p.details.details&&a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Moved from Row:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7527,columnNumber:33},void 0)," ",p.details.details.fromRow||"Unknown"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7526,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-gray-300",children:[a.jsxDEV("strong",{children:"Moved to Row:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7530,columnNumber:33},void 0)," ",p.details.details.toRow||"Unknown"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7529,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7525,columnNumber:29},void 0),p.action!=="ADD_ITEM"&&p.action!=="REMOVE_ITEM"&&p.action!=="MOVE_ITEM"&&p.details.fieldName!=="speakers"&&p.details.fieldName!=="assets"&&p.details.oldValue!==void 0&&p.details.newValue!==void 0&&a.jsxDEV("div",{className:"text-gray-300",children:p.details.fieldName==="durationHours"||p.details.fieldName==="durationMinutes"||p.details.fieldName==="durationSeconds"?a.jsxDEV("span",{className:"text-green-300",children:p.details.newValue},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7542,columnNumber:33},void 0):a.jsxDEV(a.Fragment,{children:[a.jsxDEV("strong",{children:"Changed from:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7545,columnNumber:35},void 0),a.jsxDEV("span",{className:"text-red-300 ml-1",children:['"',p.details.oldValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7546,columnNumber:35},void 0),a.jsxDEV("span",{className:"text-gray-400 mx-1",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7547,columnNumber:35},void 0),a.jsxDEV("span",{className:"text-green-300",children:['"',p.details.newValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7548,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7544,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7539,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7404,columnNumber:25},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7364,columnNumber:21},void 0)),Array.from(G.entries()).map(([p,y])=>{const D=Date.now()-y.timestamp.getTime(),U=Math.max(0,1e4-D),Y=Math.ceil(U/1e3);return a.jsxDEV("div",{className:"bg-slate-600 rounded-lg p-4 border-2 border-yellow-500 animate-pulse",children:[a.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"bg-yellow-600 text-white text-xs px-2 py-1 rounded",children:["PENDING [",y.originalKey||"NO_KEY","]"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7568,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-slate-300 text-sm",children:["by ",y.user]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7571,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-yellow-300 text-xs",children:[" Will confirm in ",Y,"s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7574,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7567,columnNumber:27},void 0),a.jsxDEV("div",{className:"text-slate-400 text-xs",children:y.timestamp.toLocaleString()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7578,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7566,columnNumber:25},void 0),y.details&&a.jsxDEV("div",{className:"space-y-1 text-sm",children:[(y.details?.rowNumber||y.details?.cueNumber)&&a.jsxDEV("div",{className:"text-slate-300",children:a.jsxDEV("strong",{children:["Row ",y.details?.rowNumber||"?"," | ",cs(y.details?.cueNumber)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7588,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7587,columnNumber:31},void 0),y.details.fieldName&&a.jsxDEV("div",{className:"text-slate-300",children:[a.jsxDEV("strong",{children:"Field:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7593,columnNumber:33},void 0)," ",y.details.fieldName]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7592,columnNumber:31},void 0),y.details.oldValue!==void 0&&y.details.newValue!==void 0&&a.jsxDEV("div",{className:"text-slate-300",children:[a.jsxDEV("strong",{children:"Will change from:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7598,columnNumber:33},void 0),a.jsxDEV("span",{className:"text-red-300 ml-1",children:['"',y.details.oldValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7599,columnNumber:33},void 0),a.jsxDEV("span",{className:"text-slate-400 mx-1",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7600,columnNumber:33},void 0),a.jsxDEV("span",{className:"text-green-300",children:['"',y.details.newValue,'"']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7601,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7597,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7585,columnNumber:27},void 0)]},p,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7565,columnNumber:23},void 0)})]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7362,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7261,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-4 pt-4 border-t border-slate-600",children:a.jsxDEV("div",{className:"flex justify-between items-center text-sm text-gray-400",children:[a.jsxDEV("div",{children:[a.jsxDEV("span",{children:["Total changes: ",O.length," (",G.size," pending)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7617,columnNumber:19},void 0),G.size>0&&a.jsxDEV("span",{className:"ml-2 text-yellow-400",children:" Changes will be confirmed after 10s of inactivity"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7619,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7616,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[G.size>0&&a.jsxDEV("button",{className:"px-3 py-1 bg-yellow-600 text-white rounded transition-colors animate-pulse cursor-not-allowed",disabled:!0,title:"Changes are pending and will auto-save after 5 seconds",children:[" Changes Pending (",G.size,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7626,columnNumber:17},void 0),a.jsxDEV("button",{onClick:nm,className:"px-3 py-1 bg-red-600 hover:bg-red-500 text-white rounded transition-colors",title:"Clear all change logs (password protected)",children:" Clear All Logs"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7634,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7624,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7615,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7614,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7177,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7176,columnNumber:9},void 0),a.jsxDEV("style",{children:`
          select {
            border: 2px solid #64748b !important;
            border-radius: 6px !important;
          }
          select:focus {
            border-color: #3b82f6 !important;
            outline: none !important;
          }
          select option {
            background-color: #1e293b !important;
            color: #ffffff !important;
            border-bottom: 1px solid #475569 !important;
            padding: 8px 12px !important;
            margin: 0 !important;
          }
          select option:hover {
            background-color: #334155 !important;
          }
          select option:checked {
            background-color: #3b82f6 !important;
          }
        `},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7648,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-16 left-0 right-0 z-40 bg-slate-900 shadow-lg border-b border-slate-600",style:{height:Se?"240px":"150px"},children:a.jsxDEV("div",{className:"py-2 pt-4",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-2 px-8",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("button",{onClick:()=>s("/"),className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:" Back to Events"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7678,columnNumber:15},void 0),a.jsxDEV("div",{className:"relative",children:[a.jsxDEV("button",{onClick:p=>{p.stopPropagation(),ss(!pn)},className:"px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded-lg transition-colors",title:"Menu",children:a.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7698,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7697,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7689,columnNumber:17},void 0),pn&&a.jsxDEV("div",{className:"absolute top-full left-0 mt-1 w-48 bg-slate-800 border border-slate-600 rounded-lg shadow-lg z-50",children:a.jsxDEV("div",{className:"py-1",children:[a.jsxDEV("button",{onClick:()=>{ss(!1),fi(!0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7713,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7712,columnNumber:25},void 0),"Display Timer"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7705,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{ss(!1);const p=`/reports?eventId=${t?.id}&eventName=${encodeURIComponent(t?.name||"")}`;window.open(p,"_blank")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7727,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7726,columnNumber:25},void 0),"Reports and Printing"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7717,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{ss(!1);const p=`/graphics-links?eventId=${t?.id}&eventName=${encodeURIComponent(t?.name||"")}`;window.open(p,"_blank")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7741,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7740,columnNumber:25},void 0),"Graphic Links"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7731,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{ss(!1);const p=`/photo-view?eventId=${t?.id}&eventName=${encodeURIComponent(t?.name||"")}&eventDate=${encodeURIComponent(t?.date||"")}&eventLocation=${encodeURIComponent(t?.location||"")}`;window.open(p,"_blank")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7755,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7754,columnNumber:25},void 0),"PhotoView"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7745,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{ss(!1),console.log("=== CSV EXPORT ==="),console.log("Event:",t),console.log("Schedule length:",T.length),console.log("Full schedule:",T),console.log("Master start time:",ge);const p=["ROW","CUE","Program Type","Shot Type","Segment Name","Duration","Start Time","End Time","Notes","Assets","Speakers","Has PPT","Has QA","Timer ID","Is Public","Is Indented","Day"],y=Z.map(st=>st.name),D=[...p,...y],Y=T.filter(st=>(st.day||1)===Ue).map((st,ot)=>{const xt=T.findIndex(Oa=>Oa.id===st.id),Vt=Vo(xt),Bt=`${st.durationHours}:${st.durationMinutes.toString().padStart(2,"0")}:${st.durationSeconds.toString().padStart(2,"0")}`,ns=Vt?(()=>{const[Oa,Yu,jo]=Vt.split(":").map(Number),[Lo,wh,kh]=Bt.split(":").map(Number);let Gt=Oa*3600+Yu*60+jo+(Lo*3600+wh*60+kh);const Ao=Math.floor(Gt/3600),ds=Math.floor(Gt%3600/60),Cr=Gt%60;return`${Ao.toString().padStart(2,"0")}:${ds.toString().padStart(2,"0")}:${Cr.toString().padStart(2,"0")}`})():"",ts=[ot+1,st.customFields?.cue||`CUE ${ot+1}`,st.programType||"",st.shotType||"",st.segmentName||"",Bt,Vt||"",ns,st.notes||"",st.assets||"",st.speakersText||"",st.hasPPT?"Yes":"No",st.hasQA?"Yes":"No",st.timerId||"",st.isPublic?"Yes":"No",st.isIndented?"Yes":"No",st.day||1],qn=Z.map(Oa=>st.customFields[Oa.id]||"");return[...ts,...qn]}),se=[D.join(","),...Y.map(st=>st.map(ot=>typeof ot=="string"&&(ot.includes(",")||ot.includes('"')||ot.includes(`
`))?`"${ot.replace(/"/g,'""')}"`:ot).join(","))].join(`
`);console.log("CSV Content:",se);const ve=new Blob([se],{type:"text/csv;charset=utf-8;"}),Pe=URL.createObjectURL(ve),je=document.createElement("a");je.href=Pe,je.download=`${t?.name||"RunOfShow"}_Day${Ue}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(Pe),console.log("=== END CSV EXPORT ===")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7874,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7873,columnNumber:25},void 0),"Export CSV"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7759,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{ss(!1),Sc(!0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7886,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7885,columnNumber:19},void 0),"Import Excel"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7878,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{ss(!1),Xi(!0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7898,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7897,columnNumber:25},void 0),"Backups"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7890,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{ss(!1);const p=`/green-room?eventId=${t?.id}&eventName=${encodeURIComponent(t?.name||"")}&eventDate=${t?.date||""}&eventLocation=${encodeURIComponent(t?.location||"")}`;window.open(p,"_blank")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7912,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7911,columnNumber:25},void 0),"Green Room"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7902,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{ss(!1);const p=`/scripts-follow?eventId=${t?.id}&eventName=${encodeURIComponent(t?.name||"")}`;window.open(p,"_blank")},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7926,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7925,columnNumber:25},void 0),"Scripts Follow"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7916,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{ss(!1),Co(!0)},className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 transition-colors flex items-center gap-3",children:[a.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7938,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7937,columnNumber:25},void 0),"OSC Control"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7930,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7704,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7703,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7688,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7677,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center gap-6",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("label",{className:"text-white font-semibold",children:"Event Name:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7951,columnNumber:17},void 0),a.jsxDEV("div",{className:"px-4 py-2 bg-slate-700 border-2 border-slate-600 rounded-lg text-white w-80 truncate",children:De||"No Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7952,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7950,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("label",{className:"text-white font-semibold",children:"Start Time:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7958,columnNumber:17},void 0),a.jsxDEV("input",{type:"time",value:t?.numberOfDays&&t.numberOfDays>1?ue[Ue]||"":ge,onChange:p=>{if(console.log(" Start time changed:",p.target.value),Br(),c==="VIEWER"||c==="OPERATOR"){alert("Only EDITORs can change start time. Please change your role to EDITOR.");return}t?.numberOfDays&&t.numberOfDays>1?(console.log(" Updating day start time for day",Ue,"to",p.target.value),ke(y=>({...y,[Ue]:p.target.value}))):(console.log(" Updating master start time to",p.target.value),He(p.target.value))},disabled:c==="VIEWER"||c==="OPERATOR",className:"px-4 py-2 border-2 rounded-lg focus:outline-none w-36 transition-colors bg-slate-700 border-slate-600 text-white focus:border-blue-500",style:{colorScheme:"dark"},title:c==="VIEWER"||c==="OPERATOR"?"Only EDITORs can change start time":`Set ${t?.numberOfDays&&t.numberOfDays>1?`Day ${Ue}`:"master"} start time`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7959,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7957,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7949,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center gap-6",children:[a.jsxDEV("div",{className:"text-center",children:Ve?.activeTimer?a.jsxDEV("div",{className:`text-lg font-bold ${Ve.activeTimer.is_running&&Ve.activeTimer.is_active?"text-green-400":"text-yellow-400"}`,children:[Ve.activeTimer.is_running&&Ve.activeTimer.is_active?"RUNNING":"LOADED"," -                     ",(()=>{const p=Ve.activeTimer.item_id,y=T.find(D=>D.id===p||D.id===parseInt(p)||parseInt(D.id)===parseInt(p));return Math.random()<.01&&(console.log(" RunOfShow: Hybrid timer data:",Ve.activeTimer),console.log(" RunOfShow: Looking for item_id:",Ve.activeTimer.item_id,typeof Ve.activeTimer.item_id),console.log(" RunOfShow: Found schedule item:",y)),y?.customFields?.cue?cs(y.customFields.cue):(console.log(" RunOfShow: No schedule item found, using fallback"),`CUE ${p}`)})(),(Ve?.secondaryTimer||Ut)&&a.jsxDEV("div",{className:"text-lg text-orange-400 mt-0.5 font-bold",children:(()=>{if(console.log(" RunOfShow: Sub-cue timer check:",{hasHybridSecondary:!!Ve?.secondaryTimer,hasOldSecondary:!!Ut,hybridData:Ve?.secondaryTimer}),Ve?.secondaryTimer,Ve?.secondaryTimer){const y=T.find(Pe=>Pe.id===Ve.secondaryTimer.item_id||Pe.id===parseInt(Ve.secondaryTimer.item_id))?.customFields?.cue||Ve.secondaryTimer.cue_display||Ve.secondaryTimer.cue||`CUE ${Ve.secondaryTimer.item_id}`,D=new Date,U=new Date(Ve.secondaryTimer.started_at||Ve.secondaryTimer.created_at),Y=Math.floor((D.getTime()-U.getTime())/1e3),se=Ve.secondaryTimer.duration_seconds||Ve.secondaryTimer.duration||60,ve=Math.max(0,se-Y);return`${cs(y)} - ${gi(ve)}`}else return`${cs(T.find(p=>p.id===Ut.itemId)?.customFields.cue)} - ${gi(Ut.remaining)}`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8031,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7998,columnNumber:19},void 0):Object.keys(We).length>0?a.jsxDEV("div",{className:"text-lg text-green-400 font-bold",children:["RUNNING - ",cs(T.find(p=>We[p.id])?.customFields.cue),Ut&&a.jsxDEV("div",{className:"text-lg text-orange-400 mt-0.5 font-bold",children:[cs(T.find(p=>p.id===Ut.itemId)?.customFields.cue)," - ",gi(Ut.remaining)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8073,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8070,columnNumber:19},void 0):F&&Ee[F]?a.jsxDEV("div",{className:"text-lg text-yellow-400 font-bold",children:["LOADED - ",cs(T.find(p=>p.id===F)?.customFields.cue)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8079,columnNumber:19},void 0):a.jsxDEV("div",{className:"text-lg text-slate-300 font-bold",children:"No CUE Selected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8083,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7996,columnNumber:15},void 0),a.jsxDEV("div",{className:"relative",children:a.jsxDEV("div",{className:"text-3xl font-mono bg-slate-800 px-6 py-3 rounded-lg border border-slate-600",style:{color:xh()},children:um(hh())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8091,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8090,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7995,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7676,columnNumber:11},void 0),a.jsxDEV("div",{className:"px-8 mb-2",children:a.jsxDEV("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden border border-slate-600 relative",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${vh()}%`,background:gh()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8102,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8101,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8100,columnNumber:11},void 0),a.jsxDEV("div",{className:"px-8 pb-2",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"text-sm text-slate-300",children:["Role: ",a.jsxDEV("span",{className:"font-semibold text-white",children:c},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8118,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8117,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>x(!0),className:"px-3 py-1 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded transition-colors",title:"Change your role",children:"Change Role"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8120,columnNumber:17},void 0),a.jsxDEV("button",{onClick:pm,className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",title:"Create a manual backup of current data",children:" Create Backup"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8127,columnNumber:17},void 0),cr&&a.jsxDEV("div",{className:"flex items-center space-x-2 px-3 py-1 bg-yellow-600 rounded text-sm",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-yellow-200 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8136,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-yellow-100 font-medium",children:"Editing - Sync Paused"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8137,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8135,columnNumber:19},void 0),!cr&&jr&&a.jsxDEV("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-600 rounded text-sm",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-blue-200 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8144,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-blue-100 font-medium",children:Dl?"Syncing...":`Next sync in ${Aa}s`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8145,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8143,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8116,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("button",{onClick:()=>$i(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded transition-colors",title:"Open Filter View",children:"Filter View"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8157,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>gt(!Ye),className:`px-4 py-2 text-white text-sm font-medium rounded transition-colors ${Ye?"bg-green-600 hover:bg-green-500":"bg-slate-600 hover:bg-slate-500"}`,title:Ye?"Disable Time Toast":"Enable Time Toast",children:" Time Toast"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8167,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>To(!Rs),className:`px-4 py-2 text-white text-sm font-medium rounded transition-colors ${Rs?"bg-purple-600 hover:bg-purple-500 ring-4 ring-inset ring-green-400":"bg-purple-600 hover:bg-purple-500"}`,title:Rs?"Disable auto-scroll to active row":"Enable auto-scroll to active row",children:" Follow"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8181,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-medium",children:"Duration:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8195,columnNumber:17},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can adjust timer duration. Please change your role to OPERATOR.");return}await kl(-300)},className:`w-8 h-8 text-white text-sm font-bold rounded transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-700 hover:bg-red-600"}`,disabled:c==="VIEWER"||c==="EDITOR",title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can adjust timer duration":"Subtract 5 minutes",children:"-5"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8196,columnNumber:17},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can adjust timer duration. Please change your role to OPERATOR.");return}await kl(-60)},className:`w-8 h-8 text-white text-sm font-bold rounded transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-600 hover:bg-red-500"}`,disabled:c==="VIEWER"||c==="EDITOR",title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can adjust timer duration":"Subtract 1 minute",children:"-1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8214,columnNumber:17},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can adjust timer duration. Please change your role to OPERATOR.");return}await kl(60)},className:`w-8 h-8 text-white text-sm font-bold rounded transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500"}`,disabled:c==="VIEWER"||c==="EDITOR",title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can adjust timer duration":"Add 1 minute",children:"+1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8232,columnNumber:17},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can adjust timer duration. Please change your role to OPERATOR.");return}await kl(300)},className:`w-8 h-8 text-white text-sm font-bold rounded transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-blue-700 hover:bg-blue-600"}`,disabled:c==="VIEWER"||c==="EDITOR",title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can adjust timer duration":"Add 5 minutes",children:"+5"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8250,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8194,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can send messages. Please change your role to OPERATOR.");return}jn(!0)},className:`px-4 py-2 text-white text-sm font-medium rounded transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":Fi?"bg-purple-600 hover:bg-purple-500 ring-4 ring-inset ring-green-500":"bg-purple-600 hover:bg-purple-500"}`,disabled:c==="VIEWER"||c==="EDITOR",title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can send messages":"Send Messages to Full Screen Timer",children:"Messages"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8272,columnNumber:17},void 0),Fi&&a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can control messages. Please change your role to OPERATOR.");return}try{if(t?.id){const y=(await Nt.getTimerMessagesForEvent(t.id)).find(D=>D.enabled);y&&(await Nt.disableTimerMessage(y.id),console.log(" Message disabled in Supabase via Turn Off button"))}}catch(p){console.error(" Error disabling message in Supabase:",p)}di(!1),sa(""),$r&&!$r.closed&&$r.postMessage({type:"MESSAGE_UPDATE",message:"",enabled:!1},"*")},className:`px-4 py-2 text-white text-sm font-medium rounded transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-slate-600 hover:bg-slate-500 animate-pulse"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot control messages":"Turn Off Message",children:"Click to Turn Off"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8295,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8271,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8153,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8114,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8113,columnNumber:11},void 0),a.jsxDEV("div",{className:`px-8 transition-all duration-500 ease-in-out overflow-hidden ${Se?"max-h-80 opacity-100 -mb-6":"max-h-0 opacity-0 mb-0"}`,children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-4 shadow-2xl",style:{transform:"scale(0.75)",transformOrigin:"top center",width:"127.67%",marginLeft:"-13.83%"},children:a.jsxDEV("div",{className:"flex border-2 border-slate-600 rounded-lg overflow-hidden bg-slate-900",children:[a.jsxDEV("div",{className:"w-12 flex-shrink-0 bg-slate-900 border-r-2 border-slate-600",children:a.jsxDEV("div",{className:"h-16 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-xs",children:"#"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8350,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8349,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8348,columnNumber:17},void 0),a.jsxDEV("div",{className:"w-40 flex-shrink-0 bg-slate-900",style:{borderRight:"6px solid #475569"},children:a.jsxDEV("div",{className:"h-16 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-lg flex items-center gap-1",children:["CUE",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Viewers cannot edit CUE",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8360,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8357,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8356,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8355,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex-1 overflow-x-auto sticky-header-scroll-container",style:{scrollbarWidth:"thin"},children:a.jsxDEV("div",{className:"min-w-max",children:a.jsxDEV("div",{className:"h-16 bg-slate-700 border-b-3 border-slate-600 flex",children:[zt.start&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.start},children:[a.jsxDEV("span",{className:"text-white font-bold",children:"Start"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8376,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"start")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8377,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8372,columnNumber:25},void 0),zt.programType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.programType},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Program Type",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8391,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8388,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"programType")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8394,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8384,columnNumber:25},void 0),zt.duration&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.duration},children:[a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-white font-bold flex items-center justify-center gap-1",children:["Duration",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8409,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8406,columnNumber:29},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400",children:"HH MM SS"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8412,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8405,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"duration")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8414,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8401,columnNumber:25},void 0),zt.segmentName&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.segmentName},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Segment Name",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8428,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8425,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"segmentName")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8431,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8421,columnNumber:25},void 0),zt.shotType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.shotType},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Shot Type",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8445,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8442,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"shotType")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8448,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8438,columnNumber:25},void 0),zt.pptQA&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.pptQA},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["PPT/Q&A",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8462,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8459,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"pptQA")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8465,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8455,columnNumber:25},void 0),zt.notes&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.notes},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Notes",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8479,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8476,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"notes")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8482,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8472,columnNumber:25},void 0),zt.assets&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.assets},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Assets",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for VIEWERs",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8496,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8493,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"assets")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8499,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8489,columnNumber:25},void 0),zt.participants&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.participants},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Participants",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8513,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8510,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"participants")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8516,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8506,columnNumber:25},void 0),zt.speakers&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.speakers},children:[a.jsxDEV("span",{className:"text-white font-bold",children:"Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8527,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"speakers")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8528,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8523,columnNumber:25},void 0),zt.public&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.public},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Public",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8542,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8539,columnNumber:27},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"public")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8545,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8535,columnNumber:25},void 0),Z.map(p=>mi[p.id]!==!1&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center relative flex-shrink-0",style:{width:Ro[p.id]||256},children:[a.jsxDEV("span",{className:"text-white font-bold",children:p.name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8558,columnNumber:29},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:y=>Pc(y,p.id)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8559,columnNumber:29},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8553,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8370,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8369,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8368,columnNumber:17},void 0),a.jsxDEV("div",{className:"w-32 flex-shrink-0 bg-slate-900",style:{borderLeft:"6px solid #475569"},children:a.jsxDEV("div",{className:"h-16 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-base flex items-center gap-1",children:["Timer",(c==="VIEWER"||c==="EDITOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Only OPERATORs can control timers",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8576,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8573,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8572,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8571,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8346,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8345,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8344,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7675,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7674,columnNumber:7},void 0),a.jsxDEV("div",{className:"max-w-[95%] mx-auto px-6",style:{paddingTop:"250px"},children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-4 shadow-2xl",style:{transform:"scale(0.75)",transformOrigin:"top center",width:"133.33%",marginLeft:"-16.67%"},children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:["Schedule",t?.numberOfDays&&t.numberOfDays>1?` - Day ${Ue}`:""," - TRT ",(()=>{const p=am();return`${p.hours}h ${p.minutes}m ${p.seconds}s`})()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8593,columnNumber:15},void 0),o&&a.jsxDEV("div",{className:"flex items-center gap-3 mt-1",children:[a.jsxDEV("button",{onClick:()=>b(!0),className:"text-xs bg-purple-600 hover:bg-purple-500 text-white px-2 py-1 rounded transition-colors",title:"View change history",children:[" Change Log (",O.length+G.size,")",Is.getChangesCount().unsynced>0&&a.jsxDEV("span",{className:"ml-1 text-yellow-400",children:["(",Is.getChangesCount().unsynced," unsynced)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8608,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8601,columnNumber:19},void 0),$t>0&&a.jsxDEV("button",{onClick:async()=>{await ce()},className:"text-xs bg-yellow-600 hover:bg-yellow-500 text-white px-2 py-1 rounded transition-colors animate-pulse",title:`${$t} unsynced change${$t!==1?"s":""} - Click to sync`,children:$t},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8612,columnNumber:21},void 0),G.size>0&&a.jsxDEV("button",{className:"text-xs bg-yellow-600 text-white px-2 py-1 rounded transition-colors animate-pulse cursor-not-allowed",title:"Changes are pending and will auto-save after 5 seconds",disabled:!0,children:[" Changes Pending (",G.size,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8623,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8600,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8592,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[t?.numberOfDays&&t.numberOfDays>1&&a.jsxDEV("div",{className:"flex items-center gap-3 mr-4",children:[a.jsxDEV("label",{className:"text-white font-bold text-base",children:"Day:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8640,columnNumber:19},void 0),a.jsxDEV("select",{value:Ue,onChange:p=>{Br(),te(parseInt(p.target.value))},className:"px-4 py-2 bg-slate-700 border-2 border-slate-600 rounded-lg text-white focus:border-blue-500 focus:outline-none text-base font-semibold w-20",children:Array.from({length:t.numberOfDays},(p,y)=>a.jsxDEV("option",{value:y+1,children:y+1},y+1,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8650,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8641,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8639,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"){alert("Viewers cannot add items. Please change your role to EDITOR or OPERATOR.");return}xn(),L(!0),Ts({cue:"",day:Ue,programType:"PreShow/End",shotType:"",segmentName:"",durationHours:0,durationMinutes:0,durationSeconds:0,notes:"",assets:"",speakers:"",speakersText:"",hasPPT:!1,hasQA:!1,timerId:"",isPublic:!1,isIndented:!1,customFields:{}})},className:`px-4 py-2 font-medium rounded text-sm transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Only EDITORs and OPERATORs can add items":"Add new item",children:"+ Item"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8656,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"){alert("Viewers cannot add columns. Please change your role to EDITOR or OPERATOR.");return}xn(),St(!0)},className:`px-4 py-2 font-medium rounded text-sm transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot add columns":"Add custom column",children:"+ Column"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8697,columnNumber:15},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"){alert("Viewers cannot reset the schedule. Please change your role to EDITOR or OPERATOR.");return}await dm()},className:`px-4 py-2 font-medium rounded text-sm transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot reset the schedule":"Reset all states",children:"Reset"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8717,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8636,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8591,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex border-2 border-slate-600 rounded-lg overflow-hidden bg-slate-900",children:[a.jsxDEV("div",{className:"w-12 flex-shrink-0 bg-slate-900 border-r-2 border-slate-600",children:[a.jsxDEV("div",{className:"h-24 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-xs",children:"#"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8744,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8743,columnNumber:15},void 0),oa().length===0?a.jsxDEV("div",{className:"h-24 flex items-center justify-center text-slate-500",children:"-"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8750,columnNumber:17},void 0):oa().map((p,y)=>a.jsxDEV("div",{className:`border-b-2 border-slate-600 flex items-center justify-center gap-1 ${(()=>{const D=Ve?.activeTimer?.item_id,U=D&&(parseInt(String(D))===p.id||D===p.id||String(D)===String(p.id)),Y=U&&Ve?.activeTimer?.is_running&&Ve?.activeTimer?.is_active,se=U&&Ve?.activeTimer?.is_active&&!Ve?.activeTimer?.is_running;if(Y)return"bg-green-900 border-green-500";if(se)return"bg-blue-900 border-blue-500";if(ws[p.id]||Da.has(p.id))return"bg-gray-900 border-gray-700 opacity-40";if(Gi.has(p.id))return"bg-amber-800 border-amber-600";if(Mt[p.id]){const ve=Mt[p.id].parentId,Pe=Ve?.activeTimer?.item_id||F,je=Pe&&(parseInt(String(Pe))===ve||Pe===ve||String(Pe)===String(ve)),st=We[ve]!==void 0;if(je||st)return"bg-amber-950 border-amber-600"}return y%2===0?"bg-slate-800":"bg-slate-900"})()}`,style:{height:Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)},children:a.jsxDEV("div",{className:"flex flex-col items-center gap-1",children:[a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"){alert("Viewers cannot jump to rows. Please change your role to EDITOR or OPERATOR.");return}console.log(" Row jump button clicked - pausing sync"),Yr(!0),Yn&&clearTimeout(Yn),setTimeout(()=>{const D=prompt(`Move to row (1-${oa().length}):`,(y+1).toString());console.log(" Row jump prompt closed - resuming sync in 5 seconds");const U=setTimeout(()=>{console.log(" User stopped editing - resuming sync"),Yr(!1)},5e3);hi(U),D&&!isNaN(Number(D))&&xm(p.id,Number(D))},0)},className:`w-5 h-5 text-white rounded flex items-center justify-center text-xs font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-purple-600 hover:bg-purple-500"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot jump to rows":"Jump to Row",children:"#"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8802,columnNumber:23},void 0),a.jsxDEV("span",{className:"text-white font-bold text-lg",children:y+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8845,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"){alert("Viewers cannot add rows. Please change your role to EDITOR or OPERATOR.");return}xn(),Ke(y),L(!0)},className:`w-5 h-5 text-white rounded flex items-center justify-center text-xs font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot add rows":`Insert row after row ${y+1}`,children:"+"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8848,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8801,columnNumber:21},void 0)},`${p.id}-${p.notes?.length||0}-${p.speakers?.length||0}`,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8755,columnNumber:20},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8741,columnNumber:13},void 0),a.jsxDEV("div",{className:"w-40 flex-shrink-0 bg-slate-900",style:{borderRight:"6px solid #475569"},children:[a.jsxDEV("div",{className:"h-24 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-lg flex items-center gap-1",children:["CUE",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Viewers cannot edit CUE",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8882,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8879,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8878,columnNumber:15},void 0),oa().length===0?a.jsxDEV("div",{className:"h-24 flex items-center justify-center text-slate-500",children:"No items"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8890,columnNumber:18},void 0):oa().map((p,y)=>a.jsxDEV("div",{className:`border-b-2 border-slate-600 flex flex-col items-center justify-center gap-1 ${y%2===0?"bg-slate-800":"bg-slate-900"}`,style:{height:Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)},children:[a.jsxDEV("div",{className:"flex",children:[a.jsxDEV("div",{className:`flex items-center px-1 py-1 border border-slate-600 border-r-0 rounded-l text-white text-lg font-medium min-w-[40px] ${Nl===p.id?"bg-purple-600":"bg-slate-600"}`,children:"CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8903,columnNumber:23},void 0),a.jsxDEV("input",{type:"text",value:p.customFields.cue?p.customFields.cue.replace(/^CUE\s*/,""):"",onChange:D=>{if(Br(),c==="VIEWER"){alert("Viewers cannot edit cue names. Please change your role to EDITOR or OPERATOR.");return}const U=p.customFields.cue||"CUE ",Y=D.target.value?`CUE ${D.target.value}`:"CUE ";H(se=>se.map(ve=>ve.id===p.id?{...ve,customFields:{...ve.customFields,cue:Y}}:ve)),A(`cue_${p.id}`,"FIELD_UPDATE",`Updated cue for "${p.segmentName}" from "${U}" to "${Y}"`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:"cue",oldValue:U,newValue:Y,details:{fieldType:"text",characterChange:Y.length-U.length}})},disabled:c==="VIEWER",className:"w-14 px-1 py-1 border border-slate-600 rounded-r text-center text-lg transition-colors bg-slate-700 text-white focus:outline-none focus:border-blue-500",title:c==="VIEWER"?"Viewers cannot edit cue names":"Edit cue number",maxLength:4},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8908,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8902,columnNumber:21},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>{if(Br(),c==="VIEWER"){alert("Viewers cannot indent/unindent items. Please change your role to EDITOR or OPERATOR.");return}Mu(p.id)},className:`w-7 h-7 text-white flex items-center justify-center text-lg rounded font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":Mt[p.id]?"bg-orange-600 hover:bg-orange-500":"bg-slate-600 hover:bg-slate-500"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot indent/unindent items":Mt[p.id]?"Unindent (group with row above)":"Indent (group with row above)",children:Mt[p.id]?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8959,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{if(Br(),c==="VIEWER"){alert("Viewers cannot move items. Please change your role to EDITOR or OPERATOR.");return}zu(p.id,"up")},disabled:y===0||c==="VIEWER",className:`w-7 h-7 text-white flex items-center justify-center text-lg rounded font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-slate-600 hover:bg-slate-500 disabled:opacity-30 disabled:cursor-not-allowed"}`,title:c==="VIEWER"?"Viewers cannot move items":"Move Up",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8985,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{if(Br(),c==="VIEWER"){alert("Viewers cannot move items. Please change your role to EDITOR or OPERATOR.");return}zu(p.id,"down")},disabled:y===oa().length-1||c==="VIEWER",className:`w-7 h-7 text-white flex items-center justify-center text-lg rounded font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-slate-600 hover:bg-slate-500 disabled:opacity-30 disabled:cursor-not-allowed"}`,title:c==="VIEWER"?"Viewers cannot move items":"Move Down",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9006,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>{if(Br(),c==="VIEWER"){alert("Viewers cannot delete items. Please change your role to EDITOR or OPERATOR.");return}gm(p.id)},className:`w-7 h-7 text-white flex items-center justify-center text-lg rounded font-bold transition-colors ${c==="VIEWER"?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-600 hover:bg-red-500"}`,disabled:c==="VIEWER",title:c==="VIEWER"?"Viewers cannot delete items":"Delete",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9027,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8958,columnNumber:21},void 0)]},`${p.id}-${p.notes?.length||0}-${p.speakers?.length||0}`,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8895,columnNumber:20},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8876,columnNumber:13},void 0),a.jsxDEV("div",{id:"main-scroll-container",className:"flex-1 overflow-x-auto",style:{scrollbarWidth:"thin"},children:a.jsxDEV("div",{className:"min-w-max",children:[a.jsxDEV("div",{className:"h-24 bg-slate-700 border-b-3 border-slate-600 flex",children:[zt.start&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.start},children:[a.jsxDEV("span",{className:"text-white font-bold",children:"Start"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9064,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"start")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9065,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9060,columnNumber:21},void 0),zt.programType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.programType},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Program Type",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9079,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9076,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"programType")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9082,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9072,columnNumber:21},void 0),zt.duration&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.duration},children:[a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-white font-bold flex items-center justify-center gap-1",children:["Duration",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9097,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9094,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400",children:"HH MM SS"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9100,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9093,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"duration")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9102,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9089,columnNumber:21},void 0),zt.segmentName&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.segmentName},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Segment Name",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9116,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9113,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"segmentName")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9119,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9109,columnNumber:21},void 0),zt.shotType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.shotType},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Shot Type",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9133,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9130,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"shotType")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9136,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9126,columnNumber:21},void 0),zt.pptQA&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.pptQA},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["PPT/Q&A",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9150,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9147,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"pptQA")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9153,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9143,columnNumber:21},void 0),zt.notes&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.notes},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Notes",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9167,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9164,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"notes")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9170,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9160,columnNumber:21},void 0),zt.assets&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.assets},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Assets",c==="VIEWER"&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for VIEWERs",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9184,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9181,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"assets")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9187,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9177,columnNumber:21},void 0),zt.participants&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.participants},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Participants",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9201,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9198,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"participants")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9204,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9194,columnNumber:21},void 0),zt.speakers&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.speakers},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Speakers",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9218,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9215,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"speakers")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9221,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9211,columnNumber:21},void 0),zt.public&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 relative",style:{width:fr.public},children:[a.jsxDEV("span",{className:"text-white font-bold flex items-center gap-1",children:["Public",(c==="VIEWER"||c==="OPERATOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Read-only for your role",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9235,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9232,columnNumber:23},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:p=>Jr(p,"public")},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9238,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9228,columnNumber:21},void 0),Z.map(p=>mi[p.id]!==!1&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center relative flex-shrink-0",style:{width:Ro[p.id]||256},children:[a.jsxDEV("span",{className:"text-white font-bold",children:p.name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9251,columnNumber:25},void 0),a.jsxDEV("button",{onClick:()=>{window.confirm(`Are you sure you want to remove the "${p.name}" column? This will delete all data in this column.`)&&yh(p.id)},className:"absolute top-1 right-1 w-6 h-6 bg-red-600 hover:bg-red-700 text-white rounded-md text-base font-bold flex items-center justify-center transition-colors shadow-md hover:shadow-lg",title:`Remove "${p.name}" column`,children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9252,columnNumber:25},void 0),a.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity",onMouseDown:y=>Pc(y,p.id)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9263,columnNumber:25},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9246,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9058,columnNumber:17},void 0),oa().length===0?a.jsxDEV("div",{className:"h-24 flex items-center justify-center text-slate-500 text-xl",children:["No schedule items for Day ",Ue,'. Click "Add Schedule Item" to start!']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9275,columnNumber:19},void 0):oa().map((p,y)=>a.jsxDEV("div",{"data-item-id":p.id,className:`border-b-2 border-slate-600 flex ${(()=>{const D=Ve?.activeTimer?.item_id,U=D&&(parseInt(String(D))===p.id||D===p.id||String(D)===String(p.id)),Y=U&&Ve?.activeTimer?.is_running&&Ve?.activeTimer?.is_active,se=U&&Ve?.activeTimer?.is_active&&!Ve?.activeTimer?.is_running;if(Y)return"bg-green-950";if(se)return"bg-blue-950";if(ws[p.id]||Da.has(p.id))return"bg-gray-900 opacity-40";if(Gi.has(p.id))return"bg-amber-950 border-amber-600";if(Mt[p.id]){const ve=Mt[p.id].parentId,Pe=Ve?.activeTimer?.item_id||F,je=Pe&&(parseInt(String(Pe))===ve||Pe===ve||String(Pe)===String(ve)),st=We[ve]!==void 0;if(je||st)return"bg-amber-950 border-amber-600"}return Nl===p.id?"bg-purple-950 border-purple-400":y%2===0?"bg-slate-800":"bg-slate-900"})()}`,style:{height:Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)},children:[zt.start&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:fr.start},children:a.jsxDEV("div",{className:"flex flex-col items-center gap-1",children:[a.jsxDEV("span",{className:"text-white font-mono text-base font-bold",children:Mt[p.id]?"":bm(y)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9334,columnNumber:28},void 0),!Mt[p.id]&&Vo(y)!==bm(y)&&a.jsxDEV("span",{className:`text-sm font-bold px-2 py-1 rounded ${(()=>{let D=0;for(let U=0;U<T.findIndex(Y=>Y.id===p.id);U++){const Y=T[U],se=Y.day||1,ve=p.day||1;se===ve&&!Mt[Y.id]&&(D+=M[Y.id]||0)}return D})()>0?"text-red-400 bg-red-900/30":"text-green-400 bg-green-900/30"}`,title:"Time adjusted due to overtime",children:(()=>{let D=0;for(let U=0;U<T.findIndex(Y=>Y.id===p.id);U++){const Y=T[U],se=Y.day||1,ve=p.day||1;se===ve&&!Mt[Y.id]&&(D+=M[Y.id]||0)}return D>0?`+${D}m`:`${D}m`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9338,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9333,columnNumber:28},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9329,columnNumber:26},void 0),zt.programType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:fr.programType},children:a.jsxDEV("select",{value:p.programType,onFocus:()=>{console.log(" Program Type dropdown focused - pausing sync"),xn()},onChange:D=>{if(c==="VIEWER"||c==="OPERATOR"){alert("Only EDITORs can edit program type. Please change your role to EDITOR.");return}const U=p.programType;H(Y=>Y.map(se=>se.id===p.id?{...se,programType:D.target.value}:se)),A(`programType_${p.id}`,"FIELD_UPDATE",`Updated program type for "${p.segmentName}" from "${U}" to "${D.target.value}"`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:"programType",oldValue:U,newValue:D.target.value,details:{fieldType:"select",optionChange:!0}}),es()},disabled:c==="VIEWER"||c==="OPERATOR",className:"w-full px-3 py-2 border-2 rounded text-base transition-colors bg-slate-700 border-slate-500 text-white focus:border-blue-500",style:{backgroundColor:$a[p.programType]||"#374151",color:p.programType==="Sub Cue"?"#000000":"#ffffff",opacity:1},title:c==="VIEWER"||c==="OPERATOR"?"Only EDITORs can edit program type":"Select program type",children:Xu.map(D=>a.jsxDEV("option",{value:D,style:{backgroundColor:$a[D]||"#374151",color:D==="Sub Cue"?"#000000":"#ffffff"},children:D},D,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9428,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9378,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9374,columnNumber:26},void 0),zt.duration&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:fr.duration},children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"number",min:"0",max:"23",value:p.durationHours,onChange:D=>{if(Br(),c==="VIEWER"){alert("Only EDITORs and OPERATORs can edit duration. Please change your role to EDITOR or OPERATOR.");return}const U=p.durationHours,Y=parseInt(D.target.value)||0;H(se=>se.map(ve=>ve.id===p.id?{...ve,durationHours:Y}:ve)),A(`durationHours_${p.id}`,"FIELD_UPDATE",`Updated duration hours for "${p.segmentName}" from ${U} to ${Y}`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:"durationHours",oldValue:U,newValue:Y,details:{fieldType:"number",timeChange:Y-U}})},disabled:c==="VIEWER",className:"w-14 px-2 py-2 border border-slate-600 rounded text-center text-lg font-mono font-bold transition-colors bg-slate-700 text-white",style:{opacity:1},title:c==="VIEWER"?"Only EDITORs and OPERATORs can edit duration":"Edit hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9448,columnNumber:27},void 0),a.jsxDEV("span",{className:"text-slate-400 text-xl font-bold",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9493,columnNumber:27},void 0),a.jsxDEV("input",{type:"number",min:"0",max:"59",value:p.durationMinutes,onChange:D=>{if(Br(),c==="VIEWER"){alert("Only EDITORs and OPERATORs can edit duration. Please change your role to EDITOR or OPERATOR.");return}const U=p.durationMinutes,Y=parseInt(D.target.value)||0;H(se=>se.map(ve=>ve.id===p.id?{...ve,durationMinutes:Y}:ve)),A(`durationMinutes_${p.id}`,"FIELD_UPDATE",`Updated duration minutes for "${p.segmentName}" from ${U} to ${Y}`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:"durationMinutes",oldValue:U,newValue:Y,details:{fieldType:"number",timeChange:Y-U}})},disabled:c==="VIEWER",className:"w-14 px-2 py-2 border border-slate-600 rounded text-center text-lg font-mono font-bold transition-colors bg-slate-700 text-white",style:{opacity:1},title:c==="VIEWER"?"Only EDITORs and OPERATORs can edit duration":"Edit minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9494,columnNumber:27},void 0),a.jsxDEV("span",{className:"text-slate-400 text-xl font-bold",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9539,columnNumber:27},void 0),a.jsxDEV("input",{type:"number",min:"0",max:"59",value:p.durationSeconds,onChange:D=>{if(Br(),c==="VIEWER"){alert("Only EDITORs and OPERATORs can edit duration. Please change your role to EDITOR or OPERATOR.");return}const U=p.durationSeconds,Y=parseInt(D.target.value)||0;H(se=>se.map(ve=>ve.id===p.id?{...ve,durationSeconds:Y}:ve)),A(`durationSeconds_${p.id}`,"FIELD_UPDATE",`Updated duration seconds for "${p.segmentName}" from ${U} to ${Y}`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:"durationSeconds",oldValue:U,newValue:Y,details:{fieldType:"number",timeChange:Y-U}})},disabled:c==="VIEWER",className:"w-14 px-2 py-2 border border-slate-600 rounded text-center text-lg font-mono font-bold transition-colors bg-slate-700 text-white",style:{opacity:1},title:c==="VIEWER"?"Only EDITORs and OPERATORs can edit duration":"Edit seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9540,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9447,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9443,columnNumber:26},void 0),zt.segmentName&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:fr.segmentName},children:a.jsxDEV("input",{type:"text",value:p.segmentName,onChange:D=>{if(Br(),c==="VIEWER"||c==="OPERATOR"){alert("Only EDITORs can edit segment names. Please change your role to EDITOR.");return}const U=p.segmentName;H(Y=>Y.map(se=>se.id===p.id?{...se,segmentName:D.target.value}:se)),A(`segmentName_${p.id}`,"FIELD_UPDATE",`Updated segment name for "${U}" to "${D.target.value}"`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:D.target.value,fieldName:"segmentName",oldValue:U,newValue:D.target.value,details:{fieldType:"text",characterChange:D.target.value.length-U.length}})},disabled:c==="VIEWER"||c==="OPERATOR",className:"w-full px-3 py-2 border border-slate-600 rounded text-base transition-colors bg-slate-700 text-white",placeholder:c==="VIEWER"||c==="OPERATOR"?"Only EDITORs can edit":"Enter segment name",title:c==="VIEWER"||c==="OPERATOR"?"Only EDITORs can edit segment names":"Edit segment name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9593,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9589,columnNumber:26},void 0),zt.shotType&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:fr.shotType},children:a.jsxDEV("select",{value:p.shotType,onFocus:()=>{console.log(" Shot Type dropdown focused - pausing sync"),xn()},onChange:D=>{if(c==="VIEWER"||c==="OPERATOR"){alert("Only EDITORs can edit shot type. Please change your role to EDITOR.");return}const U=p.shotType;H(Y=>Y.map(se=>se.id===p.id?{...se,shotType:D.target.value}:se)),A(`shotType_${p.id}`,"FIELD_UPDATE",`Updated shot type for "${p.segmentName}" from "${U}" to "${D.target.value}"`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:"shotType",oldValue:U,newValue:D.target.value,details:{fieldType:"select",optionChange:!0}}),es()},disabled:c==="VIEWER"||c==="OPERATOR",className:"w-full px-3 py-2 border border-slate-600 rounded text-base transition-colors bg-slate-700 text-white",style:{opacity:1},title:c==="VIEWER"||c==="OPERATOR"?"Only EDITORs can edit shot type":"Select shot type",children:[a.jsxDEV("option",{value:"",children:"Select Shot Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9691,columnNumber:27},void 0),Cl.map(D=>a.jsxDEV("option",{value:D,children:D},D,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9693,columnNumber:29},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9646,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9642,columnNumber:26},void 0),zt.pptQA&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:fr.pptQA},children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("label",{className:"flex items-center gap-1",children:[a.jsxDEV("input",{type:"checkbox",checked:p.hasPPT,onChange:D=>{if(Br(),c==="VIEWER"||c==="OPERATOR"){alert("Only EDITORs can edit PPT settings. Please change your role to EDITOR.");return}const U=p.hasPPT;H(Y=>Y.map(se=>se.id===p.id?{...se,hasPPT:D.target.checked}:se)),A(`hasPPT_${p.id}`,"FIELD_UPDATE",`Updated PPT status for "${p.segmentName}" from ${U?"TRUE":"FALSE"} to ${D.target.checked?"TRUE":"FALSE"}`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:"hasPPT",oldValue:U?"TRUE":"FALSE",newValue:D.target.checked?"TRUE":"FALSE",details:{fieldType:"checkbox",booleanChange:!0}})},className:`w-6 h-6 rounded border-2 transition-colors ${c==="VIEWER"||c==="OPERATOR"?"border-slate-400 bg-slate-700 cursor-not-allowed":"border-slate-400 bg-slate-700 hover:border-blue-400 focus:ring-2 focus:ring-blue-500"}`,style:{opacity:1,filter:"none",WebkitFilter:"none"},title:c==="VIEWER"||c==="OPERATOR"?"Only EDITORs can edit PPT settings":"Toggle PPT"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9705,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-base font-medium text-white",children:"PPT"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9754,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9704,columnNumber:27},void 0),a.jsxDEV("label",{className:"flex items-center gap-1",children:[a.jsxDEV("input",{type:"checkbox",checked:p.hasQA,onChange:D=>{if(Br(),c==="VIEWER"||c==="OPERATOR"){alert("Only EDITORs can edit Q&A settings. Please change your role to EDITOR.");return}const U=p.hasQA;H(Y=>Y.map(se=>se.id===p.id?{...se,hasQA:D.target.checked}:se)),A(`hasQA_${p.id}`,"FIELD_UPDATE",`Updated Q&A status for "${p.segmentName}" from ${U?"TRUE":"FALSE"} to ${D.target.checked?"TRUE":"FALSE"}`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:"hasQA",oldValue:U?"TRUE":"FALSE",newValue:D.target.checked?"TRUE":"FALSE",details:{fieldType:"checkbox",booleanChange:!0}})},className:`w-6 h-6 rounded border-2 transition-colors ${c==="VIEWER"||c==="OPERATOR"?"border-slate-400 bg-slate-700 cursor-not-allowed":"border-slate-400 bg-slate-700 hover:border-blue-400 focus:ring-2 focus:ring-blue-500"}`,style:{opacity:1,filter:"none",WebkitFilter:"none"},title:c==="VIEWER"||c==="OPERATOR"?"Only EDITORs can edit Q&A settings":"Toggle Q&A"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9757,columnNumber:29},void 0),a.jsxDEV("span",{className:"text-base font-medium text-white",children:"Q&A"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9806,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9756,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9703,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9699,columnNumber:26},void 0),zt.notes&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 transition-all duration-300 ease-in-out",style:{width:fr.notes,height:Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)},children:a.jsxDEV("div",{onClick:()=>{if(c==="VIEWER"||c==="OPERATOR"){if(c==="OPERATOR"&&p.notes){alert(`Notes (View Only):

${p.notes.replace(/<[^>]*>/g,"")}`);return}alert("Only EDITORs can edit notes. Please change your role to EDITOR.");return}xn(),et(p.id),tr(!0)},className:"w-full px-3 py-2 border border-slate-600 rounded text-white text-base transition-colors bg-slate-700 cursor-pointer hover:bg-slate-600",style:{minHeight:"4rem",maxHeight:"none",wordWrap:"break-word",overflowWrap:"break-word",display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},title:c==="VIEWER"?"Viewers cannot edit notes":c==="OPERATOR"?"Click to view notes (read-only)":"Click to edit notes",children:p.notes?a.jsxDEV("div",{className:"text-left w-full notes-display",style:{lineHeight:"1.4",overflow:"visible"},dangerouslySetInnerHTML:{__html:p.notes}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9843,columnNumber:29},void 0):a.jsxDEV("span",{className:"text-slate-400",children:"Click to edit notes..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9852,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9816,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9812,columnNumber:26},void 0),zt.assets&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:fr.assets},children:a.jsxDEV("div",{onClick:()=>{if(c==="VIEWER"||c==="OPERATOR"){if(c==="OPERATOR"&&p.assets){nt(p.id),Ct(!0);return}alert("Only EDITORs can edit assets. Please change your role to EDITOR.");return}xn(),qe(p.id),pr(!0)},className:"w-full px-3 py-2 border border-slate-600 rounded text-white text-base transition-colors flex items-center justify-center bg-slate-700 cursor-pointer hover:bg-slate-600",title:c==="VIEWER"?"Viewers cannot edit assets":c==="OPERATOR"?"Click to view assets (read-only)":"Click to edit assets",children:p.assets?a.jsxDEV("div",{className:"text-center",children:a.jsxDEV("div",{className:"text-sm font-medium",children:[p.assets.split("||").length," Asset",p.assets.split("||").length!==1?"s":""]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9884,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9883,columnNumber:29},void 0):a.jsxDEV("span",{className:"text-slate-400",children:"Click to add assets..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9889,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9862,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9858,columnNumber:26},void 0),zt.participants&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-start justify-center flex-shrink-0 transition-all duration-300 ease-in-out",style:{width:fr.participants,height:Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)},children:a.jsxDEV("div",{onClick:()=>{if(c==="VIEWER"||c==="OPERATOR"){if(c==="OPERATOR"&&p.speakers){alert(`Participants (View Only):

${Tc(p.speakers)}`);return}alert("Only EDITORs can edit participants. Please change your role to EDITOR.");return}Ze(p.id),It(!0)},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white text-base cursor-pointer hover:bg-slate-600",style:{height:`calc(${Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)} - 2rem)`,maxHeight:`calc(${Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)} - 2rem)`,overflow:"hidden",lineHeight:"1.6",wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap"},title:c==="VIEWER"?"Viewers cannot edit participants":c==="OPERATOR"?"Click to view participants (read-only)":"Click to edit participants",children:Tc(p.speakers||"")||"Click to add participants..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9902,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9895,columnNumber:26},void 0),zt.speakers&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 transition-all duration-300 ease-in-out",style:{width:fr.speakers,height:Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)},children:a.jsxDEV("div",{onClick:()=>{if(c==="VIEWER"||c==="OPERATOR"){if(c==="OPERATOR"&&p.speakersText){alert(`Speakers (View Only):

${Ba(p.speakersText)}`);return}alert("Only EDITORs can edit speakers. Please change your role to EDITOR.");return}xn(),vt(p.id),Fe(!0)},className:"w-full px-3 py-2 border border-slate-600 rounded text-white text-base transition-colors flex items-start justify-start bg-slate-700 cursor-pointer hover:bg-slate-600",style:{height:Hu(p.speakersText),minHeight:Hu(p.speakersText),wordWrap:"break-word",overflowWrap:"break-word",overflow:"hidden",paddingBottom:"1rem",lineHeight:"1.6",whiteSpace:"pre-wrap"},title:c==="VIEWER"?"Viewers cannot edit speakers":c==="OPERATOR"?"Click to view speakers (read-only)":"Click to edit speakers",children:a.jsxDEV("div",{className:"text-left w-full",children:Ba(p.speakersText||"")||"Click to add speakers..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9964,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9936,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9932,columnNumber:26},void 0),zt.public&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0",style:{width:fr.public},children:a.jsxDEV("input",{type:"checkbox",checked:p.isPublic||!1,onChange:D=>{if(c==="VIEWER"||c==="OPERATOR"){alert("Only EDITORs can change public status. Please change your role to EDITOR.");return}const U=p.isPublic;H(Y=>Y.map(se=>se.id===p.id?{...se,isPublic:D.target.checked}:se)),z("FIELD_UPDATE",`Updated Public status for "${p.segmentName}" from ${U} to ${D.target.checked}`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:"isPublic",oldValue:U,newValue:D.target.checked,details:{fieldType:"checkbox",booleanChange:!0}})},className:`w-5 h-5 rounded border-2 focus:ring-2 transition-colors ${c==="VIEWER"||c==="OPERATOR"?"border-slate-500 bg-slate-700 text-blue-600 cursor-not-allowed":"border-slate-500 bg-slate-700 text-blue-600 focus:ring-blue-500"}`,style:{opacity:1,filter:"none",WebkitFilter:"none"},title:c==="VIEWER"||c==="OPERATOR"?"Only EDITORs can change public status":"Toggle public visibility"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9975,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9971,columnNumber:26},void 0),Z.map(D=>mi[D.id]!==!1&&a.jsxDEV("div",{className:"px-4 py-2 border-r border-slate-600 flex items-center justify-center flex-shrink-0 transition-all duration-300 ease-in-out",style:{width:Ro[D.id]||256,height:Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)},children:a.jsxDEV("textarea",{value:p.customFields[D.name]||"",onFocus:()=>{console.log(" Custom column focused - pausing sync"),Br()},onChange:U=>{Br();const Y=p.customFields[D.name]||"";H(se=>se.map(ve=>ve.id===p.id?{...ve,customFields:{...ve.customFields,[D.name]:U.target.value}}:ve)),A(`custom_${D.name}_${p.id}`,"FIELD_UPDATE",`Updated custom field "${D.name}" for "${p.segmentName}" from "${Y}" to "${U.target.value}"`,{changeType:"FIELD_CHANGE",itemId:p.id,itemName:p.segmentName,fieldName:`custom_${D.name}`,oldValue:Y,newValue:U.target.value,details:{fieldType:"custom_field",columnName:D.name,characterChange:U.target.value.length-Y.length}})},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white text-base resize-none",style:{height:`calc(${Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)} - 2rem)`,maxHeight:`calc(${Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)} - 2rem)`,overflow:"hidden",lineHeight:"1.6",wordWrap:"break-word",overflowWrap:"break-word"},rows:Math.max(2,(p.customFields[D.name]||"").split(`
`).length),placeholder:`${D.name}...`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10028,columnNumber:27},void 0)},D.id,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10020,columnNumber:28},void 0))]},`${p.id}-${p.notes?.length||0}-${p.speakers?.length||0}`,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9280,columnNumber:22},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9056,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:9055,columnNumber:13},void 0),a.jsxDEV("div",{className:"w-32 flex-shrink-0 bg-slate-900",style:{borderLeft:"6px solid #475569"},children:[a.jsxDEV("div",{className:"h-24 bg-slate-700 border-b-3 border-slate-600 flex items-center justify-center",children:a.jsxDEV("span",{className:"text-white font-bold text-base flex items-center gap-1",children:["Timer",(c==="VIEWER"||c==="EDITOR")&&a.jsxDEV("span",{className:"text-yellow-400",title:"Only OPERATORs can control timers",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10099,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10096,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10095,columnNumber:15},void 0),oa().length===0?a.jsxDEV("div",{className:"h-24 flex items-center justify-center text-slate-500",children:"-"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10107,columnNumber:17},void 0):oa().map((p,y)=>a.jsxDEV("div",{className:`border-b-2 border-slate-600 flex flex-col items-center justify-center gap-1 ${y%2===0?"bg-slate-800":"bg-slate-900"}`,style:{height:Nn(p.notes,p.speakersText,p.speakers,p.customFields,Z)},children:a.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:[a.jsxDEV("div",{className:"text-sm font-mono text-slate-300",children:p.timerId||"TIMER"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10120,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex flex-col gap-1",children:Mt[p.id]?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can start secondary timers. Please change your role to OPERATOR.");return}Uo(p.id)},disabled:Ut?.itemId===p.id||c==="VIEWER"||c==="EDITOR"||!wl(p.id),className:`px-3 py-1 rounded text-sm font-bold transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":wl(p.id)?Ut?.itemId===p.id?"bg-orange-600 text-white cursor-default":"bg-orange-500 hover:bg-orange-400 text-white":"bg-gray-500 text-gray-300 cursor-not-allowed"}`,title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can start secondary timers":wl(p.id)?"Start secondary timer":"Start the CUE above first before starting secondary timer",children:Ut?.itemId===p.id?"PLAYING":"PLAY"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10190,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can stop secondary timers. Please change your role to OPERATOR.");return}_c()},disabled:Ut?.itemId!==p.id||c==="VIEWER"||c==="EDITOR"||!wl(p.id),className:`px-3 py-1 rounded text-sm font-bold transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":wl(p.id)?Ut?.itemId===p.id?"bg-red-600 hover:bg-red-500 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-gray-500 text-gray-300 cursor-not-allowed"}`,title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can stop secondary timers":"Stop secondary timer",children:"STOP"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10218,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10188,columnNumber:27},void 0):a.jsxDEV(a.Fragment,{children:[a.jsxDEV("button",{onClick:async()=>{if(console.log(" LOAD BUTTON CLICKED!"),console.log(" currentUserRole:",c),console.log(" item.id:",p.id),console.log(" user:",o),console.log(" event:",t),c==="VIEWER"){alert("Viewers cannot load cues. Please change your role to EDITOR or OPERATOR.");return}if(c==="EDITOR"){alert("Editors cannot load cues. Please change your role to OPERATOR.");return}console.log(" Calling loadCue function...");try{await bh(p.id),console.log(" loadCue completed successfully")}catch(D){console.error(" loadCue failed:",D)}},disabled:F===p.id||c==="VIEWER"||c==="EDITOR",className:`px-3 py-1 rounded text-sm font-bold transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":F===p.id?"bg-blue-600 text-white cursor-default":"bg-slate-600 hover:bg-slate-500 text-white"}`,title:c==="VIEWER"?"Viewers cannot load cues":c==="EDITOR"?"Editors cannot load cues":"Load this cue",children:F===p.id?"LOADED":"LOAD"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10126,columnNumber:29},void 0),a.jsxDEV("button",{onClick:async()=>{if(c==="VIEWER"||c==="EDITOR"){alert("Only OPERATORs can start/stop timers. Please change your role to OPERATOR.");return}await _o(p.id)},disabled:F!==p.id||(We[p.id]?!1:Object.keys(We).length>0)||c==="VIEWER"||c==="EDITOR",className:`px-3 py-1 rounded text-sm font-bold transition-colors ${c==="VIEWER"||c==="EDITOR"?"bg-gray-500 text-gray-300 cursor-not-allowed":We[p.id]?"bg-red-600 hover:bg-red-500 text-white":F===p.id&&Object.keys(We).length===0?"bg-green-600 hover:bg-green-500 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,title:c==="VIEWER"||c==="EDITOR"?"Only OPERATORs can start/stop timers":We[p.id]?"Stop timer":"Start timer",children:We[p.id]?"STOP":"START"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10164,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10125,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10123,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10119,columnNumber:21},void 0)},`${p.id}-${p.notes?.length||0}-${p.speakers?.length||0}`,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10112,columnNumber:20},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10093,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8739,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8590,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:8589,columnNumber:7},void 0),J&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg max-w-lg w-full max-h-[90vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-slate-600",children:[a.jsxDEV("h2",{className:"text-lg font-bold text-white",children:"Add Schedule Item"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10258,columnNumber:15},void 0),a.jsxDEV("label",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"checkbox",checked:Ar.isPublic,onChange:p=>Ts(y=>({...y,isPublic:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10260,columnNumber:17},void 0),a.jsxDEV("span",{className:"text-slate-300 text-sm",children:"Public"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10266,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10259,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10257,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Cue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10275,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex",children:[a.jsxDEV("div",{className:"flex items-center px-2 py-2 bg-slate-600 border border-slate-600 border-r-0 rounded-l text-white text-sm font-medium min-w-[40px]",children:"CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10277,columnNumber:21},void 0),a.jsxDEV("input",{type:"text",value:Ar.cue,onChange:p=>{Br(),Ts(y=>({...y,cue:p.target.value}))},className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded-r text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm",placeholder:"1, 1.1, 1A, etc."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10280,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10276,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10274,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Program Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10293,columnNumber:19},void 0),a.jsxDEV("select",{value:Ar.programType,onFocus:()=>{console.log(" Program Type modal dropdown focused - pausing sync"),xn()},onChange:p=>{Ts(y=>({...y,programType:p.target.value})),es()},className:"w-full px-3 py-2 bg-slate-700 border-2 border-slate-500 rounded text-white focus:outline-none focus:border-blue-500 text-sm",style:{backgroundColor:$a[Ar.programType]||"#374151",color:Ar.programType==="Sub Cue"?"#000000":"#ffffff"},children:Xu.map(p=>a.jsxDEV("option",{value:p,style:{backgroundColor:$a[p]||"#374151",color:p==="Sub Cue"?"#000000":"#ffffff"},children:p},p,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10313,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10294,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10292,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10273,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Segment Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10330,columnNumber:17},void 0),a.jsxDEV("input",{type:"text",value:Ar.segmentName,onChange:p=>{Br(),Ts(y=>({...y,segmentName:p.target.value}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm",placeholder:"Enter segment name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10331,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10329,columnNumber:15},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Shot Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10345,columnNumber:19},void 0),a.jsxDEV("select",{value:Ar.shotType,onFocus:()=>{console.log(" Shot Type modal dropdown focused - pausing sync"),xn()},onChange:p=>{Ts(y=>({...y,shotType:p.target.value})),es()},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:outline-none focus:border-blue-500 text-sm",children:[a.jsxDEV("option",{value:"",children:"Select Shot Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10360,columnNumber:21},void 0),Cl.map(p=>a.jsxDEV("option",{value:p,children:p},p,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10362,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10346,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10344,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10367,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("input",{type:"number",value:Ar.durationHours,onChange:p=>{Br(),Ts(y=>({...y,durationHours:parseInt(p.target.value)||0}))},className:"w-12 px-2 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:outline-none focus:border-blue-500 text-sm text-center",min:"0",placeholder:"H"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10369,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-slate-400 self-center text-sm",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10380,columnNumber:21},void 0),a.jsxDEV("input",{type:"number",value:Ar.durationMinutes,onChange:p=>{Br(),Ts(y=>({...y,durationMinutes:parseInt(p.target.value)||0}))},className:"w-12 px-2 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:outline-none focus:border-blue-500 text-sm text-center",min:"0",max:"59",placeholder:"M"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10381,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-slate-400 self-center text-sm",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10393,columnNumber:21},void 0),a.jsxDEV("input",{type:"number",value:Ar.durationSeconds,onChange:p=>{Br(),Ts(y=>({...y,durationSeconds:parseInt(p.target.value)||0}))},className:"w-12 px-2 py-2 bg-slate-700 border border-slate-600 rounded text-white focus:outline-none focus:border-blue-500 text-sm text-center",min:"0",max:"59",placeholder:"S"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10394,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10368,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10366,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10343,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("label",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"checkbox",checked:Ar.hasPPT,onChange:p=>{Br(),Ts(y=>({...y,hasPPT:p.target.checked}))},className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10412,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-slate-300 text-sm",children:"Has PPT"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10421,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10411,columnNumber:17},void 0),a.jsxDEV("label",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"checkbox",checked:Ar.hasQA,onChange:p=>{Br(),Ts(y=>({...y,hasQA:p.target.checked}))},className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10424,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-slate-300 text-sm",children:"Has QA"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10433,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10423,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10410,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10272,columnNumber:15},void 0),a.jsxDEV("div",{className:"mt-3",children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Notes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10439,columnNumber:15},void 0),a.jsxDEV("div",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm cursor-pointer hover:bg-slate-600 transition-colors min-h-[60px] flex items-center",onClick:()=>{xn(),et(-1),tr(!0)},children:Ar.notes?a.jsxDEV("div",{className:"text-sm notes-display",style:{lineHeight:"1.4",overflow:"visible"},dangerouslySetInnerHTML:{__html:Ar.notes}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10450,columnNumber:19},void 0):a.jsxDEV("span",{className:"text-slate-400",children:"Click to edit notes with rich formatting..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10459,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10440,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10438,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-3",children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Assets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10465,columnNumber:15},void 0),a.jsxDEV("div",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm cursor-pointer hover:bg-slate-600 transition-colors min-h-[60px] flex items-center",onClick:()=>{xn(),qe(-1),pr(!0)},children:Ar.assets?a.jsxDEV("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:Ar.assets.replace(/\|\|/g,"<br>")}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10476,columnNumber:19},void 0):a.jsxDEV("span",{className:"text-slate-400",children:"Click to edit assets with advanced management..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10478,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10466,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10464,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-3",children:[a.jsxDEV("label",{className:"block text-slate-300 text-sm font-medium mb-1",children:"Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10484,columnNumber:15},void 0),a.jsxDEV("div",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm cursor-pointer hover:bg-slate-600 transition-colors min-h-[60px] flex items-start justify-start",onClick:()=>{xn(),vt(-1),Fe(!0)},style:{wordWrap:"break-word",overflowWrap:"break-word",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:Ar.speakersText?a.jsxDEV("div",{className:"text-sm text-left w-full",children:Ba(Ar.speakersText)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10501,columnNumber:19},void 0):a.jsxDEV("span",{className:"text-slate-400",children:"Click to add speakers..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10505,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10485,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10483,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10271,columnNumber:13},void 0),a.jsxDEV("div",{className:"p-4 border-t border-slate-600",children:a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>Oh(Ar),className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded transition-colors text-sm",children:"Add Item"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10514,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{L(!1),es()},className:"flex-1 px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white font-medium rounded transition-colors text-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10520,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10513,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10512,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10255,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10254,columnNumber:9},void 0),Dt&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-8 max-w-md w-full",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-6",children:"Add Custom Column"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10539,columnNumber:14},void 0),a.jsxDEV("div",{className:"mb-4",children:[a.jsxDEV("label",{className:"block text-slate-300 font-semibold mb-2",children:"Column Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10542,columnNumber:16},void 0),a.jsxDEV("input",{type:"text",placeholder:"Enter column name",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500",onFocus:()=>{console.log(" Custom column input focused - pausing sync"),Br()},onKeyPress:p=>{if(p.key==="Enter"){const y=p.target;y.value.trim()&&(hm(y.value.trim()),y.value="")}}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10543,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10541,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>{const p=document.querySelector('input[placeholder="Enter column name"]');p?.value.trim()&&(hm(p.value.trim()),p.value="")},className:"flex-1 px-4 py-3 bg-purple-600 hover:bg-purple-500 text-white font-semibold rounded-lg transition-colors",children:"Add Column"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10565,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{St(!1),es()},className:"flex-1 px-4 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10577,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10564,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10538,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10537,columnNumber:10},void 0),it&&Jt!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-6 max-w-5xl w-full max-h-[90vh] flex flex-col",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-4",children:"Edit Notes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10595,columnNumber:14},void 0),a.jsxDEV("div",{className:"mb-4 bg-slate-700 rounded-lg overflow-hidden",children:[a.jsxDEV("div",{className:"flex items-center justify-between gap-4 p-3 border-b border-slate-600",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Format:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10602,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Xr("undo"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Undo",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10604,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("redo"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Redo",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10611,columnNumber:22},void 0),a.jsxDEV("div",{className:"w-px h-6 bg-slate-500 mx-1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10618,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("bold"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded font-bold flex items-center justify-center",title:"Bold",children:"B"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10619,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("italic"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded italic flex items-center justify-center",title:"Italic",children:"I"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10626,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("underline"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded underline flex items-center justify-center",title:"Underline",children:"U"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10633,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10603,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10601,columnNumber:18},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Size:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10644,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Xr("fontSize","1"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Small",children:"S"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10646,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("fontSize","3"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded flex items-center justify-center",title:"Normal",children:"N"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10653,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("fontSize","5"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-base rounded flex items-center justify-center",title:"Large",children:"L"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10660,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("fontSize","7"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-lg rounded flex items-center justify-center",title:"X-Large",children:"XL"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10667,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10645,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10643,columnNumber:18},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Align:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10678,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Xr("left"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Left Align",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10680,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("center"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Center Align",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10687,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("right"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded flex items-center justify-center",title:"Right Align",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10694,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10679,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10677,columnNumber:18},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Lists:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10705,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Xr("bullet"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded flex items-center justify-center",title:"Bullet List",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10707,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("list"),className:"w-8 h-8 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded flex items-center justify-center",title:"Numbered List",children:"1."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10714,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10706,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10704,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10600,columnNumber:16},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-6 p-3",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Text Color:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10728,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Xr("color","#ffffff"),className:"w-6 h-6 bg-white border border-slate-400 rounded",title:"White"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10730,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("color","#ef4444"),className:"w-6 h-6 bg-red-500 rounded",title:"Red"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10735,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("color","#3b82f6"),className:"w-6 h-6 bg-blue-500 rounded",title:"Blue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10740,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("color","#22c55e"),className:"w-6 h-6 bg-green-500 rounded",title:"Green"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10745,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("color","#f97316"),className:"w-6 h-6 bg-orange-500 rounded",title:"Orange"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10750,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("color","#a855f7"),className:"w-6 h-6 bg-purple-500 rounded",title:"Purple"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10755,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("color","#000000"),className:"w-6 h-6 bg-black border border-slate-400 rounded",title:"Black"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10760,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10729,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10727,columnNumber:18},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-white text-sm font-semibold",children:"Highlight:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10769,columnNumber:20},void 0),a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("button",{onClick:()=>Xr("highlight","transparent"),className:"w-6 h-6 bg-slate-600 border border-slate-400 rounded flex items-center justify-center text-white text-xs",title:"No Highlight",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10771,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("highlight","#fbbf24"),className:"w-6 h-6 bg-yellow-400 rounded",title:"Yellow"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10778,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("highlight","#60a5fa"),className:"w-6 h-6 bg-blue-400 rounded",title:"Light Blue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10783,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("highlight","#4ade80"),className:"w-6 h-6 bg-green-400 rounded",title:"Light Green"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10788,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("highlight","#f472b6"),className:"w-6 h-6 bg-pink-400 rounded",title:"Pink"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10793,columnNumber:22},void 0),a.jsxDEV("button",{onClick:()=>Xr("highlight","#fb923c"),className:"w-6 h-6 bg-orange-400 rounded",title:"Orange"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10798,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10770,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10768,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10726,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10598,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex-1 min-h-[400px] mb-6",children:[a.jsxDEV("label",{className:"block text-white text-sm mb-2",children:"Notes:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10810,columnNumber:16},void 0),a.jsxDEV("div",{id:"notes-editor",contentEditable:!0,className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white text-base focus:outline-none focus:border-blue-500 overflow-auto",style:{height:"400px",lineHeight:"1.5",fontFamily:"system-ui, -apple-system, sans-serif"},"data-placeholder":"Start typing your notes here...",onInput:p=>{}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10811,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10809,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:oh,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:"Save & Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10829,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{tr(!1),et(null),es()},className:"flex-1 px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10835,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10828,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10594,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10593,columnNumber:10},void 0),ft&&ct!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl max-w-5xl w-full max-h-[90vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center p-6 border-b border-slate-700",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:["Edit Speakers (",mt.length,"/7)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10856,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{Fe(!1),vt(null),es()},className:"text-slate-400 hover:text-white text-xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10859,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10855,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex-1 p-6 overflow-y-auto",children:[a.jsxDEV("div",{className:"mb-6",children:a.jsxDEV("button",{onClick:cm,disabled:mt.length>=7,className:"px-4 py-2 bg-green-600 hover:bg-green-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors",children:["+ Add Speaker ",mt.length<7&&`(${7-mt.length} slots remaining)`]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10876,columnNumber:18},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10875,columnNumber:16},void 0),a.jsxDEV("div",{className:"space-y-4 mb-6",children:[mt.sort((p,y)=>p.slot-y.slot).map(p=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:["Speaker ",p.slot]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10890,columnNumber:24},void 0),a.jsxDEV("button",{onClick:()=>fh(p.id),className:"w-8 h-8 bg-red-600 hover:bg-red-500 text-white rounded flex items-center justify-center transition-colors",title:"Remove Speaker",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10893,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10889,columnNumber:22},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Slot Number"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10905,columnNumber:26},void 0),a.jsxDEV("select",{value:p.slot,onChange:y=>mh(p.id,parseInt(y.target.value)),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm focus:outline-none focus:border-blue-500",children:[1,2,3,4,5,6,7].map(y=>{const D=mt.some(U=>U.id!==p.id&&U.slot===y);return a.jsxDEV("option",{value:y,className:D?"bg-yellow-600 text-white":"bg-slate-600 text-white",children:[y," ",D?"(Used)":""]},y,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10916,columnNumber:32},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10908,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10904,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10926,columnNumber:26},void 0),a.jsxDEV("select",{value:p.location,onChange:y=>zi(p.id,"location",y.target.value),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm focus:outline-none focus:border-blue-500",children:[a.jsxDEV("option",{value:"Podium",children:"Podium"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10934,columnNumber:28},void 0),a.jsxDEV("option",{value:"Seat",children:"Seat"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10935,columnNumber:28},void 0),a.jsxDEV("option",{value:"Moderator",children:"Moderator"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10936,columnNumber:28},void 0),a.jsxDEV("option",{value:"Virtual",children:"Virtual"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10937,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10929,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10925,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Full Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10943,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.fullName,onChange:y=>zi(p.id,"fullName",y.target.value),placeholder:"Enter full name",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10946,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10942,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Title (subtext line 1)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10957,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.title,onChange:y=>zi(p.id,"title",y.target.value),placeholder:"Enter title",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10960,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10956,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Organization (subtext line 2)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10971,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.org,onChange:y=>zi(p.id,"org",y.target.value),placeholder:"Enter organization",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10974,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10970,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Photo Link"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10985,columnNumber:26},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("input",{type:"url",value:p.photoLink,onChange:y=>zi(p.id,"photoLink",y.target.value),placeholder:"Enter photo URL",className:"flex-1 px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10989,columnNumber:28},void 0),p.photoLink&&a.jsxDEV("div",{className:"flex-shrink-0",children:a.jsxDEV("img",{src:p.photoLink,alt:p.fullName,className:"w-12 h-12 rounded object-cover border-2 border-slate-500 -mt-2.5",onError:y=>{y.currentTarget.style.display="none"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10998,columnNumber:32},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10997,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10988,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10984,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10902,columnNumber:22},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10888,columnNumber:20},void 0)),mt.length===0&&a.jsxDEV("div",{className:"text-center py-8 text-slate-400",children:'No speakers added yet. Click "Add Speaker" to get started.'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11015,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10886,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10872,columnNumber:14},void 0),a.jsxDEV("div",{className:"border-t border-slate-700 p-6",children:a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:lh,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:"Save & Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11025,columnNumber:18},void 0),a.jsxDEV("button",{onClick:()=>{Fe(!1),vt(null),es()},className:"flex-1 px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11031,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11024,columnNumber:16},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11023,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10853,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:10852,columnNumber:10},void 0),hr&&rr!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-6",children:"Edit Assets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11051,columnNumber:14},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"flex justify-between items-center",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:"Assets List"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11055,columnNumber:18},void 0),a.jsxDEV("button",{onClick:om,className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:"+ Add Asset"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11056,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11054,columnNumber:16},void 0),a.jsxDEV("div",{id:"assets-list",className:"space-y-3"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11064,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11053,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex gap-3 mt-6",children:[a.jsxDEV("button",{onClick:ch,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:"Save & Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11070,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{pr(!1),qe(null),es()},className:"flex-1 px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11076,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11069,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11050,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11049,columnNumber:10},void 0),ut&&$e!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Assets List"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11096,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{Ct(!1),nt(null)},className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded-lg transition-colors",children:"Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11097,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11095,columnNumber:14},void 0),a.jsxDEV("div",{className:"space-y-4",children:(()=>{const p=T.find(D=>D.id===$e);if(!p||!p.assets)return a.jsxDEV("div",{className:"text-center py-8",children:a.jsxDEV("p",{className:"text-slate-400 text-lg",children:"No assets available for this item."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11114,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11113,columnNumber:22},void 0);let y=[];if(p.assets.includes("||"))y=p.assets.split("||").filter(U=>U.trim()).map(U=>{if(U.includes("|")){const[Y,se]=U.split("|").map(ve=>ve.trim());return{name:Y||"Unnamed Asset",url:se||""}}else return{name:U.trim(),url:""}});else if(p.assets.includes("|")){const[D,U]=p.assets.split("|").map(Y=>Y.trim());y=[{name:D||"Unnamed Asset",url:U||""}]}else try{const D=JSON.parse(p.assets);Array.isArray(D)?y=D.map(U=>({name:U.name||"Unnamed Asset",url:U.link||U.url||""})):y=[{name:D.name||"Unnamed Asset",url:D.link||D.url||""}]}catch{y=[{name:p.assets.trim(),url:""}]}return y.length===0?a.jsxDEV("div",{className:"text-center py-8",children:a.jsxDEV("p",{className:"text-slate-400 text-lg",children:"No assets available for this item."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11175,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11174,columnNumber:22},void 0):a.jsxDEV("div",{className:"space-y-4",children:a.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-3 pr-2",children:y.map((D,U)=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"text-white font-semibold text-lg",children:D.name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11186,columnNumber:30},void 0),D.url&&a.jsxDEV("div",{children:a.jsxDEV("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline break-all text-sm",children:D.url},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11191,columnNumber:34},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11190,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11185,columnNumber:28},void 0)},U,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11184,columnNumber:26},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11182,columnNumber:22},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11181,columnNumber:20},void 0)})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11108,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11094,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11093,columnNumber:10},void 0),yt&&_e!==null&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl max-w-5xl w-full max-h-[90vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center p-6 border-b border-slate-700",children:[a.jsxDEV("h2",{className:"text-xl font-bold text-white",children:["Edit Participants (",be.length,"/7)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11219,columnNumber:16},void 0),a.jsxDEV("button",{onClick:()=>{It(!1),Ze(null)},className:"text-slate-400 hover:text-white text-xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11222,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11218,columnNumber:14},void 0),a.jsxDEV("div",{className:"flex-1 p-6 overflow-y-auto",children:[a.jsxDEV("div",{className:"mb-6",children:a.jsxDEV("button",{onClick:lm,disabled:be.length>=7,className:"px-4 py-2 bg-green-600 hover:bg-green-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors",children:["+ Add Speaker ",be.length<7&&`(${7-be.length} slots remaining)`]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11237,columnNumber:18},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11236,columnNumber:16},void 0),a.jsxDEV("div",{className:"space-y-4",children:[be.sort((p,y)=>p.slot-y.slot).map(p=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:["Speaker ",p.slot]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11251,columnNumber:24},void 0),a.jsxDEV("button",{onClick:()=>uh(p.id),className:"w-8 h-8 bg-red-600 hover:bg-red-500 text-white rounded flex items-center justify-center transition-colors",title:"Remove Speaker",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11254,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11250,columnNumber:22},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Slot Number"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11266,columnNumber:26},void 0),a.jsxDEV("select",{value:p.slot,onChange:y=>ph(p.id,parseInt(y.target.value)),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm focus:outline-none focus:border-blue-500",children:[1,2,3,4,5,6,7].map(y=>{const D=be.some(U=>U.id!==p.id&&U.slot===y);return a.jsxDEV("option",{value:y,className:D?"bg-yellow-600 text-white":"bg-slate-600 text-white",children:[y," ",D?"(Used)":""]},y,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11277,columnNumber:32},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11269,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11265,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Location"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11287,columnNumber:26},void 0),a.jsxDEV("select",{value:p.location,onChange:y=>Wi(p.id,"location",y.target.value),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm focus:outline-none focus:border-blue-500",children:[a.jsxDEV("option",{value:"Podium",children:"Podium"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11295,columnNumber:28},void 0),a.jsxDEV("option",{value:"Seat",children:"Seat"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11296,columnNumber:28},void 0),a.jsxDEV("option",{value:"Moderator",children:"Moderator"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11297,columnNumber:28},void 0),a.jsxDEV("option",{value:"Virtual",children:"Virtual"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11298,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11290,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11286,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Full Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11304,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.fullName,onChange:y=>Wi(p.id,"fullName",y.target.value),placeholder:"Enter full name",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11307,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11303,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Title"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11318,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.title,onChange:y=>Wi(p.id,"title",y.target.value),placeholder:"Enter title/position",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11321,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11317,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Organization"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11332,columnNumber:26},void 0),a.jsxDEV("input",{type:"text",value:p.org,onChange:y=>Wi(p.id,"org",y.target.value),placeholder:"Enter organization",className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11335,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11331,columnNumber:24},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Speaker Photo Link"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11346,columnNumber:26},void 0),a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"url",value:p.photoLink,onChange:y=>Wi(p.id,"photoLink",y.target.value),placeholder:"Enter photo URL",className:"flex-1 px-3 py-2 bg-slate-600 border border-slate-500 rounded text-white text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11350,columnNumber:28},void 0),p.photoLink&&a.jsxDEV("div",{className:"flex-shrink-0",children:a.jsxDEV("img",{src:p.photoLink,alt:p.fullName,className:"w-12 h-12 rounded object-cover border-2 border-slate-500 -mt-2.5",onError:y=>{y.target.style.display="none"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11359,columnNumber:32},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11358,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11349,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11345,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11263,columnNumber:22},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11249,columnNumber:20},void 0)),be.length===0&&a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("div",{className:"text-slate-400 text-lg mb-4",children:"No speakers added yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11378,columnNumber:22},void 0),a.jsxDEV("button",{onClick:lm,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:"Add Your First Speaker"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11379,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11377,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11247,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11234,columnNumber:14},void 0),a.jsxDEV("div",{className:"border-t border-slate-700 p-6",children:a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:dh,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg transition-colors",children:"Save & Close"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11393,columnNumber:18},void 0),a.jsxDEV("button",{onClick:()=>{It(!1),Ze(null)},className:"flex-1 px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white font-semibold rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11399,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11392,columnNumber:16},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11391,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11216,columnNumber:12},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11215,columnNumber:10},void 0),bl&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-6 max-w-md w-full",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[a.jsxDEV("h3",{className:"text-xl font-bold text-white",children:"Send Message to Full Screen Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11419,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>jn(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsxDEV("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11425,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11424,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11420,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11418,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Quick Presets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11433,columnNumber:17},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["Break in 5 minutes","Technical difficulties","Starting soon","Please wait","Break time","Resuming shortly","Stall / Stretch Time","Wrap Up Please"].map(p=>a.jsxDEV("button",{onClick:()=>sa(p),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 border border-slate-600 rounded text-white text-sm transition-colors text-left",children:p},p,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11447,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11436,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11432,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-white text-sm font-medium mb-2",children:"Custom Message"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11460,columnNumber:17},void 0),a.jsxDEV("textarea",{value:Ln,onChange:p=>sa(p.target.value),placeholder:"Enter custom message to display on full screen timer...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-sm h-24 resize-none"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11463,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11459,columnNumber:15},void 0),Ln&&a.jsxDEV("div",{className:"p-3 bg-slate-700 rounded-lg",children:a.jsxDEV("div",{className:"text-slate-300 text-sm",children:[a.jsxDEV("strong",{children:"Message Preview:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11475,columnNumber:21},void 0)," ",Ln]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11474,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11473,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11430,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-3 mt-6",children:[a.jsxDEV("button",{onClick:async()=>{if(!(!Ln.trim()||!t?.id))try{const y=(await Nt.getTimerMessagesForEvent(t.id)).filter(Y=>Y.enabled);for(const Y of y)await Nt.disableTimerMessage(Y.id),console.log(" Disabled existing message:",Y.id);const D={event_id:t.id,message:Ln.trim(),enabled:!0,sent_by:o?.id,sent_by_name:o?.full_name||o?.email||"Unknown User",sent_by_role:c||"VIEWER",message_type:"general",priority:2},U=await Nt.saveTimerMessage(D);if(!U){console.error(" Failed to save message to Supabase"),alert("Failed to save message. Please try again.");return}console.log(" New message created in Supabase:",U),di(!0),$r&&!$r.closed&&$r.postMessage({type:"MESSAGE_UPDATE",message:Ln,enabled:!0},"*"),sa(""),jn(!1)}catch(p){console.error(" Error saving message:",p),alert("Error saving message. Please try again.")}},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded transition-colors",disabled:!Ln.trim()||!t?.id,children:"Send & Activate Message"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11483,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>jn(!1),className:"flex-1 px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white font-medium rounded transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11541,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11482,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11417,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11416,columnNumber:9},void 0),Eo&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg max-w-md w-full max-h-[80vh] flex flex-col",children:[a.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-slate-600",children:[a.jsxDEV("h2",{className:"text-lg font-bold text-white",children:"Filter Columns"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11558,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>$i(!1),className:"text-slate-400 hover:text-white text-xl",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11559,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11557,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("p",{className:"text-slate-300 text-sm mb-4",children:"Select which columns to display in the schedule:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11570,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:zt.start,onChange:p=>gn(y=>({...y,start:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11574,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Start Time"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11580,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11573,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:zt.programType,onChange:p=>gn(y=>({...y,programType:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11584,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Program Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11590,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11583,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:zt.duration,onChange:p=>gn(y=>({...y,duration:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11594,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Duration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11600,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11593,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:zt.segmentName,onChange:p=>gn(y=>({...y,segmentName:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11604,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Segment Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11610,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11603,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:zt.shotType,onChange:p=>gn(y=>({...y,shotType:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11614,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Shot Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11620,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11613,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:zt.pptQA,onChange:p=>gn(y=>({...y,pptQA:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11624,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"PPT/Q&A"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11630,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11623,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:zt.notes,onChange:p=>gn(y=>({...y,notes:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11634,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Notes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11640,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11633,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:zt.assets,onChange:p=>gn(y=>({...y,assets:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11644,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Assets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11650,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11643,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:zt.speakers,onChange:p=>gn(y=>({...y,speakers:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11665,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11671,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11664,columnNumber:19},void 0),a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:zt.public,onChange:p=>gn(y=>({...y,public:p.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11676,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-white",children:"Public"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11682,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11675,columnNumber:19},void 0),Z.map((p,y)=>a.jsxDEV("label",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:mi[p.id]!==!1,onChange:D=>wo(U=>({...U,[p.id]:D.target.checked})),className:"rounded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11687,columnNumber:23},void 0),a.jsxDEV("span",{className:"text-white",children:[p.name,a.jsxDEV("span",{className:"text-slate-400 text-xs ml-2",children:"(Custom)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11695,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11693,columnNumber:23},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11686,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11572,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11569,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11568,columnNumber:13},void 0),a.jsxDEV("div",{className:"p-4 border-t border-slate-600",children:a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>{gn({start:!0,programType:!0,duration:!0,segmentName:!0,shotType:!0,pptQA:!0,notes:!0,assets:!0,participants:!1,speakers:!0,public:!0,custom:!0});const p={};Z.forEach(y=>{p[y.id]=!0}),wo(p)},className:"px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white font-medium rounded transition-colors text-sm",children:"Show All"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11706,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{gn({start:!1,programType:!1,duration:!1,segmentName:!1,shotType:!1,pptQA:!1,notes:!1,assets:!1,participants:!1,speakers:!1,public:!1,custom:!1});const p={};Z.forEach(y=>{p[y.id]=!1}),wo(p)},className:"px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white font-medium rounded transition-colors text-sm",children:"Hide All"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11733,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>$i(!1),className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded transition-colors text-sm",children:"Apply Filters"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11760,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11705,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11704,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11555,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11554,columnNumber:9},void 0),Oe&&Ye&&a.jsxDEV("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:a.jsxDEV("div",{className:`px-6 py-4 rounded-lg shadow-lg border-2 flex items-center gap-3 ${Ht==="early"?"bg-yellow-600 border-yellow-500 text-yellow-100":Ht==="late"?"bg-red-600 border-red-500 text-red-100":"bg-green-600 border-green-500 text-green-100"}`,children:[a.jsxDEV("div",{className:"text-3xl flex-shrink-0",children:Ht==="early"?"":Ht==="late"?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11782,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"font-bold text-lg mb-1",children:Ht==="early"?"EARLY":Ht==="late"?"RUNNING LATE":"ON TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11786,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-base font-medium",children:[a.jsxDEV("span",{className:"text-2xl font-bold",children:Er>=60?`${Math.floor(Er/60)}h ${Er%60}m`:`${Er}m`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11790,columnNumber:17},void 0),Ht==="early"?` before CUE ${Object.keys(We).length>0&&T.find(p=>p.id===parseInt(Object.keys(We)[0]))?.customFields.cue||"0"} expected start`:Ht==="late"?` after CUE ${Object.keys(We).length>0&&T.find(p=>p.id===parseInt(Object.keys(We)[0]))?.customFields.cue||"0"} expected start`:" - Timing is on track"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11789,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11785,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>Me(!1),className:"ml-4 text-xl hover:opacity-70 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11801,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11775,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11774,columnNumber:9},void 0),a.jsxDEV(sj,{isOpen:Dc,onClose:()=>Co(!1),event:t},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11813,columnNumber:7},void 0),a.jsxDEV(nj,{isOpen:ju,onClose:()=>fi(!1),onSelectFullscreenTimer:en,onSelectClock:fm},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11820,columnNumber:7},void 0),Bi&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-8 w-full max-w-7xl max-h-[95vh] overflow-hidden flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Backup Management"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11832,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>Xi(!1),className:"text-slate-400 hover:text-white text-2xl font-bold",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11833,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11831,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-blue-900 border border-blue-600 rounded-lg p-4 mb-6",children:a.jsxDEV("div",{className:"flex items-start",children:[a.jsxDEV("div",{className:"text-blue-400 text-xl mr-3",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11844,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"text-blue-200 font-semibold mb-1",children:"Neon Database Backups"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11846,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-blue-100 text-sm",children:'Create and manage backups of your run of show data stored in Neon database. Use the " Create Backup" button to create manual backups when needed.'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11847,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11845,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11843,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11842,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 mb-6",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-4",children:"Filter & Search"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11857,columnNumber:15},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-base font-medium mb-3",children:"Search by Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11860,columnNumber:19},void 0),a.jsxDEV("input",{type:"text",placeholder:"Filter by event name...",className:"w-full px-4 py-3 bg-slate-600 border border-slate-500 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 text-base",onChange:p=>{}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11861,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11859,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-base font-medium mb-3",children:"Filter by Date"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11871,columnNumber:19},void 0),a.jsxDEV("input",{type:"date",className:"w-full px-4 py-3 bg-slate-600 border border-slate-500 rounded-lg text-white focus:outline-none focus:border-blue-500 text-base",onChange:p=>{}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11872,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11870,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-slate-300 text-base font-medium mb-3",children:"Sort by"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11881,columnNumber:19},void 0),a.jsxDEV("select",{className:"w-full px-4 py-3 bg-slate-600 border border-slate-500 rounded-lg text-white focus:outline-none focus:border-blue-500 text-base",children:[a.jsxDEV("option",{value:"newest",children:"Newest First"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11883,columnNumber:21},void 0),a.jsxDEV("option",{value:"oldest",children:"Oldest First"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11884,columnNumber:21},void 0),a.jsxDEV("option",{value:"event",children:"Event Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11885,columnNumber:21},void 0),a.jsxDEV("option",{value:"type",children:"Backup Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11886,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11882,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11880,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11858,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11856,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 flex-1 overflow-hidden flex flex-col",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h3",{className:"text-xl font-semibold text-white",children:"Available Backups"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11895,columnNumber:17},void 0),a.jsxDEV("button",{onClick:Gu,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white text-base font-medium rounded-lg transition-colors",children:" Refresh"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11896,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11894,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:Na.length===0?a.jsxDEV("div",{className:"text-slate-400 text-center py-12 text-lg",children:'No backups available. Use the " Create Backup" button in the main interface to create a manual backup.'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11906,columnNumber:19},void 0):a.jsxDEV("div",{className:"space-y-4",children:Na.map(p=>a.jsxDEV("div",{className:"bg-slate-600 p-6 rounded-lg flex justify-between items-center hover:bg-slate-500 transition-colors",children:[a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"text-white font-semibold text-xl mb-2 flex items-center gap-3",children:[p.backup_name,a.jsxDEV("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.backup_type==="auto"?"bg-blue-600 text-blue-100":"bg-green-600 text-green-100"}`,children:p.backup_type},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11916,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11914,columnNumber:27},void 0),a.jsxDEV("div",{className:"text-slate-400 text-sm",children:[a.jsxDEV("strong",{children:"Event Date:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11925,columnNumber:29},void 0)," ",p.event_data?.date?new Date(p.event_data.date).toLocaleDateString():"N/A"," ",a.jsxDEV("strong",{children:" Schedule Items:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11926,columnNumber:29},void 0)," ",p.schedule_data?.length||0," ",a.jsxDEV("strong",{children:" Custom Columns:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11927,columnNumber:29},void 0)," ",p.custom_columns_data?.length||0]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11924,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11913,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex space-x-3",children:[a.jsxDEV("button",{onClick:()=>Wu(p),className:"px-6 py-3 bg-green-600 hover:bg-green-500 text-white text-base font-medium rounded-lg transition-colors",title:"Preview and load this backup",children:" Load/Overwrite"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11931,columnNumber:27},void 0),a.jsxDEV("button",{onClick:()=>Sh(p.id),className:"px-5 py-3 bg-red-600 hover:bg-red-500 text-white text-base font-medium rounded-lg transition-colors",title:"Delete this backup",children:" Delete"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11938,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11930,columnNumber:25},void 0)]},p.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11912,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11910,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11904,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11893,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11830,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11829,columnNumber:9},void 0),Hi&&hn&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg p-8 w-full max-w-2xl",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Confirm Backup Restore"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11961,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>na(!1),className:"text-slate-400 hover:text-white text-2xl font-bold",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11962,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11960,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 mb-6",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-4",children:"Backup Details"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11971,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Backup Name:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11974,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-medium",children:hn.backup_name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11975,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11973,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Event:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11978,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-medium",children:hn.event_data?.name||"Unknown"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11979,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11977,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Date:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11982,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-medium",children:new Date(hn.backup_timestamp).toLocaleString()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11983,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11981,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11986,columnNumber:19},void 0),a.jsxDEV("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${hn.backup_type==="auto"?"bg-blue-600 text-blue-100":"bg-green-600 text-green-100"}`,children:hn.backup_type},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11987,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11985,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Schedule Items:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11996,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-medium",children:hn.schedule_data?.length||0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11997,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11995,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-slate-300",children:"Custom Columns:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12e3,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-white font-medium",children:hn.custom_columns_data?.length||0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12001,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11999,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11972,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11970,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-4 mb-6",children:a.jsxDEV("div",{className:"flex items-start",children:[a.jsxDEV("div",{className:"text-yellow-400 text-xl mr-3",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12008,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"text-yellow-200 font-semibold mb-2",children:"Warning"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12010,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-yellow-100 text-sm",children:"This will completely overwrite your current run of show data with the backup data. This action cannot be undone. Make sure you want to proceed."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12011,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12009,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12007,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12006,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex justify-end space-x-4",children:[a.jsxDEV("button",{onClick:()=>na(!1),className:"px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white text-base font-medium rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12020,columnNumber:15},void 0),a.jsxDEV("button",{onClick:Rl,className:"px-6 py-3 bg-green-600 hover:bg-green-500 text-white text-base font-medium rounded-lg transition-colors",children:" Confirm Restore"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12026,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12019,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11959,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:11958,columnNumber:9},void 0),a.jsxDEV(i9,{isOpen:yr,onClose:()=>Sc(!1),onImport:vm,onDeleteAll:Ch},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:12038,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7095,columnNumber:5},void 0):a.jsxDEV("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("h1",{className:"text-2xl font-bold mb-4",children:"No Event Selected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7082,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>s("/"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded",children:"Back to Event List"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7083,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7081,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/RunOfShowPage.tsx",lineNumber:7080,columnNumber:7},void 0)};class l9{constructor(s){this.activeTimers=new Map,this.checkInterval=null,this.syncCallbacks=new Map,this.isRunning=!1,this.config={checkInterval:3e4,maxDriftThreshold:30,forceSyncInterval:3e4,minTimerDuration:0,...s}}startMonitoring(s,t,i,o){if(console.log(` DriftDetector: Starting monitoring for timer ${s}`,{startedAt:t.toISOString(),duration:i,minDuration:this.config.minTimerDuration}),i<this.config.minTimerDuration){console.log(` DriftDetector: Skipping timer ${s} - duration too short (${i}s < ${this.config.minTimerDuration}s)`);return}const u={itemId:s,startedAt:t,duration:i,lastSyncAt:new Date,localElapsed:0,serverElapsed:0};this.activeTimers.set(s,u),this.syncCallbacks.set(s,o),this.isRunning||this.startMonitoringLoop()}stopMonitoring(s){console.log(` DriftDetector: Stopping monitoring for timer ${s}`),this.activeTimers.delete(s),this.syncCallbacks.delete(s),this.activeTimers.size===0&&this.isRunning&&this.stopMonitoringLoop()}updateLocalElapsed(s,t){const i=this.activeTimers.get(s);i&&(i.localElapsed=t)}async forceSync(s,t){const i=this.activeTimers.get(s);if(i)try{const o=await t(),u=Math.abs(o-i.localElapsed);console.log(` DriftDetector: Force sync for timer ${s}`,{localElapsed:i.localElapsed,serverElapsed:o,drift:u.toFixed(2)}),i.serverElapsed=o,i.lastSyncAt=new Date;const c=this.syncCallbacks.get(s);c&&c(o)}catch(o){console.error(` DriftDetector: Error during force sync for timer ${s}:`,o)}}startMonitoringLoop(){this.isRunning||(console.log(" DriftDetector: Starting monitoring loop"),this.isRunning=!0,this.checkInterval=setInterval(()=>{this.checkAllTimers()},this.config.checkInterval))}stopMonitoringLoop(){this.isRunning&&(console.log(" DriftDetector: Stopping monitoring loop"),this.isRunning=!1,this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null))}async checkAllTimers(){const s=new Date,t=[];for(const[i,o]of this.activeTimers)t.push(this.checkTimerDrift(i,o,s));await Promise.all(t)}async checkTimerDrift(s,t,i){try{const o=i.getTime()-t.lastSyncAt.getTime();if(o>=this.config.forceSyncInterval){console.log(` DriftDetector: Force sync needed for timer ${s} (${o}ms since last sync)`);return}const c=Math.floor((i.getTime()-t.startedAt.getTime())/1e3),f=Math.abs(c-t.localElapsed);f>this.config.maxDriftThreshold&&console.log(` DriftDetector: Significant drift detected for timer ${s}`,{localElapsed:t.localElapsed,expectedElapsed:c,drift:f.toFixed(2),threshold:this.config.maxDriftThreshold})}catch(o){console.error(` DriftDetector: Error checking drift for timer ${s}:`,o)}}getConfig(){return{...this.config}}updateConfig(s){this.config={...this.config,...s},console.log(" DriftDetector: Configuration updated",this.config)}getStatus(){const s=new Date;return Array.from(this.activeTimers.entries()).map(([t,i])=>{const o=Math.abs(i.serverElapsed-i.localElapsed),u=s.getTime()-i.lastSyncAt.getTime();return{itemId:t,drift:o,timeSinceLastSync:u}})}getStatusForTimer(s){const t=this.activeTimers.get(s);if(!t)return{itemId:s,drift:0,timeSinceLastSync:0};const i=new Date,o=Math.abs(t.serverElapsed-t.localElapsed),u=i.getTime()-t.lastSyncAt.getTime();return{itemId:s,drift:o,timeSinceLastSync:u}}destroy(){console.log(" DriftDetector: Destroying drift detector"),this.stopMonitoringLoop(),this.activeTimers.clear(),this.syncCallbacks.clear()}}const ul=new l9,ik=({itemId:e,className:s=""})=>{const[t,i]=E.useState(null);if(E.useEffect(()=>{console.log(` DriftStatusIndicator: Starting for itemId ${e}`);const h=()=>{const v=ul.getStatusForTimer(e);console.log(` DriftStatusIndicator: Status for itemId ${e}:`,v),v?(console.log(` DriftStatusIndicator: Found status for itemId ${e}:`,v),i({drift:v.drift,timeSinceLastSync:v.timeSinceLastSync})):(console.log(` DriftStatusIndicator: No status found for itemId ${e}`),i(null))};h();const x=setInterval(h,5e3);return()=>clearInterval(x)},[e]),!t)return console.log(` DriftStatusIndicator: No drift info for itemId ${e}, showing blue dot (starting up)`),a.jsxDEV("div",{className:`drift-status ${s}`,children:a.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-blue-500",title:`Drift detection starting up for timer ${e}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DriftStatusIndicator.tsx",lineNumber:44,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DriftStatusIndicator.tsx",lineNumber:43,columnNumber:7},void 0);const{drift:o,timeSinceLastSync:u}=t,c=o>30,f=u>6e4;return a.jsxDEV("div",{className:`drift-status ${s}`,children:a.jsxDEV("div",{className:`w-2 h-2 rounded-full ${c?"bg-red-500":f?"bg-yellow-500":"bg-green-500"}`,title:`Drift: ${o.toFixed(1)}s, Last sync: ${Math.round(u/1e3)}s ago`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DriftStatusIndicator.tsx",lineNumber:58,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/DriftStatusIndicator.tsx",lineNumber:57,columnNumber:5},void 0)},c9=({isRunning:e=!1,elapsedTime:s=0,totalDuration:t=0,onClose:i,message:o="",messageEnabled:u=!1,itemId:c,eventId:f,supabaseMessage:h=null,mainTimer:x=null,secondaryTimer:v=null,hybridTimerData:b=null,clockOffset:O=0})=>{const[w,C]=E.useState({elapsed:s,total:t}),[S,R]=E.useState(new Date),[X,G]=E.useState(!1),[k,ie]=E.useState(!1),[K,z]=E.useState(!1),[A,ce]=E.useState(null),[T,H]=E.useState(0),[Z,W]=E.useState(null),[M,Ce]=E.useState(null),[De,we]=E.useState(null),[ge,He]=E.useState(null),[ue,ke]=E.useState(new Set);E.useEffect(()=>{v&&console.log(" Secondary timer prop updated:",{secondaryTimer:v,supabaseOnly:K,hasSecondaryTimer:!!v})},[v,K]),E.useEffect(()=>{if(K&&b?.activeTimer){const oe=b.activeTimer;if(oe.is_running&&oe.is_active){const Q=new Date,_=new Date(oe.started_at),J=Math.floor((Q.getTime()-_.getTime())/1e3),L=oe.duration_seconds||0;C({elapsed:J,total:L})}else C({elapsed:0,total:oe.duration_seconds||0})}else if(!K&&b?.activeTimer){const oe=b.activeTimer;if(oe.is_running&&oe.is_active){const Q=new Date,_=new Date(oe.started_at),J=Math.floor((Q.getTime()-_.getTime())/1e3),L=oe.duration_seconds||0;C({elapsed:J,total:L})}else C({elapsed:0,total:oe.duration_seconds||0})}else C({elapsed:s,total:t})},[s,t,K,b]),E.useEffect(()=>{const oe=setInterval(()=>{R(new Date)},1e3);return()=>clearInterval(oe)},[]),E.useEffect(()=>{const oe=()=>{G(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",oe),()=>document.removeEventListener("fullscreenchange",oe)},[]),E.useEffect(()=>{if(!K||!f){if(A&&(clearInterval(A),ce(null)),W(null),Ce(null),we(null),Z){const _=parseInt(Z.split("_")[0]);ul.stopMonitoring(_)}ge&&(clearInterval(ge),He(null)),ke(new Set);return}const oe=async()=>{try{console.log(" Fetching hybrid timer data from Supabase...");const _=await Nt.getHybridTimerData(f);if(setHybridTimerData(_),console.log(" Hybrid timer data updated:",_),_?.secondaryTimer?console.log(" Secondary timer data:",_.secondaryTimer):console.log(" No secondary timer data found"),_?.subCueTimers&&_.subCueTimers.length>0?(console.log(" Sub-cue timers data:",_.subCueTimers),console.log(" First sub-cue timer structure:",_.subCueTimers[0])):console.log(" No sub-cue timers data found"),_?.secondaryTimer&&console.log(" Secondary timer data (from sub-cue fallback):",_.secondaryTimer),_?.activeTimer&&console.log(" Active timer data for CUE display:",{cue_display:_.activeTimer.cue_display,cue:_.activeTimer.cue,item_id:_.activeTimer.item_id,allFields:Object.keys(_.activeTimer),fullData:_.activeTimer}),_?.lastLoadedCue&&console.log(" Last loaded cue data:",{cue:_.lastLoadedCue.cue,cue_display:_.lastLoadedCue.cue_display,segment_name:_.lastLoadedCue.segment_name,allFields:Object.keys(_.lastLoadedCue),fullData:_.lastLoadedCue}),_?.cueData?console.log(" CUE data from schedule/items table:",{allFields:Object.keys(_.cueData),fullData:_.cueData}):console.log(" No CUE data found from schedule/items tables"),_?.activeTimer&&console.log(" Full active timer data structure:",_.activeTimer),_?.activeTimer&&K){const J=`${_.activeTimer.item_id}_${_.activeTimer.started_at}`,L=_.activeTimer.item_id;Z&&Z!==J&&(console.log(" Active timer changed - stopping secondary timer"),console.log(" Previous timer:",Z),console.log(" New timer:",J),setHybridTimerData(q=>({...q,secondaryTimer:null}))),M&&M!==L&&(console.log(" New cue loaded - stopping secondary timer"),console.log(" Previous item_id:",M),console.log(" New item_id:",L),setHybridTimerData(q=>({...q,secondaryTimer:null})));const he=_.activeTimer.started_at;if(De&&De!==he&&(console.log(" Timer start time changed - restarting local timer"),console.log(" Previous start time:",De),console.log(" New start time:",he)),_.activeTimer.is_running&&_.activeTimer.is_active&&_.activeTimer.started_at){const q=new Date(_.activeTimer.started_at),Xe=_.activeTimer.duration_seconds;console.log(` Starting drift detection for timer ${L} with duration ${Xe}s`),ul.stopMonitoring(L),ul.startMonitoring(L,q,Xe,Dt=>{console.log(` DriftDetector: Syncing timer ${L} with server elapsed: ${Dt}s`),ke(St=>new Set(St).add(L))});const Ke=setInterval(async()=>{try{console.log(` DriftDetector: Starting periodic sync for timer ${L}`),await ul.forceSync(L,async()=>{const St=(await Nt.getActiveTimer(f))?.elapsed_seconds||0;return console.log(` DriftDetector: Server returned elapsed: ${St}s for timer ${L}`),St})}catch(Dt){console.warn(` DriftDetector: Failed to sync timer ${L}:`,Dt)}},3e4);He(Ke)}W(J),Ce(L),we(he)}else if(!_?.activeTimer&&Z&&K){if(console.log(" Active timer stopped - stopping secondary timer and drift detection"),setHybridTimerData(J=>({...J,secondaryTimer:null})),Z){const J=parseInt(Z.split("_")[0]);ul.stopMonitoring(J),ke(L=>{const he=new Set(L);return he.delete(J),he})}ge&&(clearInterval(ge),He(null)),W(null),Ce(null),we(null)}}catch(_){console.error(" Error fetching hybrid timer data:",_)}};oe();const Q=setInterval(oe,3e3);return ce(Q),()=>{clearInterval(Q),ce(null)}},[K,f]),E.useEffect(()=>{if(!K&&!b?.secondaryTimer||K&&!b?.secondaryTimer)return;const oe=setInterval(()=>{H(Q=>Q+1)},1e3);return()=>clearInterval(oe)},[K,b?.secondaryTimer]),E.useEffect(()=>{if(!b?.activeTimer)return;const oe=b.activeTimer,Q=oe.item_id;if(oe.is_running&&oe.is_active&&oe.started_at){const _=new Date(oe.started_at),J=oe.duration_seconds;console.log(` Starting continuous local timer for ${Q} with duration ${J}s, start time: ${_.toISOString()}`);const L=setInterval(()=>{const he=new Date,q=Math.floor((he.getTime()-_.getTime())/1e3);C(Xe=>({...Xe,elapsed:q,total:J})),ul.updateLocalElapsed(Q,q),q<=10&&console.log(` Timer ${Q}: Continuous elapsed=${q}s, Start=${_.toISOString()}, Now=${he.toISOString()}`)},1e3);return()=>{console.log(` Stopping continuous local timer for ${Q}`),clearInterval(L)}}},[b?.activeTimer,De]),E.useEffect(()=>()=>{console.log(" Cleaning up drift detector on component unmount"),ul.destroy(),ge&&clearInterval(ge)},[]);const Ue=oe=>{const Q=oe<0,_=Math.abs(oe),J=Math.floor(_/3600),L=Math.floor(_%3600/60),he=Math.floor(_%60),q=Q?"-":"";return J===0?`${q}${L.toString().padStart(2,"0")}:${he.toString().padStart(2,"0")}`:`${q}${J.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}:${he.toString().padStart(2,"0")}`},te=oe=>oe.toLocaleTimeString("en-US",{hour12:!0,hour:"2-digit",minute:"2-digit",second:"2-digit"}),le=()=>{const oe=w,Q=oe.total-oe.elapsed;if(b?.activeTimer){const _=b.activeTimer;if(!_.is_running||!_.is_active)return oe.total}return Q},pe=()=>{const oe=w,Q=oe.total-oe.elapsed;if(b?.activeTimer){const _=b.activeTimer;if(!_.is_running||!_.is_active)return 100}return oe.total>0?Q/oe.total*100:0},de=()=>{const oe=w,Q=oe.total-oe.elapsed;if(b?.activeTimer){const _=b.activeTimer;if(!_.is_running||!_.is_active)return"#6b7280"}return Q>120?"#10b981":Q>30?"#f59e0b":"#ef4444"};return a.jsxDEV("div",{className:"fixed inset-0 bg-black text-white overflow-hidden flex flex-col items-center justify-center",style:{padding:0,margin:0},children:[a.jsxDEV("div",{className:"absolute top-10 left-10 text-3xl font-mono text-white",children:[a.jsxDEV("div",{className:"text-slate-400 text-lg mb-1",children:"CURRENT TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:532,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-white",children:te(S)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:533,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:531,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-10 right-10 text-3xl font-mono text-white z-50 w-80 text-right",children:[a.jsxDEV("div",{className:"text-slate-400 text-lg mb-1",children:"CURRENT CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:540,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-white flex items-center justify-end gap-3 whitespace-nowrap",children:[a.jsxDEV("span",{children:(()=>{if(b?.activeTimer){const oe=b.activeTimer,Q=b?.lastLoadedCue,_=b?.cueData;if(oe.cue_is)return console.log(" Using CUE data from active timer cue_is:",oe.cue_is),oe.cue_is;if(_){console.log(" CUE data structure:",_),console.log(" CUE data fields:",Object.keys(_));const L=_.customFields?.cue||_.cue||_.cue_display||_.name||_.title;if(_.segmentName||_.segment_name||_.segment,L)return console.log(" Found CUE display:",L),L}const J=oe.cue_display||oe.cue;if(oe.segment_name||oe.segmentName,J)return J;if(Q){const L=Q.cue_display||Q.cue;if(Q.segment_name||Q.segmentName,L)return L}return oe.item_id?`CUE ${oe.item_id.toString().slice(-4)}`:"No CUE"}return x?x.cue.includes("CUE")?x.cue.replace(/CUE(\d+)/,"CUE $1"):`CUE ${x.cue}`:"No CUE"})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:542,columnNumber:11},void 0),c&&a.jsxDEV(ik,{itemId:c,className:"flex-shrink-0"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:601,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:541,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:539,columnNumber:7},void 0),!X&&b?.activeTimer&&a.jsxDEV("div",{className:"absolute bottom-10 left-10 text-center",children:a.jsxDEV("div",{className:`text-lg font-bold px-4 py-2 rounded-lg ${b.activeTimer.is_running&&b.activeTimer.is_active?"bg-green-600 text-white":"bg-gray-600 text-white"}`,children:b.activeTimer.is_running&&b.activeTimer.is_active?" TIMER RUNNING":" TIMER STOPPED"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:612,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:611,columnNumber:9},void 0),!X&&a.jsxDEV("div",{className:"absolute top-10 left-1/2 transform -translate-x-1/2 flex gap-3 z-50",children:[a.jsxDEV("button",{onClick:()=>{document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-bold text-lg transition-colors",children:"FULL SCREEN"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:628,columnNumber:9},void 0),!X&&a.jsxDEV("button",{onClick:()=>z(!K),className:`px-4 py-2 rounded-lg font-bold text-lg transition-colors ${K?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:"NEON ONLY"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:639,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:627,columnNumber:9},void 0),(b?.timerMessage?b.timerMessage.enabled:u&&o||h&&h.enabled)&&a.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:"translateY(-40px)"},children:a.jsxDEV("div",{className:"font-bold text-white bg-black bg-opacity-50 rounded-lg border-4 border-white text-center flex items-center justify-center",style:{width:"80vw",minHeight:"50vh",maxHeight:"70vh",lineHeight:"1.2",whiteSpace:"pre-line",overflow:"visible",padding:"30px",display:"flex",alignItems:"center",justifyContent:"center",wordWrap:"break-word"},children:(()=>{const oe=b?.timerMessage?.message||h?.message||o,Q=oe.split(" ");let _;if(Q.length<=3)_=oe;else if(Q.length<=6){const he=Math.ceil(Q.length/2);_=Q.slice(0,he).join(" ")+`
`+Q.slice(he).join(" ")}else if(Q.length<=10){const he=Math.ceil(Q.length/3);_=Q.slice(0,he).join(" ")+`
`+Q.slice(he,he*2).join(" ")+`
`+Q.slice(he*2).join(" ")}else{const he=Math.ceil(Q.length/4);_=Q.slice(0,he).join(" ")+`
`+Q.slice(he,he*2).join(" ")+`
`+Q.slice(he*2,he*3).join(" ")+`
`+Q.slice(he*3).join(" ")}let J;const L=/[gjpqy]/.test(oe.toLowerCase());return Q.length<=3?J=L?"clamp(3rem, 12vw, 16rem)":"clamp(3.5rem, 13.5vw, 18rem)":Q.length<=6?J=L?"clamp(1.9rem, 8vw, 12rem)":"clamp(2.25rem, 9vw, 13.5rem)":Q.length<=10?J=L?"clamp(1.4rem, 6vw, 9rem)":"clamp(1.6rem, 7vw, 10.5rem)":J=L?"clamp(0.9rem, 4vw, 6rem)":"clamp(1.1rem, 5vw, 7rem)",a.jsxDEV("div",{style:{fontSize:J},children:_},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:728,columnNumber:17},void 0)})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:663,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:662,columnNumber:9},void 0),(()=>{const oe=b?.secondaryTimer||v;if(!oe)return!1;if(!oe.is_running)return console.log(" Sub-cue timer not running - hiding"),!1;if(oe.is_running&&oe.is_active){const Q=new Date,_=new Date(oe.started_at||oe.created_at),J=Math.floor((Q.getTime()-_.getTime())/1e3),L=oe.duration_seconds||oe.duration||0;if(Math.max(0,L-J)<=0)return!1}return!0})()&&a.jsxDEV("div",{className:`absolute animate-in fade-in duration-500 ${(b?.timerMessage?b.timerMessage.enabled:u&&o||h&&h.enabled)?"bottom-20 right-1/3 transform translate-x-1/2 flex flex-col items-center":"inset-0 flex flex-col items-center justify-center"}`,style:{marginTop:(b?.timerMessage?b.timerMessage.enabled:u&&o||h&&h.enabled)?"0":"-80px"},children:[a.jsxDEV("div",{className:`absolute left-1/2 transform -translate-x-1/2 text-orange-400 font-bold animate-in slide-in-from-top duration-500 ${b?.timerMessage?b.timerMessage.enabled?"text-lg md:text-xl lg:text-2xl":"text-xl md:text-2xl lg:text-3xl":u&&o||h&&h.enabled?"text-lg md:text-xl lg:text-2xl":"text-xl md:text-2xl lg:text-3xl"} whitespace-nowrap ${(b?.timerMessage?b.timerMessage.enabled:u&&o||h&&h.enabled)?"bottom-20 left-1/2 transform -translate-x-1/2":""}`,style:{lineHeight:"1.2",...b?.timerMessage?b.timerMessage.enabled?{bottom:"calc(5rem - 25px)"}:{top:"calc(50% - 150px)"}:u&&o||h&&h.enabled?{bottom:"calc(5rem - 25px)"}:{top:"calc(50% - 150px)"}},children:(()=>{const oe=b?.secondaryTimer||v;if(!oe)return"";if(K)return(oe.cue_display||oe.cue||oe.cue_is||"").replace(/CUE(\d+)/,"CUE $1");{const Q=oe.cue||"";return Q.includes("CUE")?Q.replace(/CUE(\d+)/,"CUE $1"):`CUE ${Q}`}})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:777,columnNumber:11},void 0),a.jsxDEV("div",{className:`text-orange-400 font-mono font-bold animate-in zoom-in duration-500 ${(()=>{const oe=b?.secondaryTimer||v;if(!oe)return"text-3xl md:text-4xl lg:text-5xl";let Q=0;if(K)if(oe.is_running&&oe.is_active){const J=new Date,L=new Date(oe.started_at||oe.created_at),he=Math.floor((J.getTime()-L.getTime())/1e3),q=oe.duration_seconds||oe.duration||0;Q=Math.max(0,q-he)}else Q=oe.duration_seconds||oe.duration||0;else Q=oe.remaining||0;const _=Math.floor(Q/3600);if(b?.timerMessage){if(b.timerMessage.enabled)return"text-3xl md:text-4xl lg:text-5xl"}else if(u&&o||h&&h.enabled)return"text-3xl md:text-4xl lg:text-5xl";return _===0?"text-[15rem] md:text-[16.875rem] lg:text-[22.5rem]":"text-[12rem] md:text-[13.5rem] lg:text-[18rem]"})()}`,style:{lineHeight:"1"},children:(()=>{const oe=b?.secondaryTimer||v;if(!oe)return"00:00";let Q=0;if(K)if(oe.is_running&&oe.is_active){const he=new Date,q=new Date(oe.started_at||oe.created_at),Xe=Math.floor((he.getTime()-q.getTime())/1e3),Ke=oe.duration_seconds||oe.duration||0;Q=Math.max(0,Ke-Xe)}else Q=oe.duration_seconds||oe.duration||0;else Q=oe.remaining||0;const _=Math.floor(Q/3600),J=Math.floor(Q%3600/60),L=Q%60;return _===0?`${J.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`:`${_.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:815,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:763,columnNumber:9},void 0),(()=>{let oe=!1;if(K){const _=b?.secondaryTimer;if(_)if(_.is_running&&_.is_active){const J=new Date,L=new Date(_.started_at||_.created_at),he=Math.floor((J.getTime()-L.getTime())/1e3),q=_.duration_seconds||_.duration||0;oe=Math.max(0,q-he)>0}else oe=!0}else oe=!!v;const Q=K?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return oe&&Q})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-1/3 transform -translate-x-1/2",children:[le()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:935,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:934,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:de()},children:Ue(le())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:941,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:931,columnNumber:9},void 0),(()=>{let oe=!1;if(K){const _=b?.secondaryTimer;if(_)if(!_.is_running)oe=!1;else if(_.is_running&&_.is_active){const J=new Date,L=new Date(_.started_at||_.created_at),he=Math.floor((J.getTime()-L.getTime())/1e3),q=_.duration_seconds||_.duration||0;oe=Math.max(0,q-he)>0}else oe=!0}else oe=!!v;const Q=K?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return oe&&Q})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${Math.min(100,Math.max(0,le()/(t||1)*100))}%`,backgroundColor:de()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:988,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:987,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:986,columnNumber:9},void 0),(()=>{let oe=!1;if(K){const _=b?.secondaryTimer;if(_)if(!_.is_running)oe=!1;else if(_.is_running&&_.is_active){const J=new Date,L=new Date(_.started_at||_.created_at),he=Math.floor((J.getTime()-L.getTime())/1e3),q=_.duration_seconds||_.duration||0;oe=Math.max(0,q-he)>0}else oe=!0}else oe=!!v;const Q=K?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return!oe&&!Q})()&&a.jsxDEV("div",{className:"flex-1 flex flex-col items-center justify-center",children:[le()<0&&a.jsxDEV("div",{className:"mb-[-50px]",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-5xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1039,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1038,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-center",children:a.jsxDEV("div",{className:`font-mono font-bold ${(()=>{const oe=le();return Math.floor(Math.abs(oe)/3600)===0?"text-[15rem] md:text-[16.875rem] lg:text-[22.5rem]":"text-[12rem] md:text-[13.5rem] lg:text-[18rem]"})()}`,style:{color:de()},children:Ue(le())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1047,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1046,columnNumber:11},void 0),a.jsxDEV("div",{className:"w-full max-w-5xl mt-0",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-8",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${pe()}%`,background:de()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1065,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1064,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1063,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1035,columnNumber:9},void 0),(()=>{let oe=!1;if(K){const _=b?.secondaryTimer;if(_)if(!_.is_running)oe=!1;else if(_.is_running&&_.is_active){const J=new Date,L=new Date(_.started_at||_.created_at),he=Math.floor((J.getTime()-L.getTime())/1e3),q=_.duration_seconds||_.duration||0;oe=Math.max(0,q-he)>0}else oe=!0}else oe=!!v;return(K?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled)&&!oe})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-1/2 transform -translate-x-1/2",children:[le()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1117,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1116,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:de()},children:Ue(le())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1123,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1113,columnNumber:9},void 0),(()=>{let oe=!1;if(K){const _=b?.secondaryTimer;if(_)if(!_.is_running)oe=!1;else if(_.is_running&&_.is_active){const J=new Date,L=new Date(_.started_at||_.created_at),he=Math.floor((J.getTime()-L.getTime())/1e3),q=_.duration_seconds||_.duration||0;oe=Math.max(0,q-he)>0}else oe=!0}else oe=!!v;const Q=K?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return oe&&!Q})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-1/2 transform -translate-x-1/2",children:[le()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1172,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1171,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:de()},children:Ue(le())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1178,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1168,columnNumber:9},void 0),(()=>{let oe=!1;if(K){const _=b?.secondaryTimer;if(_)if(!_.is_running)oe=!1;else if(_.is_running&&_.is_active){const J=new Date,L=new Date(_.started_at||_.created_at),he=Math.floor((J.getTime()-L.getTime())/1e3),q=_.duration_seconds||_.duration||0;oe=Math.max(0,q-he)>0}else oe=!0}else oe=!!v;return(K?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled)&&!oe})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${pe()}%`,background:de()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1225,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1224,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1223,columnNumber:9},void 0),(()=>{let oe=!1;if(K){const _=b?.secondaryTimer;if(_)if(!_.is_running)oe=!1;else if(_.is_running&&_.is_active){const J=new Date,L=new Date(_.started_at||_.created_at),he=Math.floor((J.getTime()-L.getTime())/1e3),q=_.duration_seconds||_.duration||0;oe=Math.max(0,q-he)>0}else oe=!0}else oe=!!v;const Q=K?b?.timerMessage&&b.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return oe&&!Q})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${pe()}%`,background:de()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1274,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1273,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:1272,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/FullScreenTimer.tsx",lineNumber:528,columnNumber:5},void 0)},u9=()=>{const e=Js();Ai();const s=e.state||{},[t,i]=E.useState(s.isRunning||!1),[o,u]=E.useState(s.elapsedTime||0),[c,f]=E.useState(s.totalDuration||0),[h,x]=E.useState(""),[v,b]=E.useState(!1),[O,w]=E.useState(null),[C,S]=E.useState(s.itemId||null),[R,X]=E.useState(s.eventId||null),[G,k]=E.useState(s.mainTimer||null),[ie,K]=E.useState(s.secondaryTimer||null),[z,A]=E.useState(null),[ce,T]=E.useState(0),[H,Z]=E.useState(!1),[W,M]=E.useState(!1),[Ce,De]=E.useState(""),[we,ge]=E.useState(null),[He,ue]=E.useState(!1);E.useEffect(()=>{const pe=de=>{switch(de.key){case"Escape":window.close();break;case" ":de.preventDefault(),i(!t);break;case"r":case"R":(de.ctrlKey||de.metaKey)&&(de.preventDefault(),u(0),i(!1));break;case"+":case"=":(de.ctrlKey||de.metaKey)&&de.preventDefault();break;case"-":(de.ctrlKey||de.metaKey)&&de.preventDefault();break}};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[t]);const ke=async()=>{if(R&&(v||O))try{const de=(await Nt.getTimerMessagesForEvent(R)).find(oe=>oe.enabled);de&&(await Nt.disableTimerMessage(de.id),console.log(" Message disabled in Supabase on close"))}catch(pe){console.error(" Error clearing message on close:",pe)}window.close()};E.useEffect(()=>{if(!R)return;const pe=async()=>{try{const Q=await Nt.getTimerMessage(R);w(Q),console.log(" Loaded timer message from API:",Q)}catch(Q){console.error(" Error loading timer message:",Q)}};pe();const de={onTimerMessageUpdated:Q=>{console.log(" WebSocket: Timer message updated:",Q),Q&&Q.event_id===R&&w(Q)},onTimerUpdated:Q=>{console.log(" FullScreenTimer: Timer updated via WebSocket from RunOfShowPage"),Q&&Q.event_id===R&&(A(_=>({..._,activeTimer:Q})),console.log(" FullScreenTimer: Timer updated via WebSocket:",Q))},onTimerStopped:Q=>{console.log(" FullScreenTimer: Timer stopped via WebSocket from RunOfShowPage"),Q&&Q.event_id===R&&(A(_=>({..._,activeTimer:null})),console.log(" FullScreenTimer: Timer cleared via WebSocket"))},onTimersStopped:Q=>{console.log(" FullScreenTimer: All timers stopped via WebSocket from RunOfShowPage"),Q&&Q.event_id===R&&(A(_=>({..._,activeTimer:null})),console.log(" FullScreenTimer: All timers cleared via WebSocket"))},onSubCueTimerStarted:Q=>{console.log(" FullScreenTimer: Sub-cue timer started via WebSocket from RunOfShowPage"),Q&&Q.event_id===R&&(A(_=>({..._,secondaryTimer:Q})),console.log(" FullScreenTimer: Sub-cue timer started via WebSocket:",Q))},onSubCueTimerStopped:Q=>{console.log(" FullScreenTimer: Sub-cue timer stopped via WebSocket from RunOfShowPage"),Q&&Q.event_id===R&&(A(_=>({..._,secondaryTimer:null})),console.log(" FullScreenTimer: Sub-cue timer stopped via WebSocket"))},onActiveTimersUpdated:Q=>{console.log(" FullScreenTimer: Active timers updated via WebSocket from RunOfShowPage");let _=Q;Array.isArray(Q)&&Q.length>0&&(_=Q[0],console.log(" FullScreenTimer: Processing first timer from array:",_)),_&&_.event_id===R&&(_.timer_state==="stopped"||!_.is_active||_.is_running===!1&&_.is_active===!1?(A(J=>({...J,activeTimer:null})),console.log(" FullScreenTimer: Timer stopped via WebSocket - cleared timer data")):(A(J=>({...J,activeTimer:_})),console.log(" FullScreenTimer: Active timer updated via WebSocket:",_)))},onConnectionChange:Q=>{console.log(" FullScreenTimer: WebSocket connection status:",Q),Q&&pe()},onServerTime:Q=>{const _=new Date(Q.serverTime).getTime(),J=new Date().getTime(),L=_-J;T(L),console.log(" FullScreenTimer: Clock sync:",{serverTime:Q.serverTime,clientTime:new Date().toISOString(),offsetMs:L,offsetSeconds:Math.floor(L/1e3)})}};bt.connect(R,de),He||(Z(!0),ue(!0));const oe=()=>{document.hidden?(console.log(" FullScreenTimer: Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(R)):bt.isConnected()||(console.log(" FullScreenTimer: Tab visible - silently reconnecting WebSocket (no modal)"),bt.connect(R,de),pe())};return document.addEventListener("visibilitychange",oe),()=>{console.log(" Cleaning up FullScreenTimer WebSocket connection"),bt.disconnect(R),document.removeEventListener("visibilitychange",oe),we&&clearTimeout(we)}},[R]),E.useEffect(()=>{const pe=de=>{if(de.data.type==="TIMER_UPDATE"){const{isRunning:oe,elapsedTime:Q,totalDuration:_,eventId:J,itemId:L,mainTimer:he,secondaryTimer:q}=de.data;oe!==void 0&&i(oe),Q!==void 0&&u(Q),_!==void 0&&f(_),J!==void 0&&X(J),L!==void 0&&S(L),he!==void 0&&k(he),q!==void 0&&K(q)}else if(de.data.type==="MESSAGE_UPDATE"){const{message:oe,enabled:Q}=de.data;oe!==void 0&&x(oe),Q!==void 0&&b(Q)}};return window.addEventListener("message",pe),()=>window.removeEventListener("message",pe)},[]);const Ue=(pe,de)=>{const oe=pe*60+de;if(oe===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}we&&clearTimeout(we);const Q=oe*60*1e3,_=setTimeout(()=>{let L="";pe>0&&(L+=`${pe}h `),de>0&&(L+=`${de}m`),console.log(` FullScreenTimerPage: Auto-disconnect timer expired (${L.trim()})`),console.log(" FullScreenTimerPage: Showing disconnect notification..."),De(L.trim()),M(!0),console.log(" FullScreenTimerPage: Notification state set to true"),setTimeout(()=>{R&&(bt.disconnect(R),console.log(" FullScreenTimerPage: WebSocket disconnected"))},100)},Q);ge(_),Z(!1);let J="";pe>0&&(J+=`${pe}h `),de>0&&(J+=`${de}m`),console.log(` FullScreenTimerPage: Disconnect timer set to ${J.trim()}`)},te=()=>{we&&clearTimeout(we),ge(null),Z(!1),console.log(" FullScreenTimerPage: Disconnect timer set to Never")},le=()=>{M(!1),R&&(bt.connect(R,{onTimerMessageUpdated:pe=>{pe&&pe.event_id===R&&w(pe)}}),Z(!0))};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV(c9,{isRunning:t,elapsedTime:o,totalDuration:c,onClose:ke,message:h,messageEnabled:v,itemId:C,eventId:R,supabaseMessage:O,mainTimer:G,secondaryTimer:ie,hybridTimerData:z,clockOffset:ce},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:341,columnNumber:7},void 0),H&&a.jsxDEV(d9,{onConfirm:Ue,onNever:te},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:358,columnNumber:31},void 0),W&&a.jsxDEV(f9,{duration:Ce,onReconnect:le},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:361,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:340,columnNumber:5},void 0)},d9=({onConfirm:e,onNever:s})=>{const[t,i]=E.useState(2),[o,u]=E.useState(0),c=[0,5,10,15,20,25,30],f=Wr.useRef(null),h=Wr.useRef(null);Wr.useEffect(()=>{f.current&&(f.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const x=()=>{if(!f.current)return;const b=Math.round(f.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:395,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:396,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:400,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:402,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:403,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:404,columnNumber:15},void 0),a.jsxDEV("div",{ref:f,onScroll:x,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,O)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===O?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:O},O,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:407,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:405,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:401,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:399,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:413,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:416,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:418,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:419,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:420,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:423,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:421,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:417,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:415,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:398,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:431,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:432,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:430,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:435,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:394,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:393,columnNumber:5},void 0)},f9=({duration:e,onReconnect:s})=>(Wr.useEffect(()=>(console.log(" FullScreenTimer DisconnectNotification mounted:",e),()=>console.log(" FullScreenTimer DisconnectNotification unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:449,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:452,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:454,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:455,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:453,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:457,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:451,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:450,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/FullScreenTimerPage.tsx",lineNumber:448,columnNumber:5},void 0)),m9=({isRunning:e=!1,elapsedTime:s=0,totalDuration:t=0,onClose:i,message:o="",messageEnabled:u=!1,itemId:c,eventId:f,supabaseMessage:h=null,mainTimer:x=null,secondaryTimer:v=null})=>{const[b,O]=E.useState({elapsed:s,total:t}),[w,C]=E.useState(new Date),[S,R]=E.useState(!1),[X,G]=E.useState(!1),[k,ie]=E.useState(!0),[K,z]=E.useState({activeTimer:null}),[A,ce]=E.useState(0),[T,H]=E.useState(null),[Z,W]=E.useState(null),[M,Ce]=E.useState(null),[De,we]=E.useState(null),[ge,He]=E.useState(!1),[ue,ke]=E.useState(0),Ue=()=>new Date(Date.now()+ue),te=_=>{const J=Ue(),L=_ instanceof Date?_:new Date(_);return Math.floor((J.getTime()-L.getTime())/1e3)};E.useEffect(()=>{k||O({elapsed:s,total:t})},[s,t,k]),E.useEffect(()=>{if(console.log(" [CLOCK DEBUG] Timer progress effect triggered",{isRunning:K?.activeTimer?.is_running,isActive:K?.activeTimer?.is_active,startedAt:K?.activeTimer?.started_at,duration:K?.activeTimer?.duration_seconds}),k&&K?.activeTimer?.is_running&&K?.activeTimer?.is_active){const _=K.activeTimer,J=new Date(_.started_at),L=_.duration_seconds||0;console.log(" [CLOCK DEBUG] Setting up local countdown timer",{startedAt:J.toISOString(),total:L});const he=()=>{const Xe=te(J);console.log(" [CLOCK DEBUG] Local countdown update",{elapsed:Xe,total:L,clockOffsetSeconds:Math.floor(ue/1e3)}),O({elapsed:Xe,total:L})};he();const q=setInterval(he,1e3);return()=>{console.log(" [CLOCK DEBUG] Cleaning up countdown interval"),clearInterval(q)}}else if(k&&K?.activeTimer&&!K?.activeTimer?.is_running){const _=K.activeTimer;console.log(" [CLOCK DEBUG] Timer loaded but not running",{duration:_.duration_seconds}),O({elapsed:0,total:_.duration_seconds||0})}else k&&!K?.activeTimer&&(console.log(" [CLOCK DEBUG] No active timer - clearing display"),O({elapsed:0,total:0}))},[K?.activeTimer?.is_running,K?.activeTimer?.is_active,K?.activeTimer?.started_at,K?.activeTimer?.duration_seconds,K?.activeTimer,k,ue]),E.useEffect(()=>{const _=setInterval(()=>{C(new Date)},1e3);return()=>clearInterval(_)},[]),E.useEffect(()=>{const _=()=>{R(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",_),()=>document.removeEventListener("fullscreenchange",_)},[]),E.useEffect(()=>{if(!k||!f){W(null),Ce(null),we(null);return}console.log(" Clock: Setting up WebSocket connection for eventId:",f);const _=async()=>{if(ge){console.log(" Already loading active timer, skipping...");return}try{He(!0),console.log(" Loading active timer from API...");const L=await Nt.getActiveTimer(f);L&&L.timer_state!=="stopped"&&L.is_active?(z(he=>({...he,activeTimer:L})),console.log(" Active timer updated:",L)):(z(he=>({...he,activeTimer:null})),console.log(" No active timer found or timer is stopped"));try{console.log(" Clock: Loading sub-cue timers and messages on initial load...");const he=await Nt.getActiveSubCueTimers(f);if(he&&he.data&&he.data.length>0){const Xe=he.data.find(Ke=>Ke.timer_state==="running"||Ke.is_running===!0);Xe&&(z(Ke=>({...Ke,secondaryTimer:Xe})),console.log(" Clock: Initial load - sub-cue timer loaded:",Xe))}const q=await Nt.getTimerMessage(f);q&&(z(Xe=>({...Xe,timerMessage:q})),console.log(" Clock: Initial load - timer message loaded:",q))}catch(he){console.error(" Clock: Initial load failed to load sub-cue timers and messages:",he)}if(L&&L.timer_state!=="stopped"&&L.is_active&&k){const he=`${L.item_id}_${L.started_at}`,q=L.item_id;Z&&Z!==he&&(console.log(" Active timer changed - stopping secondary timer"),console.log(" Previous timer:",Z),console.log(" New timer:",he),z(Ke=>({...Ke,secondaryTimer:null}))),M&&M!==q&&(console.log(" New cue loaded - stopping secondary timer"),console.log(" Previous item_id:",M),console.log(" New item_id:",q),z(Ke=>({...Ke,secondaryTimer:null})));const Xe=L.started_at;De&&De!==Xe&&(console.log(" Timer start time changed - restarting local timer"),console.log(" Previous start time:",De),console.log(" New start time:",Xe)),W(he),Ce(q),we(Xe)}else!L&&Z&&k&&(console.log(" Active timer stopped - stopping secondary timer and drift detection"),z(he=>({...he,secondaryTimer:null})),W(null),Ce(null),we(null))}catch(L){console.error(" Error loading active timer:",L)}finally{He(!1)}};_();const J={onServerTime:L=>{const he=new Date(L.serverTime).getTime(),q=new Date().getTime(),Xe=he-q;ke(Xe),console.log(" Clock: Clock sync:",{serverTime:L.serverTime,clientTime:new Date().toISOString(),offsetMs:Xe,offsetSeconds:Math.floor(Xe/1e3)})},onTimerUpdated:L=>{console.log(" [CLOCK DEBUG] ===== WebSocket onTimerUpdated ====="),console.log(" [CLOCK DEBUG] Received data:",L),console.log(" [CLOCK DEBUG] Event ID check:",{received:L?.event_id,expected:f,match:L?.event_id===f}),console.log(" [CLOCK DEBUG] Timer state:",L?.timer_state),console.log(" [CLOCK DEBUG] Is running:",L?.is_running),console.log(" [CLOCK DEBUG] Started at:",L?.started_at),console.log(" [CLOCK DEBUG] Duration:",L?.duration_seconds),L&&L.event_id===f?(console.log(" [CLOCK DEBUG] Updating hybridTimerData with WebSocket data"),z(he=>{console.log(" [CLOCK DEBUG] Previous hybridTimerData:",he);const q={...he,activeTimer:L};return console.log(" [CLOCK DEBUG] New hybridTimerData:",q),q}),console.log(" Clock: Timer updated via WebSocket")):console.log(" Clock: Timer update ignored - event ID mismatch or no data")},onActiveTimersUpdated:L=>{console.log(" [CLOCK DEBUG] ===== WebSocket onActiveTimersUpdated ====="),console.log(" [CLOCK DEBUG] Raw data received:",L);let he=L;Array.isArray(L)&&L.length>0&&(he=L[0],console.log(" [CLOCK DEBUG] Extracted first timer from array:",he)),console.log(" [CLOCK DEBUG] Event ID check:",{received:he?.event_id,expected:f,match:he?.event_id===f}),console.log(" [CLOCK DEBUG] Timer state:",he?.timer_state),console.log(" [CLOCK DEBUG] Is active:",he?.is_active),console.log(" [CLOCK DEBUG] Is running:",he?.is_running),he&&he.event_id===f?he.timer_state==="stopped"||!he.is_active?(console.log(" [CLOCK DEBUG] Timer is stopped - clearing timer data"),z(q=>({...q,activeTimer:null})),console.log(" Clock: Timer stopped via WebSocket - cleared timer data")):(console.log(" [CLOCK DEBUG] Timer is active - updating hybridTimerData"),z(q=>({...q,activeTimer:he})),console.log(" Clock: Active timer updated via WebSocket")):console.log(" Clock: Active timers update ignored - event ID mismatch or no data")},onTimerStopped:L=>{console.log(" Clock: WebSocket timer stopped:",L),L&&L.event_id===f&&(z(he=>({...he,activeTimer:null})),console.log(" Clock: Timer cleared via WebSocket"))},onTimersStopped:L=>{console.log(" Clock: WebSocket all timers stopped:",L),L&&L.event_id===f&&(z(he=>({...he,activeTimer:null})),console.log(" Clock: All timers cleared via WebSocket"))},onSubCueTimerStarted:L=>{console.log(" Clock: WebSocket sub-cue timer started:",L),L&&L.event_id===f&&(z(he=>({...he,secondaryTimer:L})),console.log(" Clock: Sub-cue timer started via WebSocket:",L))},onSubCueTimerStopped:L=>{console.log(" Clock: WebSocket sub-cue timer stopped:",L),L&&L.event_id===f&&(z(he=>({...he,secondaryTimer:null})),console.log(" Clock: Sub-cue timer stopped via WebSocket"))},onTimerMessageUpdated:L=>{console.log(" Clock: WebSocket timer message updated:",L),L&&L.event_id===f&&(z(he=>({...he,timerMessage:L})),console.log(" Clock: Timer message updated via WebSocket:",L))},onInitialSync:async()=>{console.log(" Clock: Performing initial sync for sub-cue timers and messages");try{const L=await Nt.getActiveSubCueTimers(f);if(L&&L.data&&L.data.length>0){const q=L.data.find(Xe=>Xe.timer_state==="running"||Xe.is_running===!0);q&&(z(Xe=>({...Xe,secondaryTimer:q})),console.log(" Clock: Initial sync - sub-cue timer loaded:",q))}const he=await Nt.getTimerMessage(f);he&&(z(q=>({...q,timerMessage:he})),console.log(" Clock: Initial sync - timer message loaded:",he))}catch(L){console.error(" Clock: Initial sync failed to load sub-cue timers and messages:",L)}},onConnectionChange:L=>{console.log(" Clock: WebSocket connection status:",L),L&&_()}};return bt.connect(f,J),()=>{console.log(" Clock: Cleaning up WebSocket connection"),bt.disconnect(f)}},[f]),E.useEffect(()=>{if(!k||!K?.secondaryTimer)return;const _=setInterval(()=>{ce(J=>J+1)},1e3);return()=>clearInterval(_)},[k,K?.secondaryTimer]);const le=_=>{const J=_<0,L=Math.abs(_),he=Math.floor(L/3600),q=Math.floor(L%3600/60),Xe=Math.floor(L%60),Ke=J?"-":"";return he===0?`${Ke}${q.toString().padStart(2,"0")}:${Xe.toString().padStart(2,"0")}`:`${Ke}${he.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}:${Xe.toString().padStart(2,"0")}`},pe=_=>_.toLocaleTimeString("en-US",{hour12:!0,hour:"2-digit",minute:"2-digit",second:"2-digit"}),de=()=>{const _=b,J=_.total-_.elapsed;if(k&&K?.activeTimer){const L=K.activeTimer;if(!L.is_running||!L.is_active)return _.total}return J},oe=()=>{const _=b,J=_.total-_.elapsed;if(k&&K?.activeTimer){const L=K.activeTimer;if(!L.is_running||!L.is_active)return 100}return _.total>0?J/_.total*100:0},Q=()=>{const _=b,J=_.total-_.elapsed;if(k&&K?.activeTimer){const L=K.activeTimer;if(!L.is_running||!L.is_active)return"#6b7280"}return J>120?"#10b981":J>30?"#f59e0b":"#ef4444"};return a.jsxDEV("div",{className:"fixed inset-0 bg-black text-white overflow-hidden flex flex-col items-center justify-center",style:{padding:0,margin:0},children:[a.jsxDEV("div",{className:"absolute top-10 left-10 text-3xl font-mono text-white",children:[a.jsxDEV("div",{className:"text-slate-400 text-lg mb-1",children:"CURRENT TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:599,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-white",children:pe(w)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:600,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:598,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-10 right-10 text-3xl font-mono text-white z-50 w-80 text-right",children:[a.jsxDEV("div",{className:"text-slate-400 text-lg mb-1",children:"CURRENT CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:607,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-white flex items-center justify-end gap-3 whitespace-nowrap",children:[a.jsxDEV("span",{children:(()=>{if(k)if(K?.activeTimer){const _=K.activeTimer,J=K?.lastLoadedCue,L=K?.cueData;if(_.cue_is)return _.cue_is;if(L){console.log(" CUE data structure:",L),console.log(" CUE data fields:",Object.keys(L));const q=L.customFields?.cue||L.cue||L.cue_display||L.name||L.title;if(L.segmentName||L.segment_name||L.segment,q)return console.log(" Found CUE display:",q),q}const he=_.cue_display||_.cue;if(_.segment_name||_.segmentName,he)return he;if(J){const q=J.cue_display||J.cue;if(J.segment_name||J.segmentName,q)return q}return _.item_id?`CUE ${_.item_id.toString().slice(-4)}`:"No CUE"}else return"No Cue";else return"No CUE"})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:609,columnNumber:11},void 0),c&&a.jsxDEV(ik,{itemId:c,className:"flex-shrink-0"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:674,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:608,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:606,columnNumber:7},void 0),!S&&k&&K?.activeTimer&&a.jsxDEV("div",{className:"absolute bottom-10 left-10 text-center",children:a.jsxDEV("div",{className:`text-lg font-bold px-4 py-2 rounded-lg ${K.activeTimer.is_running&&K.activeTimer.is_active?"bg-green-600 text-white":"bg-gray-600 text-white"}`,children:K.activeTimer.is_running&&K.activeTimer.is_active?" TIMER RUNNING":" TIMER LOADED"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:685,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:684,columnNumber:9},void 0),!S&&a.jsxDEV("div",{className:"absolute top-10 left-1/2 transform -translate-x-1/2 flex gap-3 z-50",children:[a.jsxDEV("button",{onClick:()=>{document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-bold text-lg transition-colors",children:"FULL SCREEN"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:701,columnNumber:9},void 0),!S&&a.jsxDEV("button",{className:"px-4 py-2 rounded-lg font-bold text-lg bg-purple-600 text-white cursor-default",disabled:!0,children:"WEBSOCKET ONLY"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:712,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:700,columnNumber:9},void 0),(()=>{if(k){const _=K?.timerMessage||h;return _&&_.enabled}return u&&o||h&&h.enabled})()&&a.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:"translateY(-40px)"},children:a.jsxDEV("div",{className:"font-bold text-white bg-black bg-opacity-50 rounded-lg border-4 border-white text-center flex items-center justify-center",style:{width:"80vw",minHeight:"50vh",maxHeight:"70vh",lineHeight:"1.2",whiteSpace:"pre-line",overflow:"visible",padding:"30px",display:"flex",alignItems:"center",justifyContent:"center",wordWrap:"break-word"},children:(()=>{const _=k?K?.timerMessage?.message||h?.message||"":h?.message||o,J=_.split(" ");let L;if(J.length<=3)L=_;else if(J.length<=6){const Xe=Math.ceil(J.length/2);L=J.slice(0,Xe).join(" ")+`
`+J.slice(Xe).join(" ")}else if(J.length<=10){const Xe=Math.ceil(J.length/3);L=J.slice(0,Xe).join(" ")+`
`+J.slice(Xe,Xe*2).join(" ")+`
`+J.slice(Xe*2).join(" ")}else{const Xe=Math.ceil(J.length/4);L=J.slice(0,Xe).join(" ")+`
`+J.slice(Xe,Xe*2).join(" ")+`
`+J.slice(Xe*2,Xe*3).join(" ")+`
`+J.slice(Xe*3).join(" ")}let he;const q=/[gjpqy]/.test(_.toLowerCase());return J.length<=3?he=q?"clamp(3rem, 12vw, 16rem)":"clamp(3.5rem, 13.5vw, 18rem)":J.length<=6?he=q?"clamp(1.9rem, 8vw, 12rem)":"clamp(2.25rem, 9vw, 13.5rem)":J.length<=10?he=q?"clamp(1.4rem, 6vw, 9rem)":"clamp(1.6rem, 7vw, 10.5rem)":he=q?"clamp(0.9rem, 4vw, 6rem)":"clamp(1.1rem, 5vw, 7rem)",a.jsxDEV("div",{style:{fontSize:he},children:L},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:803,columnNumber:17},void 0)})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:735,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:734,columnNumber:9},void 0),(()=>{if(k){const _=K?.secondaryTimer;if(!_||K?.timerMessage&&K.timerMessage.enabled||h&&h.enabled)return!1;if(console.log(" Clock: Secondary timer data:",{is_running:_.is_running,is_active:_.is_active,remaining_seconds:_.remaining_seconds,duration_seconds:_.duration_seconds}),!_.is_running)return console.log(" Sub-cue timer not running - hiding"),!1;if(_.is_running&&_.is_active){const L=new Date,he=new Date(_.started_at||_.created_at),q=Math.floor((L.getTime()-he.getTime())/1e3),Xe=_.duration_seconds||_.duration||0;if(Math.max(0,Xe-q)<=0)return!1}return!0}else return!1})()&&a.jsxDEV("div",{className:`absolute animate-in fade-in duration-500 ${(k?h&&h.enabled:u&&o||h&&h.enabled)?"bottom-20 right-1/3 transform translate-x-1/2 flex flex-col items-center":"inset-0 flex flex-col items-center justify-center"}`,style:{marginTop:(k?h&&h.enabled:u&&o||h&&h.enabled)?"0":"-80px"},children:[a.jsxDEV("div",{className:`absolute left-1/2 transform -translate-x-1/2 text-orange-400 font-bold animate-in slide-in-from-top duration-500 ${k?h&&h.enabled?"text-lg md:text-xl lg:text-2xl":"text-xl md:text-2xl lg:text-3xl":u&&o||h&&h.enabled?"text-lg md:text-xl lg:text-2xl":"text-xl md:text-2xl lg:text-3xl"} whitespace-nowrap ${(k?h&&h.enabled:u&&o||h&&h.enabled)?"bottom-20 left-1/2 transform -translate-x-1/2":""}`,style:{lineHeight:"1.2",...k?h&&h.enabled?{bottom:"calc(5rem - 25px)"}:{top:"calc(50% - 150px)"}:u&&o||h&&h.enabled?{bottom:"calc(5rem - 25px)"}:{top:"calc(50% - 150px)"}},children:(()=>{const _=k?K?.secondaryTimer:v;if(!_)return"";if(k){const J=_.cue_display||_.cue||_.cue_is||"",L=_.segment_name||_.segmentName||"",he=J.replace(/CUE(\d+)/,"CUE $1");return L?`${he} - ${L}`:he}else return"No CUE"})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:870,columnNumber:11},void 0),a.jsxDEV("div",{className:`text-orange-400 font-mono font-bold animate-in zoom-in duration-500 ${(()=>{const _=k?K?.secondaryTimer:v;if(!_)return"text-3xl md:text-4xl lg:text-5xl";let J=0;if(k)if(_.is_running&&_.is_active){const he=new Date,q=new Date(_.started_at||_.created_at),Xe=Math.floor((he.getTime()-q.getTime())/1e3),Ke=_.duration_seconds||_.duration||0;J=Math.max(0,Ke-Xe)}else J=_.duration_seconds||_.duration||0;else J=_.remaining||0;const L=Math.floor(J/3600);if(k){const he=K?.timerMessage||h;if(he&&he.enabled)return"text-3xl md:text-4xl lg:text-5xl"}else if(u&&o||h&&h.enabled)return"text-3xl md:text-4xl lg:text-5xl";return L===0?"text-[15rem] md:text-[16.875rem] lg:text-[22.5rem]":"text-[12rem] md:text-[13.5rem] lg:text-[18rem]"})()}`,style:{lineHeight:"1"},children:(()=>{const _=k?K?.secondaryTimer:v;if(!_)return"00:00";let J=0;if(k)if(_.is_running&&_.is_active){const Xe=new Date,Ke=new Date(_.started_at||_.created_at),Dt=Math.floor((Xe.getTime()-Ke.getTime())/1e3),St=_.duration_seconds||_.duration||0;J=Math.max(0,St-Dt)}else J=_.duration_seconds||_.duration||0;else J=0;const L=Math.floor(J/3600),he=Math.floor(J%3600/60),q=J%60;return L===0?`${he.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`:`${L.toString().padStart(2,"0")}:${he.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:910,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:854,columnNumber:9},void 0),(()=>{let _=!1;if(k){const L=K?.secondaryTimer;if(L)if(L.is_running&&L.is_active){const he=te(L.started_at||L.created_at),q=L.duration_seconds||L.duration||0;_=Math.max(0,q-he)>0}else _=!0}else _=!!v;const J=k?K?.timerMessage&&K.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return _&&J})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-10",children:[de()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1032,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1031,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:Q()},children:le(de())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1038,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1028,columnNumber:9},void 0),(()=>{let _=!1;if(k){const L=K?.secondaryTimer;if(L)if(L.is_running&&L.is_active){const he=te(L.started_at||L.created_at),q=L.duration_seconds||L.duration||0;_=Math.max(0,q-he)>0}else _=!0}else _=!!v;const J=k?K?.timerMessage&&K.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return _&&J})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 right-10 text-orange-400",children:[a.jsxDEV("div",{className:"text-lg mb-2 font-bold",children:(()=>{const _=K?.secondaryTimer,J=_.cue_display||_.cue||`CUE ${_.item_id}`,L=_.segment_name||_.segmentName||"Segment";return`${J} - ${L}`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1078,columnNumber:11},void 0),a.jsxDEV("div",{className:"font-mono text-3xl font-bold",children:(()=>{const _=K?.secondaryTimer,J=te(_.started_at||_.created_at),L=_.duration_seconds||_.duration||0,he=Math.max(0,L-J),q=Math.floor(he/3600),Xe=Math.floor(he%3600/60),Ke=he%60;return q>0?`${q.toString().padStart(2,"0")}:${Xe.toString().padStart(2,"0")}:${Ke.toString().padStart(2,"0")}`:`${Xe.toString().padStart(2,"0")}:${Ke.toString().padStart(2,"0")}`})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1088,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1076,columnNumber:9},void 0),(()=>{let _=!1;if(k){const L=K?.secondaryTimer;if(L)if(!L.is_running)_=!1;else if(L.is_running&&L.is_active){const he=new Date,q=new Date(L.started_at||L.created_at),Xe=Math.floor((he.getTime()-q.getTime())/1e3),Ke=L.duration_seconds||L.duration||0;_=Math.max(0,Ke-Xe)>0}else _=!0}else _=!!v;const J=k?K?.timerMessage&&K.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return _&&J})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${Math.min(100,Math.max(0,de()/(t||1)*100))}%`,backgroundColor:Q()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1147,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1146,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1145,columnNumber:9},void 0),(()=>{let _=!1;if(k){const L=K?.secondaryTimer;if(L)if(!L.is_running)_=!1;else if(L.is_running&&L.is_active){const he=new Date,q=new Date(L.started_at||L.created_at),Xe=Math.floor((he.getTime()-q.getTime())/1e3),Ke=L.duration_seconds||L.duration||0;_=Math.max(0,Ke-Xe)>0}else _=!0}else _=!!v;const J=k?K?.timerMessage&&K.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return!_&&!J})()&&a.jsxDEV("div",{className:"flex-1 flex flex-col items-center justify-center",children:[de()<0&&a.jsxDEV("div",{className:"mb-[-50px]",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-5xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1198,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1197,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-center",children:a.jsxDEV("div",{className:`font-mono font-bold ${(()=>{const _=de();return Math.floor(Math.abs(_)/3600)===0?"text-[15rem] md:text-[16.875rem] lg:text-[22.5rem]":"text-[12rem] md:text-[13.5rem] lg:text-[18rem]"})()}`,style:{color:Q()},children:le(de())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1206,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1205,columnNumber:11},void 0),a.jsxDEV("div",{className:"w-full max-w-5xl mt-0",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-8",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${oe()}%`,background:Q()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1224,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1223,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1222,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1194,columnNumber:9},void 0),(()=>{let _=!1;if(k){const L=K?.secondaryTimer;if(L)if(!L.is_running)_=!1;else if(L.is_running&&L.is_active){const he=new Date,q=new Date(L.started_at||L.created_at),Xe=Math.floor((he.getTime()-q.getTime())/1e3),Ke=L.duration_seconds||L.duration||0;_=Math.max(0,Ke-Xe)>0}else _=!0}else _=!!v;return(k?K?.timerMessage&&K.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled)&&!_})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-1/2 transform -translate-x-1/2",children:[de()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1276,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1275,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:Q()},children:le(de())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1282,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1272,columnNumber:9},void 0),(()=>{let _=!1;if(k){const L=K?.secondaryTimer;if(L)if(!L.is_running)_=!1;else if(L.is_running&&L.is_active){const he=new Date,q=new Date(L.started_at||L.created_at),Xe=Math.floor((he.getTime()-q.getTime())/1e3),Ke=L.duration_seconds||L.duration||0;_=Math.max(0,Ke-Xe)>0}else _=!0}else _=!!v;const J=k?K?.timerMessage&&K.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return _&&!J})()&&a.jsxDEV("div",{className:"text-center transition-all duration-500 ease-in-out absolute bottom-20 left-1/2 transform -translate-x-1/2",children:[de()<0&&a.jsxDEV("div",{className:"mb-2",children:a.jsxDEV("div",{className:"font-bold text-red-500 text-lg md:text-xl lg:text-2xl",children:"OVER TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1331,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1330,columnNumber:13},void 0),a.jsxDEV("div",{className:"font-mono font-bold transition-all duration-500 ease-in-out text-3xl md:text-4xl lg:text-5xl",style:{color:Q()},children:le(de())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1337,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1327,columnNumber:9},void 0),(()=>{let _=!1;if(k){const L=K?.secondaryTimer;if(L)if(!L.is_running)_=!1;else if(L.is_running&&L.is_active){const he=new Date,q=new Date(L.started_at||L.created_at),Xe=Math.floor((he.getTime()-q.getTime())/1e3),Ke=L.duration_seconds||L.duration||0;_=Math.max(0,Ke-Xe)>0}else _=!0}else _=!!v;return(k?K?.timerMessage&&K.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled)&&!_})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${oe()}%`,background:Q()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1384,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1383,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1382,columnNumber:9},void 0),(()=>{let _=!1;if(k){const L=K?.secondaryTimer;if(L)if(!L.is_running)_=!1;else if(L.is_running&&L.is_active){const he=new Date,q=new Date(L.started_at||L.created_at),Xe=Math.floor((he.getTime()-q.getTime())/1e3),Ke=L.duration_seconds||L.duration||0;_=Math.max(0,Ke-Xe)>0}else _=!0}else _=!!v;const J=k?K?.timerMessage&&K.timerMessage.enabled||h&&h.enabled:u&&o||h&&h.enabled;return _&&!J})()&&a.jsxDEV("div",{className:"w-full transition-all duration-500 ease-in-out absolute bottom-8 left-1/2 transform -translate-x-1/2 max-w-2xl",children:a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border-3 border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${oe()}%`,background:Q()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1433,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1432,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:1431,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/components/Clock.tsx",lineNumber:595,columnNumber:5},void 0)},p9=()=>{const e=Js();Ai();const[s]=No(),t=s.get("eventId"),i=e.state||{},[o,u]=E.useState(""),[c,f]=E.useState(!1),[h,x]=E.useState(null),[v,b]=E.useState(t||i.eventId||null),[O,w]=E.useState(!1),[C,S]=E.useState(!1),[R,X]=E.useState(""),[G,k]=E.useState(null),[ie,K]=E.useState(!1);E.useEffect(()=>{const H=Z=>{switch(Z.key){case"Escape":window.close();break;case"+":case"=":(Z.ctrlKey||Z.metaKey)&&Z.preventDefault();break;case"-":(Z.ctrlKey||Z.metaKey)&&Z.preventDefault();break}};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[]);const z=async()=>{if(v&&(c||h))try{const Z=(await Nt.getTimerMessagesForEvent(v)).find(W=>W.enabled);Z&&(await Nt.disableTimerMessage(Z.id),console.log(" Message disabled in Supabase on close"))}catch(H){console.error(" Error clearing message on close:",H)}window.close()};E.useEffect(()=>{if(!v)return;const H=async()=>{try{const M=await Nt.getTimerMessage(v);x(M),console.log(" Loaded timer message from API:",M)}catch(M){console.error(" Error loading timer message:",M)}};H();const Z={onTimerMessageUpdated:M=>{console.log(" WebSocket: Timer message updated:",M),M&&M.event_id===v&&x(M)},onConnectionChange:M=>{console.log(" ClockPage: WebSocket connection status:",M),M&&H()}};bt.connect(v,Z),ie||(w(!0),K(!0));const W=()=>{document.hidden?(console.log(" ClockPage: Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(v)):bt.isConnected()||(console.log(" ClockPage: Tab visible - silently reconnecting WebSocket (no modal)"),bt.connect(v,Z),H())};return document.addEventListener("visibilitychange",W),()=>{console.log(" Cleaning up ClockPage WebSocket connection"),bt.disconnect(v),document.removeEventListener("visibilitychange",W),G&&clearTimeout(G)}},[v]);const A=(H,Z)=>{const W=H*60+Z;if(W===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}G&&clearTimeout(G);const M=W*60*1e3,Ce=setTimeout(()=>{let we="";H>0&&(we+=`${H}h `),Z>0&&(we+=`${Z}m`),console.log(` ClockPage: Auto-disconnect timer expired (${we.trim()})`),console.log(" ClockPage: Showing disconnect notification..."),X(we.trim()),S(!0),console.log(" ClockPage: Notification state set to true"),setTimeout(()=>{v&&(bt.disconnect(v),console.log(" ClockPage: WebSocket disconnected"))},100)},M);k(Ce),w(!1);let De="";H>0&&(De+=`${H}h `),Z>0&&(De+=`${Z}m`),console.log(` ClockPage: Disconnect timer set to ${De.trim()}`)},ce=()=>{G&&clearTimeout(G),k(null),w(!1),console.log(" ClockPage: Disconnect timer set to Never")},T=()=>{S(!1),v&&(bt.connect(v,{onTimerMessageUpdated:H=>{H&&H.event_id===v&&x(H)}}),w(!0))};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV(m9,{onClose:z,message:o,messageEnabled:c,eventId:v,supabaseMessage:h},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:246,columnNumber:7},void 0),O&&a.jsxDEV(h9,{onConfirm:A,onNever:ce},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:255,columnNumber:31},void 0),C&&a.jsxDEV(v9,{duration:R,onReconnect:T},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:258,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:245,columnNumber:5},void 0)},h9=({onConfirm:e,onNever:s})=>{const[t,i]=E.useState(2),[o,u]=E.useState(0),c=[0,5,10,15,20,25,30],f=Wr.useRef(null),h=Wr.useRef(null);Wr.useEffect(()=>{f.current&&(f.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const x=()=>{if(!f.current)return;const b=Math.round(f.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:299,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:300,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:305,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:308,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:310,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:311,columnNumber:15},void 0),a.jsxDEV("div",{ref:f,onScroll:x,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,O)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===O?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:O},O,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:320,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:313,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:306,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:304,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:333,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:337,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:340,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:342,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:343,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:352,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:345,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:338,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:336,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:302,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:367,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:373,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:366,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:381,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:298,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:297,columnNumber:5},void 0)},v9=({duration:e,onReconnect:s})=>(Wr.useEffect(()=>(console.log(" DisconnectNotification component mounted with duration:",e),()=>console.log(" DisconnectNotification component unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:396,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:399,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:401,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:402,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:400,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:404,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:398,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:397,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ClockPage.tsx",lineNumber:395,columnNumber:5},void 0)),g9=()=>{const[e]=No(),s=e.get("eventId"),[t,i]=E.useState([]),[o,u]=E.useState(!0),[c,f]=E.useState(null),[h,x]=E.useState(null),[v,b]=E.useState("preview"),O=()=>window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com")||window.location.hostname!=="localhost",w=()=>O()?`${window.location.origin}/.netlify/functions`:"http://localhost:3002/api",C=async T=>{try{await navigator.clipboard.writeText(T),console.log("Copied to clipboard:",T)}catch(H){console.error("Failed to copy to clipboard:",H);const Z=document.createElement("textarea");Z.value=T,document.body.appendChild(Z),Z.select(),document.execCommand("copy"),document.body.removeChild(Z)}},[S,R]=E.useState(10),X=T=>{const H='<?xml version="1.0" encoding="UTF-8"?>',Z=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <lower_thirds>
    ${T.map(W=>{const M=new Array(21).fill("");return W.speakers&&W.speakers.length>0&&W.speakers.forEach((Ce,De)=>{if(De<7){const we=De*3;M[we]=Ce.title||"",M[we+1]=Ce.subtitle||"",M[we+2]=Ce.photo||""}}),`
    <item>
      <id>${W.id}</id>
      <row>${T.indexOf(W)+1}</row>
      <cue><![CDATA[${W.cue||""}]]></cue>
      <program><![CDATA[${W.program||""}]]></program>
      <segment_name><![CDATA[${W.segmentName||""}]]></segment_name>
      <speaker_1_name><![CDATA[${M[0]}]]></speaker_1_name>
      <speaker_1_title_org><![CDATA[${M[1]}]]></speaker_1_title_org>
      <speaker_1_photo><![CDATA[${M[2]}]]></speaker_1_photo>
      <speaker_2_name><![CDATA[${M[3]}]]></speaker_2_name>
      <speaker_2_title_org><![CDATA[${M[4]}]]></speaker_2_title_org>
      <speaker_2_photo><![CDATA[${M[5]}]]></speaker_2_photo>
      <speaker_3_name><![CDATA[${M[6]}]]></speaker_3_name>
      <speaker_3_title_org><![CDATA[${M[7]}]]></speaker_3_title_org>
      <speaker_3_photo><![CDATA[${M[8]}]]></speaker_3_photo>
      <speaker_4_name><![CDATA[${M[9]}]]></speaker_4_name>
      <speaker_4_title_org><![CDATA[${M[10]}]]></speaker_4_title_org>
      <speaker_4_photo><![CDATA[${M[11]}]]></speaker_4_photo>
      <speaker_5_name><![CDATA[${M[12]}]]></speaker_5_name>
      <speaker_5_title_org><![CDATA[${M[13]}]]></speaker_5_title_org>
      <speaker_5_photo><![CDATA[${M[14]}]]></speaker_5_photo>
      <speaker_6_name><![CDATA[${M[15]}]]></speaker_6_name>
      <speaker_6_title_org><![CDATA[${M[16]}]]></speaker_6_title_org>
      <speaker_6_photo><![CDATA[${M[17]}]]></speaker_6_photo>
      <speaker_7_name><![CDATA[${M[18]}]]></speaker_7_name>
      <speaker_7_title_org><![CDATA[${M[19]}]]></speaker_7_title_org>
      <speaker_7_photo><![CDATA[${M[20]}]]></speaker_7_photo>
    </item>`}).join("")}
  </lower_thirds>
</data>`;return H+Z},G=async()=>{try{if(u(!0),f(null),!s)throw new Error("Event ID is required");console.log(" Fetching lower thirds data for event:",s);const T=await Nt.getRunOfShowData(s);if(!T||!T.schedule_items){i([]),x(new Date);return}const H=T.schedule_items,Z=[];H.forEach((W,M)=>{const Ce={id:`${W.id}-row`,title:"",subtitle:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),segmentName:W.segmentName||"",cue:W.customFields?.cue||"",program:W.programType||"",speakers:[]};if(W.speakersText&&W.speakersText.trim())try{const we=JSON.parse(W.speakersText).sort((ge,He)=>ge.slot-He.slot);Ce.speakers=we.map(ge=>({title:ge.fullName||"",subtitle:ge.title&&ge.org?`${ge.title}
${ge.org}`:ge.title||ge.org||"",photo:ge.photoLink||""}))}catch(De){console.log("Error parsing speakers JSON for item:",W.id,De)}Z.push(Ce)}),i(Z),x(new Date)}catch(T){console.error("Error fetching lower thirds:",T),f(T instanceof Error?T.message:"Unknown error occurred")}finally{u(!1)}};E.useEffect(()=>{if(!s){console.log(" No event ID, skipping WebSocket connection");return}console.log(" Setting up WebSocket connection for Lower Thirds XML page"),G();const T={onRunOfShowDataUpdated:Z=>{if(console.log(" Lower Thirds XML: WebSocket data update received:",Z),Z&&Z.schedule_items){const W=Z.schedule_items,M=[];W.forEach((Ce,De)=>{const we={id:`${Ce.id}-row`,title:"",subtitle:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),segmentName:Ce.segmentName||"",cue:Ce.customFields?.cue||"",program:Ce.programType||"",speakers:[]};if(Ce.speakersText&&Ce.speakersText.trim())try{const He=JSON.parse(Ce.speakersText).sort((ue,ke)=>ue.slot-ke.slot);we.speakers=He.map(ue=>({title:ue.fullName||"",subtitle:ue.title&&ue.org?`${ue.title}
${ue.org}`:ue.title||ue.org||"",photo:ue.photoLink||""}))}catch(ge){console.log("Error parsing speakers JSON for item:",Ce.id,ge)}M.push(we)}),i(M),x(new Date),console.log(" Lower Thirds XML: Data updated via WebSocket")}},onConnectionChange:Z=>{console.log(" Lower Thirds XML: WebSocket connection status:",Z),Z&&G()}};bt.connect(s,T);const H=()=>{document.hidden?(console.log(" Lower Thirds XML: Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(s)):bt.isConnected()||(console.log(" Lower Thirds XML: Tab visible - reconnecting WebSocket"),bt.connect(s,T),G())};return document.addEventListener("visibilitychange",H),()=>{console.log(" Lower Thirds XML: Cleaning up WebSocket connection"),bt.disconnect(s),document.removeEventListener("visibilitychange",H)}},[s]);const k=()=>{G()},ie=()=>{const T=X(t),H=new Blob([T],{type:"application/xml"}),Z=URL.createObjectURL(H),W=document.createElement("a");W.href=Z,W.download=`lower_thirds_${s||"unknown"}_${Date.now()}.xml`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(Z)},K=()=>{const T=X(t);navigator.clipboard.writeText(T).then(()=>{alert("XML content copied to clipboard!")}).catch(H=>{console.error("Failed to copy to clipboard:",H),alert("Failed to copy to clipboard")})},z=T=>{let H="Row,Cue,Program,Segment Name,";return H+="Speaker 1 Name,Speaker 1 Title/Org,Speaker 1 Photo,",H+="Speaker 2 Name,Speaker 2 Title/Org,Speaker 2 Photo,",H+="Speaker 3 Name,Speaker 3 Title/Org,Speaker 3 Photo,",H+="Speaker 4 Name,Speaker 4 Title/Org,Speaker 4 Photo,",H+="Speaker 5 Name,Speaker 5 Title/Org,Speaker 5 Photo,",H+="Speaker 6 Name,Speaker 6 Title/Org,Speaker 6 Photo,",H+=`Speaker 7 Name,Speaker 7 Title/Org,Speaker 7 Photo
`,T.forEach((Z,W)=>{const M=W+1,Ce=Z.cue||"",De=Z.program||"",we=Z.segmentName||"",ge=new Array(21).fill("");Z.speakers&&Z.speakers.length>0&&Z.speakers.forEach((ue,ke)=>{if(ke<7){const Ue=ke*3;ge[Ue]=ue.title||"",ge[Ue+1]=ue.subtitle||"",ge[Ue+2]=ue.photo||""}});const He=[M,`"${Ce.replace(/"/g,'""')}"`,`"${De.replace(/"/g,'""')}"`,`"${we.replace(/"/g,'""')}"`,`"${ge[0].replace(/"/g,'""')}"`,`"${ge[1].replace(/"/g,'""')}"`,`"${ge[2].replace(/"/g,'""')}"`,`"${ge[3].replace(/"/g,'""')}"`,`"${ge[4].replace(/"/g,'""')}"`,`"${ge[5].replace(/"/g,'""')}"`,`"${ge[6].replace(/"/g,'""')}"`,`"${ge[7].replace(/"/g,'""')}"`,`"${ge[8].replace(/"/g,'""')}"`,`"${ge[9].replace(/"/g,'""')}"`,`"${ge[10].replace(/"/g,'""')}"`,`"${ge[11].replace(/"/g,'""')}"`,`"${ge[12].replace(/"/g,'""')}"`,`"${ge[13].replace(/"/g,'""')}"`,`"${ge[14].replace(/"/g,'""')}"`,`"${ge[15].replace(/"/g,'""')}"`,`"${ge[16].replace(/"/g,'""')}"`,`"${ge[17].replace(/"/g,'""')}"`,`"${ge[18].replace(/"/g,'""')}"`,`"${ge[19].replace(/"/g,'""')}"`,`"${ge[20].replace(/"/g,'""')}"`].join(",");H+=He+`
`}),H},A=()=>{const T=z(t),H=new Blob([T],{type:"text/csv"}),Z=URL.createObjectURL(H),W=document.createElement("a");W.href=Z,W.download=`lower_thirds_${s||"unknown"}_${Date.now()}.csv`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(Z)},ce=()=>{const T=z(t);navigator.clipboard.writeText(T).then(()=>{alert("CSV content copied to clipboard!")}).catch(H=>{console.error("Failed to copy to clipboard:",H),alert("Failed to copy to clipboard")})};return a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Lower Thirds XML Feed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:432,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Live XML data feed for VMIX integration with Supabase backend"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:433,columnNumber:11},void 0),s&&a.jsxDEV("p",{className:"text-sm text-blue-400 mt-2",children:["Event ID: ",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:437,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:431,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("label",{className:"block text-sm font-medium",children:"Refresh Interval (seconds)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:447,columnNumber:15},void 0),a.jsxDEV("select",{value:S,onChange:T=>R(Number(T.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2",children:[a.jsxDEV("option",{value:5,children:"5 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:455,columnNumber:17},void 0),a.jsxDEV("option",{value:10,children:"10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:456,columnNumber:17},void 0),a.jsxDEV("option",{value:30,children:"30 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:457,columnNumber:17},void 0),a.jsxDEV("option",{value:60,children:"1 minute"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:458,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:450,columnNumber:15},void 0),a.jsxDEV("button",{onClick:k,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 px-4 py-2 rounded font-medium",children:o?"Loading...":"Refresh Now"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:460,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:446,columnNumber:13},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:ie,className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-medium",children:"Download XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:470,columnNumber:15},void 0),a.jsxDEV("button",{onClick:K,className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded font-medium",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:476,columnNumber:15},void 0),a.jsxDEV("button",{onClick:A,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-medium",children:"Download CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:482,columnNumber:15},void 0),a.jsxDEV("button",{onClick:ce,className:"bg-orange-600 hover:bg-orange-700 px-4 py-2 rounded font-medium",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:488,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:469,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:445,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:444,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${o?"bg-yellow-500":c?"bg-red-500":"bg-green-500"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:502,columnNumber:15},void 0),a.jsxDEV("span",{className:"font-medium",children:o?"Loading...":c?"Error":"Connected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:503,columnNumber:15},void 0),h&&a.jsxDEV("span",{className:"text-sm text-gray-400",children:["Last updated: ",h.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:507,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:501,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-sm text-gray-400",children:["Auto-refresh: ",S,"s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:512,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:500,columnNumber:11},void 0),c&&a.jsxDEV("div",{className:"mt-2 text-red-400 text-sm",children:c},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:517,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:499,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg",children:[a.jsxDEV("div",{className:"flex border-b border-gray-600",children:[a.jsxDEV("button",{onClick:()=>b("preview"),className:`px-6 py-3 font-medium text-sm transition-colors ${v==="preview"?"text-blue-400 border-b-2 border-blue-400 bg-gray-700":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:" XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:526,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>b("instructions"),className:`px-6 py-3 font-medium text-sm transition-colors ${v==="instructions"?"text-blue-400 border-b-2 border-blue-400 bg-gray-700":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:" VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:536,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:525,columnNumber:11},void 0),a.jsxDEV("div",{className:"p-6",children:[v==="preview"&&a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:552,columnNumber:17},void 0),a.jsxDEV("div",{className:"bg-gray-900 rounded p-4 overflow-auto max-h-96",children:a.jsxDEV("pre",{className:"text-sm text-green-400 whitespace-pre-wrap",children:X(t)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:554,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:553,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:551,columnNumber:15},void 0),v==="instructions"&&a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-lg font-bold mb-4 text-blue-400",children:"VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:563,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-4 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"1. XML Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:566,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1",children:[w(),"/lower-thirds.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:568,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>C(`${w()}/lower-thirds.xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:571,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:567,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:565,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"2. CSV Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:580,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1",children:[w(),"/lower-thirds.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:582,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>C(`${w()}/lower-thirds.csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:585,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:581,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:579,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"3. VMIX Setup:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:594,columnNumber:21},void 0),a.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[a.jsxDEV("li",{children:"Open VMIX and go to Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:596,columnNumber:23},void 0),a.jsxDEV("li",{children:"Add a new Data Source"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:597,columnNumber:23},void 0),a.jsxDEV("li",{children:'Choose "XML" or "CSV" as the data type'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:598,columnNumber:23},void 0),a.jsxDEV("li",{children:"Paste one of the URLs above"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:599,columnNumber:23},void 0),a.jsxDEV("li",{children:"Set refresh interval to 10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:600,columnNumber:23},void 0),a.jsxDEV("li",{children:'Click "Add" to create the data source'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:601,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:595,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:593,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"5. XPath for XML (if needed):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:605,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400",children:"/data/lower_thirds/item"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:607,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>C("/data/lower_thirds/item"),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:608,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:606,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:604,columnNumber:19},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded",children:a.jsxDEV("p",{className:"text-yellow-300 text-xs",children:[a.jsxDEV("strong",{children:"Environment:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:618,columnNumber:23},void 0)," ",O()?"Netlify (Production)":"Local Development"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:617,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:616,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:564,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:562,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:549,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:524,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:429,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/LowerThirdsXMLPage.tsx",lineNumber:428,columnNumber:5},void 0)},x9=()=>{const[e]=No(),s=e.get("eventId"),[t,i]=E.useState(""),[o,u]=E.useState(""),[c,f]=E.useState(!0),[h,x]=E.useState(null),[v,b]=E.useState(null),[O,w]=E.useState("xml"),C="https://ros-50-production.up.railway.app/api",S=async k=>{try{await navigator.clipboard.writeText(k),alert("Copied to clipboard!")}catch(ie){console.error("Failed to copy:",ie)}},R=k=>{const ie='<?xml version="1.0" encoding="UTF-8"?>',K=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <lower_thirds>
    ${k.map(z=>{const A=new Array(21).fill("");return z.speakers&&z.speakers.length>0&&z.speakers.forEach((ce,T)=>{if(T<7){const H=T*3;A[H]=ce.title||"",A[H+1]=ce.subtitle||"",A[H+2]=ce.photo||""}}),`
    <item>
      <id>${z.id}</id>
      <cue><![CDATA[${z.cue||""}]]></cue>
      <program><![CDATA[${z.program||""}]]></program>
      <segment_name><![CDATA[${z.segmentName||""}]]></segment_name>
      <speaker_1_name><![CDATA[${A[0]}]]></speaker_1_name>
      <speaker_1_title_org><![CDATA[${A[1]}]]></speaker_1_title_org>
      <speaker_1_photo><![CDATA[${A[2]}]]></speaker_1_photo>
      <speaker_2_name><![CDATA[${A[3]}]]></speaker_2_name>
      <speaker_2_title_org><![CDATA[${A[4]}]]></speaker_2_title_org>
      <speaker_2_photo><![CDATA[${A[5]}]]></speaker_2_photo>
      <speaker_3_name><![CDATA[${A[6]}]]></speaker_3_name>
      <speaker_3_title_org><![CDATA[${A[7]}]]></speaker_3_title_org>
      <speaker_3_photo><![CDATA[${A[8]}]]></speaker_3_photo>
      <speaker_4_name><![CDATA[${A[9]}]]></speaker_4_name>
      <speaker_4_title_org><![CDATA[${A[10]}]]></speaker_4_title_org>
      <speaker_4_photo><![CDATA[${A[11]}]]></speaker_4_photo>
      <speaker_5_name><![CDATA[${A[12]}]]></speaker_5_name>
      <speaker_5_title_org><![CDATA[${A[13]}]]></speaker_5_title_org>
      <speaker_5_photo><![CDATA[${A[14]}]]></speaker_5_photo>
      <speaker_6_name><![CDATA[${A[15]}]]></speaker_6_name>
      <speaker_6_title_org><![CDATA[${A[16]}]]></speaker_6_title_org>
      <speaker_6_photo><![CDATA[${A[17]}]]></speaker_6_photo>
      <speaker_7_name><![CDATA[${A[18]}]]></speaker_7_name>
      <speaker_7_title_org><![CDATA[${A[19]}]]></speaker_7_title_org>
      <speaker_7_photo><![CDATA[${A[20]}]]></speaker_7_photo>
    </item>`}).join("")}
  </lower_thirds>
</data>`;return ie+K},X=k=>{let ie=`Row,Cue,Program,Segment Name,Speaker 1 Name,Speaker 1 Title/Org,Speaker 1 Photo,Speaker 2 Name,Speaker 2 Title/Org,Speaker 2 Photo,Speaker 3 Name,Speaker 3 Title/Org,Speaker 3 Photo,Speaker 4 Name,Speaker 4 Title/Org,Speaker 4 Photo,Speaker 5 Name,Speaker 5 Title/Org,Speaker 5 Photo,Speaker 6 Name,Speaker 6 Title/Org,Speaker 6 Photo,Speaker 7 Name,Speaker 7 Title/Org,Speaker 7 Photo
`;return k.forEach((K,z)=>{const A=new Array(21).fill("");K.speakers&&K.speakers.length>0&&K.speakers.forEach((T,H)=>{if(H<7){const Z=H*3;A[Z]=T.title||"",A[Z+1]=T.subtitle||"",A[Z+2]=T.photo||""}});const ce=T=>`"${T.replace(/"/g,'""')}"`;ie+=`${z+1},${ce(K.cue||"")},${ce(K.program||"")},${ce(K.segmentName||"")}`;for(let T=0;T<21;T++)ie+=`,${ce(A[T])}`;ie+=`
`}),ie},G=async()=>{if(!s){x("Event ID is required"),f(!1);return}try{f(!0),x(null);const k=await fetch(`${C}/run-of-show-data/${s}`);if(!k.ok)throw new Error("Failed to fetch data from Railway");const ie=await k.json();if(!ie||!ie.schedule_items)throw new Error("No schedule items found");const K=ie.schedule_items,z=[];K.forEach(A=>{const ce=[];if(A.speakersText)try{const T=typeof A.speakersText=="string"?JSON.parse(A.speakersText):A.speakersText;Array.isArray(T)&&T.forEach(H=>{ce.push({title:H.fullName||H.name||"",subtitle:[H.title,H.org].filter(Boolean).join(", "),photo:H.photoLink||""})})}catch(T){console.error("Error parsing speakers:",T)}z.push({id:String(A.id),cue:A.customFields?.cue||"",program:A.programType||"",segmentName:A.segmentName||"",speakers:ce})}),i(R(z)),u(X(z)),b(new Date),f(!1)}catch(k){console.error("Error fetching data:",k),x(k instanceof Error?k.message:"Failed to fetch data"),f(!1)}};return E.useEffect(()=>{G();const k=setInterval(G,1e4);return()=>clearInterval(k)},[s]),s?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-6",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:" Lower Thirds - Railway Edition"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:211,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:["Event ID: ",a.jsxDEV("span",{className:"text-blue-400",children:s},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:213,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:212,columnNumber:11},void 0),v&&a.jsxDEV("p",{className:"text-sm text-gray-500",children:["Last updated: ",v.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:216,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:210,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex space-x-2 mb-6",children:[a.jsxDEV("button",{onClick:()=>w("xml"),className:`px-4 py-2 rounded-t ${O==="xml"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:224,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>w("csv"),className:`px-4 py-2 rounded-t ${O==="csv"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"CSV Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:234,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>w("instructions"),className:`px-4 py-2 rounded-t ${O==="instructions"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:244,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:223,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:[c&&a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:260,columnNumber:15},void 0),a.jsxDEV("p",{className:"mt-4 text-gray-400",children:"Loading data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:261,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:259,columnNumber:13},void 0),h&&a.jsxDEV("div",{className:"bg-red-900/50 border border-red-500 rounded p-4 mb-4",children:a.jsxDEV("p",{className:"text-red-200",children:[" Error: ",h]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:267,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:266,columnNumber:13},void 0),!c&&!h&&a.jsxDEV(a.Fragment,{children:[O==="xml"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"XML Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:276,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>S(t),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:277,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:275,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:t},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:285,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:284,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",t.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:287,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:274,columnNumber:17},void 0),O==="csv"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"CSV Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:296,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>S(o),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:297,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:295,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:o},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:305,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:304,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",o.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:307,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:294,columnNumber:17},void 0),O==="instructions"&&a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold mb-4 text-blue-300",children:" VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:316,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-gray-300 mb-4",children:"Use these URLs in VMIX to display live lower thirds data from Railway API."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:319,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:315,columnNumber:19},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-orange-900/30 border border-orange-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-orange-300 mb-2",children:" Netlify Functions (IN DEVELOPMENT)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:326,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-3",children:"These Netlify Function URLs are still being developed and may not work correctly yet."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:327,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX XML URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:333,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-lower-thirds-xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:335,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${window.location.origin}/.netlify/functions/vmix-lower-thirds-xml?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:338,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:334,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:345,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:332,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX CSV URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:351,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-lower-thirds-csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:353,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${window.location.origin}/.netlify/functions/vmix-lower-thirds-csv?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:356,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:352,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:363,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:350,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:331,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:325,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-green-900/30 border border-green-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-green-300 mb-2",children:" Direct Railway API (WORKING NOW)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:371,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-2",children:"These URLs work reliably! Use them while Netlify Functions are in development."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:372,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3 mt-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"XML Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:378,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[C,"/lower-thirds.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:380,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/lower-thirds.xml?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:383,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:379,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:" Works from anywhere  Always online  Production ready"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:390,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:377,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"CSV Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:396,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[C,"/lower-thirds.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:398,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/lower-thirds.csv?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:401,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:397,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Higher egress cost"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:408,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:395,columnNumber:25},void 0),a.jsxDEV("div",{className:"mt-6 pt-6 border-t border-purple-500/30",children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-3 text-base flex items-center gap-2",children:[" Upstash Cached URLs (Recommended for vMix/Singular.Live)",a.jsxDEV("span",{className:"text-xs font-normal text-purple-400",children:"Zero database cost!"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:416,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:414,columnNumber:27},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"XML (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:421,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[C,"/cache/lower-thirds.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:423,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/cache/lower-thirds.xml?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:426,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:422,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:433,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:420,columnNumber:29},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"CSV (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:439,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[C,"/cache/lower-thirds.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:441,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/cache/lower-thirds.csv?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:444,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:440,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:451,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:438,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:419,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:413,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:376,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:370,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-700/50 border border-gray-600 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-gray-300 mb-2",children:"Alternative: Local Development"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:461,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"XML:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:464,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/lower-thirds.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:465,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:463,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"CSV:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:468,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/lower-thirds.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:469,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:467,columnNumber:25},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-2",children:"(Only works when local server is running)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:471,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:462,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:460,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" How to use in VMIX:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:478,columnNumber:23},void 0),a.jsxDEV("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-300",children:[a.jsxDEV("li",{children:["Open VMIX and go to ",a.jsxDEV("strong",{children:"Settings  Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:480,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:480,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"Add"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:481,columnNumber:35},void 0)," to create a new data source"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:481,columnNumber:25},void 0),a.jsxDEV("li",{children:["Choose ",a.jsxDEV("strong",{children:"XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:482,columnNumber:36},void 0)," or ",a.jsxDEV("strong",{children:"CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:482,columnNumber:60},void 0)," as the type"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:482,columnNumber:25},void 0),a.jsxDEV("li",{children:"Paste one of the Railway API URLs above (yellow section)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:483,columnNumber:25},void 0),a.jsxDEV("li",{children:["Set refresh interval to ",a.jsxDEV("strong",{children:"10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:484,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:484,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"OK"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:485,columnNumber:35},void 0)," to save"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:485,columnNumber:25},void 0),a.jsxDEV("li",{children:"Use the data fields in your VMIX titles/overlays"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:486,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:479,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:477,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" Why Railway API?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:491,columnNumber:23},void 0),a.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-300",children:[a.jsxDEV("li",{children:"Always running (not serverless)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:493,columnNumber:25},void 0),a.jsxDEV("li",{children:"Reliable and fast"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:494,columnNumber:25},void 0),a.jsxDEV("li",{children:"Direct database connection"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:495,columnNumber:25},void 0),a.jsxDEV("li",{children:"Real-time updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:496,columnNumber:25},void 0),a.jsxDEV("li",{children:"Works from anywhere (not just localhost)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:497,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:492,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:490,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:324,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:314,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:272,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:257,columnNumber:9},void 0),a.jsxDEV("div",{className:"mt-6 text-center",children:[a.jsxDEV("button",{onClick:G,disabled:c,className:"px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:c?"Refreshing...":" Refresh Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:509,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-500",children:"Data auto-refreshes every 10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:516,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:508,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:208,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:207,columnNumber:5},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-4",children:" Event ID Required"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:198,columnNumber:11},void 0),a.jsxDEV("p",{children:"Please provide an eventId parameter in the URL."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:199,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-gray-400",children:"Example: ?eventId=your-event-id"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:200,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:197,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyLowerThirdsXMLPage.tsx",lineNumber:196,columnNumber:7},void 0)},b9=()=>{const[e]=No(),s=e.get("eventId"),[t,i]=E.useState(""),[o,u]=E.useState(""),[c,f]=E.useState(!0),[h,x]=E.useState(null),[v,b]=E.useState(null),[O,w]=E.useState("xml"),C="https://ros-50-production.up.railway.app/api",S=async k=>{try{await navigator.clipboard.writeText(k),alert("Copied to clipboard!")}catch(ie){console.error("Failed to copy:",ie)}},R=k=>{const ie='<?xml version="1.0" encoding="UTF-8"?>',K=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <schedule>
    ${k.map(z=>`
    <item>
      <id>${z.id}</id>
      <row>${k.indexOf(z)+1}</row>
      <segment_name><![CDATA[${z.segmentName}]]></segment_name>
      <start_time><![CDATA[${z.startTime}]]></start_time>
    </item>`).join("")}
  </schedule>
</data>`;return ie+K},X=k=>{let ie=`Row,Segment Name,Start Time
`;return k.forEach((K,z)=>{const A=ce=>`"${ce.replace(/"/g,'""')}"`;ie+=`${z+1},${A(K.segmentName)},${A(K.startTime)}
`}),ie},G=async()=>{if(!s){x("Event ID is required"),f(!1);return}try{f(!0),x(null);const k=await fetch(`${C}/run-of-show-data/${s}`);if(!k.ok)throw new Error("Failed to fetch data from Railway");const ie=await k.json();if(!ie||!ie.schedule_items)throw new Error("No schedule items found");const K=ie.schedule_items,z=[],A=ie.settings?.masterStartTime||"09:00",[ce,T]=A.split(":").map(Number);K.forEach((H,Z)=>{let W=0;for(let De=0;De<Z;De++){const we=K[De];W+=(we.durationHours||0)*60+(we.durationMinutes||0)}const M=new Date;M.setHours(ce,T+W,0,0);const Ce=M.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});z.push({id:String(H.id),segmentName:H.segmentName||"Untitled Segment",startTime:Ce})}),i(R(z)),u(X(z)),b(new Date),f(!1)}catch(k){console.error("Error fetching data:",k),x(k instanceof Error?k.message:"Failed to fetch data"),f(!1)}};return E.useEffect(()=>{G();const k=setInterval(G,1e4);return()=>clearInterval(k)},[s]),s?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-6",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:" Schedule - Railway Edition"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:150,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:["Event ID: ",a.jsxDEV("span",{className:"text-blue-400",children:s},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:152,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:151,columnNumber:11},void 0),v&&a.jsxDEV("p",{className:"text-sm text-gray-500",children:["Last updated: ",v.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:155,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:149,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex space-x-2 mb-6",children:[a.jsxDEV("button",{onClick:()=>w("xml"),className:`px-4 py-2 rounded-t ${O==="xml"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:163,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>w("csv"),className:`px-4 py-2 rounded-t ${O==="csv"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"CSV Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:173,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>w("instructions"),className:`px-4 py-2 rounded-t ${O==="instructions"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:183,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:162,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:[c&&a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:199,columnNumber:15},void 0),a.jsxDEV("p",{className:"mt-4 text-gray-400",children:"Loading data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:200,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:198,columnNumber:13},void 0),h&&a.jsxDEV("div",{className:"bg-red-900/50 border border-red-500 rounded p-4 mb-4",children:a.jsxDEV("p",{className:"text-red-200",children:[" Error: ",h]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:206,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:205,columnNumber:13},void 0),!c&&!h&&a.jsxDEV(a.Fragment,{children:[O==="xml"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"XML Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:215,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>S(t),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:216,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:214,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:t},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:224,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:223,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",t.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:226,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:213,columnNumber:17},void 0),O==="csv"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"CSV Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:235,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>S(o),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:236,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:234,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:o},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:244,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:243,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",o.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:246,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:233,columnNumber:17},void 0),O==="instructions"&&a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold mb-4 text-blue-300",children:" VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:255,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-gray-300 mb-4",children:"Use these URLs in VMIX to display live schedule data from Railway API."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:258,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:254,columnNumber:19},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-orange-900/30 border border-orange-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-orange-300 mb-2",children:" Netlify Functions (IN DEVELOPMENT)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:265,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-3",children:"These Netlify Function URLs are still being developed and may not work correctly yet."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:266,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX XML URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:272,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-schedule-xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:274,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${window.location.origin}/.netlify/functions/vmix-schedule-xml?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:277,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:273,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:284,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:271,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX CSV URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:290,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-schedule-csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:292,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${window.location.origin}/.netlify/functions/vmix-schedule-csv?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:295,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:291,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:302,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:289,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:270,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:264,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-green-900/30 border border-green-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-green-300 mb-2",children:" Direct Railway API (WORKING NOW)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:310,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-2",children:"These URLs work reliably! Use them while Netlify Functions are in development."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:311,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3 mt-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"XML Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:317,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[C,"/schedule.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:319,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/schedule.xml?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:322,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:318,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:" Works from anywhere  Always online  Production ready"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:329,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:316,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"CSV Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:335,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[C,"/schedule.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:337,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/schedule.csv?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:340,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:336,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Higher egress cost"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:347,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:334,columnNumber:25},void 0),a.jsxDEV("div",{className:"mt-6 pt-6 border-t border-purple-500/30",children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-3 text-base flex items-center gap-2",children:[" Upstash Cached URLs (Recommended for vMix/Singular.Live)",a.jsxDEV("span",{className:"text-xs font-normal text-purple-400",children:"Zero database cost!"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:355,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:353,columnNumber:27},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"XML (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:360,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[C,"/cache/schedule.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:362,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/cache/schedule.xml?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:365,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:361,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:372,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:359,columnNumber:29},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"CSV (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:378,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[C,"/cache/schedule.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:380,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/cache/schedule.csv?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:383,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:379,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:390,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:377,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:358,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:352,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:315,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:309,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-700/50 border border-gray-600 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-gray-300 mb-2",children:"Alternative: Local Development"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:400,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"XML:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:403,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/schedule.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:404,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:402,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"CSV:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:407,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/schedule.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:408,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:406,columnNumber:25},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-2",children:"(Only works when local server is running)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:410,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:401,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:399,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" How to use in VMIX:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:417,columnNumber:23},void 0),a.jsxDEV("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-300",children:[a.jsxDEV("li",{children:["Open VMIX and go to ",a.jsxDEV("strong",{children:"Settings  Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:419,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:419,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"Add"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:420,columnNumber:35},void 0)," to create a new data source"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:420,columnNumber:25},void 0),a.jsxDEV("li",{children:["Choose ",a.jsxDEV("strong",{children:"XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:421,columnNumber:36},void 0)," or ",a.jsxDEV("strong",{children:"CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:421,columnNumber:60},void 0)," as the type"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:421,columnNumber:25},void 0),a.jsxDEV("li",{children:"Paste one of the Railway API URLs above (yellow section)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:422,columnNumber:25},void 0),a.jsxDEV("li",{children:["Set refresh interval to ",a.jsxDEV("strong",{children:"10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:423,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:423,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"OK"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:424,columnNumber:35},void 0)," to save"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:424,columnNumber:25},void 0),a.jsxDEV("li",{children:"Use the data fields in your VMIX titles/overlays"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:425,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:418,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:416,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" Why Railway API?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:430,columnNumber:23},void 0),a.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-300",children:[a.jsxDEV("li",{children:"Always running (not serverless)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:432,columnNumber:25},void 0),a.jsxDEV("li",{children:"Reliable and fast"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:433,columnNumber:25},void 0),a.jsxDEV("li",{children:"Direct database connection"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:434,columnNumber:25},void 0),a.jsxDEV("li",{children:"Real-time updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:435,columnNumber:25},void 0),a.jsxDEV("li",{children:"Works from anywhere (not just localhost)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:436,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:431,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:429,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:263,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:253,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:211,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:196,columnNumber:9},void 0),a.jsxDEV("div",{className:"mt-6 text-center",children:[a.jsxDEV("button",{onClick:G,disabled:c,className:"px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:c?"Refreshing...":" Refresh Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:448,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-500",children:"Data auto-refreshes every 10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:455,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:447,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:147,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:146,columnNumber:5},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-4",children:" Event ID Required"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:137,columnNumber:11},void 0),a.jsxDEV("p",{children:"Please provide an eventId parameter in the URL."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:138,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-gray-400",children:"Example: ?eventId=your-event-id"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:139,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:136,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyScheduleXMLPage.tsx",lineNumber:135,columnNumber:7},void 0)},N9=()=>{const[e]=No(),s=e.get("eventId"),[t,i]=E.useState(""),[o,u]=E.useState(""),[c,f]=E.useState(!0),[h,x]=E.useState(null),[v,b]=E.useState(null),[O,w]=E.useState("xml"),C="https://ros-50-production.up.railway.app/api",S=async k=>{try{await navigator.clipboard.writeText(k),alert("Copied to clipboard!")}catch(ie){console.error("Failed to copy:",ie)}},R=k=>{const ie='<?xml version="1.0" encoding="UTF-8"?>',K=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <custom_columns>
    ${k.map(z=>{const A=z.customFields?Object.entries(z.customFields).map(([ce,T])=>`<${ce}><![CDATA[${T||""}]]></${ce}>`).join(""):"";return`
    <item>
      <id>${z.id}</id>
      <row>${z.row}</row>
      <cue><![CDATA[${z.cue}]]></cue>
      ${A}
    </item>`}).join("")}
  </custom_columns>
</data>`;return ie+K},X=k=>{const ie=new Set;k.forEach(A=>{Object.keys(A.customFields||{}).forEach(ce=>ie.add(ce))});let z=["Row","Cue",...Array.from(ie)].join(",")+`
`;return k.forEach(A=>{const ce=H=>`"${H.replace(/"/g,'""')}"`,T=[String(A.row),ce(A.cue)];ie.forEach(H=>{T.push(ce(A.customFields?.[H]||""))}),z+=T.join(",")+`
`}),z},G=async()=>{if(!s){x("Event ID is required"),f(!1);return}try{f(!0),x(null);const k=await fetch(`${C}/run-of-show-data/${s}`);if(!k.ok)throw new Error("Failed to fetch data from Railway");const ie=await k.json();if(!ie||!ie.schedule_items)throw new Error("No schedule items found");const z=ie.schedule_items.map((A,ce)=>({id:String(A.id),row:ce+1,cue:A.customFields?.cue||"",customFields:A.customFields||{}}));i(R(z)),u(X(z)),b(new Date),f(!1)}catch(k){console.error("Error fetching data:",k),x(k instanceof Error?k.message:"Failed to fetch data"),f(!1)}};return E.useEffect(()=>{G();const k=setInterval(G,1e4);return()=>clearInterval(k)},[s]),s?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-6",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:" Custom Columns - Railway Edition"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:146,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:["Event ID: ",a.jsxDEV("span",{className:"text-blue-400",children:s},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:148,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:147,columnNumber:11},void 0),v&&a.jsxDEV("p",{className:"text-sm text-gray-500",children:["Last updated: ",v.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:151,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:145,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex space-x-2 mb-6",children:[a.jsxDEV("button",{onClick:()=>w("xml"),className:`px-4 py-2 rounded-t ${O==="xml"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:159,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>w("csv"),className:`px-4 py-2 rounded-t ${O==="csv"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"CSV Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:169,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>w("instructions"),className:`px-4 py-2 rounded-t ${O==="instructions"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:179,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:158,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:[c&&a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:195,columnNumber:15},void 0),a.jsxDEV("p",{className:"mt-4 text-gray-400",children:"Loading data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:196,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:194,columnNumber:13},void 0),h&&a.jsxDEV("div",{className:"bg-red-900/50 border border-red-500 rounded p-4 mb-4",children:a.jsxDEV("p",{className:"text-red-200",children:[" Error: ",h]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:202,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:201,columnNumber:13},void 0),!c&&!h&&a.jsxDEV(a.Fragment,{children:[O==="xml"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"XML Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:211,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>S(t),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:212,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:210,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:t},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:220,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:219,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",t.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:222,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:209,columnNumber:17},void 0),O==="csv"&&a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-semibold",children:"CSV Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:231,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>S(o),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:232,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:230,columnNumber:19},void 0),a.jsxDEV("pre",{className:"bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm",children:a.jsxDEV("code",{className:"text-green-400",children:o},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:240,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:239,columnNumber:19},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-400",children:["Data length: ",o.length," characters"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:242,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:229,columnNumber:17},void 0),O==="instructions"&&a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold mb-4 text-blue-300",children:" VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:251,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-gray-300 mb-4",children:"Use these URLs in VMIX to display live custom columns data from Railway API."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:254,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:250,columnNumber:19},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-orange-900/30 border border-orange-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-orange-300 mb-2",children:" Netlify Functions (IN DEVELOPMENT)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:261,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-3",children:"These Netlify Function URLs are still being developed and may not work correctly yet."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:262,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX XML URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:268,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-custom-columns-xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:270,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${window.location.origin}/.netlify/functions/vmix-custom-columns-xml?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:273,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:269,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:280,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:267,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-2 text-sm",children:" VMIX CSV URL (Netlify Function):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:286,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-400 break-all flex-1 text-sm",children:[window.location.origin,"/.netlify/functions/vmix-custom-columns-csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:288,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${window.location.origin}/.netlify/functions/vmix-custom-columns-csv?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:291,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:287,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-orange-400 mt-1",children:" IN DEVELOPMENT: May not work correctly yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:298,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:285,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:266,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:260,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-green-900/30 border border-green-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-green-300 mb-2",children:" Direct Railway API (WORKING NOW)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:306,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mb-2",children:"These URLs work reliably! Use them while Netlify Functions are in development."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:307,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-3 mt-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"XML Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:313,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[C,"/custom-columns.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:315,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/custom-columns.xml?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:318,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:314,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:" Works from anywhere  Always online  Production ready"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:325,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:312,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2 text-sm",children:"CSV Data Source URL (Railway):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:331,columnNumber:27},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-gray-700 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1 text-sm",children:[C,"/custom-columns.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:333,columnNumber:29},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/custom-columns.csv?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:336,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:332,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Higher egress cost"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:343,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:330,columnNumber:25},void 0),a.jsxDEV("div",{className:"mt-6 pt-6 border-t border-purple-500/30",children:[a.jsxDEV("h4",{className:"font-semibold text-purple-300 mb-3 text-base flex items-center gap-2",children:[" Upstash Cached URLs (Recommended for vMix/Singular.Live)",a.jsxDEV("span",{className:"text-xs font-normal text-purple-400",children:"Zero database cost!"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:351,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:349,columnNumber:27},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"XML (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:356,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[C,"/cache/custom-columns.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:358,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/cache/custom-columns.xml?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:361,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:357,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:368,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:355,columnNumber:29},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h5",{className:"font-semibold text-purple-200 mb-2 text-sm",children:"CSV (Upstash Cache):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:374,columnNumber:31},void 0),a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded border border-purple-500/30 flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-purple-300 break-all flex-1 text-sm",children:[C,"/cache/custom-columns.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:376,columnNumber:33},void 0),a.jsxDEV("button",{onClick:()=>S(`${C}/cache/custom-columns.csv?eventId={eventId}`),className:"ml-2 px-3 py-1 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:379,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:375,columnNumber:31},void 0),a.jsxDEV("p",{className:"text-purple-400 text-xs mt-1",children:" Ultra-fast  Zero Neon queries  Auto-updates on schedule save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:386,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:373,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:354,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:348,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:311,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:305,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-gray-700/50 border border-gray-600 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-gray-300 mb-2",children:"Alternative: Local Development"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:396,columnNumber:23},void 0),a.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"XML:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:399,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/custom-columns.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:400,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:398,columnNumber:25},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-400 mb-1",children:"CSV:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:403,columnNumber:27},void 0),a.jsxDEV("code",{className:"text-gray-500 text-xs",children:["http://localhost:3002/api/custom-columns.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:404,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:402,columnNumber:25},void 0),a.jsxDEV("p",{className:"text-xs text-gray-500 mt-2",children:"(Only works when local server is running)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:406,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:397,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:395,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" How to use in VMIX:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:413,columnNumber:23},void 0),a.jsxDEV("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-300",children:[a.jsxDEV("li",{children:["Open VMIX and go to ",a.jsxDEV("strong",{children:"Settings  Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:415,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:415,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"Add"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:416,columnNumber:35},void 0)," to create a new data source"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:416,columnNumber:25},void 0),a.jsxDEV("li",{children:["Choose ",a.jsxDEV("strong",{children:"XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:417,columnNumber:36},void 0)," or ",a.jsxDEV("strong",{children:"CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:417,columnNumber:60},void 0)," as the type"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:417,columnNumber:25},void 0),a.jsxDEV("li",{children:"Paste one of the Railway API URLs above (yellow section)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:418,columnNumber:25},void 0),a.jsxDEV("li",{children:["Set refresh interval to ",a.jsxDEV("strong",{children:"10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:419,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:419,columnNumber:25},void 0),a.jsxDEV("li",{children:["Click ",a.jsxDEV("strong",{children:"OK"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:420,columnNumber:35},void 0)," to save"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:420,columnNumber:25},void 0),a.jsxDEV("li",{children:"Use the data fields in your VMIX titles/overlays"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:421,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:414,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:412,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded p-4",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-2",children:" Why Railway API?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:426,columnNumber:23},void 0),a.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-300",children:[a.jsxDEV("li",{children:"Always running (not serverless)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:428,columnNumber:25},void 0),a.jsxDEV("li",{children:"Reliable and fast"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:429,columnNumber:25},void 0),a.jsxDEV("li",{children:"Direct database connection"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:430,columnNumber:25},void 0),a.jsxDEV("li",{children:"Real-time updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:431,columnNumber:25},void 0),a.jsxDEV("li",{children:"Works from anywhere (not just localhost)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:432,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:427,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:425,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:259,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:249,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:207,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:192,columnNumber:9},void 0),a.jsxDEV("div",{className:"mt-6 text-center",children:[a.jsxDEV("button",{onClick:G,disabled:c,className:"px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:c?"Refreshing...":" Refresh Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:444,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-sm text-gray-500",children:"Data auto-refreshes every 10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:451,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:443,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:143,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:142,columnNumber:5},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:a.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-4",children:" Event ID Required"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:133,columnNumber:11},void 0),a.jsxDEV("p",{children:"Please provide an eventId parameter in the URL."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:134,columnNumber:11},void 0),a.jsxDEV("p",{className:"mt-2 text-gray-400",children:"Example: ?eventId=your-event-id"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:135,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:132,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/NetlifyCustomColumnsXMLPage.tsx",lineNumber:131,columnNumber:7},void 0)},D9=()=>{const[e,s]=E.useState("lower-thirds"),[t,i]=E.useState(""),[o,u]=E.useState("Sheet1"),[c,f]=E.useState(!1),[h,x]=E.useState(30),[v,b]=E.useState([]),[O,w]=E.useState([]),[C,S]=E.useState([]),[R,X]=E.useState(!1),[G,k]=E.useState(null),[ie,K]=E.useState(null),[z,A]=E.useState("");E.useEffect(()=>{const Ce=new URLSearchParams(window.location.search).get("eventId");if(Ce)A(Ce);else{const De=localStorage.getItem("events");if(De)try{const we=JSON.parse(De);we.length>0&&A(we[0].id)}catch(we){console.error("Error parsing stored events:",we)}}},[]),E.useEffect(()=>{if(!c||!z||!t)return;const M=async()=>{try{const De=await Nt.getRunOfShowData(z);if(!De||!De.schedule_items)return;const we=De.schedule_items.filter(ue=>ue.isPublic===!0);let ge=[],He=[];if(e==="lower-thirds"){const ue=[];we.forEach(ke=>{const Ue=[];if(ke.speakersText)try{const te=typeof ke.speakersText=="string"?JSON.parse(ke.speakersText):ke.speakersText;Array.isArray(te)&&te.forEach(le=>{Ue.push({name:le.fullName||le.name||"",title:[le.title,le.org].filter(Boolean).join(", "),photo:le.photoLink||""})})}catch(te){console.error("Error parsing speakers:",te)}ue.push({id:String(ke.id),cue:ke.customFields?.cue||"",program:ke.programType||"",segmentName:ke.segmentName||"",speakers:Ue})}),b(ue),ue.length>0&&(ge=ue.map((ke,Ue)=>{const te=new Array(21).fill("");return ke.speakers&&ke.speakers.length>0&&ke.speakers.forEach((le,pe)=>{if(pe<7){const de=pe*3;te[de]=le.name||"",te[de+1]=le.title||"",te[de+2]=le.photo||""}}),[String(Ue+1),ke.cue,ke.program,ke.segmentName,...te]}),He=["Row","Cue","Program","Segment Name","Speaker 1 Name","Speaker 1 Title/Org","Speaker 1 Photo","Speaker 2 Name","Speaker 2 Title/Org","Speaker 2 Photo","Speaker 3 Name","Speaker 3 Title/Org","Speaker 3 Photo","Speaker 4 Name","Speaker 4 Title/Org","Speaker 4 Photo","Speaker 5 Name","Speaker 5 Title/Org","Speaker 5 Photo","Speaker 6 Name","Speaker 6 Title/Org","Speaker 6 Photo","Speaker 7 Name","Speaker 7 Title/Org","Speaker 7 Photo"])}else if(e==="schedule"){const ue=[],ke=De.settings?.masterStartTime||"09:00",[Ue,te]=ke.split(":").map(Number);we.forEach((le,pe)=>{let de=0;for(let _=0;_<pe;_++){const J=we[_];de+=(J.durationHours||0)*60+(J.durationMinutes||0)}const oe=new Date;oe.setHours(Ue,te+de,0,0);const Q=oe.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});ue.push({id:String(le.id),segmentName:le.segmentName||"Untitled Segment",startTime:Q})}),w(ue),ue.length>0&&(ge=ue.map((le,pe)=>[String(pe+1),le.segmentName,le.startTime]),He=["Row","Segment Name","Start Time"])}else if(e==="custom-columns"){const ue=[];if(we.forEach((ke,Ue)=>{ue.push({id:String(ke.id),cue:ke.customFields?.cue||"",customFields:ke.customFields||{}})}),S(ue),ue.length>0){const ke=new Set;ue.forEach(Ue=>{Object.keys(Ue.customFields||{}).forEach(te=>ke.add(te))}),ge=ue.map((Ue,te)=>{const le=[String(te+1),Ue.cue];return ke.forEach(pe=>{le.push(Ue.customFields?.[pe]||"")}),le}),He=["Row","Cue",...Array.from(ke)]}}ge.length>0&&(await fetch(t,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[He,...ge],sheetName:o})}),K(new Date))}catch(De){console.error("Auto-refresh error:",De)}};M();const Ce=setInterval(M,h*1e3);return()=>clearInterval(Ce)},[c,z,t,h,o,e]);const ce=async()=>{if(z)try{X(!0),k(null);const M=await Nt.getRunOfShowData(z);if(!M||!M.schedule_items)throw new Error("No schedule items found");const Ce=M.schedule_items.filter(De=>De.isPublic===!0);if(e==="lower-thirds"){const De=[];Ce.forEach(we=>{const ge=[];if(we.speakersText)try{const He=typeof we.speakersText=="string"?JSON.parse(we.speakersText):we.speakersText;Array.isArray(He)&&He.forEach(ue=>{ge.push({name:ue.fullName||ue.name||"",title:[ue.title,ue.org].filter(Boolean).join(", "),photo:ue.photoLink||""})})}catch(He){console.error("Error parsing speakers:",He)}De.push({id:String(we.id),cue:we.customFields?.cue||"",program:we.programType||"",segmentName:we.segmentName||"",speakers:ge})}),b(De)}else if(e==="schedule"){const De=[],we=M.settings?.masterStartTime||"09:00",[ge,He]=we.split(":").map(Number);Ce.forEach((ue,ke)=>{let Ue=0;for(let pe=0;pe<ke;pe++){const de=Ce[pe];Ue+=(de.durationHours||0)*60+(de.durationMinutes||0)}const te=new Date;te.setHours(ge,He+Ue,0,0);const le=te.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});De.push({id:String(ue.id),segmentName:ue.segmentName||"Untitled Segment",startTime:le})}),w(De)}else if(e==="custom-columns"){const De=[];Ce.forEach(we=>{De.push({id:String(we.id),cue:we.customFields?.cue||"",customFields:we.customFields||{}})}),S(De)}X(!1)}catch(M){console.error("Error loading data:",M),k(M instanceof Error?M.message:"Failed to load data"),X(!1)}},T=()=>{if(e==="lower-thirds"){const M=["Row","Cue","Program","Segment Name","Speaker 1 Name","Speaker 1 Title/Org","Speaker 1 Photo","Speaker 2 Name","Speaker 2 Title/Org","Speaker 2 Photo","Speaker 3 Name","Speaker 3 Title/Org","Speaker 3 Photo","Speaker 4 Name","Speaker 4 Title/Org","Speaker 4 Photo","Speaker 5 Name","Speaker 5 Title/Org","Speaker 5 Photo","Speaker 6 Name","Speaker 6 Title/Org","Speaker 6 Photo","Speaker 7 Name","Speaker 7 Title/Org","Speaker 7 Photo"],Ce=v.map((De,we)=>{const ge=new Array(21).fill("");return De.speakers&&De.speakers.length>0&&De.speakers.forEach((He,ue)=>{if(ue<7){const ke=ue*3;ge[ke]=He.name||"",ge[ke+1]=He.title||"",ge[ke+2]=He.photo||""}}),[String(we+1),De.cue,De.program,De.segmentName,...ge]});return[M,...Ce]}else if(e==="schedule"){const M=["Row","Segment Name","Start Time"],Ce=O.map((De,we)=>[String(we+1),De.segmentName,De.startTime]);return[M,...Ce]}else if(e==="custom-columns"){const M=new Set;C.forEach(we=>{Object.keys(we.customFields||{}).forEach(ge=>M.add(ge))});const Ce=["Row","Cue",...Array.from(M)],De=C.map((we,ge)=>{const He=[String(ge+1),we.cue];return M.forEach(ue=>{He.push(we.customFields?.[ue]||"")}),He});return[Ce,...De]}return[]},H=async(M=!1)=>{if(!t){M||k("Please enter your Google Apps Script Web App URL");return}if(!(e==="lower-thirds"&&v.length>0||e==="schedule"&&O.length>0||e==="custom-columns"&&C.length>0)){M||k("No data available. Please load data first.");return}try{M||X(!0),k(null);const De=T(),we=await fetch(t,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:De,sheetName:o})});K(new Date),k(null)}catch(De){console.error("Error pushing to Google Sheets:",De),M||k(De instanceof Error?De.message:"Failed to push to Google Sheets")}finally{M||X(!1)}},Z=M=>{navigator.clipboard.writeText(M)},W=`function doPost(e) {
  try {
    var spreadsheet = SpreadsheetApp.getActiveSpreadsheet();
    var data = JSON.parse(e.postData.contents);
    
    // Get target sheet name (default to active sheet)
    var sheetName = data.sheetName || 'Sheet1';
    var sheet = spreadsheet.getSheetByName(sheetName);
    
    // If sheet doesn't exist, create it
    if (!sheet) {
      sheet = spreadsheet.insertSheet(sheetName);
    }
    
    // Clear existing data
    sheet.clear();
    
    // Write new data
    if (data.data && data.data.length > 0) {
      sheet.getRange(1, 1, data.data.length, data.data[0].length).setValues(data.data);
      
      // Format header row
      var headerRange = sheet.getRange(1, 1, 1, data.data[0].length);
      headerRange.setFontWeight('bold');
      headerRange.setBackground('#4285f4');
      headerRange.setFontColor('#ffffff');
    }
    
    return ContentService.createTextOutput(JSON.stringify({
      status: 'success',
      rows: data.data.length,
      sheet: sheetName
    })).setMimeType(ContentService.MimeType.JSON);
    
  } catch (error) {
    return ContentService.createTextOutput(JSON.stringify({
      status: 'error',
      message: error.toString()
    })).setMimeType(ContentService.MimeType.JSON);
  }
}`;return a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:a.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Export to Google Sheets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:519,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Push Lower Thirds, Schedule, or Custom Columns data directly to a Google Sheet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:520,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:518,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded-lg p-6 mb-6",children:[a.jsxDEV("h3",{className:"font-semibold text-blue-300 mb-3",children:" One-Time Setup (5 minutes):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:527,columnNumber:11},void 0),a.jsxDEV("ol",{className:"text-sm text-gray-300 space-y-3",children:[a.jsxDEV("li",{className:"flex gap-3",children:[a.jsxDEV("span",{className:"font-bold text-blue-400 min-w-[24px]",children:"1."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:530,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Create a Google Sheet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:532,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:533,columnNumber:17},void 0),"Go to ",a.jsxDEV("a",{href:"https://sheets.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"sheets.google.com"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:533,columnNumber:28},void 0)," and create a new spreadsheet"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:531,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:529,columnNumber:13},void 0),a.jsxDEV("li",{className:"flex gap-3",children:[a.jsxDEV("span",{className:"font-bold text-blue-400 min-w-[24px]",children:"2."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:537,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Open Apps Script Editor"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:539,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:540,columnNumber:17},void 0),"In your Google Sheet, click ",a.jsxDEV("strong",{children:"Extensions  Apps Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:540,columnNumber:50},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:538,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:536,columnNumber:13},void 0),a.jsxDEV("li",{className:"flex gap-3",children:[a.jsxDEV("span",{className:"font-bold text-blue-400 min-w-[24px]",children:"3."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:544,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Paste the Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:546,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:547,columnNumber:17},void 0),"Copy the script below and paste it into the Apps Script editor:",a.jsxDEV("div",{className:"bg-gray-900 p-3 rounded mt-2 relative",children:[a.jsxDEV("pre",{className:"text-xs text-green-400 overflow-x-auto",children:W},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:549,columnNumber:19},void 0),a.jsxDEV("button",{onClick:()=>Z(W),className:"absolute top-2 right-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:550,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:548,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:545,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:543,columnNumber:13},void 0),a.jsxDEV("li",{className:"flex gap-3",children:[a.jsxDEV("span",{className:"font-bold text-blue-400 min-w-[24px]",children:"4."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:560,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Deploy as Web App"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:562,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:563,columnNumber:17},void 0),"Click ",a.jsxDEV("strong",{children:"Deploy  New deployment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:563,columnNumber:28},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:564,columnNumber:17},void 0)," Select type: ",a.jsxDEV("strong",{children:"Web app"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:564,columnNumber:37},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:565,columnNumber:17},void 0)," Execute as: ",a.jsxDEV("strong",{children:"Me"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:565,columnNumber:36},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:566,columnNumber:17},void 0)," Who has access: ",a.jsxDEV("strong",{children:"Anyone"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:566,columnNumber:40},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:567,columnNumber:17},void 0)," Click ",a.jsxDEV("strong",{children:"Deploy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:567,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:561,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:559,columnNumber:13},void 0),a.jsxDEV("li",{className:"flex gap-3",children:[a.jsxDEV("span",{className:"font-bold text-blue-400 min-w-[24px]",children:"5."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:571,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Copy the Web App URL"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:573,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:574,columnNumber:17},void 0),"After deployment, copy the Web App URL and paste it below",a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:575,columnNumber:17},void 0),a.jsxDEV("span",{className:"text-yellow-400",children:"It should look like: https://script.google.com/macros/s/ABC123.../exec"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:575,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:572,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:570,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:528,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:526,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[a.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:"Configuration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:583,columnNumber:11},void 0),a.jsxDEV("div",{className:"space-y-4 mb-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Data Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:587,columnNumber:15},void 0),a.jsxDEV("select",{value:e,onChange:M=>s(M.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsxDEV("option",{value:"lower-thirds",children:"Lower Thirds (Speaker Data)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:593,columnNumber:17},void 0),a.jsxDEV("option",{value:"schedule",children:"Schedule (Segment Times)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:594,columnNumber:17},void 0),a.jsxDEV("option",{value:"custom-columns",children:"Custom Columns (Custom Fields)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:595,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:588,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:" Select which type of data to export to Google Sheets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:597,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:586,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Google Apps Script Web App URL"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:603,columnNumber:15},void 0),a.jsxDEV("input",{type:"text",value:t,onChange:M=>i(M.target.value),placeholder:"https://script.google.com/macros/s/ABC123.../exec",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:604,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:" Paste the complete URL from your Apps Script deployment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:611,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:602,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Target Sheet Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:617,columnNumber:15},void 0),a.jsxDEV("input",{type:"text",value:o,onChange:M=>u(M.target.value),placeholder:"Sheet1",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:618,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:" Name of the sheet to write data to (will be created if it doesn't exist)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:625,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:616,columnNumber:13},void 0),a.jsxDEV("div",{className:"border-t border-gray-700 pt-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Auto-Refresh"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:633,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400",children:"Automatically update Google Sheets at regular intervals"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:634,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:632,columnNumber:17},void 0),a.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsxDEV("input",{type:"checkbox",checked:c,onChange:M=>f(M.target.checked),className:"sr-only peer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:637,columnNumber:19},void 0),a.jsxDEV("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:643,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:636,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:631,columnNumber:15},void 0),c&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Refresh Interval (seconds)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:649,columnNumber:19},void 0),a.jsxDEV("input",{type:"number",min:"5",max:"300",value:h,onChange:M=>x(Number(M.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:650,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:[" Data will be pushed every ",h," seconds"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:658,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:648,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:630,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:585,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex gap-4",children:[a.jsxDEV("button",{onClick:ce,disabled:!z||R,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 text-white rounded-md transition-colors font-semibold",children:R?"Loading...":`1. Load ${e==="lower-thirds"?"Lower Thirds":e==="schedule"?"Schedule":"Custom Columns"} Data`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:667,columnNumber:13},void 0),a.jsxDEV("button",{onClick:H,disabled:!t||R||e==="lower-thirds"&&v.length===0||e==="schedule"&&O.length===0||e==="custom-columns"&&C.length===0,className:"px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-600 text-white rounded-md transition-colors font-semibold",children:R?"Pushing...":"2. Push to Google Sheets"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:675,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:666,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:582,columnNumber:9},void 0),G&&a.jsxDEV("div",{className:"bg-red-900/30 border border-red-500/50 rounded-lg p-4 mb-6",children:[a.jsxDEV("p",{className:"text-red-300 font-semibold mb-2",children:" Error:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:691,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-red-200 text-sm",children:G},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:692,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:690,columnNumber:11},void 0),ie&&a.jsxDEV("div",{className:"bg-green-900/30 border border-green-500/50 rounded-lg p-4 mb-6",children:[a.jsxDEV("p",{className:"text-green-300",children:[" Data pushed to Google Sheets at ",ie.toLocaleTimeString(),c&&` (Auto-refresh: every ${h}s)`]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:698,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-green-200 text-sm mt-1",children:c?`Auto-refresh is active. Data will be updated automatically every ${h} seconds.`:"Check your Google Sheet to verify the data was written correctly."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:702,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:697,columnNumber:11},void 0),(e==="lower-thirds"&&v.length>0||e==="schedule"&&O.length>0||e==="custom-columns"&&C.length>0)&&a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:[e==="lower-thirds"?"Lower Thirds":e==="schedule"?"Schedule":"Custom Columns"," Data Preview"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:716,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-gray-400 mb-4",children:[e==="lower-thirds"?v.length:e==="schedule"?O.length:C.length," rows ready to push to Google Sheets"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:719,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-gray-900 rounded p-4 max-h-64 overflow-y-auto",children:[e==="lower-thirds"&&a.jsxDEV(a.Fragment,{children:[a.jsxDEV("table",{className:"w-full text-sm",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{className:"text-left text-gray-400",children:[a.jsxDEV("th",{className:"pb-2",children:"Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:728,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Cue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:729,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Program"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:730,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Segment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:731,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:732,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:727,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:726,columnNumber:21},void 0),a.jsxDEV("tbody",{children:v.slice(0,10).map((M,Ce)=>a.jsxDEV("tr",{className:"border-t border-gray-700",children:[a.jsxDEV("td",{className:"py-2",children:Ce+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:738,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:M.cue},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:739,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:M.program},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:740,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:M.segmentName},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:741,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:[M.speakers.length," speaker(s)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:742,columnNumber:27},void 0)]},M.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:737,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:735,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:725,columnNumber:19},void 0),v.length>10&&a.jsxDEV("p",{className:"text-gray-500 text-xs mt-2",children:["Showing 10 of ",v.length," rows"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:748,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:724,columnNumber:17},void 0),e==="schedule"&&a.jsxDEV(a.Fragment,{children:[a.jsxDEV("table",{className:"w-full text-sm",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{className:"text-left text-gray-400",children:[a.jsxDEV("th",{className:"pb-2",children:"Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:760,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Segment Name"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:761,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Start Time"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:762,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:759,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:758,columnNumber:21},void 0),a.jsxDEV("tbody",{children:O.slice(0,10).map((M,Ce)=>a.jsxDEV("tr",{className:"border-t border-gray-700",children:[a.jsxDEV("td",{className:"py-2",children:Ce+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:768,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:M.segmentName},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:769,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:M.startTime},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:770,columnNumber:27},void 0)]},M.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:767,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:765,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:757,columnNumber:19},void 0),O.length>10&&a.jsxDEV("p",{className:"text-gray-500 text-xs mt-2",children:["Showing 10 of ",O.length," rows"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:776,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:756,columnNumber:17},void 0),e==="custom-columns"&&a.jsxDEV(a.Fragment,{children:[a.jsxDEV("table",{className:"w-full text-sm",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{className:"text-left text-gray-400",children:[a.jsxDEV("th",{className:"pb-2",children:"Row"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:788,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Cue"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:789,columnNumber:25},void 0),a.jsxDEV("th",{className:"pb-2",children:"Custom Fields"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:790,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:787,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:786,columnNumber:21},void 0),a.jsxDEV("tbody",{children:C.slice(0,10).map((M,Ce)=>a.jsxDEV("tr",{className:"border-t border-gray-700",children:[a.jsxDEV("td",{className:"py-2",children:Ce+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:796,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:M.cue},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:797,columnNumber:27},void 0),a.jsxDEV("td",{className:"py-2",children:[Object.keys(M.customFields||{}).length," field(s)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:798,columnNumber:27},void 0)]},M.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:795,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:793,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:785,columnNumber:19},void 0),C.length>10&&a.jsxDEV("p",{className:"text-gray-500 text-xs mt-2",children:["Showing 10 of ",C.length," rows"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:804,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:784,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:722,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:715,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:517,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GoogleSheetsVMIXPage.tsx",lineNumber:516,columnNumber:5},void 0)},S9=()=>{const[e]=No(),s=e.get("eventId"),[t,i]=E.useState([]),[o,u]=E.useState(!0),[c,f]=E.useState(null),[h,x]=E.useState(null),[v,b]=E.useState("preview"),[O,w]=E.useState(10),C=(H,Z,W)=>{if(!W)return"";try{const M=H.indexOf(Z);if(Z.isIndented)return"";let Ce=0;for(let te=0;te<M;te++){const le=H[te];le.isIndented||(Ce+=le.durationHours*3600+le.durationMinutes*60+le.durationSeconds)}const[De,we]=W.split(":").map(Number),He=De*3600+we*60+Ce,ue=He/3600%24,ke=He%3600/60,Ue=new Date;return Ue.setHours(ue,ke,0,0),Ue.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return""}},S=()=>window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com")||window.location.hostname!=="localhost",R=()=>S()?`${window.location.origin}/.netlify/functions`:"http://localhost:3002/api",X=async H=>{try{await navigator.clipboard.writeText(H),console.log("Copied to clipboard:",H)}catch(Z){console.error("Failed to copy to clipboard:",Z);const W=document.createElement("textarea");W.value=H,document.body.appendChild(W),W.select(),document.execCommand("copy"),document.body.removeChild(W)}},G=async()=>{try{if(u(!0),f(null),!s)throw new Error("Event ID is required");console.log(" Fetching schedule data for event:",s);const H=await Nt.getRunOfShowData(s);if(!H||!H.schedule_items){i([]),x(new Date);return}const Z=[],W=H.schedule_items,M=H.settings?.masterStartTime||"";console.log(" Total schedule items:",W.length),W.forEach((Ce,De)=>{const we=C(W,Ce,M),ge={id:`${Ce.id}-schedule`,title:Ce.segmentName||"Untitled Segment",subtitle:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),segmentName:Ce.segmentName||"Untitled Segment",startTime:we||"No Start Time",speakers:[]};Z.push(ge)}),console.log(" Processed schedule items:",Z.length),i(Z),x(new Date)}catch(H){console.error("Error fetching schedule data:",H),f(H instanceof Error?H.message:"Unknown error occurred")}finally{u(!1)}};E.useEffect(()=>{if(!s){console.log(" No event ID, skipping WebSocket connection");return}console.log(" Setting up WebSocket connection for Schedule XML page"),G();const H={onRunOfShowDataUpdated:W=>{if(console.log(" Schedule XML: WebSocket data update received:",W),W&&W.schedule_items){const M=[],Ce=W.schedule_items,De=W.settings?.masterStartTime||"";Ce.forEach((we,ge)=>{const He=C(Ce,we,De),ue={id:`${we.id}-schedule`,title:we.segmentName||"Untitled Segment",subtitle:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),segmentName:we.segmentName||"Untitled Segment",startTime:He||"No Start Time",speakers:[]};M.push(ue)}),i(M),x(new Date),console.log(" Schedule XML: Data updated via WebSocket")}},onConnectionChange:W=>{console.log(" Schedule XML: WebSocket connection status:",W),W&&G()}};bt.connect(s,H);const Z=()=>{document.hidden?(console.log(" Schedule XML: Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(s)):bt.isConnected()||(console.log(" Schedule XML: Tab visible - reconnecting WebSocket"),bt.connect(s,H),G())};return document.addEventListener("visibilitychange",Z),()=>{console.log(" Schedule XML: Cleaning up WebSocket connection"),bt.disconnect(s),document.removeEventListener("visibilitychange",Z)}},[s]);const k=()=>{G()},ie=H=>{const Z='<?xml version="1.0" encoding="UTF-8"?>',W=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <schedule>
    ${H.map(M=>`
    <item>
      <id>${M.id}</id>
      <row>${H.indexOf(M)+1}</row>
      <segment_name><![CDATA[${M.segmentName||""}]]></segment_name>
      <start_time><![CDATA[${M.startTime||""}]]></start_time>
    </item>`).join("")}
  </schedule>
</data>`;return Z+W},K=H=>{let Z=`Row,Segment Name,Start Time
`;return H.forEach((W,M)=>{const Ce=M+1,De=W.segmentName||"",we=W.startTime||"",ge=[Ce,`"${De.replace(/"/g,'""')}"`,`"${we.replace(/"/g,'""')}"`].join(",");Z+=ge+`
`}),Z},z=()=>{const H=ie(t),Z=new Blob([H],{type:"application/xml"}),W=URL.createObjectURL(Z),M=document.createElement("a");M.href=W,M.download=`schedule-${s||"data"}.xml`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(W)},A=()=>{const H=K(t),Z=new Blob([H],{type:"text/csv"}),W=URL.createObjectURL(Z),M=document.createElement("a");M.href=W,M.download=`schedule-${s||"data"}.csv`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(W)},ce=()=>{const H=ie(t);X(H)},T=()=>{const H=K(t);X(H)};return o?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:335,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Loading schedule data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:336,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:334,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:333,columnNumber:7},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Schedule XML Feed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:347,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Live XML data feed for VMIX integration with WebSocket updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:348,columnNumber:11},void 0),s&&a.jsxDEV("p",{className:"text-sm text-blue-400 mt-2",children:["Event ID: ",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:352,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:346,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("label",{className:"block text-sm font-medium",children:"Refresh Interval (seconds)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:362,columnNumber:15},void 0),a.jsxDEV("select",{value:O,onChange:H=>w(Number(H.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2",children:[a.jsxDEV("option",{value:5,children:"5 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:370,columnNumber:17},void 0),a.jsxDEV("option",{value:10,children:"10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:371,columnNumber:17},void 0),a.jsxDEV("option",{value:30,children:"30 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:372,columnNumber:17},void 0),a.jsxDEV("option",{value:60,children:"1 minute"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:373,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:365,columnNumber:15},void 0),a.jsxDEV("button",{onClick:k,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 px-4 py-2 rounded font-medium",children:o?"Loading...":"Refresh Now"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:375,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:361,columnNumber:13},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:z,className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-medium",children:"Download XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:385,columnNumber:15},void 0),a.jsxDEV("button",{onClick:ce,className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded font-medium",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:391,columnNumber:15},void 0),a.jsxDEV("button",{onClick:A,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-medium",children:"Download CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:397,columnNumber:15},void 0),a.jsxDEV("button",{onClick:T,className:"bg-orange-600 hover:bg-orange-700 px-4 py-2 rounded font-medium",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:403,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:384,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:360,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:359,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${o?"bg-yellow-500":c?"bg-red-500":"bg-green-500"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:417,columnNumber:15},void 0),a.jsxDEV("span",{className:"font-medium",children:o?"Loading...":c?"Error":"Connected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:418,columnNumber:15},void 0),h&&a.jsxDEV("span",{className:"text-sm text-gray-400",children:["Last updated: ",h.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:422,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:416,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-sm text-gray-400",children:["Auto-refresh: ",O,"s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:427,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:415,columnNumber:11},void 0),c&&a.jsxDEV("div",{className:"mt-2 text-red-400 text-sm",children:c},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:432,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:414,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg",children:[a.jsxDEV("div",{className:"flex border-b border-gray-600",children:[a.jsxDEV("button",{onClick:()=>b("preview"),className:`px-6 py-3 font-medium text-sm transition-colors ${v==="preview"?"text-blue-400 border-b-2 border-blue-400 bg-gray-700":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:" XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:441,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>b("instructions"),className:`px-6 py-3 font-medium text-sm transition-colors ${v==="instructions"?"text-blue-400 border-b-2 border-blue-400 bg-gray-700":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:" VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:451,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:440,columnNumber:13},void 0),a.jsxDEV("div",{className:"p-6",children:[v==="preview"&&a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:467,columnNumber:19},void 0),a.jsxDEV("div",{className:"bg-gray-900 rounded p-4 overflow-auto max-h-96",children:a.jsxDEV("pre",{className:"text-sm text-green-400 whitespace-pre-wrap",children:ie(t)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:469,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:468,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:466,columnNumber:17},void 0),v==="instructions"&&a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-lg font-bold mb-4 text-blue-400",children:"VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:478,columnNumber:19},void 0),a.jsxDEV("div",{className:"space-y-4 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"1. XML Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:481,columnNumber:23},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1",children:[R(),"/schedule.xml?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:483,columnNumber:25},void 0),a.jsxDEV("button",{onClick:()=>X(`${R()}/schedule.xml?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:486,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:482,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:480,columnNumber:21},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"2. CSV Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:495,columnNumber:23},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400 break-all flex-1",children:[R(),"/schedule.csv?eventId=",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:497,columnNumber:25},void 0),a.jsxDEV("button",{onClick:()=>X(`${R()}/schedule.csv?eventId=${s}`),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:500,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:496,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:494,columnNumber:21},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"3. VMIX Setup:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:509,columnNumber:23},void 0),a.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[a.jsxDEV("li",{children:"Open VMIX and go to Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:511,columnNumber:25},void 0),a.jsxDEV("li",{children:"Add a new Data Source"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:512,columnNumber:25},void 0),a.jsxDEV("li",{children:'Choose "XML" or "CSV" as the data type'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:513,columnNumber:25},void 0),a.jsxDEV("li",{children:"Paste the URL above"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:514,columnNumber:25},void 0),a.jsxDEV("li",{children:"Set refresh interval to 10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:515,columnNumber:25},void 0),a.jsxDEV("li",{children:'Click "Add" to create the data source'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:516,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:510,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:508,columnNumber:21},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-semibold text-blue-300 mb-2",children:"4. XPath for XML (if needed):"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:520,columnNumber:23},void 0),a.jsxDEV("div",{className:"bg-gray-800 p-3 rounded border flex items-center justify-between",children:[a.jsxDEV("code",{className:"text-green-400",children:"/data/schedule/item"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:522,columnNumber:25},void 0),a.jsxDEV("button",{onClick:()=>X("/data/schedule/item"),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:523,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:521,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:519,columnNumber:21},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-500/30 rounded",children:a.jsxDEV("p",{className:"text-yellow-300 text-xs",children:[a.jsxDEV("strong",{children:"Environment:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:533,columnNumber:25},void 0)," ",S()?"Netlify (Production)":"Local Development"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:532,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:531,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:479,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:477,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:464,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:439,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:344,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScheduleXMLPage.tsx",lineNumber:343,columnNumber:5},void 0)},ok=()=>window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com")||window.location.hostname!=="localhost",kp=()=>ok()?`${window.location.origin}/.netlify/functions`:"http://localhost:3002/api",Rp=async e=>{try{await navigator.clipboard.writeText(e),console.log("Copied to clipboard:",e)}catch(s){console.error("Failed to copy to clipboard:",s);const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},O9=()=>{const[e]=No(),s=e.get("eventId"),[t,i]=E.useState([]),[o,u]=E.useState(!0),[c,f]=E.useState(null),[h,x]=E.useState(null),[v,b]=E.useState("preview"),[O,w]=E.useState(10),C=async()=>{try{if(u(!0),f(null),!s)throw new Error("Event ID is required");console.log(" Fetching custom columns data for event:",s);const z=await Nt.getRunOfShowData(s);if(!z||!z.schedule_items){i([]),x(new Date);return}const A=z.schedule_items,ce=z.custom_columns||[],T=[];console.log(" Total custom column items:",A.length);const H=ce.filter(Z=>Z.name).map(Z=>Z.name);A.forEach((Z,W)=>{const M={id:`${Z.id}-custom`,row:W+1,cue:Z.customFields?.cue||"CUE##",customFields:Z.customFields||{}};T.push(M)}),console.log(" Processed custom column items:",T.length),i(T),x(new Date)}catch(z){console.error("Error fetching custom columns:",z),f(z instanceof Error?z.message:"Unknown error occurred")}finally{u(!1)}};E.useEffect(()=>{if(!s){console.log(" No event ID, skipping WebSocket connection");return}console.log(" Setting up WebSocket connection for Custom Columns XML page"),C();const z={onRunOfShowDataUpdated:ce=>{if(console.log(" Custom Columns XML: WebSocket data update received:",ce),ce&&ce.schedule_items){const T=ce.schedule_items,H=ce.custom_columns||[],Z=[];H.filter(W=>W.name).map(W=>W.name),T.forEach((W,M)=>{const Ce={id:`${W.id}-custom`,row:M+1,cue:W.customFields?.cue||"CUE##",customFields:W.customFields||{}};Z.push(Ce)}),i(Z),x(new Date),console.log(" Custom Columns XML: Data updated via WebSocket")}},onConnectionChange:ce=>{console.log(" Custom Columns XML: WebSocket connection status:",ce),ce&&C()}};bt.connect(s,z);const A=()=>{document.hidden?(console.log(" Custom Columns XML: Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(s)):bt.isConnected()||(console.log(" Custom Columns XML: Tab visible - reconnecting WebSocket"),bt.connect(s,z),C())};return document.addEventListener("visibilitychange",A),()=>{console.log(" Custom Columns XML: Cleaning up WebSocket connection"),bt.disconnect(s),document.removeEventListener("visibilitychange",A)}},[s]);const S=()=>{C()},R=z=>{const A='<?xml version="1.0" encoding="UTF-8"?>',ce=`
<data>
  <timestamp>${new Date().toISOString()}</timestamp>
  <event_id>${s||"unknown"}</event_id>
  <custom_columns>
    ${z.map(T=>{const H=T.customFields?Object.entries(T.customFields).map(([Z,W])=>`<${Z}><![CDATA[${W||""}]]></${Z}>`).join(""):"";return`
    <item>
      <id>${T.id}</id>
      <row>${T.row||z.indexOf(T)+1}</row>
      <cue><![CDATA[${T.cue||""}]]></cue>
      ${H}
    </item>`}).join("")}
  </custom_columns>
</data>`;return A+ce},X=z=>{let A="Row,Cue,";const ce=new Set;return z.forEach(T=>{T.customFields&&Object.keys(T.customFields).forEach(H=>ce.add(H))}),ce.forEach(T=>{A+=`${T},`}),A=A.slice(0,-1)+`
`,z.forEach(T=>{const H=T.row||z.indexOf(T)+1,Z=T.cue||"",W=[H,`"${Z.replace(/"/g,'""')}"`,...Array.from(ce).map(M=>`"${(T.customFields?.[M]||"").replace(/"/g,'""')}"`)].join(",");A+=W+`
`}),A},G=()=>{const z=R(t),A=new Blob([z],{type:"application/xml"}),ce=URL.createObjectURL(A),T=document.createElement("a");T.href=ce,T.download=`custom-columns-${s||"data"}.xml`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(ce)},k=()=>{const z=R(t);Rp(z)},ie=()=>{const z=X(t),A=new Blob([z],{type:"text/csv"}),ce=URL.createObjectURL(A),T=document.createElement("a");T.href=ce,T.download=`custom-columns-${s||"data"}.csv`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(ce)},K=()=>{const z=X(t);Rp(z)};return o?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:332,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-lg",children:"Loading Custom Columns Data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:333,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:331,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:330,columnNumber:7},void 0):c?a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-red-500 text-6xl mb-4",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:343,columnNumber:11},void 0),a.jsxDEV("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:344,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-300 mb-6",children:c},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:345,columnNumber:11},void 0),a.jsxDEV("button",{onClick:C,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg transition-colors",children:"Try Again"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:346,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:342,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:341,columnNumber:7},void 0):a.jsxDEV("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:a.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Custom Columns XML Feed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:362,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Live XML data feed for VMIX integration with WebSocket updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:363,columnNumber:11},void 0),s&&a.jsxDEV("p",{className:"text-sm text-blue-400 mt-2",children:["Event ID: ",s]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:367,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:361,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("label",{className:"block text-sm font-medium",children:"Refresh Interval (seconds)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:377,columnNumber:15},void 0),a.jsxDEV("select",{value:O,onChange:z=>w(Number(z.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2",children:[a.jsxDEV("option",{value:5,children:"5 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:385,columnNumber:17},void 0),a.jsxDEV("option",{value:10,children:"10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:386,columnNumber:17},void 0),a.jsxDEV("option",{value:30,children:"30 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:387,columnNumber:17},void 0),a.jsxDEV("option",{value:60,children:"1 minute"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:388,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:380,columnNumber:15},void 0),a.jsxDEV("button",{onClick:S,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 px-4 py-2 rounded font-medium",children:o?"Loading...":"Refresh Now"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:390,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:376,columnNumber:13},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:G,className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-medium",children:"Download XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:400,columnNumber:15},void 0),a.jsxDEV("button",{onClick:k,className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded font-medium",children:"Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:406,columnNumber:15},void 0),a.jsxDEV("button",{onClick:ie,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-medium",children:"Download CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:412,columnNumber:15},void 0),a.jsxDEV("button",{onClick:K,className:"bg-orange-600 hover:bg-orange-700 px-4 py-2 rounded font-medium",children:"Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:418,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:399,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:375,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:374,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${o?"bg-yellow-500":c?"bg-red-500":"bg-green-500"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:432,columnNumber:15},void 0),a.jsxDEV("span",{className:"font-medium",children:o?"Loading...":c?"Error":"Connected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:433,columnNumber:15},void 0),h&&a.jsxDEV("span",{className:"text-sm text-gray-400",children:["Last updated: ",h.toLocaleString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:437,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:431,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-sm text-gray-400",children:["Auto-refresh: ",O,"s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:442,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:430,columnNumber:11},void 0),c&&a.jsxDEV("div",{className:"mt-2 text-red-400 text-sm",children:c},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:447,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:429,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex space-x-4 mb-6",children:[a.jsxDEV("button",{className:`px-6 py-3 rounded-lg font-semibold transition-colors ${v==="preview"?"bg-blue-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>b("preview"),children:" XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:454,columnNumber:13},void 0),a.jsxDEV("button",{className:`px-6 py-3 rounded-lg font-semibold transition-colors ${v==="instructions"?"bg-blue-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>b("instructions"),children:" VMIX Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:464,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:453,columnNumber:9},void 0),v==="preview"&&a.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:"XML Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:478,columnNumber:15},void 0),a.jsxDEV("div",{className:"bg-gray-900 rounded p-4 overflow-auto max-h-96",children:a.jsxDEV("pre",{className:"text-sm text-green-400 whitespace-pre-wrap",children:R(t)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:480,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:479,columnNumber:15},void 0),a.jsxDEV("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h3",{className:"text-lg font-semibold",children:"XML Actions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:487,columnNumber:19},void 0),a.jsxDEV("button",{onClick:G,className:"w-full px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors",children:" Download XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:488,columnNumber:19},void 0),a.jsxDEV("button",{onClick:k,className:"w-full px-4 py-3 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg transition-colors",children:" Copy XML"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:494,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:486,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h3",{className:"text-lg font-semibold",children:"CSV Actions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:503,columnNumber:19},void 0),a.jsxDEV("button",{onClick:ie,className:"w-full px-4 py-3 bg-yellow-600 hover:bg-yellow-500 text-white font-medium rounded-lg transition-colors",children:" Download CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:504,columnNumber:19},void 0),a.jsxDEV("button",{onClick:K,className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-500 text-white font-medium rounded-lg transition-colors",children:" Copy CSV"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:510,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:502,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:485,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:477,columnNumber:13},void 0),v==="instructions"&&a.jsxDEV("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-6",children:[a.jsxDEV("h3",{className:"text-lg font-bold mb-4 text-blue-400",children:"VMIX Integration Instructions"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:523,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"text-md font-semibold mb-2 text-blue-300",children:"XML Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:527,columnNumber:19},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded p-3 flex items-center space-x-2",children:[a.jsxDEV("code",{className:"text-green-400 flex-1 text-sm",children:[kp(),"/custom-columns.xml?eventId=",s||"YOUR_EVENT_ID"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:529,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>Rp(`${kp()}/custom-columns.xml?eventId=${s||"YOUR_EVENT_ID"}`),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:532,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:528,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:526,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"text-md font-semibold mb-2 text-blue-300",children:"CSV Data Source URL:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:542,columnNumber:19},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded p-3 flex items-center space-x-2",children:[a.jsxDEV("code",{className:"text-green-400 flex-1 text-sm",children:[kp(),"/custom-columns.csv?eventId=",s||"YOUR_EVENT_ID"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:544,columnNumber:21},void 0),a.jsxDEV("button",{onClick:()=>Rp(`${kp()}/custom-columns.csv?eventId=${s||"YOUR_EVENT_ID"}`),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded transition-colors",children:"Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:547,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:543,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:541,columnNumber:17},void 0),a.jsxDEV("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded p-4",children:[a.jsxDEV("h4",{className:"text-md font-semibold mb-2 text-yellow-300",children:"Environment:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:558,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-yellow-200 text-sm",children:ok()?" Netlify Hosted":" Local Development"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:559,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:557,columnNumber:17},void 0),a.jsxDEV("div",{className:"bg-gray-800 rounded p-4",children:[a.jsxDEV("h4",{className:"text-md font-semibold mb-2 text-gray-300",children:"VMIX Setup Steps:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:565,columnNumber:19},void 0),a.jsxDEV("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-300",children:[a.jsxDEV("li",{children:"Open VMIX and go to Data Sources"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:567,columnNumber:21},void 0),a.jsxDEV("li",{children:'Click "Add Data Source" and select "XML" or "CSV"'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:568,columnNumber:21},void 0),a.jsxDEV("li",{children:'Paste the URL above into the "URL" field'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:569,columnNumber:21},void 0),a.jsxDEV("li",{children:"Set refresh interval to 10 seconds for live updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:570,columnNumber:21},void 0),a.jsxDEV("li",{children:"Configure your graphics to use the data fields"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:571,columnNumber:21},void 0),a.jsxDEV("li",{children:"Custom fields will be available as separate columns"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:572,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:566,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:564,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:525,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:522,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:359,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/CustomColumnsXMLPage.tsx",lineNumber:358,columnNumber:5},void 0)},y9=()=>{const e=Js();Ai();const s=new URLSearchParams(e.search),t=s.get("eventId"),i=s.get("eventName"),o=e.state?.event||{id:t||"",name:i||"Current Event",date:"",location:"",schedule:[]},[u,c]=E.useState([]),[f,h]=E.useState(null),[x,v]=E.useState(!0),[b,O]=E.useState(null),[w,C]=E.useState(!1);return E.useEffect(()=>{(async()=>{console.log("=== GRAPHICS LINKS PAGE INITIALIZATION ==="),console.log("Event from location.state:",e.state?.event),console.log("Event from URL params:",{eventId:t,eventName:i}),console.log("Final event object:",o);try{console.log(" Loading from localStorage first...");let R=null;if(o?.id){const X=`runOfShowSchedule_${o.id}`;R=localStorage.getItem(X)}if(!R&&t){const X=`runOfShowSchedule_${t}`;R=localStorage.getItem(X)}if(!R){const G=Object.keys(localStorage).filter(k=>k.startsWith("runOfShowSchedule_"));if(G.length>0){const k=G[G.length-1];R=localStorage.getItem(k)}}if(R){const X=JSON.parse(R);console.log(" Loaded from localStorage:",X),c(X),v(!1);return}if(o?.id){console.log(" No localStorage data, loading from API for event:",o.id);const X=await Nt.getRunOfShowData(o.id);X&&(console.log(" Loaded from API:",X),c(X.schedule_items||[]),h(X.updated_at||null))}}catch(R){console.error(" Error loading initial data:",R)}finally{v(!1)}})()},[o?.id,t]),E.useEffect(()=>{if(!o?.id){console.log(" No event ID, skipping WebSocket connection");return}console.log(" Setting up WebSocket connection for Graphics Links page");const S={onRunOfShowDataUpdated:X=>{console.log(" Graphics Links: WebSocket data update received:",X),X&&X.schedule_items&&(c(X.schedule_items),h(X.updated_at||null),O(new Date),console.log(" Graphics Links: Schedule updated via WebSocket"))},onConnectionChange:X=>{console.log(" Graphics Links: WebSocket connection status:",X),X&&(async()=>{try{const k=await Nt.getRunOfShowData(o.id);k&&(c(k.schedule_items||[]),h(k.updated_at||null),console.log(" Graphics Links: Data reloaded on reconnection"))}catch(k){console.error(" Graphics Links: Error reloading data on reconnection:",k)}})()}};bt.connect(o.id,S);const R=()=>{document.hidden?(console.log(" Graphics Links: Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(o.id)):bt.isConnected()||(console.log(" Graphics Links: Tab visible - reconnecting WebSocket"),bt.connect(o.id,S),S.onInitialSync?.())};return document.addEventListener("visibilitychange",R),()=>{console.log(" Graphics Links: Cleaning up WebSocket connection"),bt.disconnect(o.id),document.removeEventListener("visibilitychange",R)}},[o?.id]),a.jsxDEV("div",{className:"min-h-screen bg-slate-900 text-white pt-16",children:[a.jsxDEV("div",{className:"bg-slate-800 border-b border-slate-700",children:a.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV("button",{onClick:()=>{window.close()},className:"text-slate-300 hover:text-white transition-colors mr-6",children:" Back to Run of Show"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:482,columnNumber:15},void 0),a.jsxDEV("h1",{className:"text-xl font-semibold",children:"Graphics Links"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:491,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:481,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-slate-400",children:o?.name||"Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:493,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:480,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:479,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:478,columnNumber:7},void 0),a.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsxDEV("div",{className:"mb-6",children:[a.jsxDEV("h2",{className:"text-3xl font-bold text-white mb-2",children:" Downloads & Tools"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:503,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-gray-400",children:"Desktop applications and local server packages for offline use"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:504,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:502,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-4 shadow-lg border border-blue-400 mb-4",children:a.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:[a.jsxDEV("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white whitespace-nowrap",children:" Event ID:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:511,columnNumber:15},void 0),a.jsxDEV("div",{className:"bg-gray-900 px-4 py-2 rounded border border-blue-400 flex-1",children:a.jsxDEV("code",{className:"text-green-400 font-mono text-sm font-bold",children:t||o?.id||"No Event ID"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:513,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:512,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:510,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>{const S=t||o?.id;S?navigator.clipboard.writeText(S).then(()=>{alert("Event ID copied to clipboard!")}).catch(()=>{const R=document.createElement("textarea");R.value=S,document.body.appendChild(R),R.select(),document.execCommand("copy"),document.body.removeChild(R),alert("Event ID copied to clipboard!")}):alert("No Event ID available")},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors font-semibold whitespace-nowrap text-sm",children:" Copy"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:516,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:509,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:508,columnNumber:9},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxDEV("div",{className:"bg-green-800 rounded-lg p-5 shadow-lg border border-green-600 hover:shadow-xl transition-shadow",children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white mb-2",children:" Python Desktop App"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:546,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-green-200 text-xs mb-3",children:"Standalone graphics generator with GUI server toggle"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:547,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-green-900/30 rounded p-2 mb-3",children:a.jsxDEV("ul",{className:"text-green-100 text-xs space-y-0.5",children:[a.jsxDEV("li",{children:" GUI toggle: Railway or Local"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:551,columnNumber:17},void 0),a.jsxDEV("li",{children:" CSV files every 10 seconds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:552,columnNumber:17},void 0),a.jsxDEV("li",{children:" WebSocket real-time updates"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:553,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:550,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:549,columnNumber:13},void 0),a.jsxDEV("a",{href:"/OptimizedGraphicsGenerator-Python.zip",download:"OptimizedGraphicsGenerator-Python.zip",className:"block w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2.5 rounded-lg transition-colors font-semibold text-center text-sm",children:" Download Python App"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:557,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-green-300 text-xs text-center mt-2",children:"~2 MB  Requires Python 3.8+"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:564,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:545,columnNumber:11},void 0),a.jsxDEV("div",{className:"bg-purple-800 rounded-lg p-5 shadow-lg border border-purple-600 hover:shadow-xl transition-shadow",children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white mb-2",children:" Node.js Local Server"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:569,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-purple-200 text-xs mb-3",children:"Standalone API + WebSocket server for local use"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:570,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-purple-900/30 rounded p-2 mb-3",children:a.jsxDEV("ul",{className:"text-purple-100 text-xs space-y-0.5",children:[a.jsxDEV("li",{children:" API + WebSocket (port 3002)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:574,columnNumber:17},void 0),a.jsxDEV("li",{children:" All VMIX XML/CSV endpoints"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:575,columnNumber:17},void 0),a.jsxDEV("li",{children:" One-click start  Node.js only"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:576,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:573,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:572,columnNumber:13},void 0),a.jsxDEV("a",{href:"/ROS-Local-Server-NodeJS.zip",download:"ROS-Local-Server-NodeJS.zip",className:"block w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2.5 rounded-lg transition-colors font-semibold text-center text-sm",children:" Download Local Server"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:580,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-purple-300 text-xs text-center mt-2",children:"~50 KB  Requires Node.js 18+"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:587,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:568,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:543,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:501,columnNumber:7},void 0),a.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-8 shadow-2xl",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Generate JSON Files"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:597,columnNumber:15},void 0),x&&a.jsxDEV("p",{className:"text-blue-400 text-sm mt-1",children:" Loading data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:599,columnNumber:17},void 0),b&&!x&&a.jsxDEV("p",{className:"text-green-400 text-sm mt-1",children:[" Last updated: ",b.toLocaleTimeString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:602,columnNumber:17},void 0),w&&a.jsxDEV("p",{className:"text-blue-400 text-sm mt-1",children:" Updating data..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:607,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:596,columnNumber:13},void 0),a.jsxDEV("button",{onClick:async()=>{console.log(" Manual refresh triggered"),v(!0);try{let S=null;if(o?.id){const R=`runOfShowSchedule_${o.id}`;S=localStorage.getItem(R)}if(!S&&t){const R=`runOfShowSchedule_${t}`;S=localStorage.getItem(R)}if(!S){const X=Object.keys(localStorage).filter(G=>G.startsWith("runOfShowSchedule_"));if(X.length>0){const G=X[X.length-1];S=localStorage.getItem(G)}}if(S){const R=JSON.parse(S);console.log(" Refreshed from localStorage:",R),c(R),O(new Date),alert("Data refreshed from local storage!");return}if(o?.id){const R=await Nt.getRunOfShowData(o.id);R?(c(R.schedule_items||[]),h(R.updated_at||null),O(new Date),console.log(" Refreshed from API"),alert("Data refreshed from database!")):alert("No schedule data found")}else alert("No schedule data found")}catch(S){console.error(" Error refreshing data:",S),alert("Error refreshing data")}finally{v(!1)}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg transition-colors",children:" Refresh Data"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:610,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:595,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-slate-300 mb-8",children:["Click the buttons below to generate url links that VMIX can use as data sources for graphics.",a.jsxDEV("span",{className:"text-green-400 font-medium",children:"  Live pages updates automatically when content changes! "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:676,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-blue-400 font-medium",children:"  Optimized for minimal data usage with WebSocket updates! "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:677,columnNumber:13},void 0),`Use "Refresh Data" if changes don't appear automatically.`]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:674,columnNumber:11},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 flex flex-col",children:[a.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-4 text-center",children:"Lower Thirds"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:685,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-3 mt-auto",children:[a.jsxDEV("button",{onClick:()=>{const S=`/netlify-lower-thirds-xml?eventId=${o.id}`;window.open(S,"_blank")},className:"w-full px-4 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Railway) "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:687,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const S=`/lower-thirds-xml?eventId=${o.id}`;window.open(S,"_blank")},className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Local)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:696,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const S=`/google-sheets-vmix?eventId=${o.id}`;window.open(S,"_blank")},className:"w-full px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors",children:" Google Sheets VMIX Integration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:705,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:686,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:684,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 flex flex-col",children:[a.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-4 text-center",children:"Schedule"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:719,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-3 mt-auto",children:[a.jsxDEV("button",{onClick:()=>{const S=`/netlify-schedule-xml?eventId=${o.id}`;window.open(S,"_blank")},className:"w-full px-4 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Railway) "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:721,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const S=`/schedule-xml?eventId=${o.id}`;window.open(S,"_blank")},className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Local)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:730,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const S=`/google-sheets-vmix?eventId=${o.id}`;window.open(S,"_blank")},className:"w-full px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors",children:" Google Sheets VMIX Integration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:739,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:720,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:718,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 flex flex-col",children:[a.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-4 text-center",children:"Custom Graphics"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:753,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-3 mt-auto",children:[a.jsxDEV("button",{onClick:()=>{const S=`/netlify-custom-columns-xml?eventId=${o.id}`;window.open(S,"_blank")},className:"w-full px-4 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Railway) "},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:755,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const S=`/custom-columns-xml?eventId=${o.id}`;window.open(S,"_blank")},className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-500 text-white font-medium rounded-lg transition-colors",children:" XML/CSV Feed Page (Local)"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:764,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{const S=`/google-sheets-vmix?eventId=${o.id}`;window.open(S,"_blank")},className:"w-full px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors",children:" Google Sheets VMIX Integration"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:773,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:754,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:752,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:681,columnNumber:11},void 0),a.jsxDEV("div",{className:"mt-8 p-4 bg-slate-600 rounded-lg",children:[a.jsxDEV("h4",{className:"text-white font-semibold mb-2",children:"VMIX Data Source Information"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:789,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-300 text-sm",children:'These data sources are designed for VMIX and will include only items marked as "Public":'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:790,columnNumber:13},void 0),a.jsxDEV("ul",{className:"text-slate-300 text-sm mt-2 ml-4 list-disc",children:[a.jsxDEV("li",{children:[a.jsxDEV("strong",{children:"Schedule:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:794,columnNumber:19},void 0)," Segment Name, Start Time (sorted by time)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:794,columnNumber:15},void 0),a.jsxDEV("li",{children:[a.jsxDEV("strong",{children:"Lower Thirds:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:795,columnNumber:19},void 0)," Speaker Names, Titles, Organizations, Segments, CUEs (up to 7 speakers per segment)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:795,columnNumber:15},void 0),a.jsxDEV("li",{children:[a.jsxDEV("strong",{children:"Custom Graphics:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:796,columnNumber:19},void 0)," Type, Text, Duration, CUE, Start Time, Notes, plus custom columns (if data exists)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:796,columnNumber:15},void 0),a.jsxDEV("li",{children:[a.jsxDEV("strong",{children:"VMIX XML:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:797,columnNumber:19},void 0)," Native VMIX XML format with auto-refresh every 10 seconds, includes segment details and timing"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:797,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:793,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-green-900 rounded-lg",children:a.jsxDEV("p",{className:"text-green-200 text-sm",children:[a.jsxDEV("strong",{children:" Live Updates:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:801,columnNumber:17},void 0),' Use the "Live" URLs for real-time data that automatically updates every 10 seconds in VMIX']},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:800,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:799,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-blue-900 rounded-lg",children:a.jsxDEV("p",{className:"text-blue-200 text-sm",children:[a.jsxDEV("strong",{children:"VMIX Setup:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:806,columnNumber:17},void 0)," Copy the Live URLs and add them in VMIX Data Sources  JSON/XML/CSV. No need to save files manually!"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:805,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:804,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-2 p-3 bg-yellow-900 rounded-lg",children:a.jsxDEV("p",{className:"text-yellow-200 text-sm",children:[a.jsxDEV("strong",{children:"Format Options:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:811,columnNumber:17},void 0)," JSON (recommended), XML, or CSV - choose what works best with your VMIX setup"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:810,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:809,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-2 p-3 bg-purple-900 rounded-lg",children:a.jsxDEV("p",{className:"text-purple-200 text-sm",children:[a.jsxDEV("strong",{children:" Performance Optimized:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:816,columnNumber:17},void 0)," This page now uses WebSocket for real-time updates and localStorage caching to minimize data usage and improve performance"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:815,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:814,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:788,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:594,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:593,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GraphicsLinksPage.tsx",lineNumber:476,columnNumber:5},void 0)},E9=()=>{const e=Js();Ai();const s=new URLSearchParams(e.search),t=s.get("eventId"),i=s.get("eventName"),o=e.state?.event||{id:t||"",name:i||"Current Event",date:"",location:"",schedule:[]};console.log("ReportsPage event data:",{fromState:!!e.state?.event,eventId:t,eventName:i,finalEvent:o,userRole:localStorage.getItem("currentUserRole")});const[u,c]=E.useState([]),[f,h]=E.useState(""),[x,v]=E.useState("showfile"),[b,O]=E.useState(1),[w,C]=E.useState("landscape");E.useEffect(()=>{console.log("=== REPORTS PAGE INITIALIZATION ==="),console.log("Event:",o);let ce=null;if(o?.id){const W=`runOfShowSchedule_${o.id}`;ce=localStorage.getItem(W)}if(!ce&&t){const W=`runOfShowSchedule_${t}`;ce=localStorage.getItem(W)}if(!ce){const M=Object.keys(localStorage).filter(Ce=>Ce.startsWith("runOfShowSchedule_"));if(M.length>0){const Ce=M[M.length-1];ce=localStorage.getItem(Ce)}}if(ce)try{const W=JSON.parse(ce);c(W),console.log("Schedule loaded:",W),console.log("First schedule item:",W[0]),console.log("Schedule item duration fields:",W[0]?{durationHours:W[0].durationHours,durationMinutes:W[0].durationMinutes,durationSeconds:W[0].durationSeconds}:"No items")}catch(W){console.log("Error parsing schedule:",W)}const H=Object.keys(localStorage).filter(W=>W.startsWith("masterStartTime_"));console.log("Master time keys found:",H);let Z=null;if(o?.id&&(Z=localStorage.getItem(`masterStartTime_${o.id}`),console.log(`Master time for event ${o.id}:`,Z)),!Z&&H.length>0){const W=H[H.length-1];Z=localStorage.getItem(W),console.log("Latest master time key:",W,"Value:",Z)}Z?(h(Z),console.log("Master start time set to:",Z)):(console.log("No master start time found in localStorage"),h("09:00"),console.log("Set default master start time to 09:00"))},[o?.id,t]);const S=ce=>{if(!ce)return"Not set";const[T,H]=ce.split(":").map(Number),Z=new Date;return Z.setHours(T,H,0,0),Z.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},R=(ce,T=20)=>ce?ce.length<=T?ce:ce.substring(0,T-3)+"...":"",X=ce=>{if(ce.trim().length===0)return{html:"",needsSmallText:!1};const T=ce.trim(),H=T.split(/\s+/);if(H.length<=1)return{html:T,needsSmallText:!1};const Z=["Dr","Dr.","Prof","Prof.","Mr","Mr.","Mrs","Mrs.","Ms","Ms.","Hon","Hon.","Honorable","Sen","Sen.","Senator","Rep","Rep.","Representative","Gov","Gov.","Governor","Mayor","Judge","Ambassador","Amb","Amb.","General","Gen","Gen.","Admiral","Adm","Adm.","Colonel","Col","Col.","Major","Maj","Maj.","Captain","Capt","Capt.","Lieutenant","Lt","Lt.","Sergeant","Sgt","Sgt.","Chief","Commander","Comm"],W=["Jr","Jr.","Sr","Sr.","III","IV","V","Ph.D","PhD","MD","DDS","DVM","Esq","Esq.","CPA","PE","RN","LPN"];let M="",Ce="",De="",we="",ge="";Z.includes(H[0])&&(M=H[0],H.shift());const He=T.match(/\([DR]\)/i);if(He){ge=He[0];const le=H.findIndex(pe=>pe.match(/\([DR]\)/i));le!==-1&&H.splice(le,1)}if(H.length>0&&W.includes(H[H.length-1])&&(we=H[H.length-1],H.pop()),H.length===0)return{html:T,needsSmallText:!1};if(H.length===1)Ce=H[0];else{const le=H.length-1;De=H[le],Ce=H.slice(0,le).join(" ")}const ue=9;let ke=[M,Ce].filter(Boolean).join(" "),Ue=[De,we,ge].filter(Boolean).join(" ");if(ke.length>ue&&Ce.includes(" ")){const le=Ce.split(" ");if(le.length>1){const pe=le.pop(),de=le.join(" ");ke=[M,de].filter(Boolean).join(" "),Ue=[pe,De,we,ge].filter(Boolean).join(" ")}}if(ke.length>ue&&Ce.includes(" ")){const le=Ce.split(" ");if(le.length>2){const pe=le.splice(-2),de=le.join(" ");ke=[M,de].filter(Boolean).join(" "),Ue=[pe.join(" "),De,we,ge].filter(Boolean).join(" ")}}const te=ke.length>ue||Ue.length>ue;return{html:`${ke}<br/>${Ue}`,needsSmallText:te}},G=ce=>{if(console.log(`calculateStartTime called with index: ${ce}, masterStartTime: ${f}`),!f)return console.log("No master start time, returning empty string"),"";let T=0;for(let Ce=0;Ce<ce;Ce++){const De=u[Ce];T+=De.durationHours*60+De.durationMinutes}console.log(`Total minutes for index ${ce}: ${T}`);const[H,Z]=f.split(":").map(Number),W=new Date;W.setHours(H,Z+T,0,0);const M=W.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return console.log(`Calculated start time for index ${ce}: ${M}`),M},k=ce=>({"PreShow/End":"#8B5CF6","Podium Transition":"#8B4513","Panel Transition":"#404040","Sub Cue":"#F3F4F6","No Transition":"#059669",Video:"#F59E0B","Panel+Remote":"#1E40AF","Remote Only":"#60A5FA",Break:"#EC4899",TBD:"#6B7280",KILLED:"#DC2626",Podium:"#FFFFFF",Panel:"#FFFFFF"})[ce]||"#D3D3D3",ie=ce=>ce==="Panel Transition"||ce==="Podium Transition"||ce==="Panel"||ce==="Podium"?"#FFFFFF":k(ce),K=()=>{const ce=x==="showfile",T=x==="speakers",H=w,Z=u.filter(W=>(W.day||1)===b);if(console.log("=== GENERATING REPORT ==="),console.log("Report type:",x),console.log("Selected day:",b),console.log("Total schedule items:",u.length),console.log("Filtered schedule items:",Z.length),console.log("Sample item:",Z[0]),console.log("Master start time:",f),Z.length>0){const W=u.findIndex(Ce=>Ce.id===Z[0].id),M=G(W);console.log("Test start time calculation:",{testIndex:W,testStartTime:M,item:Z[0].segmentName})}if(ce){let W=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>ROS Show File - ${o?.name||"Event"}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 15px;
              font-size: 11px;
              line-height: 1.3;
              background: white;
            }
            @media print {
              body { 
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            .header { 
              text-align: center; 
              margin-bottom: 15px; 
            }
            .header h1 { 
              font-size: 16px; 
              margin: 0; 
              color: #000;
              font-weight: normal;
            }
            .header h2 { 
              font-size: 12px; 
              margin: 3px 0 0 0; 
              color: #333; 
              font-weight: normal;
            }
            .event-info { 
              background: #f5f5f5; 
              padding: 8px; 
              margin-bottom: 12px; 
              font-size: 10px;
              border: 1px solid #ddd;
            }
            .section { 
              margin-bottom: 8px; 
              border: 1px solid #000;
              page-break-inside: avoid;
            }
            .section-header { 
              padding: 6px 8px; 
              font-weight: normal; 
              font-size: 11px;
              color: white;
              background: #366092;
              border-bottom: 1px solid #000;
            }
            .section-content { 
              padding: 0; 
              background: white;
            }
            .modal-table { 
              width: 100%;
              border-collapse: collapse;
              border: 2px solid #000;
              background: white;
            }
            .modal-table td { 
              border: 1px solid #000; 
              padding: 6px 8px; 
              background: white;
              vertical-align: top;
            }
            .modal-table .header-cell { 
              background: #d9d9d9; 
              font-weight: normal; 
              text-align: center;
              font-size: 10px;
              width: 70px;
              min-width: 70px;
            }
            .modal-table .segment-cell { 
              min-width: 180px;
              max-width: 250px;
              word-wrap: break-word;
              font-size: 11px;
            }
            .modal-table .notes-cell { 
              background: #f0f0f0; 
              min-height: 35px;
              min-width: 200px;
              font-size: 10px;
            }
            .modal-table         .participants-cell { 
          background: #f0f0f0; 
          min-height: 60px;
          min-width: 600px;
          width: 600px;
          max-width: 600px;
        }
            .modal-table .start-time-cell { 
              background: #e7f3ff; 
              font-weight: normal;
              font-size: 12px;
            }
            .times-cell {
              background: #e7f3ff;
              font-weight: normal;
              text-align: center;
              vertical-align: middle;
              width: 80px;
              min-width: 80px;
            }
            .times-content {
              display: flex;
              flex-direction: column;
              gap: 2px;
            }
            .start-time {
              font-size: 11px;
              font-weight: normal;
              color: #000;
            }
            .duration {
              font-size: 11px;
              font-weight: normal;
              color: #000;
            }
            .time-label {
              font-size: 9px;
              font-weight: normal;
              color: #333;
              margin-right: 4px;
            }
            .simple-table { 
              width: 100%;
              border-collapse: collapse;
              border: 1px solid #000;
              background: white;
            }
            .simple-table td { 
              border: 1px solid #000; 
              padding: 8px; 
              background: white;
              vertical-align: top;
              font-size: 11px;
            }
        .simple-table .header-cell { 
          background: #d9d9d9; 
          font-weight: normal; 
          text-align: center;
          font-size: 10px;
        }
        .stacked-header {
          width: 300px;
        }
        .stacked-cell {
          width: 300px;
          max-width: 300px;
          vertical-align: top;
          padding: 8px;
        }
        .stacked-item {
          margin-bottom: 8px;
          padding-bottom: 6px;
          border-bottom: 1px solid #e0e0e0;
          display: flex;
          flex-direction: column;
        }
        .stacked-item:last-child {
          border-bottom: none;
          margin-bottom: 0;
          padding-bottom: 0;
        }
        .stacked-label {
          font-weight: normal;
          font-size: 9px;
          color: #333;
          margin-bottom: 3px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        .stacked-value {
          font-size: 10px;
          line-height: 1.3;
          word-wrap: break-word;
          color: #000;
          padding-left: 4px;
        }
        .slot-cell {
          width: 75px;
          height: 155px;
          vertical-align: top;
          min-width: 75px;
          max-width: 75px;
        }
        .slot-container {
          height: 155px;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          padding: 4px;
        }
        .slot-top {
          display: flex;
          flex-direction: column;
          align-items: center;
        }
        .slot-name {
          font-weight: normal;
          font-size: 11px;
          line-height: 1.2;
        }
        .slot-title {
          font-size: 10px;
          line-height: 1.1;
          color: #666;
        }
        .slot-org {
          font-size: 10px;
          line-height: 1.1;
          color: #666;
        }
        .slot-photo {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-top: 8px;
        }
        .slot-photo-img {
          width: 50px;
          height: 65px;
          object-fit: cover;
          border-radius: 4px;
          border: 1px solid #ccc;
          margin: 0 auto;
        }
        .slot-text {
          margin-top: 4px;
          text-align: center;
          font-size: 9px;
          line-height: 1.2;
          color: #000;
          max-height: 90px;
          overflow: hidden;
        }
        .slot-name {
          font-weight: bold;
          font-size: 8px;
          margin-bottom: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          line-height: 1.0;
          max-height: 18px;
          overflow: hidden;
        }
        .slot-name-small {
          font-weight: bold;
          font-size: 7px;
          margin-bottom: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          line-height: 1.0;
          max-height: 16px;
          overflow: hidden;
        }
        .slot-title {
          font-size: 8px;
          color: #333;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .slot-org {
          font-size: 8px;
          color: #666;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .slot-role {
          font-size: 8px;
          color: #000;
          font-weight: bold;
          background-color: #f0f0f0;
          border: 1px solid #ccc;
          border-radius: 3px;
          padding: 1px 3px;
          margin-top: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          min-height: 10px;
        }
        .notes-header-row {
          background: #e0e0e0;
        }
        .notes-header-cell {
          padding: 6px 8px;
          font-size: 10px;
          font-weight: normal;
          text-align: center;
          border-top: 2px solid #ddd;
          background: #e0e0e0;
        }
        .notes-content-row {
          background: #f9f9f9;
        }
        .notes-content-cell {
          padding: 8px;
          font-size: 10px;
          line-height: 1.3;
          background: #f9f9f9;
        }
            .modal-cell .field-label { 
              font-weight: normal; 
              font-size: 11px; 
              color: #333; 
              margin-bottom: 4px;
            }
            .modal-cell .field-value { 
              font-size: 12px; 
              color: #000;
              line-height: 1.3;
            }
            .speaker-item { 
              display: flex; 
              align-items: center; 
              margin-bottom: 6px;
              padding: 6px;
              background: white;
              border: 1px solid #ddd;
              border-radius: 4px;
              box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            }
            .speaker-photo { 
              width: 40px; 
              height: 40px; 
              border-radius: 4px; 
              object-fit: cover; 
              border: 2px solid #007acc;
              margin-right: 10px;
              flex-shrink: 0;
            }
            .speaker-info { 
              flex: 1;
            }
            .speaker-badges { 
              display: flex; 
              gap: 4px;
              margin-bottom: 3px;
            }
            .speaker-name { 
              font-weight: normal; 
              font-size: 11px; 
              color: #000;
              margin-bottom: 2px;
            }
            .slot-badge { 
              background: #007acc; 
              color: white; 
              padding: 2px 6px; 
              border-radius: 6px; 
              font-size: 8px; 
              font-weight: normal;
            }
            .location-badge { 
              background: #28a745; 
              color: white; 
              padding: 2px 6px; 
              border-radius: 6px; 
              font-size: 8px; 
              font-weight: normal;
            }
            .speaker-title { 
              color: #666; 
              font-size: 10px;
              margin-bottom: 1px;
            }
            .speaker-org { 
              color: #888; 
              font-size: 9px;
            }
            .footer { 
              margin-top: 40px; 
              text-align: center; 
              color: #666; 
              font-size: 12px;
              border-top: 1px solid #ddd;
              padding-top: 20px;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
              @page { 
                size: A4 ${H}; 
                margin: 0.2in; 
              }
              .section { 
                page-break-inside: avoid;
              }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>ROS SHOW FILE</h1>
            <h2>${o?.name||"Event"}${o?.numberOfDays&&o.numberOfDays>1?` - Day ${b}`:""}</h2>
          </div>
          
      `;return Z.forEach((M,Ce)=>{const De=u.findIndex(te=>te.id===M.id),we=G(De),ge=`${M.durationHours.toString().padStart(2,"0")}:${M.durationMinutes.toString().padStart(2,"0")}:${M.durationSeconds.toString().padStart(2,"0")}`,He=k(M.programType||"");console.log(`SHOW FILE - Item ${Ce} (${M.segmentName}):`,{originalIndex:De,startTime:we,duration:ge,masterStartTime:f,itemId:M.id});let ue=[];if(M.speakersText)try{ue=JSON.parse(M.speakersText),console.log(`Speakers parsed for item ${Ce} (${M.segmentName}):`,ue),ue.forEach((te,le)=>{console.log(`  Speaker ${le+1}:`,{fullName:te.fullName,photoLink:te.photoLink,photoUrl:te.photoUrl,hasPhoto:!!(te.photoLink||te.photoUrl)})})}catch(te){console.log(`Error parsing speakers for item ${Ce}:`,te),ue=[{fullName:M.speakersText,title:"",org:"",photoLink:""}]}else console.log(`No speakersText for item ${Ce}:`,M.segmentName);let ke="";M.hasPPT&&M.hasQA?ke="PPT + Q&A":M.hasPPT?ke="PPT":M.hasQA?ke="Q&A":ke="None",W+=`
          <div class="section">
            <div class="section-content">
              <table class="simple-table">
                <tr>
                  <td class="header-cell">CUE</td>
                  <td class="header-cell">TIME</td>
                  <td class="header-cell stacked-header">SEGMENT INFO</td>
                  <td class="header-cell">SLOT 1</td>
                  <td class="header-cell">SLOT 2</td>
                  <td class="header-cell">SLOT 3</td>
                  <td class="header-cell">SLOT 4</td>
                  <td class="header-cell">SLOT 5</td>
                  <td class="header-cell">SLOT 6</td>
                  <td class="header-cell">SLOT 7</td>
                </tr>
                <tr>
                  <td>
                    <div style="margin-bottom: 4px;">${M.customFields.cue||`CUE ${Ce+1}`}</div>
                    <div style="background-color: ${He}; color: ${M.programType==="Sub Cue"?"black":"white"}; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: normal; display: inline-block; ${M.programType==="Sub Cue"?"border: 1px solid #000000;":""}">${M.programType||"Unknown"}</div>
                  </td>
                  <td class="times-cell">
                    <div class="times-content">
                      <div class="start-time">
                        <span class="time-label">Start:</span> ${we}
                      </div>
                      <div class="duration">
                        <span class="time-label">Dur:</span> ${ge}
                      </div>
                    </div>
                  </td>
                  <td class="stacked-cell">
                    <div class="stacked-item">
                      <div class="stacked-label">SEGMENT:</div>
                      <div class="stacked-value">${M.segmentName||"Untitled Segment"}</div>
                    </div>
                    <div class="stacked-item">
                      <div class="stacked-label">SHOT:</div>
                      <div class="stacked-value">${M.shotType||"Not specified"}</div>
                    </div>
                    <div class="stacked-item">
                      <div class="stacked-label">PPT/Q&A:</div>
                      <div class="stacked-value">${ke}</div>
                    </div>
                  </td>
        `;const Ue=["","","","","","",""];ue.length>0&&ue.forEach((te,le)=>{const pe=te.fullName||te.name||"Unknown",de=te.title||"",oe=te.org||"",Q=te.slot||1,_=te.location||"Podium",J=te.photoLink||te.photoUrl||"",L=R(de,15),he=R(oe,15);console.log(`    Processing speaker ${le+1} (${pe}): photoLink="${J}"`);const q=X(pe),Xe=q.needsSmallText?"slot-name-small":"slot-name";let Ke=`
              <div class="slot-container">
                <div class="slot-top">
                  <div class="slot-photo">${J?`<img src="${J}" alt="${pe}" class="slot-photo-img" />`:""}</div>
                  <div class="slot-text">
                    <div class="${Xe}">${q.html}</div>
                    <div class="slot-title">${L}...</div>
                    <div class="slot-org">${he}...</div>
                  </div>
                </div>
                <div class="slot-role">${_}</div>
              </div>
            `;const Dt=Math.min(Q-1,6);Dt>=0&&Dt<7&&(Ue[Dt]=Ke)});for(let te=0;te<7;te++)W+=`<td class="slot-cell">${Ue[te]||""}</td>`;W+=`
                </tr>
                <tr class="notes-header-row">
                  <td colspan="11" class="notes-header-cell">NOTES</td>
                </tr>
                <tr class="notes-content-row">
                  <td colspan="11" class="notes-content-cell">${M.notes||"None"}</td>
                </tr>
              </table>
            </div>
          </div>
        `}),W+=`
          <div class="footer">
            <p>Generated: ${new Date().toLocaleString()} | Run of Show Application</p>
          </div>
        </body>
        </html>
      `,W}else if(T){let W=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>ROS Show File - ${o?.name||"Event"}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 15px;
              font-size: 11px;
              line-height: 1.3;
              background: white;
            }
            @media print {
              body { 
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            .header { 
              text-align: center; 
              margin-bottom: 15px; 
            }
            .header h1 { 
              font-size: 16px; 
              margin: 0; 
              color: #000;
              font-weight: normal;
            }
            .header h2 { 
              font-size: 12px; 
              margin: 3px 0 0 0; 
              color: #333; 
              font-weight: normal;
            }
            .event-info { 
              background: #f5f5f5; 
              padding: 8px; 
              margin-bottom: 12px; 
              font-size: 10px;
              border: 1px solid #ddd;
            }
            .section { 
              margin-bottom: 8px; 
              border: 1px solid #000;
              page-break-inside: avoid;
            }
            .section-header { 
              padding: 6px 8px; 
              font-weight: normal; 
              font-size: 11px;
              color: white;
              background: #366092;
              border-bottom: 1px solid #000;
            }
            .section-content { 
              padding: 0; 
              background: white;
            }
            .modal-table { 
              width: 100%;
              border-collapse: collapse;
              border: 2px solid #000;
              background: white;
            }
            .modal-table td { 
              border: 1px solid #000; 
              padding: 6px 8px; 
              background: white;
              vertical-align: top;
            }
            .modal-table .header-cell { 
              background: #d9d9d9; 
              font-weight: normal; 
              text-align: center;
              font-size: 10px;
              width: 70px;
              min-width: 70px;
            }
            .modal-table .segment-cell { 
              min-width: 180px;
              max-width: 250px;
              word-wrap: break-word;
              font-size: 11px;
            }
            .modal-table .notes-cell { 
              background: #f0f0f0; 
              min-height: 35px;
              min-width: 200px;
              font-size: 10px;
            }
            .modal-table         .participants-cell { 
          background: #f0f0f0; 
          min-height: 60px;
          min-width: 600px;
          width: 600px;
          max-width: 600px;
        }
            .modal-table .start-time-cell { 
              background: #e7f3ff; 
              font-weight: normal;
              font-size: 12px;
            }
            .times-cell {
              background: #e7f3ff;
              font-weight: normal;
              text-align: center;
              vertical-align: middle;
              width: 80px;
              min-width: 80px;
            }
            .times-content {
              display: flex;
              flex-direction: column;
              gap: 2px;
            }
            .start-time {
              font-size: 11px;
              font-weight: normal;
              color: #000;
            }
            .duration {
              font-size: 11px;
              font-weight: normal;
              color: #000;
            }
            .time-label {
              font-size: 9px;
              font-weight: normal;
              color: #333;
              margin-right: 4px;
            }
            .simple-table { 
              width: 100%;
              border-collapse: collapse;
              border: 1px solid #000;
              background: white;
            }
            .simple-table td { 
              border: 1px solid #000; 
              padding: 8px; 
              background: white;
              vertical-align: top;
              font-size: 11px;
            }
        .simple-table .header-cell { 
          background: #d9d9d9; 
          font-weight: normal; 
          text-align: center;
          font-size: 10px;
        }
        .stacked-header {
          width: 300px;
        }
        .stacked-cell {
          width: 300px;
          max-width: 300px;
          vertical-align: top;
          padding: 8px;
        }
        .stacked-item {
          margin-bottom: 8px;
          padding-bottom: 6px;
          border-bottom: 1px solid #e0e0e0;
          display: flex;
          flex-direction: column;
        }
        .stacked-item:last-child {
          border-bottom: none;
          margin-bottom: 0;
          padding-bottom: 0;
        }
        .stacked-label {
          font-weight: normal;
          font-size: 9px;
          color: #333;
          margin-bottom: 3px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        .stacked-value {
          font-size: 10px;
          line-height: 1.3;
          word-wrap: break-word;
          color: #000;
          padding-left: 4px;
        }
        .slot-cell {
          width: 75px;
          height: 155px;
          vertical-align: top;
          min-width: 75px;
          max-width: 75px;
        }
        .slot-container {
          height: 155px;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          padding: 4px;
        }
        .slot-top {
          display: flex;
          flex-direction: column;
          align-items: center;
        }
        .slot-name {
          font-weight: normal;
          font-size: 11px;
          line-height: 1.2;
        }
        .slot-title {
          font-size: 10px;
          line-height: 1.1;
          color: #666;
        }
        .slot-org {
          font-size: 10px;
          line-height: 1.1;
          color: #666;
        }
        .slot-photo {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-top: 8px;
        }
        .slot-photo-img {
          width: 50px;
          height: 65px;
          object-fit: cover;
          border-radius: 4px;
          border: 1px solid #ccc;
          margin: 0 auto;
        }
        .slot-text {
          margin-top: 4px;
          text-align: center;
          font-size: 9px;
          line-height: 1.2;
          color: #000;
          max-height: 90px;
          overflow: hidden;
        }
        .slot-name {
          font-weight: bold;
          font-size: 8px;
          margin-bottom: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          line-height: 1.0;
          max-height: 18px;
          overflow: hidden;
        }
        .slot-name-small {
          font-weight: bold;
          font-size: 7px;
          margin-bottom: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          line-height: 1.0;
          max-height: 16px;
          overflow: hidden;
        }
        .slot-title {
          font-size: 8px;
          color: #333;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .slot-org {
          font-size: 8px;
          color: #666;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .slot-role {
          font-size: 8px;
          color: #000;
          font-weight: bold;
          background-color: #f0f0f0;
          border: 1px solid #ccc;
          border-radius: 3px;
          padding: 1px 3px;
          margin-top: 2px;
          white-space: normal;
          word-wrap: break-word;
          text-align: center;
          min-height: 10px;
        }
        .notes-header-row {
          background: #e0e0e0;
        }
        .notes-header-cell {
          padding: 6px 8px;
          font-size: 10px;
          font-weight: normal;
          text-align: center;
          border-top: 2px solid #ddd;
          background: #e0e0e0;
        }
        .notes-content-row {
          background: #f9f9f9;
        }
        .notes-content-cell {
          padding: 8px;
          font-size: 10px;
          line-height: 1.3;
          background: #f9f9f9;
        }
            .modal-cell .field-label { 
              font-weight: normal; 
              font-size: 11px; 
              color: #333; 
              margin-bottom: 4px;
            }
            .modal-cell .field-value { 
              font-size: 12px; 
              color: #000;
              line-height: 1.3;
            }
            .speaker-item { 
              display: flex; 
              align-items: center; 
              margin-bottom: 6px;
              padding: 6px;
              background: white;
              border: 1px solid #ddd;
              border-radius: 4px;
              box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            }
            .speaker-photo { 
              width: 40px; 
              height: 40px; 
              border-radius: 4px; 
              object-fit: cover; 
              border: 2px solid #007acc;
              margin-right: 10px;
              flex-shrink: 0;
            }
            .speaker-info { 
              flex: 1;
            }
            .speaker-badges { 
              display: flex; 
              gap: 4px;
              margin-bottom: 3px;
            }
            .speaker-name { 
              font-weight: normal; 
              font-size: 11px; 
              color: #000;
              margin-bottom: 2px;
            }
            .slot-badge { 
              background: #007acc; 
              color: white; 
              padding: 2px 6px; 
              border-radius: 6px; 
              font-size: 8px; 
              font-weight: normal;
            }
            .location-badge { 
              background: #28a745; 
              color: white; 
              padding: 2px 6px; 
              border-radius: 6px; 
              font-size: 8px; 
              font-weight: normal;
            }
            .speaker-title { 
              color: #666; 
              font-size: 10px;
              margin-bottom: 1px;
            }
            .speaker-org { 
              color: #888; 
              font-size: 9px;
            }
            .footer { 
              margin-top: 40px; 
              text-align: center; 
              color: #666; 
              font-size: 12px;
              border-top: 1px solid #ddd;
              padding-top: 20px;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
              @page { 
                size: A4 ${H}; 
                margin: 0.2in; 
              }
              .section { 
                page-break-inside: avoid;
              }
            }
            /* Speaker subtext styling - smaller font for titles and organizations */
            .speaker-subtext {
              font-size: 10px;
              color: #000;
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>ROS SPEAKERS</h1>
            <h2>${o?.name||"Event"}${o?.numberOfDays&&o.numberOfDays>1?` - Day ${b}`:""}</h2>
          </div>
          
      `;return Z.forEach((M,Ce)=>{const De=u.findIndex(le=>le.id===M.id),we=G(De),ge=`${M.durationHours.toString().padStart(2,"0")}:${M.durationMinutes.toString().padStart(2,"0")}:${M.durationSeconds.toString().padStart(2,"0")}`,He=k(M.programType||"");console.log(`SPEAKERS - Item ${Ce} (${M.segmentName}):`,{originalIndex:De,startTime:we,duration:ge,masterStartTime:f,itemId:M.id});let ue=[];if(M.speakersText)try{ue=JSON.parse(M.speakersText),console.log(`Speakers parsed for item ${Ce}:`,ue)}catch(le){console.log(`Error parsing speakers for item ${Ce}:`,le),ue=[{fullName:M.speakersText,title:"",org:"",photoLink:""}]}else console.log(`No speakersText for item ${Ce}:`,M.segmentName);let ke="";M.hasPPT&&M.hasQA?ke="PPT + Q&A":M.hasPPT?ke="PPT":M.hasQA?ke="Q&A":ke="None",W+=`
          <div class="section">
            <div class="section-content">
              <table class="simple-table">
                <tr>
                  <td class="header-cell">CUE & TIME</td>
                  <td class="header-cell stacked-header">SEGMENT INFO</td>
                  <td class="header-cell">PARTICIPANTS</td>
                  <td class="header-cell">SLOT 1</td>
                  <td class="header-cell">SLOT 2</td>
                  <td class="header-cell">SLOT 3</td>
                  <td class="header-cell">SLOT 4</td>
                  <td class="header-cell">SLOT 5</td>
                  <td class="header-cell">SLOT 6</td>
                  <td class="header-cell">SLOT 7</td>
                </tr>
                <tr>
                  <td class="times-cell">
                    <div style="margin-bottom: 4px; font-weight: bold;">${M.customFields.cue||`CUE ${Ce+1}`}</div>
                    <div style="background-color: ${He}; color: ${M.programType==="Sub Cue"?"black":"white"}; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: normal; display: inline-block; ${M.programType==="Sub Cue"?"border: 1px solid #000000;":""}">${M.programType||"Unknown"}</div>
                    <div class="times-content" style="margin-top: 6px;">
                      <div class="start-time">
                        <span class="time-label">Start:</span> ${we}
                      </div>
                      <div class="duration">
                        <span class="time-label">Dur:</span> ${ge}
                      </div>
                    </div>
                  </td>
                  <td class="stacked-cell">
                    <div class="stacked-item">
                      <div class="stacked-label">SEGMENT:</div>
                      <div class="stacked-value">${M.segmentName||"Untitled Segment"}</div>
                    </div>
                    <div class="stacked-item">
                      <div class="stacked-label">SHOT:</div>
                      <div class="stacked-value">${M.shotType||"Not specified"}</div>
                    </div>
                    <div class="stacked-item">
                      <div class="stacked-label">PPT/Q&A:</div>
                      <div class="stacked-value">${ke}</div>
                    </div>
                  </td>
                  <td class="participants-cell">
        `;let Ue="";ue.length>0&&(Ue=ue.map(le=>{const pe=le.fullName||le.name||le,de=le.title||"",oe=le.org||"",Q=le.location||"Podium",_=le.slot||1;let L=`<strong>${Q==="Podium"?"P":Q==="Seat"?"S":"V"}${_} - ${pe}</strong>`;if(de||oe){const he=[de,oe].filter(Boolean).join(", ");L+=`<br><span class="speaker-subtext">${he}</span>`}return L}).join("<br><br>")),W+=Ue||"No speakers assigned",W+=`
                  </td>
        `;const te=["","","","","","",""];ue.length>0&&ue.forEach((le,pe)=>{const de=le.fullName||le.name||"Unknown",oe=le.title||"",Q=le.org||"",_=le.slot||1,J=le.location||"Podium",L=le.photoLink||le.photoUrl||"";R(oe,15),R(Q,15),console.log(`    Processing speaker ${pe+1} (${de}): photoLink="${L}"`);let he=`
              <div class="slot-container">
                <div class="slot-top">
                  <div class="slot-photo">${L?`<img src="${L}" alt="${de}" class="slot-photo-img" />`:""}</div>
                </div>
                <div class="slot-role">${J}</div>
              </div>
            `;const q=Math.min(_-1,6);q>=0&&q<7&&(te[q]=he)});for(let le=0;le<7;le++)W+=`<td class="slot-cell">${te[le]||""}</td>`;W+=`
                </tr>
                <tr class="notes-header-row">
                  <td colspan="11" class="notes-header-cell">NOTES</td>
                </tr>
                <tr class="notes-content-row">
                  <td colspan="11" class="notes-content-cell">${M.notes||"None"}</td>
                </tr>
              </table>
            </div>
          </div>
        `}),W+=`
          <div class="footer">
            <p>Generated: ${new Date().toLocaleString()} | Run of Show Application</p>
          </div>
        </body>
        </html>
      `,W}else{let W=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Run of Show Report - ${o?.name||"Event"}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              margin: 20px; 
              font-size: 14px;
            }
            .header { 
              text-align: center; 
              margin-bottom: 30px; 
            }
            .header h1 { 
              font-size: 24px; 
              margin: 0; 
            }
            .header h2 { 
              font-size: 18px; 
              margin: 5px 0 0 0; 
              color: #666; 
            }
            .event-info { 
              background: #f5f5f5; 
              padding: 15px; 
              border-radius: 5px; 
              margin-bottom: 20px; 
              font-size: 12px;
            }
            table { 
              width: 100%; 
              border-collapse: collapse; 
              margin-top: 20px; 
            }
            th, td { 
              border: 1px solid #ddd; 
              padding: 8px; 
              text-align: left; 
              font-size: 12px;
            }
            /* Column width specifications */
            th:nth-child(1), td:nth-child(1) { width: 8%; }  /* CUE */
            th:nth-child(2), td:nth-child(2) { width: 8%; } /* START */
            th:nth-child(3), td:nth-child(3) { width: 8%; } /* DURATION */
            th:nth-child(4), td:nth-child(4) { width: 20%; } /* SEGMENT */
            th:nth-child(5), td:nth-child(5) { width: 10%; } /* SHOT/PPT */
            th:nth-child(6), td:nth-child(6) { width: 26%; } /* PARTICIPANTS */
            th:nth-child(7), td:nth-child(7) { width: 20%; } /* NOTES */
            
            /* Speaker subtext styling - smaller font for titles and organizations */
            .speaker-subtext {
              font-size: 10px;
              color: #000;
            }
            th { 
              background-color: #f2f2f2; 
              font-weight: normal; 
            }
            tr { 
              -webkit-print-color-adjust: exact !important;
              color-adjust: exact !important;
              print-color-adjust: exact !important;
            }
            .footer { 
              margin-top: 30px; 
              text-align: center; 
              color: #666; 
              font-size: 12px;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
              @page { 
                size: A4 ${H}; 
                margin: 0.2in; 
              }
              tr { 
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>RUN OF SHOW REPORT</h1>
            <h2>${o?.name||"Event"}${o?.numberOfDays&&o.numberOfDays>1?` - Day ${b}`:""}</h2>
            <h3>ROS CONDENSED</h3>
          </div>
          
          <div class="event-info">
            <p><strong>Event:</strong> ${o?.name||"Current Event"} | 
               <strong>Date:</strong> ${o?.date||"Not specified"} | 
               <strong>Location:</strong> ${o?.location||"Not specified"} | 
               <strong>Start Time:</strong> ${f||"Not set"} | 
               <strong>Total Items:</strong> ${u.length}</p>
          </div>
          
          <table>
            <thead>
              <tr>
                <th>CUE</th>
                <th>START</th>
                <th>DURATION</th>
                <th>SEGMENT</th>
                <th>SHOT/PPT</th>
                <th>PARTICIPANTS</th>
                <th>NOTES</th>
              </tr>
            </thead>
            <tbody>
      `;return Z.forEach((M,Ce)=>{const De=u.findIndex(le=>le.id===M.id),we=G(De),ge=`${M.durationHours.toString().padStart(2,"0")}:${M.durationMinutes.toString().padStart(2,"0")}:${M.durationSeconds.toString().padStart(2,"0")}`;k(M.programType||"");let He="";if(M.speakersText)try{He=JSON.parse(M.speakersText).map(pe=>{const de=pe.fullName||pe.name||pe,oe=pe.title||"",Q=pe.org||"",_=pe.location||"Podium",J=pe.slot||1;let he=`<strong>${_==="Podium"?"P":_==="Seat"?"S":"V"}${J} - ${de}</strong>`;if(oe||Q){const q=[oe,Q].filter(Boolean).join(", ");he+=`<br><span class="speaker-subtext">${q}</span>`}return he}).join("<br><br>")}catch{He=M.speakersText}let ue="";const ke=M.shotType||"";let Ue="";M.hasPPT&&M.hasQA?Ue="PPT + Q&A":M.hasPPT?Ue="PPT":M.hasQA?Ue="Q&A":Ue="",ke&&Ue?ue=`${ke} | ${Ue}`:ke?ue=ke:Ue?ue=Ue:ue="";let te="";if(M.notes){const le=M.notes.replace(/<[^>]*>/g,"").trim();le&&le.length>0&&le!=="None"&&le!=="null"&&le!=="undefined"&&(te=le)}W+=`
          <tr style="background-color: ${ie(M.programType)};">
            <td>${M.programType==="Sub Cue"?`<span style="background-color: #9CA3AF; color: white; padding: 2px 6px; border-radius: 4px; font-weight: bold;">${M.customFields?.cue||""}</span>`:M.programType==="Podium"||M.programType==="Podium Transition"?`<span style="background-color: #8B4513; color: white; padding: 2px 6px; border-radius: 4px; font-weight: bold;">${M.customFields?.cue||""}</span>`:M.programType==="Panel"||M.programType==="Panel Transition"?`<span style="background-color: #404040; color: white; padding: 2px 6px; border-radius: 4px; font-weight: bold;">${M.customFields?.cue||""}</span>`:M.customFields?.cue||""}</td>
            <td>${we}</td>
            <td>${ge}</td>
            <td>${M.segmentName||"Untitled Segment"}</td>
            <td>${ue}</td>
            <td style="white-space: pre-line;">${He}</td>
            <td style="white-space: pre-line; font-size: 12px;">${te}</td>
          </tr>
        `}),W+=`
            </tbody>
          </table>
          
          <div class="footer">
            <p>Generated: ${new Date().toLocaleString()} | Run of Show Application</p>
          </div>
        </body>
        </html>
      `,W}},z=()=>{const ce=K(),T=window.open("","_blank");T&&(T.document.write(ce),T.document.close(),T.focus(),T.print())},A=()=>{const ce=K(),T=new Blob([ce],{type:"text/html"}),H=URL.createObjectURL(T),Z=document.createElement("a");Z.href=H,Z.download=`ros-${x==="showfile"?"show-file":x==="speakers"?"speakers":"condensed"}${o?.numberOfDays&&o.numberOfDays>1?`-day-${b}`:""}-${o?.name?.replace(/\s+/g,"-")||"event"}-${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(H)};return a.jsxDEV("div",{className:"min-h-screen bg-slate-900 text-white pt-16",children:[a.jsxDEV("div",{className:"bg-slate-800 border-b border-slate-700",children:a.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV("button",{onClick:()=>{window.close()},className:"text-slate-300 hover:text-white transition-colors mr-6",children:" Back to Run of Show"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1788,columnNumber:15},void 0),a.jsxDEV("h1",{className:"text-xl font-semibold",children:"Reports and Printing"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1797,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1787,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-slate-400",children:o?.name||"Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1799,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1786,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1785,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1784,columnNumber:7},void 0),a.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-xl p-8 shadow-2xl",children:[a.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-6",children:"Generate Reports"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1809,columnNumber:11},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-6 mb-8",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-4",children:"Report Options"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1813,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative",children:a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Report Type"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1820,columnNumber:21},void 0),a.jsxDEV("select",{value:x,onChange:ce=>v(ce.target.value),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsxDEV("option",{value:"showfile",children:"ROS Show File"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1828,columnNumber:23},void 0),a.jsxDEV("option",{value:"condensed",children:"ROS CONDENSED"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1829,columnNumber:23},void 0),a.jsxDEV("option",{value:"speakers",children:"ROS Speakers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1830,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1823,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1819,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Print Orientation"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1836,columnNumber:21},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxDEV("label",{className:`flex items-center justify-center p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 ${w==="portrait"?"border-blue-500 bg-blue-500/20 text-blue-300":"border-slate-500 bg-slate-600/50 text-slate-300 hover:border-slate-400 hover:bg-slate-600/70"}`,children:[a.jsxDEV("input",{type:"radio",name:"orientation",value:"portrait",checked:w==="portrait",onChange:ce=>C(ce.target.value),className:"sr-only"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1845,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex flex-col items-center",children:[a.jsxDEV("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsxDEV("rect",{x:"3",y:"3",width:"18",height:"24",rx:"2",strokeWidth:"2"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1855,columnNumber:29},void 0),a.jsxDEV("path",{d:"M8 7h8M8 11h8M8 15h4",strokeWidth:"1.5"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1856,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1854,columnNumber:27},void 0),a.jsxDEV("span",{className:"text-sm font-medium",children:"Portrait"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1858,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1853,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1840,columnNumber:23},void 0),a.jsxDEV("label",{className:`flex items-center justify-center p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 ${w==="landscape"?"border-blue-500 bg-blue-500/20 text-blue-300":"border-slate-500 bg-slate-600/50 text-slate-300 hover:border-slate-400 hover:bg-slate-600/70"}`,children:[a.jsxDEV("input",{type:"radio",name:"orientation",value:"landscape",checked:w==="landscape",onChange:ce=>C(ce.target.value),className:"sr-only"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1867,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex flex-col items-center",children:[a.jsxDEV("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsxDEV("rect",{x:"3",y:"3",width:"24",height:"18",rx:"2",strokeWidth:"2"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1877,columnNumber:29},void 0),a.jsxDEV("path",{d:"M7 8h10M7 12h10M7 16h6",strokeWidth:"1.5"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1878,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1876,columnNumber:27},void 0),a.jsxDEV("span",{className:"text-sm font-medium",children:"Landscape"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1880,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1875,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1862,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1839,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-slate-400 mt-2",children:w==="landscape"?"Recommended for tables and wide content":"Better for text-heavy documents"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1884,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1835,columnNumber:19},void 0),o?.numberOfDays&&o.numberOfDays>1&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Select Day"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1894,columnNumber:23},void 0),a.jsxDEV("select",{value:b,onChange:ce=>O(parseInt(ce.target.value)),className:"w-full px-3 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:o.numberOfDays},(ce,T)=>a.jsxDEV("option",{value:T+1,children:["Day ",T+1]},T+1,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1903,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1897,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1893,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1818,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center justify-center h-full",children:a.jsxDEV("div",{className:"bg-slate-600/30 rounded-lg p-4 border border-slate-500 w-full max-w-md",children:[a.jsxDEV("h4",{className:"text-lg font-semibold text-white mb-3 text-center",children:"Report Format Information"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1913,columnNumber:21},void 0),a.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"text-blue-300 text-base",children:" ROS Show File:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1915,columnNumber:26},void 0)," Section-based format with speaker photos"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1915,columnNumber:23},void 0),a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"text-green-300 text-base",children:" ROS CONDENSED:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1916,columnNumber:26},void 0)," Table format with all information"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1916,columnNumber:23},void 0),a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"text-orange-300 text-base",children:" ROS Speakers:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1917,columnNumber:26},void 0)," Table format with dedicated speaker column"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1917,columnNumber:23},void 0),a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"text-purple-300 text-base",children:" Color Coding:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1918,columnNumber:26},void 0)," Sections colored by program type"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1918,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1914,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1912,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1911,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1816,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1815,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1812,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-wrap gap-4",children:[a.jsxDEV("button",{onClick:z,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[a.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1934,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1933,columnNumber:15},void 0),"Print Report"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1929,columnNumber:13},void 0),a.jsxDEV("button",{onClick:A,className:"px-6 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[a.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1944,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1943,columnNumber:15},void 0),"Download Report"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1939,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1928,columnNumber:11},void 0),a.jsxDEV("div",{className:"mt-8",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white mb-4",children:"Report Preview"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1952,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 max-h-96 overflow-y-auto",children:a.jsxDEV("div",{className:"text-slate-300 text-sm",children:[a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Event:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1955,columnNumber:20},void 0)," ",o?.name||"Current Event"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1955,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Total Items:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1956,columnNumber:20},void 0)," ",u.length,o?.numberOfDays&&o.numberOfDays>1?` | <strong>Day ${b} Items:</strong> ${u.filter(ce=>(ce.day||1)===b).length}`:""]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1956,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Master Start Time:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1957,columnNumber:20},void 0)," ",S(f)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1957,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Report Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1958,columnNumber:20},void 0)," ",x==="showfile"?"ROS Show File":x==="speakers"?"ROS Speakers":"ROS CONDENSED"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1958,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Format:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1959,columnNumber:20},void 0)," ",x==="showfile"?"Section-based with speaker photos":x==="speakers"?"Table format with dedicated speaker column":"Table format"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1959,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Orientation:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1960,columnNumber:20},void 0)," ",w==="landscape"?"Landscape (recommended for tables)":"Portrait"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1960,columnNumber:17},void 0),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Color Coding:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1961,columnNumber:20},void 0)," Sections colored by program type"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1961,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1954,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1953,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1951,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1808,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1807,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ReportsPage.tsx",lineNumber:1782,columnNumber:5},void 0)},C9=()=>{const e=Js(),s=new URLSearchParams(e.search),t=s.get("eventId"),i=s.get("eventName"),o=s.get("eventDate"),u=s.get("eventLocation"),c=e.state?.event||{id:t||"",name:i||"Current Event",date:o||"",location:u||"",numberOfDays:1},[f,h]=E.useState([]),[x,v]=E.useState(new Date),[b,O]=E.useState(!0),[w,C]=E.useState(null),[S,R]=E.useState(null),[X,G]=E.useState({}),[k,ie]=E.useState(null),[K,z]=E.useState({}),[A,ce]=E.useState(null),[T,H]=E.useState("09:00"),[Z,W]=E.useState({}),[M,Ce]=E.useState(null),[De,we]=E.useState(new Set),[ge,He]=E.useState(0),[ue,ke]=E.useState(!1),[Ue,te]=E.useState(!1),[le,pe]=E.useState(""),[de,oe]=E.useState(null),[Q,_]=E.useState(!1),J=et=>{if(console.log(` calculateStartTime called for index ${et}:`,{masterStartTime:T,scheduleLength:f.length}),!T)return console.log(" No master start time, returning empty string"),"";let ft=0;for(let ut=0;ut<et;ut++){const Ct=f[ut];if(!Ct){console.log(`  Item ${ut}: undefined/null item, skipping`);continue}const $e=Ct.durationHours||0,nt=Ct.durationMinutes||0,yt=$e*60+nt;ft+=yt,console.log(`  Item ${ut} (${Ct.segmentName||"Unknown"}): ${$e}h ${nt}m = ${yt} total minutes`)}const[Fe,ct]=T.split(":").map(Number),vt=Fe*60+ct,mt=vt+ft,At=Math.floor(mt/60),hr=mt%60,pr=At>=12?"PM":"AM";let rr=At;At>12&&(rr=At-12),At===0&&(rr=12);const qe=`${rr}:${hr.toString().padStart(2,"0")} ${pr}`;return console.log(` calculateStartTime result for index ${et}:`,{masterStartTime:T,totalMinutes:ft,totalStartMinutes:vt,finalMinutes:mt,hours:At,minutes:hr,period:pr,displayHours:rr,result:qe}),qe};E.useEffect(()=>{if(c?.id){console.log(" Loading master start time for event ID:",c.id);const et=localStorage.getItem(`masterStartTime_${c.id}`),ft=localStorage.getItem(`dayStartTimes_${c.id}`);if(console.log(" Raw localStorage values:",{masterStartTime:et,dayStartTimes:ft,eventId:c.id}),et)H(et),console.log(" Loaded master start time from localStorage:",et);else{console.log(" No master start time found in localStorage for event:",c.id),console.log(" Available localStorage keys:",Object.keys(localStorage).filter(mt=>mt.includes("masterStartTime"))),console.log(" All localStorage keys:",Object.keys(localStorage));const Fe=Object.keys(localStorage).filter(mt=>mt.includes("masterStartTime")).map(mt=>({key:mt,value:localStorage.getItem(mt)}));console.log(" All master start times in localStorage:",Fe);let ct=null;const vt=Fe.find(mt=>mt.value&&mt.value!=="09:00");vt?(ct=vt,console.log(" Found non-default master start time:",vt.value)):(ct=Fe.find(mt=>mt.value),console.log(" Using first available master start time:",ct?.value)),ct&&ct.value?(console.log(" Setting master start time to:",ct.value),H(ct.value)):(console.log(" No suitable master start time found in localStorage"),console.log(" Will try to get master start time from API data..."))}ft?(W(JSON.parse(ft)),console.log(" Loaded day start times from localStorage:",JSON.parse(ft))):console.log(" No day start times found in localStorage for event:",c.id)}},[c?.id]),E.useEffect(()=>{const et=setInterval(()=>{v(new Date)},1e3);return()=>clearInterval(et)},[]);const L=async()=>{if(c?.id)try{console.log(" Loading active timer for Green Room...");const et=await Nt.getActiveTimer(c.id);et?(console.log(" Active timer found:",et),console.log(" Timer state:",et.timer_state),console.log(" Item ID:",et.item_id),R(parseInt(et.item_id)),ie(et.timer_state),ce(parseInt(et.item_id)),z({[parseInt(et.item_id)]:!0}),console.log(" Set loaded items:",{[parseInt(et.item_id)]:!0}),et.timer_state==="running"&&et.started_at&&console.log(` Green Room: Timer ${et.item_id} is running - WebSocket will handle updates`),G({[parseInt(et.item_id)]:{elapsed:et.elapsed_seconds||0,total:et.duration_seconds||0,startedAt:et.started_at?new Date(et.started_at):null}})):(console.log(" No active timer found"),R(null),ie(null),z({}),G({}),M&&(clearInterval(M),Ce(null)))}catch(et){console.error(" Error loading active timer:",et)}};E.useEffect(()=>{if(!c?.id)return;L(),console.log(" Setting up WebSocket connection for Green Room timer updates");const et={onServerTime:Fe=>{const ct=new Date(Fe.serverTime).getTime(),vt=new Date().getTime(),mt=ct-vt;He(mt),console.log(" GreenRoom: Clock sync:",{serverTime:Fe.serverTime,clientTime:new Date().toISOString(),offsetMs:mt,offsetSeconds:Math.floor(mt/1e3)})},onTimerUpdated:Fe=>{console.log(" Green Room: Timer updated via WebSocket",Fe),Fe&&Fe.item_id&&(G(ct=>({...ct,[Fe.item_id]:{elapsed:Fe.elapsed_seconds||0,total:Fe.duration_seconds||300,startedAt:Fe.started_at?new Date(Fe.started_at):null}})),Fe.timer_state==="running"?(ie("running"),R(parseInt(Fe.item_id)),ce(parseInt(Fe.item_id)),z({[parseInt(Fe.item_id)]:!0}),console.log(" Green Room: Timer RUNNING - activeItemId set to:",Fe.item_id)):Fe.timer_state==="loaded"&&(ie("loaded"),R(parseInt(Fe.item_id)),ce(parseInt(Fe.item_id)),z({[parseInt(Fe.item_id)]:!0}),console.log(" Green Room: Timer LOADED - activeItemId set to:",Fe.item_id)))},onTimerStopped:Fe=>{console.log(" Green Room: Timer stopped via WebSocket"),Fe&&Fe.item_id&&(ie(null),A?(R(A),z({[A]:!0}),console.log(" Green Room: Keeping last loaded cue visible:",A)):(R(null),z({})),G(ct=>{const vt={...ct};return delete vt[Fe.item_id],vt}))},onTimersStopped:Fe=>{console.log(" Green Room: All timers stopped via WebSocket"),ie(null),A?(R(A),z({[A]:!0}),console.log(" Green Room: Keeping last loaded cue visible after all timers stopped:",A)):(R(null),z({})),G({})},onTimerStarted:Fe=>{console.log(" Green Room: Timer started via WebSocket"),Fe&&Fe.item_id&&R(Fe.item_id)},onActiveTimersUpdated:Fe=>{console.log(" Green Room: Active timers updated via WebSocket",Fe),Fe&&Fe.item_id&&(Fe.timer_state==="running"||Fe.timer_state==="loaded"?(R(parseInt(Fe.item_id)),ie(Fe.timer_state),ce(parseInt(Fe.item_id)),z({[Fe.item_id]:!0}),console.log(" Green Room: Updated active item and timer state:",{itemId:Fe.item_id,timerState:Fe.timer_state,activeItemId:Fe.item_id})):(ie(null),A?(R(A),z({[A]:!0}),console.log(" Green Room: Keeping last loaded cue visible after timer stopped:",A)):(R(null),z({})),console.log(" Green Room: Timer stopped, keeping last loaded cue visible")))},onResetAllStates:Fe=>{console.log(" Green Room: Reset all states triggered via WebSocket",Fe),R(null),ie(null),z({}),G({}),ce(null),console.log(" Green Room: All states cleared via reset")},onScheduleUpdated:Fe=>{console.log(" Green Room: Schedule updated via WebSocket - checking if reload needed"),Fe&&(Fe.publicItemsChanged||Fe.isPublicChanged)?(console.log(" Green Room: Public items changed, reloading schedule"),he()):console.log(" Green Room: Schedule update does not affect public items, skipping reload")},onRunOfShowDataUpdated:Fe=>{console.log(" Green Room: Run of show data updated via WebSocket - checking if reload needed"),Fe&&(Fe.publicItemsChanged||Fe.isPublicChanged)?(console.log(" Green Room: Public items changed, reloading schedule"),he()):console.log(" Green Room: Schedule update does not affect public items, skipping reload")},onConnectionChange:Fe=>{console.log(` Green Room WebSocket connection ${Fe?"established":"lost"} for event: ${c.id}`)},onInitialSync:async()=>{console.log(" Green Room: WebSocket initial sync triggered - loading current state");try{const Fe=await fetch(`https://ros-50-production.up.railway.app/api/active-timers/${c?.id}`);if(Fe.ok){const ct=await Fe.json();if(console.log(" Green Room initial sync: Loaded active timers:",ct),ct&&ct.length>0){const vt=ct[0];R(parseInt(vt.item_id)),ie(vt.timer_state),z({[parseInt(vt.item_id)]:!0}),G({[parseInt(vt.item_id)]:{elapsed:vt.elapsed_seconds||0,total:vt.duration_seconds||300,startedAt:vt.started_at?new Date(vt.started_at):null}}),console.log(" Green Room: Initial sync completed - timer state restored")}else R(null),ie(null),z({}),G({}),console.log(" Green Room: Initial sync completed - no active timer")}}catch(Fe){console.error(" Green Room: Initial sync failed to load active timer:",Fe)}}};bt.connect(c.id,et),Q||(ke(!0),_(!0));const ft=()=>{document.hidden?(console.log(" Green Room: Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(c.id)):bt.isConnected()||(console.log(" Green Room: Tab visible - silently reconnecting WebSocket (no modal)"),bt.connect(c.id,et),et.onInitialSync?.())};return document.addEventListener("visibilitychange",ft),()=>{console.log(" Cleaning up Green Room WebSocket connection"),bt.disconnect(c.id),document.removeEventListener("visibilitychange",ft),de&&clearTimeout(de)}},[c?.id]),E.useEffect(()=>{if(!S||!X[S])return;const et=X[S];if(et.startedAt&&k==="running"){const ft=et.startedAt,Fe=et.total;console.log(` Green Room: Starting continuous local timer for ${S} with duration ${Fe}s, start time: ${ft.toISOString()}`);const ct=setInterval(()=>{const vt=new Date(Date.now()+ge),mt=Math.floor((vt.getTime()-ft.getTime())/1e3);G(At=>({...At,[S]:{...At[S],elapsed:mt}})),mt<=10&&console.log(` Green Room Timer ${S}: Continuous elapsed=${mt}s, Start=${ft.toISOString()}, Now=${now.toISOString()}`)},1e3);return()=>{console.log(` Green Room: Stopping continuous local timer for ${S}`),clearInterval(ct)}}},[S,k]),E.useEffect(()=>()=>{console.log(" Green Room: Cleaning up on component unmount"),M&&clearInterval(M)},[]);const he=async()=>{console.log(" Green Room loadSchedule called"),console.log(" Event object:",c),console.log(" Event ID from URL params:",t),console.log(" Event ID from event object:",c?.id);const et=c?.id||t;if(!et){console.log(" No event ID found in event object or URL params"),C("No event selected"),O(!1);return}console.log(" Using event ID:",et);try{console.log(" Loading schedule for Green Room..."),console.log(" Event details:",{id:et,name:c.name,location:c.location});const ft=await Nt.getRunOfShowData(et);if(console.log(" Raw data received:",ft),ft&&ft.settings&&ft.settings.masterStartTime&&T==="09:00"&&(console.log(" Found master start time in API data:",ft.settings.masterStartTime),H(ft.settings.masterStartTime)),ft?.schedule_items){console.log(" Total schedule items found:",ft.schedule_items.length);const ct=ft.schedule_items.map((vt,mt)=>{if(!vt)return console.log(` Item at index ${mt} is null/undefined, skipping`),null;const At=vt.durationHours||0,hr=vt.durationMinutes||0,pr=vt.durationSeconds||0,rr=At*60+hr+pr/60,qe=rr>0?`${Math.round(rr)} min`:"0 min",ut=J(mt);let Ct=null;if(console.log(` Calculated start time for ${vt.segmentName} (index ${mt}):`,{index:mt,startTime:ut,masterStartTime:T,duration:rr,itemDurationHours:vt.durationHours,itemDurationMinutes:vt.durationMinutes,itemDurationSeconds:vt.durationSeconds}),ut&&rr>0){const $e=new Date(`1970-01-01 ${ut}`);Ct=new Date($e.getTime()+rr*6e4).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}else Ct="TBD";return{...vt,startTime:ut,endTime:Ct,duration:qe,isPublic:vt.isPublic||!1}}).filter(vt=>vt!==null).filter(vt=>vt&&vt.isPublic===!0);console.log(" Public items found after time calculation:",ct.length),ct.sort((vt,mt)=>{if(vt.startTime&&vt.startTime!=="TBD"&&mt.startTime&&mt.startTime!=="TBD"){const At=new Date(`1970-01-01 ${vt.startTime}`),hr=new Date(`1970-01-01 ${mt.startTime}`);return At.getTime()-hr.getTime()}return(!vt.startTime||vt.startTime==="TBD")&&mt.startTime&&mt.startTime!=="TBD"?1:vt.startTime&&vt.startTime!=="TBD"&&(!mt.startTime||mt.startTime==="TBD")?-1:0}),h(ct),console.log(" Schedule loaded for Green Room:",ct)}else C("No schedule data found")}catch(ft){console.error(" Error loading schedule:",ft),console.error(" Error details:",{message:ft.message,stack:ft.stack,eventId:c?.id,eventName:c?.name}),C(`Failed to load schedule data: ${ft.message}`)}finally{O(!1)}};E.useEffect(()=>{he()},[c?.id]),E.useEffect(()=>{if(!c?.id)return;console.log(" Setting up WebSocket connection for Green Room schedule updates");const et={onRunOfShowDataUpdated:Fe=>{console.log(" Green Room: Run of show data updated via WebSocket"),Fe&&Fe.schedule_items&&h(Fe.schedule_items),Fe&&Fe.settings&&Fe.settings.masterStartTime&&H(Fe.settings.masterStartTime)},onConnectionChange:Fe=>{console.log(` Green Room schedule WebSocket connection ${Fe?"established":"lost"} for event: ${c.id}`)},onInitialSync:async()=>{console.log(" Green Room: Schedule WebSocket initial sync triggered");try{const Fe=await fetch(`https://ros-50-production.up.railway.app/api/run-of-show-data/${c?.id}`);if(Fe.ok){const ct=await Fe.json();console.log(" Green Room schedule initial sync: Loaded schedule data"),ct&&ct.schedule_items&&h(ct.schedule_items),ct&&ct.settings&&ct.settings.masterStartTime&&H(ct.settings.masterStartTime),console.log(" Green Room: Schedule initial sync completed")}}catch(Fe){console.error(" Green Room: Schedule initial sync failed:",Fe)}}};bt.connect(c.id,et);const ft=()=>{document.hidden?(console.log(" Green Room: Schedule tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(c.id)):bt.isConnected()||(console.log(" Green Room: Schedule tab visible - reconnecting WebSocket"),bt.connect(c.id,et),et.onInitialSync?.())};return document.addEventListener("visibilitychange",ft),()=>{console.log(" Cleaning up Green Room schedule WebSocket connection"),bt.disconnect(c.id),document.removeEventListener("visibilitychange",ft)}},[c?.id]);const q=(()=>{const et=S?f.findIndex(Fe=>String(Fe.id)===String(S)):-1;if(console.log(" Modifying schedule visibility:",{totalScheduleItems:f.length,currentIndex:et,activeItemId:S,activeItemIdType:typeof S,scheduleItemIds:f.map(Fe=>({id:Fe.id,idType:typeof Fe.id,name:Fe.segmentName})),originalSchedule:f.map(Fe=>({id:Fe.id,name:Fe.segmentName,isPublic:Fe.isPublic}))}),et>=0){const Fe=f.slice(et).map(ct=>({...ct,isPublic:!0}));return console.log(" Showing items from current onwards:",{currentIndex:et,visibleItems:Fe.map(ct=>({id:ct.id,name:ct.segmentName}))}),Fe}const ft=f.filter(Fe=>Fe.isPublic===!0);return console.log(" No active item, showing all public items:",{visibleItems:ft.map(Fe=>({id:Fe.id,name:Fe.segmentName}))}),ft})(),Xe=()=>{if(!S||!X[S])return"No Timer";const et=X[S];return k==="loaded"?"Ready to Start":k!=="running"?"Timer Stopped":et.startedAt?new Date(et.startedAt.getTime()+et.total*1e3).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0}):"Not Started"},Ke=et=>{const ft=et<0,Fe=Math.abs(et),ct=Math.floor(Fe/3600),vt=Math.floor(Fe%3600/60),mt=Math.floor(Fe%60),At=ft?"-":"";return ct===0?`${At}${vt.toString().padStart(2,"0")}:${mt.toString().padStart(2,"0")}`:`${At}${ct.toString().padStart(2,"0")}:${vt.toString().padStart(2,"0")}:${mt.toString().padStart(2,"0")}`},Dt=()=>{if(!S||!X[S])return"00:00";const et=X[S];if(k==="loaded")return Ke(et.total);if(k!=="running")return"00:00";const ft=et.total-et.elapsed;return Ke(ft)},St=()=>{if(!S||!X[S]||k!=="running")return!1;const et=X[S];return et.total-et.elapsed<0};if(b)return a.jsxDEV("div",{className:"w-full h-screen flex items-center justify-center relative",style:{aspectRatio:"9/16"},children:[a.jsxDEV("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{objectFit:"cover"},children:[a.jsxDEV("source",{src:"/pointed_crop_loop.webm",type:"video/webm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:858,columnNumber:11},void 0),"Your browser does not support the video tag."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:848,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-white text-xl relative z-10 bg-black/50 px-4 py-2 rounded",children:"Loading Green Room..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:861,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:846,columnNumber:7},void 0);if(w)return a.jsxDEV("div",{className:"w-full h-screen flex items-center justify-center relative",style:{aspectRatio:"9/16"},children:[a.jsxDEV("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{objectFit:"cover"},children:[a.jsxDEV("source",{src:"/pointed_crop_loop.webm",type:"video/webm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:880,columnNumber:11},void 0),"Your browser does not support the video tag."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:870,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-red-400 text-xl relative z-10 bg-black/50 px-4 py-2 rounded",children:w},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:883,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:868,columnNumber:7},void 0);const it=(et,ft)=>{const Fe=et*60+ft;if(Fe===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}de&&clearTimeout(de);const ct=Fe*60*1e3,vt=setTimeout(()=>{let At="";et>0&&(At+=`${et}h `),ft>0&&(At+=`${ft}m`),console.log(` GreenRoomPage: Auto-disconnect timer expired (${At.trim()})`),console.log(" GreenRoomPage: Showing disconnect notification..."),pe(At.trim()),te(!0),console.log(" GreenRoomPage: Notification state set to true"),setTimeout(()=>{c?.id&&(bt.disconnect(c.id),console.log(" GreenRoomPage: WebSocket disconnected"))},100)},ct);oe(vt),ke(!1);let mt="";et>0&&(mt+=`${et}h `),ft>0&&(mt+=`${ft}m`),console.log(` GreenRoomPage: Disconnect timer set to ${mt.trim()}`)},tr=()=>{de&&clearTimeout(de),oe(null),ke(!1),console.log(" GreenRoomPage: Disconnect timer set to Never")},Jt=()=>{te(!1),c?.id&&((async()=>{try{const ft=await Nt.getRunOfShowData(c.id);ft&&ft.schedule_items&&h(ft.schedule_items),ft&&ft.settings&&ft.settings.masterStartTime&&H(ft.settings.masterStartTime)}catch(ft){console.error(" Error loading schedule:",ft)}})(),ke(!0))};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"w-full h-screen text-white overflow-hidden relative",style:{aspectRatio:"9/16"},children:[a.jsxDEV("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{objectFit:"cover"},children:[a.jsxDEV("source",{src:"/pointed_crop_loop.webm",type:"video/webm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:980,columnNumber:9},void 0),"Your browser does not support the video tag."]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:970,columnNumber:7},void 0),a.jsxDEV("div",{className:"relative z-10",children:[a.jsxDEV("div",{className:"p-6 flex items-center",children:[a.jsxDEV("div",{className:"text-white font-bold flex-1 text-center",style:{fontSize:"clamp(2rem, 6vw, 4rem)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",lineHeight:"1.1",marginRight:"20px"},children:c?.name||"Current Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:991,columnNumber:11},void 0),a.jsxDEV("div",{className:`rounded-lg p-4 text-center flex-shrink-0 ${St()?"bg-red-800":"bg-red-600"}`,children:[a.jsxDEV("div",{className:"text-white text-xl font-semibold mb-2",children:St()?"OVER TIME":"Stage Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1007,columnNumber:11},void 0),a.jsxDEV("div",{className:`text-5xl font-bold mb-2 ${St()?"text-red-200":"text-white"}`,children:Dt()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1010,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-white text-base",children:["Expected Finish: ",Xe()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1013,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1006,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:989,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6 max-h-[calc(100vh-200px)] [&::-webkit-scrollbar]:hidden",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:a.jsxDEV("div",{className:"space-y-4",children:q.length===0?a.jsxDEV("div",{className:"text-center text-gray-400 text-lg py-12",children:"No public schedule items available"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1028,columnNumber:11},void 0):a.jsxDEV(a.Fragment,{children:q.slice(0,8).map((et,ft)=>{const Fe=K[et.id],ct=k==="running"&&String(S)===String(et.id),vt=String(S)===String(et.id);return console.log(` Item ${et.id} (${et.segmentName}):`,{isLoaded:Fe,isRunning:ct,isActive:vt,timerState:k,activeItemId:S,loadedItems:K}),a.jsxDEV("div",{className:`p-4 rounded-lg transition-all duration-300 ${Fe?ct?"bg-red-600 text-white":"bg-green-600 text-white":"bg-gray-300 text-gray-700"}`,children:[a.jsxDEV("div",{className:"font-bold text-xl mb-2 uppercase",children:et.segmentName},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1058,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-sm space-y-1",children:[a.jsxDEV("div",{children:["Start: ",et.startTime]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1060,columnNumber:17},void 0),a.jsxDEV("div",{children:["End: ",et.endTime]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1061,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1059,columnNumber:15},void 0)]},et.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1048,columnNumber:13},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1032,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1026,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1020,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:985,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:968,columnNumber:7},void 0),ue&&a.jsxDEV(w9,{onConfirm:it,onNever:tr},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1074,columnNumber:31},void 0),Ue&&a.jsxDEV(k9,{duration:le,onReconnect:Jt},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1077,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:967,columnNumber:5},void 0)},w9=({onConfirm:e,onNever:s})=>{const[t,i]=E.useState(2),[o,u]=E.useState(0),c=[0,5,10,15,20,25,30],f=Wr.useRef(null),h=Wr.useRef(null);Wr.useEffect(()=>{f.current&&(f.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const x=()=>{if(!f.current)return;const b=Math.round(f.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1112,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1113,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1117,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1119,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1120,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1121,columnNumber:15},void 0),a.jsxDEV("div",{ref:f,onScroll:x,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,O)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===O?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:O},O,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1124,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1122,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1118,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1116,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1130,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1133,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1135,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1136,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1137,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1140,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1138,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1134,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1132,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1115,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1148,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1149,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1147,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1152,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1111,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1110,columnNumber:5},void 0)},k9=({duration:e,onReconnect:s})=>(Wr.useEffect(()=>(console.log(" GreenRoom DisconnectNotification mounted:",e),()=>console.log(" GreenRoom DisconnectNotification unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1166,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1169,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1171,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1172,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1170,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1174,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1168,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1167,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/GreenRoomPage.tsx",lineNumber:1165,columnNumber:5},void 0)),R9=()=>{const e=Js(),s=new URLSearchParams(e.search),t=s.get("eventId"),i=s.get("eventName"),o=s.get("eventDate"),u=s.get("eventLocation"),c=e.state?.event||{id:t||"",name:i||"Current Event",date:o||"",location:u||"",numberOfDays:1},[f,h]=E.useState([]),[x,v]=E.useState(new Date),[b,O]=E.useState(!0),[w,C]=E.useState(null),[S,R]=E.useState(null),[X,G]=E.useState({}),[k,ie]=E.useState(null),[K,z]=E.useState({}),[A,ce]=E.useState("09:00"),[T,H]=E.useState(20),[Z,W]=E.useState(!1),[M,Ce]=E.useState(!1),[De,we]=E.useState(0),[ge,He]=E.useState({}),[ue,ke]=E.useState({}),[Ue,te]=E.useState({}),[le,pe]=E.useState({}),[de,oe]=E.useState(!0),[Q,_]=E.useState(null),[J,L]=E.useState(!1),[he,q]=E.useState(!1),[Xe,Ke]=E.useState(""),[Dt,St]=E.useState(null),[it,tr]=E.useState(!1),Jt=async()=>{if(console.log(" PhotoView: Resetting all states from RunOfShow reset..."),R(null),ie(null),z({}),G({}),te({}),He({}),ke({}),_(null),h(_e=>_e.map(Ze=>({...Ze,isIndented:!1}))),c?.id)try{console.log(" PhotoView: Reloading schedule data after reset...");const _e=await Nt.getRunOfShowData(c.id);if(_e?.schedule_items){const Ze=_e.schedule_items.map(be=>({...be,isPublic:be.isPublic||!1,isIndented:!1}));h(Ze),console.log(" PhotoView: Schedule data reloaded and indented state cleared")}}catch(_e){console.warn(" PhotoView: Failed to reload schedule data:",_e),console.log(" PhotoView: Using local fallback to clear indented state")}console.log(" PhotoView: All states and highlights reset successfully")},et=_e=>_e?_e.includes("CUE ")?_e:_e.replace(/^CUE(\d+)$/,"CUE $1"):"CUE",ft=(_e,Ze)=>!_e||_e.length<=Ze?_e:_e.substring(0,Ze)+"...",Fe=_e=>{if(_e.trim().length===0)return{html:"",needsSmallText:!1};const Ze=_e.trim(),be=Ze.split(/\s+/);if(be.length<=1)return{html:Ze,needsSmallText:!1};const Ge=["Dr","Dr.","Prof","Prof.","Mr","Mr.","Mrs","Mrs.","Ms","Ms.","Hon","Hon.","Honorable","Sen","Sen.","Senator","Rep","Rep.","Representative","Gov","Gov.","Governor","Mayor","Judge","Ambassador","Amb","Amb.","General","Gen","Gen.","Admiral","Adm","Adm.","Colonel","Col","Col.","Major","Maj","Maj.","Captain","Capt","Capt.","Lieutenant","Lt","Lt.","Sergeant","Sgt","Sgt.","Chief","Commander","Comm"],We=["Jr","Jr.","Sr","Sr.","III","IV","V","Ph.D","PhD","MD","DDS","DVM","Esq","Esq.","CPA","PE","RN","LPN"];let Ot="",Pt="",xr="",Sr="",Or="";Ge.includes(be[0])&&(Ot=be[0],be.shift());const ws=Ze.match(/\([DR]\)/i);if(ws){Or=ws[0];const ar=be.findIndex(zr=>zr.match(/\([DR]\)/i));ar!==-1&&be.splice(ar,1)}if(be.length>0&&We.includes(be[be.length-1])&&(Sr=be[be.length-1],be.pop()),be.length===0)return{html:Ze,needsSmallText:!1};if(be.length===1)Pt=be[0];else{const ar=be.length-1;xr=be[ar],Pt=be.slice(0,ar).join(" ")}const lr=12;let Mt=[Ot,Pt].filter(Boolean).join(" "),sr=[xr,Sr,Or].filter(Boolean).join(" ");if(Mt.length>lr&&Pt.includes(" ")){const ar=Pt.split(" ");if(ar.length>1){const zr=ar.pop(),Xs=ar.join(" ");Mt=[Ot,Xs].filter(Boolean).join(" "),sr=[zr,xr,Sr,Or].filter(Boolean).join(" ")}}if(Mt.length>lr&&Pt.includes(" ")){const ar=Pt.split(" ");if(ar.length>2){const zr=ar.splice(-2),Xs=ar.join(" ");Mt=[Ot,Xs].filter(Boolean).join(" "),sr=[zr.join(" "),xr,Sr,Or].filter(Boolean).join(" ")}}const Ut=Mt.length>lr||sr.length>lr;return{html:`${Mt}<br/>${sr}`,needsSmallText:Ut}},ct=_e=>{if(isNaN(_e)||_e===void 0||_e===null)return console.warn(" formatTime received invalid value:",_e),"00:00:00";const Ze=_e<0,be=Math.abs(_e),Ge=Math.floor(be/3600),We=Math.floor(be%3600/60),Ot=Math.floor(be%60);return`${Ze?"-":""}${Ge.toString().padStart(2,"0")}:${We.toString().padStart(2,"0")}:${Ot.toString().padStart(2,"0")}`},vt=()=>{if(k==="stopped")return 0;const _e=Object.keys(Ue);if(_e.length>0){const Ze=parseInt(_e[0]);if(X[Ze]){const be=X[Ze];return be.total-be.elapsed}}if(S&&X[S]){const Ze=X[S];return Ze.total-Ze.elapsed}return 0},mt=()=>{if(k==="stopped")return 0;const _e=Object.keys(Ue);if(_e.length>0){const Ze=parseInt(_e[0]);if(X[Ze]){const be=X[Ze],Ge=be.total-be.elapsed;return be.total>0?Ge/be.total*100:0}}if(S&&X[S]){const Ze=X[S],be=Ze.total-Ze.elapsed;return Ze.total>0?be/Ze.total*100:0}return 0},At=()=>{const _e=Object.keys(Ue);if(_e.length>0){const Ze=parseInt(_e[0]);if(X[Ze]){const be=X[Ze],Ge=be.total-be.elapsed;return Ge>120?"#10b981":Ge>30?"#f59e0b":"#ef4444"}}if(S&&X[S]){const Ze=X[S],be=Ze.total-Ze.elapsed;return be>120?"#10b981":be>30?"#f59e0b":"#ef4444"}return"#10b981"},hr=()=>{if(!S||k==="stopped"||k===null)return"#ffffff";const _e=Object.keys(Ue);if(_e.length>0){const Ze=parseInt(_e[0]);if(X[Ze]){const be=X[Ze],Ge=be.total-be.elapsed;return Ge>120?"#10b981":Ge>30?"#f59e0b":"#ef4444"}}if(S&&X[S]){const Ze=X[S],be=Ze.total-Ze.elapsed;return be>120?"#10b981":be>30?"#f59e0b":"#ef4444"}return"#10b981"};console.log(" PhotoView Status Debug:",{activeTimersKeys:Object.keys(Ue),activeTimers:Ue,activeItemId:S,timerProgress:S?X[S]:null,scheduleLength:f.length,runningItem:Object.keys(Ue).length>0?f.find(_e=>Ue[_e.id]):null,loadedItem:S?f.find(_e=>_e.id===S):null,loadedItemCue:S?f.find(_e=>_e.id===S)?.customFields?.cue:null,allItemsCues:f.map(_e=>({id:_e.id,cue:_e.customFields?.cue})),secondaryTimer:Q,secondaryTimerActive:Q?.isActive,secondaryTimerCue:Q?.cue});const pr=_e=>{if(isNaN(_e)||_e===void 0||_e===null)return"00:00";const Ze=_e<0,be=Math.abs(_e),Ge=Math.floor(be/3600),We=Math.floor(be%3600/60),Ot=be%60,Pt=Ze?"-":"";return Ge>0?`${Pt}${Ge.toString().padStart(2,"0")}:${We.toString().padStart(2,"0")}:${Ot.toString().padStart(2,"0")}`:`${Pt}${We.toString().padStart(2,"0")}:${Ot.toString().padStart(2,"0")}`},rr=_e=>{if(!A)return"";let Ze=0;for(let lr=0;lr<_e;lr++){const Mt=f[lr],sr=Mt.durationHours*60+Mt.durationMinutes;Ze+=sr}const[be,Ge]=A.split(":").map(Number),Ot=be*60+Ge+Ze,Pt=Math.floor(Ot/60),xr=Ot%60,Sr=Pt>=12?"PM":"AM";let Or=Pt;return Pt>12&&(Or=Pt-12),Pt===0&&(Or=12),`${Or}:${xr.toString().padStart(2,"0")} ${Sr}`};E.useEffect(()=>{if(c?.id){const _e=localStorage.getItem(`masterStartTime_${c.id}`);_e&&ce(_e)}},[c?.id]),E.useEffect(()=>{const _e=setInterval(()=>{v(new Date)},1e3);return()=>clearInterval(_e)},[]),E.useEffect(()=>{if(M||Z)return;const _e=setInterval(()=>{H(Ze=>Ze<=1?(W(!0),setTimeout(()=>{W(!1),H(20)},3e3),0):Ze-1)},1e3);return()=>clearInterval(_e)},[M,Z]),E.useEffect(()=>{if(!c?.id)return;(async()=>{try{console.log(" PhotoView: Loading active timer state on mount...");const Ze=await fetch(`https://ros-50-production.up.railway.app/api/active-timers/${c.id}`);if(Ze.ok){const be=await Ze.json();console.log(" PhotoView: Loaded active timer on mount:",be);let Ge;Array.isArray(be)?Ge=be.length>0?be[0]:null:be.value&&Array.isArray(be.value)?Ge=be.value.length>0?be.value[0]:null:Ge=be,console.log(" PhotoView: Processed active timer data:",Ge),Ge&&Ge.item_id?(R(parseInt(Ge.item_id)),ie(Ge.timer_state),z({[parseInt(Ge.item_id)]:!0}),G({[parseInt(Ge.item_id)]:{elapsed:Ge.elapsed_seconds||0,total:Ge.duration_seconds||300,startedAt:Ge.started_at?new Date(Ge.started_at):null}}),console.log(" PhotoView: Active timer state loaded on mount")):(R(null),ie(null),z({}),G({}),console.log(" PhotoView: No active timer found on mount"))}}catch(Ze){console.error(" PhotoView: Error loading active timer on mount:",Ze)}})()},[c?.id]),E.useEffect(()=>{if(!c?.id)return;console.log(" Setting up WebSocket connection for PhotoView timer updates");const _e={onServerTime:be=>{const Ge=new Date(be.serverTime).getTime(),We=new Date().getTime(),Ot=Ge-We;we(Ot),console.log(" PhotoView: Clock sync:",{serverTime:be.serverTime,clientTime:new Date().toISOString(),offsetMs:Ot,offsetSeconds:Math.floor(Ot/1e3)})},onTimerUpdated:be=>{console.log(" PhotoView: Timer updated via WebSocket",be),be&&be.item_id&&(G(Ge=>({...Ge,[be.item_id]:{elapsed:be.elapsed_seconds||0,total:be.duration_seconds||300,startedAt:be.started_at?new Date(be.started_at):null}})),be.timer_state==="running"?(ie("running"),R(parseInt(be.item_id)),z(Ge=>({...Ge,[parseInt(be.item_id)]:!0}))):be.timer_state==="loaded"&&(ie("loaded"),R(parseInt(be.item_id)),z(Ge=>({...Ge,[parseInt(be.item_id)]:!0}))))},onTimerStopped:be=>{console.log(" PhotoView: Timer stopped via WebSocket",be),be&&be.item_id&&(R(null),ie(null),z(Ge=>{const We={...Ge};return delete We[parseInt(be.item_id)],We}),G(Ge=>{const We={...Ge};return delete We[parseInt(be.item_id)],We}))},onTimersStopped:be=>{console.log(" PhotoView: All timers stopped via WebSocket",be),R(null),ie(null),z({}),G({})},onTimerStarted:be=>{console.log(" PhotoView: Timer started via WebSocket",be),be&&be.item_id&&(R(parseInt(be.item_id)),ie("running"),z(Ge=>({...Ge,[parseInt(be.item_id)]:!0})),G(Ge=>({...Ge,[parseInt(be.item_id)]:{elapsed:0,total:be.duration_seconds||300,startedAt:be.started_at?new Date(be.started_at):new Date}})))},onSubCueTimerStarted:be=>{if(console.log(" PhotoView: Sub-cue timer started via WebSocket",be),be&&be.item_id){const Ge=parseInt(be.item_id),We=f.find(Ot=>Ot.id===Ge);ke(Ot=>({...Ot,[Ge]:{elapsed:be.elapsed_seconds||0,total:be.duration_seconds||60,startedAt:be.started_at?new Date(be.started_at):new Date}})),_({itemId:Ge,duration:be.duration_seconds||60,remaining:Math.max(0,(be.duration_seconds||60)-(be.elapsed_seconds||0)),isActive:!0,startedAt:be.started_at?new Date(be.started_at):new Date,timerState:"running",cue:We?.customFields?.cue||`CUE ${be.item_id}`,segmentName:We?.segmentName||"Segment"})}},onSubCueTimerStopped:be=>{if(console.log(" PhotoView: Sub-cue timer stopped via WebSocket",be),be&&be.item_id){const Ge=parseInt(be.item_id);ke(We=>{const Ot={...We};return delete Ot[Ge],Ot})}_(null)},onActiveTimersUpdated:be=>{console.log(" PhotoView: Active timers updated via WebSocket",be),be&&be.item_id&&(be.timer_state==="running"||be.timer_state==="loaded"?(R(parseInt(be.item_id)),ie(be.timer_state),z({[parseInt(be.item_id)]:!0}),G({[parseInt(be.item_id)]:{elapsed:be.elapsed_seconds||0,total:be.duration_seconds||300,startedAt:be.started_at?new Date(be.started_at):null}})):be.timer_state==="stopped"&&(R(null),ie(null),z({}),G({})))},onRunOfShowDataUpdated:be=>{if(console.log(" PhotoView: Run of show data updated via WebSocket",be),be&&be.schedule_items){const Ge=be.schedule_items.map(We=>({...We,startTime:We.start_time||"09:00",durationHours:Math.floor((We.duration_seconds||300)/3600),durationMinutes:Math.floor((We.duration_seconds||300)%3600/60),durationSeconds:(We.duration_seconds||300)%60}));h(Ge)}},onConnectionChange:be=>{console.log(` PhotoView WebSocket connection ${be?"established":"lost"} for event: ${c.id}`)},onResetAllStates:be=>{console.log(" PhotoView: Reset all states triggered via WebSocket",be),console.log(" PhotoView: About to call resetAllStates function"),Jt(),console.log(" PhotoView: resetAllStates function called")},onInitialSync:async()=>{console.log(" PhotoView: WebSocket initial sync triggered - loading current state");try{const be=await fetch(`https://ros-50-production.up.railway.app/api/active-timers/${c?.id}`);if(be.ok){const Ge=await be.json();console.log(" PhotoView initial sync: Loaded active timer:",Ge);let We;Array.isArray(Ge)?We=Ge.length>0?Ge[0]:null:Ge.value&&Array.isArray(Ge.value)?We=Ge.value.length>0?Ge.value[0]:null:We=Ge,console.log(" PhotoView initial sync: Processed active timer data:",We),We&&We.item_id?(R(parseInt(We.item_id)),ie(We.timer_state),z({[parseInt(We.item_id)]:!0}),G({[parseInt(We.item_id)]:{elapsed:We.elapsed_seconds||0,total:We.duration_seconds||300,startedAt:We.started_at?new Date(We.started_at):null}}),console.log(" PhotoView: Initial sync completed - timer state restored")):(R(null),ie(null),z({}),G({}),console.log(" PhotoView: Initial sync completed - no active timer"))}}catch(be){console.error(" PhotoView: Initial sync failed to load active timer:",be)}try{const{data:be,error:Ge}=await Nt.getActiveSubCueTimers(c?.id);if(Ge){console.error(" PhotoView: Error loading sub-cue timers:",Ge),_(null);return}if(be&&be.length>0){console.log(" PhotoView initial sync: Loaded sub-cue timers:",be),console.log(" PhotoView: Sub-cue timer data structure:",be[0]),console.log(" PhotoView: Available fields:",Object.keys(be[0])),console.log(' PhotoView: Looking for timer_state === "running"'),console.log(" PhotoView: All timer states:",be.map(Ot=>({id:Ot.item_id,state:Ot.timer_state,is_running:Ot.is_running})));const We=be.find(Ot=>Ot.timer_state==="running"||Ot.is_running===!0);if(console.log(" PhotoView: Found running timer:",We),We){const Ot=parseInt(We.item_id),Pt=f.find(xr=>xr.id===Ot);ke(xr=>({...xr,[Ot]:{elapsed:We.elapsed_seconds||0,total:We.duration_seconds||60,startedAt:We.started_at?new Date(We.started_at):new Date}})),_({itemId:Ot,duration:We.duration_seconds||60,remaining:Math.max(0,(We.duration_seconds||60)-(We.elapsed_seconds||0)),isActive:!0,startedAt:We.started_at?new Date(We.started_at):new Date,timerState:"running",cue:Pt?.customFields?.cue||`CUE ${We.item_id}`,segmentName:Pt?.segmentName||"Segment"}),console.log(" PhotoView: Initial sync completed - sub-cue timer restored")}else _(null),console.log(" PhotoView: Initial sync completed - no running sub-cue timer")}else _(null),console.log(" PhotoView: Initial sync completed - no active sub-cue timers")}catch(be){console.error(" PhotoView: Initial sync failed to load sub-cue timers:",be),_(null)}}};bt.connect(c.id,_e),it||(L(!0),tr(!0));const Ze=()=>{document.hidden?(console.log(" PhotoView: Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(c.id)):bt.isConnected()||(console.log(" PhotoView: Tab visible - silently reconnecting WebSocket (no modal)"),bt.connect(c.id,_e),_e.onInitialSync?.())};return document.addEventListener("visibilitychange",Ze),()=>{console.log(" Cleaning up PhotoView WebSocket connection"),bt.disconnect(c.id),document.removeEventListener("visibilitychange",Ze),Dt&&clearTimeout(Dt)}},[c?.id,f]),E.useEffect(()=>{if(!S||!X[S])return;const _e=X[S];if(_e.startedAt&&k==="running"){const Ze=_e.startedAt,be=_e.total;console.log(` PhotoView: Starting continuous local timer for ${S} with duration ${be}s, start time: ${Ze.toISOString()}`);const Ge=setInterval(()=>{const We=new Date(Date.now()+De),Ot=Math.floor((We.getTime()-Ze.getTime())/1e3);G(Pt=>({...Pt,[S]:{...Pt[S],elapsed:Ot}})),Ot<=10&&console.log(` PhotoView Timer ${S}: Continuous elapsed=${Ot}s, Start=${Ze.toISOString()}, Now=${now.toISOString()}`)},1e3);return()=>{console.log(` PhotoView: Stopping continuous local timer for ${S}`),clearInterval(Ge)}}},[S,k]),E.useEffect(()=>{const _e=Object.keys(ue);if(_e.length===0)return;const Ze=[];return _e.forEach(be=>{const Ge=parseInt(be),We=ue[Ge];if(We&&We.startedAt){const Ot=setInterval(()=>{ke(Pt=>{if(Pt[Ge]&&Pt[Ge].startedAt){const xr=Pt[Ge].startedAt,Sr=new Date(Date.now()+De),Or=Math.floor((Sr.getTime()-xr.getTime())/1e3);return{...Pt,[Ge]:{...Pt[Ge],elapsed:Or}}}return Pt}),_(Pt=>{if(Pt&&Pt.itemId===Ge){const xr=ue[Ge];if(xr){const Sr=Math.max(0,xr.total-xr.elapsed);return{...Pt,remaining:Sr}}}return Pt})},100);Ze.push(Ot)}}),()=>{Ze.forEach(be=>clearInterval(be))}},[ue]),E.useEffect(()=>()=>{console.log(" PhotoView: Cleaning up on component unmount")},[]);const qe=async()=>{if(c?.id)try{console.log(" PhotoView: Loading indented cues from API for event:",c.id);const _e=await Nt.getIndentedCues(c.id);if(_e&&_e.length>0){console.log(" PhotoView: Found indented cues:",_e);const Ze={};_e.forEach(be=>{be.item_id&&be.parent_item_id&&(Ze[be.item_id]={parentId:be.parent_item_id,userId:be.user_id||"",userName:be.user_name||""})}),pe(Ze),console.log(" PhotoView: Set indentedCues state:",Ze)}else console.log(" PhotoView: No indented cues found"),pe({})}catch(_e){console.error(" PhotoView: Error loading indented cues from API:",_e)}};E.useEffect(()=>{c?.id&&qe()},[c?.id]),E.useEffect(()=>{if(!Q)return;const _e=setInterval(()=>{_(Ze=>{if(!Ze)return null;const be=Ze.startedAt?.getTime()||Date.now(),Ge=Date.now()+De,We=Math.floor((Ge-be)/1e3),Ot=Math.max(0,Ze.duration-We);return{...Ze,remaining:Ot}})},1e3);return()=>clearInterval(_e)},[Q]),E.useEffect(()=>{(async()=>{if(console.log("=== PHOTO VIEW PAGE INITIALIZATION ==="),!c?.id&&!t){C("No event selected"),O(!1);return}try{if(c?.id||t){console.log(" Loading from API for event:",c?.id||t);const be=await Nt.getRunOfShowData(c?.id||t);if(be?.schedule_items){console.log(" Loaded from API:",be);const Ge=be.schedule_items.map(We=>({...We,isPublic:We.isPublic||!1}));h(Ge),O(!1);return}}console.log(" Falling back to localStorage...");let Ze=null;if(c?.id||t){const be=`runOfShowSchedule_${c?.id||t}`;Ze=localStorage.getItem(be)}if(!Ze){const Ge=Object.keys(localStorage).filter(We=>We.startsWith("runOfShowSchedule_"));if(Ge.length>0){const We=Ge[Ge.length-1];Ze=localStorage.getItem(We)}}if(Ze){const be=JSON.parse(Ze);console.log(" Loaded from localStorage:",be),h(be)}else console.log(" No schedule data found, creating sample data for testing"),h([{id:1,day:1,programType:"PreShow/End",shotType:"Wide",segmentName:"Welcome & Opening",durationHours:0,durationMinutes:5,durationSeconds:0,notes:"Welcome everyone to the event",assets:"",speakers:"",speakersText:"",hasPPT:!0,hasQA:!1,timerId:"",customFields:{cue:"CUE1"},isPublic:!0},{id:2,day:1,programType:"Podium Transition",shotType:"Medium",segmentName:"Keynote Speaker",durationHours:0,durationMinutes:15,durationSeconds:0,notes:"Main keynote presentation",assets:"",speakers:"",speakersText:"",hasPPT:!0,hasQA:!0,timerId:"",customFields:{cue:"CUE2"},isPublic:!0},{id:3,day:1,programType:"Panel Transition",shotType:"Two Shot",segmentName:"Panel Discussion",durationHours:0,durationMinutes:30,durationSeconds:0,notes:"Interactive panel discussion",assets:"",speakers:"",speakersText:"",hasPPT:!1,hasQA:!0,timerId:"",customFields:{cue:"CUE3"},isPublic:!0}]),console.log(" Using sample data for testing")}catch(Ze){console.error(" Error loading schedule:",Ze),C("Failed to load schedule data")}finally{O(!1)}})()},[c?.id,t]);const Ct=(()=>{if(console.log(" getPreviewItems called"),console.log("Schedule length:",f.length),console.log("Active item ID:",S),console.log("Active item ID type:",typeof S),f.length===0)return console.log("No schedule items available"),[];const _e=S?f.findIndex(Ge=>String(Ge.id)===String(S)):-1;if(console.log("Current index:",_e),_e===-1)return console.log("No active item or not found, showing first 3 items"),f.slice(0,3);const Ze=Math.min(_e+3,f.length),be=f.slice(_e,Ze);return console.log("Showing items from index",_e,"to",Ze-1,":",be.length,"items"),console.log("Items:",be.map(Ge=>({id:Ge.id,name:Ge.segmentName}))),be})();console.log("Preview items:",Ct);const $e={"Podium Transition":"#8B4513","Panel Transition":"#404040","Sub Cue":"#F3F4F6","No Transition":"#059669",Video:"#F59E0B","Panel+Remote":"#1E40AF","Remote Only":"#60A5FA",Break:"#EC4899",TBD:"#6B7280",KILLED:"#DC2626",Podium:"#8B4513",Panel:"#404040","PreShow/End":"#8B5CF6"};if(b)return a.jsxDEV("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:a.jsxDEV("div",{className:"text-white text-xl",children:"Loading PhotoView..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1229,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1228,columnNumber:7},void 0);if(w)return a.jsxDEV("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:a.jsxDEV("div",{className:"text-red-400 text-xl",children:w},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1237,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1236,columnNumber:7},void 0);const nt=(_e,Ze)=>{const be=_e*60+Ze;if(be===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}Dt&&clearTimeout(Dt);const Ge=be*60*1e3,We=setTimeout(()=>{let Pt="";_e>0&&(Pt+=`${_e}h `),Ze>0&&(Pt+=`${Ze}m`),console.log(` PhotoViewPage: Auto-disconnect timer expired (${Pt.trim()})`),console.log(" PhotoViewPage: Showing disconnect notification..."),Ke(Pt.trim()),q(!0),console.log(" PhotoViewPage: Notification state set to true"),setTimeout(()=>{c?.id&&(bt.disconnect(c.id),console.log(" PhotoViewPage: WebSocket disconnected"))},100)},Ge);St(We),L(!1);let Ot="";_e>0&&(Ot+=`${_e}h `),Ze>0&&(Ot+=`${Ze}m`),console.log(` PhotoViewPage: Disconnect timer set to ${Ot.trim()}`)},yt=()=>{Dt&&clearTimeout(Dt),St(null),L(!1),console.log(" PhotoViewPage: Disconnect timer set to Never")},It=()=>{q(!1),c?.id&&L(!0)};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"min-h-screen bg-slate-900 text-white p-6",children:[a.jsxDEV("div",{className:"mb-8",children:[a.jsxDEV("div",{className:"flex justify-between items-start mb-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-2xl font-bold",children:c?.name||"Current Event"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1308,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-sm text-gray-300 mt-1",children:x.toLocaleTimeString()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1309,columnNumber:11},void 0),a.jsxDEV("button",{onClick:()=>oe(!de),className:`mt-2 px-2 py-1 text-xs rounded border transition-colors ${de?"bg-blue-600 border-blue-500 text-white":"bg-slate-700 border-slate-600 text-gray-300 hover:bg-slate-600"}`,children:de?"Hide Notes":"Show Notes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1313,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1307,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center space-x-6",children:[a.jsxDEV("div",{className:"text-center",children:k==="running"&&S?a.jsxDEV("div",{className:"text-lg text-green-400 font-bold",children:["RUNNING - ",et(f.find(_e=>_e.id===S)?.customFields?.cue),Q&&Q.isActive&&a.jsxDEV("div",{className:"text-lg text-orange-400 mt-0.5 font-bold",children:[et(Q.cue)," - ",pr(Q.remaining)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1331,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1328,columnNumber:17},void 0):k==="loaded"&&S?a.jsxDEV("div",{className:"text-lg text-yellow-400 font-bold",children:["LOADED - ",et(f.find(_e=>_e.id===S)?.customFields?.cue)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1337,columnNumber:17},void 0):a.jsxDEV("div",{className:"text-lg text-slate-300 font-bold",children:"NO CUE SELECTED"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1341,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1326,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative",children:a.jsxDEV("div",{className:"text-3xl font-mono bg-slate-800 px-6 py-3 rounded-lg border border-slate-600",style:{color:hr()},children:ct(vt())},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1350,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1349,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1324,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1306,columnNumber:7},void 0),S&&X[S]&&a.jsxDEV("div",{className:"w-full bg-slate-700 rounded-full overflow-hidden border border-slate-600 relative h-2",children:a.jsxDEV("div",{className:"h-full transition-all duration-1000 absolute top-0 right-0",style:{width:`${mt()}%`,background:At()}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1361,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1360,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1305,columnNumber:5},void 0),a.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[a.jsxDEV("div",{className:"bg-slate-700 border border-slate-600",children:a.jsxDEV("div",{className:"grid grid-cols-11 gap-0",children:[a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"CUE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1377,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1380,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-2 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SEGMENT INFO"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1383,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 1"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1386,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 2"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1389,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 3"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1392,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 4"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1395,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 5"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1398,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 border-r border-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 6"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1401,columnNumber:13},void 0),a.jsxDEV("div",{className:"col-span-1 bg-slate-600 p-3 text-center font-bold text-sm",children:"SLOT 7"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1404,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1376,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1375,columnNumber:9},void 0),Ct.length===0?a.jsxDEV("div",{className:"text-center text-gray-400 text-xl py-12 bg-slate-800 border border-slate-600 border-t-0",children:"No schedule items available"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1412,columnNumber:11},void 0):Ct.map((_e,Ze)=>{const be=String(S)===String(_e.id);K[_e.id];const Ge=k==="running"&&be,We=le[_e.id]||!1;let Ot=!1;if(We){const Mt=le[_e.id].parentId,sr=K[Mt]||!1,Ut=Ue[Mt]||!1;Ot=sr||Ut}const Pt=f.findIndex(Mt=>Mt.id===_e.id),xr=rr(Pt),Sr=`${_e.durationHours.toString().padStart(2,"0")}:${_e.durationMinutes.toString().padStart(2,"0")}:${_e.durationSeconds.toString().padStart(2,"0")}`,Or=[];_e.hasPPT&&Or.push("PPT"),_e.hasQA&&Or.push("Q&A");const ws=Or.length>0?Or.join("/"):"None";let lr="";return Ot?lr="border-4 border-orange-400":be?lr=Ge?"border-4 border-green-400":"border-4 border-blue-400":lr="border border-slate-600",a.jsxDEV("div",{className:lr,children:[a.jsxDEV("div",{className:`grid grid-cols-11 gap-0 ${Ot?"bg-amber-950":be?Ge?"bg-green-950":"bg-blue-950":"bg-slate-900"}`,style:{minHeight:"200px"},children:[a.jsxDEV("div",{className:"col-span-1 border-r border-slate-600 p-3 flex flex-col justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-lg font-bold mb-3 text-white",children:_e.customFields?.cue||`CUE ${Pt+1}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1467,columnNumber:23},void 0),a.jsxDEV("div",{className:"inline-block px-2 py-1 rounded text-xs font-medium text-white border shadow-lg",style:{backgroundColor:$e[_e.programType]||"#6B7280",color:_e.programType==="Sub Cue"?"black":"white",borderColor:_e.programType==="Sub Cue"?"black":"transparent"},children:_e.programType||"Unknown"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1470,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1466,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1465,columnNumber:19},void 0),a.jsxDEV("div",{className:"col-span-1 border-r border-slate-600 p-3 flex flex-col justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"mb-4",children:[a.jsxDEV("div",{className:"text-gray-400 text-xs mb-1",children:"START TIME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1487,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-lg font-bold text-white",children:xr||"No Time"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1488,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1486,columnNumber:23},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-gray-400 text-xs mb-1",children:"DURATION"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1491,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-base font-bold text-white",children:Sr},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1492,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1490,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1485,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1484,columnNumber:19},void 0),a.jsxDEV("div",{className:"col-span-2 border-r border-slate-600 p-3 flex flex-col justify-center",children:a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-gray-400 text-xs mb-1",children:"SEGMENT NAME"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1501,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-lg font-bold text-white",children:_e.segmentName||"Untitled Segment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1502,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1500,columnNumber:23},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-gray-400 text-xs mb-1",children:"SHOT TYPE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1505,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-sm font-bold text-white",children:_e.shotType||"Not specified"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1506,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1504,columnNumber:23},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-gray-400 text-xs mb-1",children:"PPT/Q&A"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1509,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-sm font-bold text-white",children:ws},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1510,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1508,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1499,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1498,columnNumber:19},void 0),[1,2,3,4,5,6,7].map(Mt=>{let sr=null;if(_e.speakersText)try{const Ut=JSON.parse(_e.speakersText);Array.isArray(Ut)&&(sr=Ut.find(ar=>ar.slot===Mt))}catch(Ut){console.log("Error parsing speakers:",Ut)}return a.jsxDEV("div",{className:`col-span-1 ${Mt<7?"border-r border-slate-600":""} p-3 flex flex-col justify-center`,children:sr?a.jsxDEV("div",{className:"text-center h-full flex flex-col justify-center",children:[sr.photoLink&&a.jsxDEV("div",{className:"mb-3 flex justify-center",children:a.jsxDEV("img",{src:sr.photoLink,alt:sr.fullName,className:"w-24 h-32 rounded-lg object-cover border-2 border-slate-400 shadow-lg",style:{objectFit:"cover",objectPosition:"center top"},onError:Ut=>{Ut.currentTarget.style.display="none"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1537,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1536,columnNumber:31},void 0),(()=>{const Ut=Fe(sr.fullName||"Unnamed");return a.jsxDEV("div",{className:`font-bold text-white mb-2 leading-tight ${Ut.needsSmallText?"text-sm":"text-base"}`,dangerouslySetInnerHTML:{__html:Ut.html}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1555,columnNumber:33},void 0)})(),(sr.title||sr.org)&&a.jsxDEV("div",{className:"text-xs text-gray-300 mb-1 leading-tight",children:(()=>{const Ut=sr.title||"",ar=sr.org||"",zr=Ut&&ar?`${Ut}, ${ar}`:Ut||ar;return ft(zr,20)})()},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1565,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-xs text-gray-300 font-medium bg-slate-700 px-2 py-1 rounded",children:sr.location==="Podium"?"Podium":sr.location==="Seat"?"Seat":sr.location==="Virtual"?"Virtual":sr.location==="Moderator"?"Moderator":sr.location||"Unknown"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1575,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1533,columnNumber:27},void 0):a.jsxDEV("div",{className:"text-center text-xs text-gray-500 h-full flex items-center justify-center",children:a.jsxDEV("div",{className:"text-gray-600",children:"Empty"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1586,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1584,columnNumber:27},void 0)},Mt,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1531,columnNumber:23},void 0)})]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1457,columnNumber:25},void 0),de&&(()=>{const Mt=_e.notes?_e.notes.replace(/<[^>]*>/g,"").trim():"";return console.log("Notes debug for item:",{hasNotes:!!_e.notes,notesValue:_e.notes,cleanNotes:Mt,cleanLength:Mt.length,willShow:Mt&&Mt.length>0}),Mt&&Mt.length>0&&Mt!=="None"&&Mt!=="null"&&Mt!=="undefined"})()&&a.jsxDEV("div",{className:`border-t border-slate-600 p-4 ${We?"bg-amber-950":be?Ge?"bg-green-950":"bg-blue-950":"bg-slate-800"}`,children:[a.jsxDEV("div",{className:"text-gray-400 text-sm mb-2 font-bold",children:"NOTES:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1621,columnNumber:29},void 0),a.jsxDEV("div",{className:"text-sm text-white break-words leading-relaxed",style:{whiteSpace:"pre-line"},dangerouslySetInnerHTML:{__html:_e.notes.replace(/\n/g,"<br>").replace(/\r\n/g,"<br>").replace(/\r/g,"<br>").replace(/<(?!\/?(?:br|b|strong|i|em|u|font|span|div|p|h[1-6])\b)[^>]*>/g,"")}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1622,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1616,columnNumber:27},void 0),Ze<Ct.length-1&&a.jsxDEV("div",{className:"border-t-2 border-slate-500"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1638,columnNumber:19},void 0)]},_e.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1455,columnNumber:15},void 0)})]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1373,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1303,columnNumber:5},void 0),J&&a.jsxDEV(T9,{onConfirm:nt,onNever:yt},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1648,columnNumber:29},void 0),he&&a.jsxDEV(P9,{duration:Xe,onReconnect:It},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1651,columnNumber:36},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1302,columnNumber:5},void 0)},T9=({onConfirm:e,onNever:s})=>{const[t,i]=E.useState(2),[o,u]=E.useState(0),c=[0,5,10,15,20,25,30],f=Wr.useRef(null),h=Wr.useRef(null);Wr.useEffect(()=>{f.current&&(f.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const x=()=>{if(!f.current)return;const b=Math.round(f.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1686,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1687,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1691,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1693,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1694,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1695,columnNumber:15},void 0),a.jsxDEV("div",{ref:f,onScroll:x,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,O)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===O?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:O},O,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1698,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1696,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1692,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1690,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1704,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1707,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1709,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1710,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1711,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1714,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1712,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1708,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1706,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1689,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1722,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1723,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1721,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1726,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1685,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1684,columnNumber:5},void 0)},P9=({duration:e,onReconnect:s})=>(Wr.useEffect(()=>(console.log(" PhotoView DisconnectNotification mounted:",e),()=>console.log(" PhotoView DisconnectNotification unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1740,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1743,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1745,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1746,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1744,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1748,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1742,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1741,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/PhotoViewPage.tsx",lineNumber:1739,columnNumber:5},void 0)),ni={GENERAL:{label:"General",color:"text-slate-300",bgColor:"bg-slate-600",icon:""},CUE:{label:"Cue",color:"text-yellow-300",bgColor:"bg-yellow-600",icon:""},AUDIO:{label:"Audio",color:"text-green-300",bgColor:"bg-green-600",icon:""},GFX:{label:"GFX",color:"text-purple-300",bgColor:"bg-purple-600",icon:""},VIDEO:{label:"Video",color:"text-red-300",bgColor:"bg-red-600",icon:""},LIGHTING:{label:"Lighting",color:"text-orange-300",bgColor:"bg-orange-600",icon:""}},_9=()=>{const[e]=No(),s=Ai(),t=Js(),{user:i}=Do(),o=e.get("eventId"),u=e.get("eventName"),c=t.state?.scriptText||"",f=t.state?.comments||[],h=t.state?.scriptId||null,x=t.state?.scriptName||"",[v,b]=E.useState(c),[O,w]=E.useState(f),[C,S]=E.useState("VIEWER"),[R,X]=E.useState(0),[G,k]=E.useState(!1),[ie,K]=E.useState(!1),[z,A]=E.useState(""),[ce,T]=E.useState([]),H=E.useRef(null),Z=E.useRef(null),W=E.useRef(""),[M,Ce]=E.useState(null),[De,we]=E.useState(""),ge=i?.displayName||i?.primaryEmail||"User",[He,ue]=E.useState(14),[ke,Ue]=E.useState(0),[te,le]=E.useState({start:0,end:20}),[pe,de]=E.useState(!1),[oe,Q]=E.useState(null),[_,J]=E.useState(""),[L,he]=E.useState(!1),[q,Xe]=E.useState(h),[Ke,Dt]=E.useState(x),[St,it]=E.useState([]),[tr,Jt]=E.useState(!1),[et,ft]=E.useState(!1),[Fe,ct]=E.useState("GENERAL"),[vt,mt]=E.useState(!1),[At,hr]=E.useState(!1),[pr,rr]=E.useState(""),[qe,ut]=E.useState(null),[Ct,$e]=E.useState(!1),nt=E.useRef(null),yt=E.useRef(null),It=E.useRef(0),_e=(I,F)=>{const me=I*60+F;if(me===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}mt(!1),qe&&clearTimeout(qe);const Ee=setTimeout(()=>{console.log(" Scripts Follow: Auto-disconnecting after timer"),bt.disconnect(o),he(!1),hr(!0)},me*60*1e3);ut(Ee);let xe="";I>0&&(xe+=`${I}h `),F>0&&(xe+=`${F}m`),console.log(` Scripts Follow: Disconnect timer set to ${xe.trim()}`)},Ze=()=>{qe&&clearTimeout(qe),ut(null),mt(!1),console.log(" Scripts Follow: Disconnect timer set to Never")},be=()=>{hr(!1),console.log(" Scripts Follow: Reconnecting..."),bt.connect(o,{})};E.useEffect(()=>{if(!o){console.error("No event ID provided");return}(async()=>{try{console.log("Loading script data for event:",o)}catch(F){console.error("Error loading script data:",F)}})()},[o]),E.useEffect(()=>{o&&!Ct&&(mt(!0),$e(!0))},[o,Ct]),E.useEffect(()=>{nt.current&&setTimeout(()=>{if(!nt.current)return;const I=nt.current.scrollTop,F=nt.current.clientHeight,me=nt.current.querySelectorAll("[data-line-number]");if(me.length>0){let Ee=0;const xe=Math.min(5,me.length);for(let Ve=0;Ve<xe;Ve++)Ee+=me[Ve].offsetHeight;const Ne=Ee/xe,ye=Math.max(0,Math.floor(I/Ne)),ze=Math.ceil(F/Ne),tt=ye+ze;Ue(ye),le({start:ye,end:tt})}},50)},[He]),E.useEffect(()=>{if(!o)return;console.log(" Setting up WebSocket for Scripts Follow, role:",C),bt.connect(o,{});const I=bt.getSocket();if(!I){console.error(" Socket not available");return}const F=()=>{console.log(" Scripts Follow WebSocket connected"),he(!0)},me=()=>{console.log(" Scripts Follow WebSocket disconnected"),he(!1)};if(I.on("connect",F),I.on("disconnect",me),he(I.connected),I.off("scriptScrollSync"),C==="VIEWER"){console.log(" Viewer: Setting up scroll sync listener");const Ne=ye=>{if(console.log(" ===== SCROLL SYNC RECEIVED ====="),console.log(" Data:",ye),console.log(" Current eventId:",o),console.log(" scriptRef exists:",!!nt.current),console.log(" Current userRole:",C),ye.eventId&&ye.eventId!==o){console.log("  SKIPPING - Different event:",ye.eventId,"vs",o);return}console.log("  Event ID matches - processing scroll sync"),X(ye.scrollPosition),ye.fontSize&&ye.fontSize!==He&&(console.log(` Syncing font size from ${He}px to ${ye.fontSize}px`),ue(ye.fontSize)),nt.current?(console.log(" Scrolling to position:",ye.scrollPosition),console.log(" Current scroll position:",nt.current.scrollTop),setTimeout(()=>{if(!nt.current){console.log("  scriptRef lost after timeout");return}nt.current.scrollTop=ye.scrollPosition,console.log("  Scroll applied - new position:",nt.current.scrollTop),setTimeout(()=>{if(!nt.current)return;const ze=nt.current.clientHeight,tt=nt.current.querySelectorAll("[data-line-number]");if(tt.length>0){let Ve=0;const at=Math.min(5,tt.length);for(let Kr=0;Kr<at;Kr++)Ve+=tt[Kr].offsetHeight;const pt=Ve/at,ht=Math.max(0,Math.floor(ye.scrollPosition/pt)),Xt=Math.ceil(ze/pt),vr=ht+Xt;Ue(ht),le({start:ht,end:vr}),console.log(" Updated visible range:",{start:ht,end:vr})}},50)},ye.fontSize!==He?100:0)):console.log("  scriptRef is null - cannot scroll")};I.on("scriptScrollSync",Ne),console.log(" Viewer: Scroll sync listener attached")}else console.log(" Scroller: No listener needed (broadcasting mode)");const Ee=Ne=>{switch(console.log(" Received comment sync:",Ne.action,Ne.commentId||Ne.comment?.id),Ne.action){case"add":if(Ne.comment){const ye={...Ne.comment,timestamp:typeof Ne.comment.timestamp=="string"?new Date(Ne.comment.timestamp):Ne.comment.timestamp};w(ze=>ze.some(tt=>tt.id===ye.id)?(console.log(" Comment already exists, skipping:",ye.id),ze):(console.log(" Adding comment:",ye.id),[...ze,ye]))}break;case"edit":if(Ne.comment){const ye={...Ne.comment,timestamp:typeof Ne.comment.timestamp=="string"?new Date(Ne.comment.timestamp):Ne.comment.timestamp};w(ze=>ze.map(tt=>tt.id===ye.id?ye:tt))}break;case"delete":Ne.commentId&&w(ye=>ye.filter(ze=>ze.id!==Ne.commentId));break}};I.on("scriptCommentSync",Ee),console.log(" Comment sync listener attached");const xe=()=>{if(document.hidden)console.log(" Scripts Follow: Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(o);else if(!bt.isConnected()){console.log(" Scripts Follow: Tab visible - silently reconnecting WebSocket (no modal)"),bt.connect(o,{});const Ne=bt.getSocket();Ne&&(Ne.on("connect",F),Ne.on("disconnect",me),he(Ne.connected))}};return document.addEventListener("visibilitychange",xe),()=>{console.log(" Cleaning up Scripts Follow WebSocket");const Ne=bt.getSocket();Ne&&(Ne.off("scriptScrollSync"),Ne.off("scriptCommentSync"),Ne.off("connect",F),Ne.off("disconnect",me),console.log(" Removed Scripts Follow socket listeners")),document.removeEventListener("visibilitychange",xe)}},[o,C]);const Ge=()=>{if(!nt.current)return;const I=nt.current.scrollTop,F=nt.current.clientHeight,me=nt.current.querySelectorAll("[data-line-number]");if(me.length>0){let Ee=0;const xe=Math.min(5,me.length);for(let Ve=0;Ve<xe;Ve++)Ee+=me[Ve].offsetHeight;const Ne=Ee/xe,ye=Math.max(0,Math.floor(I/Ne)),ze=Math.ceil(F/Ne),tt=ye+ze;Ue(ye),le({start:ye,end:tt})}else{const Ee=He*2,xe=Math.max(0,Math.floor(I/Ee)),Ne=Math.ceil(F/Ee),ye=xe+Ne;Ue(xe),le({start:xe,end:ye})}if(C==="SCROLLER"&&(X(I),o)){const Ee=Date.now();if(Ee-It.current>=100){const Ne=Math.max(0,Math.floor(I/(He*2)));bt.emitScriptScroll(I,Ne,He),It.current=Ee,console.log(" Broadcasting scroll position:",I,"line:",Ne,"fontSize:",He)}}},We=async I=>{const F=I.target.files?.[0];if(F){k(!0);try{const me=await F.text();b(me),console.log(" Script imported successfully"),o&&console.log(" Saving script to database...")}catch(me){console.error(" Error importing script:",me)}finally{k(!1)}}},Ot=()=>{if(!De.trim()||M===null)return;const I={id:Date.now().toString(),lineNumber:M,text:De.trim(),author:ge,timestamp:new Date,type:Fe};w(F=>[...F,I]),we(""),Ce(null),o&&(console.log(" Broadcasting new comment"),bt.emitScriptComment("add",I)),o&&console.log(" Saving comment to database...")},Pt=I=>O.filter(F=>F.lineNumber===I),xr=()=>{if(pe)return O.sort((F,me)=>F.lineNumber-me.lineNumber);const I=1;return O.filter(F=>F.lineNumber>=Math.max(0,te.start-I)&&F.lineNumber<=te.end+I).sort((F,me)=>F.lineNumber-me.lineNumber)},Sr=I=>{Q(I.id),J(I.text)},Or=I=>{if(_.trim()){const F=O.find(me=>me.id===I);if(F){const me={...F,text:_.trim()};w(O.map(Ee=>Ee.id===I?me:Ee)),o&&(console.log(" Broadcasting comment edit"),bt.emitScriptComment("edit",me,I))}}Q(null),J("")},ws=()=>{Q(null),J("")},lr=I=>{w(O.filter(F=>F.id!==I)),o&&(console.log(" Broadcasting comment delete"),bt.emitScriptComment("delete",void 0,I))},Mt=()=>{A(v),W.current=v,T(O),K(!0)},sr=(I,F,me=O)=>{const Ee=I.split(`
`),xe=F.split(`
`);if(I===F)return me;const Ne=new Map;for(let ze=0;ze<Ee.length;ze++){const tt=Ee[ze].trim();if(tt){for(let Ve=0;Ve<xe.length;Ve++)if(xe[Ve].trim()===tt&&!Ne.has(ze)){Ne.set(ze,Ve);break}}}const ye=me.map(ze=>{const tt=ze.lineNumber;if(Ne.has(tt))return{...ze,lineNumber:Ne.get(tt)};let Ve=-1,at=-1;for(let Xt=tt-1;Xt>=0;Xt--)if(Ne.has(Xt)){Ve=Xt,at=Ne.get(Xt);break}let pt=Ee.length,ht=xe.length;for(let Xt=tt+1;Xt<Ee.length;Xt++)if(Ne.has(Xt)){pt=Xt,ht=Ne.get(Xt);break}if(Ve>=0&&pt<Ee.length){const Xt=tt-Ve,vr=at+Xt;return{...ze,lineNumber:Math.min(vr,xe.length-1)}}else if(Ve>=0){const Xt=tt-Ve,vr=at+Xt;return{...ze,lineNumber:Math.min(vr,xe.length-1)}}else if(pt<Ee.length){const Xt=pt-tt,vr=Math.max(0,ht-Xt);return{...ze,lineNumber:vr}}return ze});return console.log(" Adjusted comment line numbers:",{oldCount:me.length,newCount:ye.length,changes:ye.filter((ze,tt)=>ze.lineNumber!==me[tt].lineNumber).length}),ye},Ut=async()=>{const I=sr(v,z);if(w(I),b(z),K(!1),q)try{if((await fetch(`https://ros-50-production.up.railway.app/api/scripts/${q}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({script_text:z,script_name:Ke})})).ok){console.log(" Script updated in database");for(const me of I){const Ee=O.find(xe=>xe.id===me.id);Ee&&Ee.lineNumber!==me.lineNumber&&await fetch(`https://ros-50-production.up.railway.app/api/script-comments/${me.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_number:me.lineNumber,comment_text:me.text,comment_type:me.type})})}console.log(" Comment line numbers updated in database")}else throw new Error("Failed to update script")}catch(F){console.error(" Error saving script:",F),alert("Failed to save script changes")}},ar=()=>{A(""),K(!1)},zr=I=>{A(I);const F=sr(W.current,I);T(F)},Xs=I=>{H.current&&(H.current.scrollTop=I.currentTarget.scrollTop)},Se=async()=>{try{const F=await(await fetch("https://ros-50-production.up.railway.app/api/scripts")).json();it(F)}catch(I){console.error("Error loading saved scripts:",I)}},V=async()=>{if(!v.trim()){alert("No script to save!");return}const I=prompt("Enter a name for this script:",Ke||"Untitled Script");if(I){ft(!0);try{const F=q?`https://ros-50-production.up.railway.app/api/scripts/${q}`:"https://ros-50-production.up.railway.app/api/scripts",xe=await(await fetch(F,{method:q?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({script_name:I,script_text:v,created_by:ge})})).json();Xe(xe.id),Dt(xe.script_name),console.log(" Saving comments for script:",xe.id,"- Total comments:",O.length),await fetch(`https://ros-50-production.up.railway.app/api/script-comments/script/${xe.id}`,{method:"DELETE"}),console.log(" Deleted existing comments");for(const Ne of O)await fetch("https://ros-50-production.up.railway.app/api/script-comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({script_id:xe.id,line_number:Ne.lineNumber,comment_text:Ne.text,comment_type:Ne.type,author:Ne.author})});console.log(" Saved",O.length,"comments"),alert(`Script "${I}" saved successfully!`),Se()}catch(F){console.error("Error saving script:",F),alert("Failed to save script")}finally{ft(!1)}}},re=async I=>{try{const me=await(await fetch(`https://ros-50-production.up.railway.app/api/scripts/${I}`)).json();b(me.script.script_text),Xe(me.script.id),Dt(me.script.script_name);const Ee=me.comments.map(xe=>({id:xe.id,lineNumber:xe.line_number,text:xe.comment_text,author:xe.author,timestamp:new Date(xe.created_at),type:xe.comment_type||"GENERAL"}));w(Ee),Jt(!1),alert(`Script "${me.script.script_name}" loaded!`)}catch(F){console.error("Error loading script:",F),alert("Failed to load script")}},ee=async(I,F)=>{if(confirm(`Delete script "${F}"? This cannot be undone.`))try{await fetch(`https://ros-50-production.up.railway.app/api/scripts/${I}`,{method:"DELETE"}),alert(`Script "${F}" deleted!`),Se(),q===I&&(Xe(null),Dt(""),b(""),w([]))}catch(me){console.error("Error deleting script:",me),alert("Failed to delete script")}},ae=v.split(`
`);return a.jsxDEV("div",{className:"min-h-screen bg-slate-900 text-white",children:[a.jsxDEV("div",{className:"bg-slate-800 border-b border-slate-700 px-6 py-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("button",{onClick:()=>s(-1),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded text-sm font-medium transition-colors",children:" Back"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:901,columnNumber:13},void 0),a.jsxDEV("h1",{className:"text-2xl font-bold",children:"Scripts Follow"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:907,columnNumber:13},void 0),Ke&&a.jsxDEV("span",{className:"px-3 py-1 bg-green-600 rounded text-sm font-medium",children:[" ",Ke]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:909,columnNumber:15},void 0),u&&a.jsxDEV("span",{className:"text-slate-400",children:["- ",u]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:913,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:900,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-sm text-slate-400",children:"Role:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:919,columnNumber:15},void 0),a.jsxDEV("select",{value:C,onChange:I=>S(I.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsxDEV("option",{value:"SCROLLER",children:"Scroller"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:925,columnNumber:17},void 0),a.jsxDEV("option",{value:"VIEWER",children:"Viewer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:926,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:920,columnNumber:15},void 0),a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${C==="SCROLLER"?"bg-green-500":"bg-blue-500"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:928,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:918,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>yt.current?.click(),disabled:G,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded text-sm font-medium transition-colors",children:G?"Importing...":" Import"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:932,columnNumber:13},void 0),a.jsxDEV("input",{ref:yt,type:"file",accept:".txt,.pdf,.doc,.docx",onChange:We,className:"hidden"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:939,columnNumber:13},void 0),a.jsxDEV("button",{onClick:V,disabled:et||!v,className:"px-4 py-2 bg-green-600 hover:bg-green-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded text-sm font-medium transition-colors",children:et?"Saving...":" Save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:948,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>{Se(),Jt(!0)},className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded text-sm font-medium transition-colors",children:" Load"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:957,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>{s(`/teleprompter?eventId=${o}&eventName=${encodeURIComponent(u||"")}`,{state:{scriptText:v,comments:O,scriptId:q}})},disabled:!v,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded text-sm font-medium transition-colors",children:" Teleprompter"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:968,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:916,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:899,columnNumber:9},void 0),a.jsxDEV("div",{className:`mt-3 px-6 py-4 rounded-lg text-base flex items-center justify-between shadow-lg border-2 ${C==="SCROLLER"?"bg-gradient-to-r from-green-900 to-green-800 border-green-600":"bg-gradient-to-r from-blue-900 to-blue-800 border-blue-600"}`,children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:`text-3xl ${C==="SCROLLER"?"animate-pulse":""}`,children:C==="SCROLLER"?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:993,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-bold text-lg text-white",children:C==="SCROLLER"?"SCROLLER MODE":"VIEWER MODE"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:997,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-sm text-slate-200 mt-1",children:C==="SCROLLER"?a.jsxDEV("span",{children:["Broadcasting your scroll position to all viewers for event: ",a.jsxDEV("strong",{children:u},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1002,columnNumber:85},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1002,columnNumber:19},void 0):a.jsxDEV("span",{children:["Auto-following the scroller for event: ",a.jsxDEV("strong",{children:u},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1004,columnNumber:64},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1004,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1e3,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:996,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:992,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg ${L?"bg-green-600":"bg-red-600"}`,children:[a.jsxDEV("div",{className:`w-3 h-3 rounded-full ${L?"bg-white animate-pulse":"bg-white"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1013,columnNumber:15},void 0),a.jsxDEV("span",{className:"text-sm font-bold text-white",children:L?"Connected":"Disconnected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1014,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1010,columnNumber:13},void 0),C==="VIEWER"&&a.jsxDEV("div",{className:"px-4 py-2 bg-blue-600 rounded-lg",children:a.jsxDEV("span",{className:"text-sm font-bold text-white",children:["Event: ",o?.slice(0,8)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1020,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1019,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1009,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:987,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:898,columnNumber:7},void 0),a.jsxDEV("div",{className:"flex h-[calc(100vh-140px)]",children:[a.jsxDEV("div",{className:"w-1/3 bg-slate-800 border-r border-slate-700 p-6 overflow-y-auto",children:[a.jsxDEV("div",{className:"mb-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("h2",{className:"text-xl font-bold flex items-center gap-2",children:[" Comments",a.jsxDEV("span",{className:"text-sm font-normal text-slate-400",children:["(",O.length," total)"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1035,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1033,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>de(!pe),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${pe?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-900 hover:bg-green-800 text-green-300"}`,children:pe?" Show All":" Visible Only"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1039,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1032,columnNumber:13},void 0),!pe&&a.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[a.jsxDEV("div",{className:"text-xs bg-green-900 text-green-300 px-2 py-1 rounded font-medium",children:" Showing visible only"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1053,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-xs text-slate-400",children:["Lines ",Math.max(1,te.start)," - ",te.end+1]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1056,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1052,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1031,columnNumber:11},void 0),M!==null&&a.jsxDEV("div",{className:"mb-6 p-4 bg-gradient-to-br from-blue-900 to-blue-800 rounded-lg border-2 border-blue-500 shadow-lg animate-in fade-in duration-200",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"text-lg font-bold text-white flex items-center gap-2",children:[ni[Fe].icon," Add Comment"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1068,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-sm text-blue-300",children:["Line ",M+1]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1071,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1067,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{Ce(null),we(""),ct("GENERAL")},className:"text-slate-300 hover:text-white text-xl font-bold",title:"Cancel",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1075,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1066,columnNumber:15},void 0),a.jsxDEV("div",{className:"mb-4",children:[a.jsxDEV("label",{className:"text-base font-bold text-white mb-3 block",children:" Comment Type:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1090,columnNumber:17},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(ni).map(I=>a.jsxDEV("button",{onClick:()=>ct(I),className:`px-4 py-3 rounded-lg text-base font-bold transition-all duration-200 shadow-lg ${Fe===I?`${ni[I].bgColor} text-white ring-2 ring-yellow-400 transform scale-105`:"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:scale-102"}`,children:[a.jsxDEV("span",{className:"text-lg",children:ni[I].icon},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1102,columnNumber:23},void 0)," ",ni[I].label]},I,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1093,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1091,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1089,columnNumber:15},void 0),a.jsxDEV("textarea",{value:De,onChange:I=>we(I.target.value),placeholder:"Type your comment here...",className:"w-full px-3 py-3 bg-slate-700 border-2 border-slate-600 rounded text-white text-base resize-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400",rows:4,autoFocus:!0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1108,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex gap-2 mt-3",children:[a.jsxDEV("button",{onClick:Ot,disabled:!De.trim(),className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded text-base font-bold transition-colors",children:" Save Comment"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1117,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>{Ce(null),we("")},className:"px-4 py-3 bg-slate-600 hover:bg-slate-500 rounded text-base font-medium transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1124,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1116,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1065,columnNumber:13},void 0),M===null&&a.jsxDEV("div",{className:"mb-6 p-4 bg-slate-700 rounded-lg border-2 border-dashed border-slate-600 text-center",children:a.jsxDEV("div",{className:"text-slate-400 text-sm",children:[" Click a ",a.jsxDEV("span",{className:"text-blue-400 font-bold",children:"line number"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1141,columnNumber:28},void 0)," on the script to add a comment"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1140,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1139,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-3",children:O.length===0?a.jsxDEV("p",{className:"text-slate-400 text-sm text-center py-8",children:"No comments yet. Click on a line number to add a comment."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1149,columnNumber:15},void 0):xr().length===0?a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("p",{className:"text-slate-400 text-sm mb-2",children:"No comments visible on screen"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1154,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-slate-500 text-xs",children:"Scroll to lines with  to see their comments"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1157,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1153,columnNumber:15},void 0):xr().map(I=>{const F=I.lineNumber-te.start,me=te.end-te.start,Ee=F/me*100,xe=I.lineNumber>=te.start&&I.lineNumber<=te.end;let Ne="",ye="bg-slate-600";pe?Ne="":xe?Ee<25?(Ne="Top",ye="bg-blue-600"):Ee<75?(Ne="Middle",ye="bg-green-600"):(Ne="Bottom",ye="bg-purple-600"):I.lineNumber<te.start?(Ne="Above",ye="bg-gray-600"):(Ne="Below",ye="bg-gray-600");const ze=oe===I.id;return a.jsxDEV("div",{className:`p-3 rounded-lg transition-all ${pe?"bg-slate-700 border-l-4 border-blue-500 hover:bg-slate-600":xe?"bg-slate-700 border-l-4 border-green-500 hover:bg-slate-600":"bg-slate-800 border-l-4 border-gray-500 opacity-75 hover:bg-slate-700"}`,children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[a.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxDEV("span",{className:`text-sm px-3 py-2 rounded-md font-bold shadow-md ${ni[I.type||"GENERAL"].bgColor} text-white flex items-center gap-1`,children:[a.jsxDEV("span",{className:"text-base",children:ni[I.type||"GENERAL"].icon},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1215,columnNumber:27},void 0),a.jsxDEV("span",{children:ni[I.type||"GENERAL"].label},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1216,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1214,columnNumber:25},void 0),a.jsxDEV("div",{className:"bg-slate-600 px-3 py-2 rounded-md",children:a.jsxDEV("span",{className:"text-sm font-bold text-blue-300",children:[" Line ",I.lineNumber+1]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1220,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1219,columnNumber:25},void 0),Ne&&a.jsxDEV("span",{className:`text-sm ${ye} text-white px-3 py-2 rounded-md font-bold shadow-sm`,children:Ne},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1226,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1212,columnNumber:23},void 0),!ze&&a.jsxDEV("div",{className:"flex items-center gap-1",children:[a.jsxDEV("button",{onClick:()=>Sr(I),className:"p-1 hover:bg-slate-600 rounded transition-colors",title:"Edit comment",children:a.jsxDEV("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1241,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1240,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1235,columnNumber:27},void 0),a.jsxDEV("button",{onClick:()=>{confirm("Delete this comment?")&&lr(I.id)},className:"p-1 hover:bg-slate-600 rounded transition-colors",title:"Delete comment",children:a.jsxDEV("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1254,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1253,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1244,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1234,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1211,columnNumber:21},void 0),ze?a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("textarea",{value:_,onChange:tt=>J(tt.target.value),className:"w-full p-2 bg-slate-800 text-white rounded border border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,autoFocus:!0},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1263,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>Or(I.id),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm transition-colors",children:" Save"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1271,columnNumber:27},void 0),a.jsxDEV("button",{onClick:ws,className:"px-3 py-1 bg-slate-600 hover:bg-slate-700 text-white rounded text-sm transition-colors",children:"Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1277,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1270,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1262,columnNumber:23},void 0):a.jsxDEV("div",{className:"space-y-3",children:a.jsxDEV("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-600",children:a.jsxDEV("p",{className:"text-sm text-white leading-relaxed",children:I.text},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1288,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1287,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1286,columnNumber:23},void 0)]},I.id,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1201,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1147,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1030,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex-1 bg-slate-900 p-6 overflow-hidden",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[a.jsxDEV("h2",{className:"text-xl font-bold",children:" Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1302,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"flex items-center gap-2 bg-slate-800 rounded px-3 py-1",children:[a.jsxDEV("span",{className:"text-sm text-slate-400",children:"Text Size:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1307,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>ue(I=>Math.max(10,I-2)),disabled:C==="VIEWER",className:`w-8 h-8 rounded text-white font-bold transition-colors ${C==="VIEWER"?"bg-slate-600 cursor-not-allowed opacity-50":"bg-slate-700 hover:bg-slate-600"}`,title:C==="VIEWER"?"Synced with Scroller":"Decrease font size",children:"A-"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1308,columnNumber:17},void 0),a.jsxDEV("span",{className:"text-sm text-white w-8 text-center",children:[He,"px"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1320,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>ue(I=>Math.min(32,I+2)),disabled:C==="VIEWER",className:`w-8 h-8 rounded text-white font-bold transition-colors ${C==="VIEWER"?"bg-slate-600 cursor-not-allowed opacity-50":"bg-slate-700 hover:bg-slate-600"}`,title:C==="VIEWER"?"Synced with Scroller":"Increase font size",children:"A+"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1321,columnNumber:17},void 0),C==="VIEWER"&&a.jsxDEV("span",{className:"text-xs text-blue-400 ml-2",children:" Synced"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1334,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1306,columnNumber:15},void 0),C==="SCROLLER"&&a.jsxDEV("button",{onClick:ie?Ut:Mt,className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm transition-colors",title:ie?"Save script changes":"Edit script text",children:ie?" Save":" Edit"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1340,columnNumber:17},void 0),C==="VIEWER"&&a.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-600 rounded text-sm",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1351,columnNumber:19},void 0),"Following Scroller"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1350,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1304,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1301,columnNumber:11},void 0),v?a.jsxDEV("div",{ref:nt,onScroll:Ge,className:`h-[calc(100%-60px)] overflow-y-auto bg-slate-800 rounded-lg p-6 ${C==="VIEWER"?"cursor-default":""}`,style:{scrollBehavior:C==="VIEWER"?"smooth":"auto"},children:ie?a.jsxDEV("div",{className:"flex flex-col h-full",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-slate-600",children:[a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-lg font-bold text-white",children:" Edit Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1373,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-sm text-slate-400 mt-1",children:" Lines with yellow markers have comments  Comments stay on their line numbers"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1374,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1372,columnNumber:21},void 0),a.jsxDEV("button",{onClick:ar,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white rounded text-sm transition-colors",children:" Cancel"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1378,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1371,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex flex-1 gap-2 overflow-hidden",children:[a.jsxDEV("div",{ref:H,className:"bg-slate-900/50 rounded-lg p-4 overflow-y-auto border border-slate-700 scrollbar-hide",style:{minWidth:"60px",overflowY:"scroll"},children:a.jsxDEV("div",{className:"font-mono leading-relaxed text-right pr-2",style:{fontSize:`${He}px`},children:z.split(`
`).map((I,F)=>{const me=ce.filter(xe=>xe.lineNumber===F),Ee=me.length>0;return a.jsxDEV("div",{className:`relative ${Ee?"text-yellow-400 font-bold":"text-slate-500"}`,children:[Ee&&a.jsxDEV("div",{className:"absolute left-0 w-1 h-full bg-yellow-400 rounded-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1402,columnNumber:33},void 0),a.jsxDEV("span",{className:"relative",children:F+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1404,columnNumber:31},void 0),Ee&&a.jsxDEV("span",{className:"ml-1 text-xs",children:["(",me.length,")"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1406,columnNumber:33},void 0)]},F,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1397,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1392,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1387,columnNumber:21},void 0),a.jsxDEV("textarea",{ref:Z,value:z,onChange:I=>zr(I.target.value),onScroll:Xs,className:"flex-1 bg-slate-900 text-white p-4 rounded-lg border border-slate-600 focus:outline-none focus:ring-2 focus:ring-green-500 resize-none font-mono leading-relaxed",style:{fontSize:`${He}px`},placeholder:"Enter your script text here..."},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1415,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1385,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1370,columnNumber:17},void 0):a.jsxDEV("div",{className:"font-mono leading-relaxed",style:{fontSize:`${He}px`},children:ae.map((I,F)=>{const me=Pt(F),Ee=me.length>0;return a.jsxDEV("div",{"data-line-number":F,className:`relative flex items-start gap-3 py-2 transition-colors ${M===F?"bg-blue-900 ring-2 ring-blue-500":"hover:bg-slate-700"}`,children:[Ee&&a.jsxDEV("div",{className:"absolute left-0 top-2 w-1 bg-yellow-400 rounded-full shadow-lg",style:{height:"calc(100% - 1rem)"}},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1444,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex-shrink-0 w-16 text-right pr-2 relative z-10",children:a.jsxDEV("button",{onClick:()=>Ce(F),className:`font-bold select-none cursor-pointer transition-colors ${Ee?"text-blue-400 hover:text-blue-300":"text-slate-500 hover:text-slate-400"}`,style:{fontSize:`${Math.max(12,He-2)}px`},title:Ee?`${me.length} comment(s) - Click to add more`:"Click to add comment",children:F+1},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1449,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1448,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex-1 flex items-start justify-between relative z-10",children:[a.jsxDEV("div",{className:`whitespace-pre-wrap break-words ${Ee?"text-white font-medium bg-blue-900 rounded-md px-2 py-1":"text-white"}`,children:I||""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1465,columnNumber:25},void 0),Ee&&a.jsxDEV("div",{className:"flex items-center gap-1 flex-shrink-0 ml-4 bg-slate-800 px-2 py-1 rounded-lg",children:[[...new Set(me.map(xe=>xe.type||"GENERAL"))].map(xe=>a.jsxDEV("span",{className:`text-lg px-1 rounded-full ${ni[xe].bgColor} shadow-md`,title:ni[xe].label,children:ni[xe].icon},xe,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1476,columnNumber:31},void 0)),a.jsxDEV("span",{className:"text-sm bg-yellow-500 text-white rounded-full px-2 min-w-[24px] text-center font-bold shadow-md",children:me.length},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1484,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1473,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1464,columnNumber:23},void 0)]},F,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1433,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1427,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1359,columnNumber:13},void 0):a.jsxDEV("div",{className:"h-[calc(100%-60px)] flex items-center justify-center bg-slate-800 rounded-lg",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1499,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-slate-400 text-lg mb-4",children:"No script loaded"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1500,columnNumber:17},void 0),a.jsxDEV("button",{onClick:()=>yt.current?.click(),className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded font-medium transition-colors",children:"Import Script"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1501,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1498,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1497,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1300,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1028,columnNumber:7},void 0),tr&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:a.jsxDEV("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[a.jsxDEV("h2",{className:"text-2xl font-bold",children:" Saved Scripts"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1518,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>Jt(!1),className:"text-slate-400 hover:text-white transition-colors",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1519,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1517,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:!Array.isArray(St)||St.length===0?a.jsxDEV("div",{className:"text-center py-12 text-slate-400",children:[a.jsxDEV("p",{className:"text-lg mb-2",children:"No saved scripts yet"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1530,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-sm",children:"Import a script and click Save to get started"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1531,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1529,columnNumber:17},void 0):a.jsxDEV("div",{className:"space-y-3",children:St.map(I=>a.jsxDEV("div",{className:"bg-slate-700 rounded-lg p-4 hover:bg-slate-650 transition-colors",children:a.jsxDEV("div",{className:"flex items-start justify-between",children:[a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h3",{className:"font-bold text-lg mb-1",children:I.script_name},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1542,columnNumber:27},void 0),a.jsxDEV("div",{className:"text-sm text-slate-400",children:[a.jsxDEV("p",{children:["Created: ",new Date(I.created_at).toLocaleDateString()]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1544,columnNumber:29},void 0),I.created_by&&a.jsxDEV("p",{children:["By: ",I.created_by]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1545,columnNumber:51},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1543,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1541,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex gap-2 ml-4",children:[a.jsxDEV("button",{onClick:()=>re(I.id),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded text-sm font-medium transition-colors",children:"Load"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1550,columnNumber:27},void 0),a.jsxDEV("button",{onClick:()=>ee(I.id,I.script_name),className:"px-4 py-2 bg-red-600 hover:bg-red-500 rounded text-sm font-medium transition-colors",children:"Delete"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1556,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1549,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1540,columnNumber:23},void 0)},I.id,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1536,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1534,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1527,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1516,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1515,columnNumber:9},void 0),vt&&a.jsxDEV(U9,{onConfirm:_e,onNever:Ze},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1574,columnNumber:31},void 0),At&&a.jsxDEV(V9,{duration:pr,onReconnect:be},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1577,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:896,columnNumber:5},void 0)},U9=({onConfirm:e,onNever:s})=>{const[t,i]=E.useState(2),[o,u]=E.useState(0),c=[0,5,10,15,20,25,30],f=Wr.useRef(null),h=Wr.useRef(null);Wr.useEffect(()=>{f.current&&(f.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const x=()=>{if(!f.current)return;const b=Math.round(f.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1611,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1612,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1616,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1618,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1619,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1620,columnNumber:15},void 0),a.jsxDEV("div",{ref:f,onScroll:x,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,O)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===O?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:O},O,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1623,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1621,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1617,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1615,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1629,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1632,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1634,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1635,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1636,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1639,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1637,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1633,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1631,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1614,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1647,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1648,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1646,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1651,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1610,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1609,columnNumber:5},void 0)},V9=({duration:e,onReconnect:s})=>(Wr.useEffect(()=>(console.log(" Scripts Follow DisconnectNotification mounted:",e),()=>console.log(" Scripts Follow DisconnectNotification unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1665,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1668,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1670,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1671,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1669,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1673,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1667,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1666,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/ScriptsFollowPage.tsx",lineNumber:1664,columnNumber:5},void 0)),WE={GENERAL:{label:"General",color:"text-slate-300",bgColor:"bg-slate-700",icon:""},CUE:{label:"Cue",color:"text-yellow-300",bgColor:"bg-yellow-700",icon:""},AUDIO:{label:"Audio",color:"text-green-300",bgColor:"bg-green-700",icon:""},GFX:{label:"GFX",color:"text-purple-300",bgColor:"bg-purple-700",icon:""},VIDEO:{label:"Video",color:"text-red-300",bgColor:"bg-red-700",icon:""},LIGHTING:{label:"Lighting",color:"text-orange-300",bgColor:"bg-orange-700",icon:""}},j9=()=>{const[e]=No(),s=Ai(),t=Js(),{user:i}=Do(),o=e.get("eventId"),u=e.get("eventName")||"Teleprompter",c=e.get("scriptId"),f=t.state?.scriptText||"",h=t.state?.comments||[],x=t.state?.scriptId||c,v=t.state?.scriptName||"",[b,O]=E.useState(f),[w,C]=E.useState(h),[S,R]=E.useState(x),[X,G]=E.useState(v),[k,ie]=E.useState("VIEWER"),[K,z]=E.useState(!1),[A,ce]=E.useState(!0),[T,H]=E.useState(!1),[Z,W]=E.useState(!1),[M,Ce]=E.useState(!0),[De,we]=E.useState(!1),[ge,He]=E.useState(!0),[ue,ke]=E.useState(!1),[Ue,te]=E.useState(!1),[le,pe]=E.useState(""),[de,oe]=E.useState(null),[Q,_]=E.useState(!1),[J,L]=E.useState({scrollSpeed:50,fontSize:48,textAlign:"center",isMirroredHorizontal:!1,isMirroredVertical:!1,backgroundColor:"#000000",textColor:"#FFFFFF",lineHeight:1.8,showComments:!0,showReadingGuide:!0,readingGuideMode:"arrows-with-lines",readingGuideColor:"#FF0000"}),he=E.useRef(null),q=E.useRef(0),Xe=E.useRef(0),Ke=E.useRef(null),Dt=E.useRef(!1),St=E.useRef(0),it=E.useRef(null),tr=E.useRef(new Map),Jt=($e,nt)=>{const yt=$e*60+nt;if(yt===0){alert('Please select a time greater than 0, or use "Never Disconnect"');return}ke(!1),de&&clearTimeout(de);const It=setTimeout(()=>{console.log(" Teleprompter: Auto-disconnecting after timer"),bt.disconnect(o),W(!1),te(!0)},yt*60*1e3);oe(It);let _e="";$e>0&&(_e+=`${$e}h `),nt>0&&(_e+=`${nt}m`),console.log(` Teleprompter: Disconnect timer set to ${_e.trim()}`)},et=()=>{de&&clearTimeout(de),oe(null),ke(!1),console.log(" Teleprompter: Disconnect timer set to Never")},ft=()=>{te(!1),console.log(" Teleprompter: Reconnecting..."),bt.connect(o,{})};E.useEffect(()=>{!b&&o&&Fe()},[o]),E.useEffect(()=>{o&&!Q&&(ke(!0),_(!0))},[o,Q]);const Fe=async()=>{if(o)try{const $e=await fetch(`http://localhost:3001/api/scripts/${o}`);if($e.ok){const nt=await $e.json();nt.script_text&&O(nt.script_text),nt.comments&&C(nt.comments)}}catch($e){console.error("Error loading script:",$e)}};E.useEffect(()=>{if(!o)return;console.log(" Connecting to WebSocket for teleprompter...");const $e={onConnectionChange:yt=>{console.log(yt?" WebSocket connected for teleprompter":" WebSocket disconnected"),W(yt)}};bt.connect(o,$e);const nt=()=>{document.hidden?(console.log(" Teleprompter: Tab hidden - disconnecting WebSocket to save costs"),bt.disconnect(o)):bt.isConnected()||(console.log(" Teleprompter: Tab visible - silently reconnecting WebSocket (no modal)"),bt.connect(o,$e))};return document.addEventListener("visibilitychange",nt),()=>{console.log(" Cleaning up Teleprompter WebSocket connection"),bt.disconnect(o),document.removeEventListener("visibilitychange",nt)}},[o]),E.useEffect(()=>{if(k!=="VIEWER"||!o)return;const $e=bt.getSocket();if(!$e)return;console.log(" Viewer: Setting up teleprompter scroll sync listener");const nt=yt=>{if(console.log(" Teleprompter: Received scroll sync - line:",yt.lineNumber,"position:",yt.scrollPosition),yt.eventId&&yt.eventId!==o){console.log(" Skipping scroll sync - different event");return}if(yt.fontSize&&yt.fontSize!==J.fontSize&&ct({fontSize:yt.fontSize}),he.current){he.current.clientHeight;const It=Math.floor(yt.scrollPosition/(yt.fontSize*J.lineHeight)),_e=yt.scrollPosition;St.current=_e,console.log(" Target line at guide:",It,"Target scroll:",_e)}};return $e.on("scriptScrollSync",nt),console.log(" Viewer: Teleprompter scroll sync listener attached"),()=>{$e.off("scriptScrollSync",nt)}},[k,o,Z]),E.useEffect(()=>{if(k!=="VIEWER"){it.current&&(cancelAnimationFrame(it.current),it.current=null);return}const $e=()=>{if(he.current&&St.current!==null){const nt=he.current.scrollTop,It=St.current-nt;Math.abs(It)>.5&&(he.current.scrollTop=nt+It*.15)}it.current=requestAnimationFrame($e)};return it.current=requestAnimationFrame($e),()=>{it.current&&(cancelAnimationFrame(it.current),it.current=null)}},[k]),E.useEffect(()=>{if(k!=="VIEWER"||!o)return;const $e=bt.getSocket();if(!$e)return;const nt=yt=>{if(console.log(" Teleprompter: Received settings sync:",yt),yt.eventId&&yt.eventId!==o){console.log(" Skipping settings sync - different event");return}L(yt.settings)};return $e.on("teleprompterSettingsUpdated",nt),()=>{$e.off("teleprompterSettingsUpdated",nt)}},[k,o]),E.useEffect(()=>{if(A||!K||k!=="SCROLLER"){Ke.current&&(cancelAnimationFrame(Ke.current),Ke.current=null),Dt.current=!1;return}Dt.current=!0;const $e=nt=>{if(Xe.current){const yt=(nt-Xe.current)/1e3,It=J.scrollSpeed*yt;if(he.current){he.current.scrollTop+=It;const _e=Date.now();if(_e-q.current>=100){const Ze=J.fontSize*J.lineHeight,be=Math.floor(he.current.scrollTop/Ze);bt.emitScriptScroll(he.current.scrollTop,be,J.fontSize),q.current=_e}}}Xe.current=nt,Ke.current=requestAnimationFrame($e)};return Ke.current=requestAnimationFrame($e),()=>{Ke.current&&(cancelAnimationFrame(Ke.current),Ke.current=null)}},[A,K,J.scrollSpeed,J.fontSize,J.lineHeight,k,o]);const ct=$e=>{const nt={...J,...$e};if(L(nt),k==="SCROLLER"&&o){const yt=bt.getSocket();yt&&yt.emit("teleprompterSettingsUpdate",{eventId:o,settings:nt})}},vt=()=>{if(!(k!=="SCROLLER"||!he.current)){if(o){const $e=Date.now();if($e-q.current>=100){const yt=J.fontSize*J.lineHeight,It=Math.floor(he.current.scrollTop/yt);bt.emitScriptScroll(he.current.scrollTop,It,J.fontSize),q.current=$e}}K&&!A&&!Dt.current&&(console.log(" Manual scroll detected - switching to Manual Mode"),Ke.current&&(cancelAnimationFrame(Ke.current),Ke.current=null),z(!1),ce(!0),H(!1))}},mt=b.split(`
`),At=$e=>w.filter(nt=>nt.lineNumber===$e),hr=()=>{const $e=!A;console.log(` Manual mode: ${$e?"ON":"OFF"}`),ce($e),$e&&K&&(Ke.current&&(cancelAnimationFrame(Ke.current),Ke.current=null),z(!1),H(!1))},pr=()=>{A||(console.log(" Play auto-scroll"),z(!0),H(!1))},rr=()=>{!A&&K&&(console.log(" Pause auto-scroll"),Ke.current&&(cancelAnimationFrame(Ke.current),Ke.current=null),z(!1),H(!0))},qe=()=>{A||(console.log(" Stop auto-scroll"),Ke.current&&(cancelAnimationFrame(Ke.current),Ke.current=null),z(!1),H(!1))},ut=()=>{console.log(" Reset - scrolling to top"),Ke.current&&(cancelAnimationFrame(Ke.current),Ke.current=null),z(!1),H(!1),he.current&&(he.current.scrollTop=0)},Ct=async()=>{try{De?(document.fullscreenElement&&await document.exitFullscreen(),we(!1),console.log(" Exited fullscreen mode")):(await document.documentElement.requestFullscreen(),we(!0),console.log(" Entered fullscreen mode"))}catch($e){console.error(" Fullscreen error:",$e)}};return E.useEffect(()=>{const $e=()=>{const nt=!!document.fullscreenElement;we(nt),console.log(" Fullscreen state changed:",nt)};return document.addEventListener("fullscreenchange",$e),()=>{document.removeEventListener("fullscreenchange",$e),document.fullscreenElement&&document.exitFullscreen().catch(nt=>console.log("Fullscreen exit error:",nt))}},[]),E.useEffect(()=>{k==="SCROLLER"&&setTimeout(()=>{const $e=he.current?.scrollTop||0;he.current&&(he.current.scrollTop=$e),console.log(" Scroller mode initialized, syncing scroll position:",$e)},50)},[k]),a.jsxDEV("div",{className:"min-h-screen",style:{backgroundColor:J.backgroundColor},children:[a.jsxDEV("div",{className:"bg-slate-800 border-b border-slate-700 p-4",style:{display:De?"none":"block"},children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("button",{onClick:()=>{s(`/scripts-follow?eventId=${o}&eventName=${encodeURIComponent(u)}`,{state:{scriptText:b,comments:w,scriptId:S,scriptName:X}})},className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded text-sm font-medium transition-colors",children:" Back to Scripts Follow"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:585,columnNumber:15},void 0),a.jsxDEV("h1",{className:"text-xl font-bold text-white",children:[u," - Teleprompter"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:601,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:584,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:()=>ie("SCROLLER"),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${k==="SCROLLER"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" Scroller"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:607,columnNumber:15},void 0),a.jsxDEV("button",{onClick:()=>ie("VIEWER"),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${k==="VIEWER"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" Viewer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:617,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:606,columnNumber:13},void 0),k==="VIEWER"&&a.jsxDEV("button",{onClick:Ct,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded text-sm font-medium transition-colors",title:De?"Exit Fullscreen (ESC)":"Enter Fullscreen",children:De?" Exit Fullscreen":" Fullscreen"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:631,columnNumber:15},void 0),a.jsxDEV("div",{className:`flex items-center gap-2 px-3 py-2 rounded ${Z?"bg-green-600":"bg-red-600"}`,children:[a.jsxDEV("div",{className:`w-2 h-2 rounded-full ${Z?"bg-white animate-pulse":"bg-white"}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:644,columnNumber:15},void 0),a.jsxDEV("span",{className:"text-xs font-bold text-white",children:Z?"Connected":"Disconnected"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:645,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:641,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:604,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:583,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:582,columnNumber:7},void 0),a.jsxDEV("div",{className:"flex flex-1",style:{height:De?"100vh":"calc(100vh - 72px)"},children:[k==="SCROLLER"&&a.jsxDEV("div",{className:`bg-slate-800 border-r border-slate-700 transition-all duration-300 overflow-y-auto flex-shrink-0 ${M?"w-80":"w-12"}`,children:a.jsxDEV("div",{className:"p-3",children:[a.jsxDEV("div",{className:"flex gap-2 mb-4",children:[a.jsxDEV("button",{onClick:()=>Ce(!M),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded text-xs font-medium transition-colors",children:M?"":""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:663,columnNumber:17},void 0),M&&a.jsxDEV("div",{className:"flex-1 bg-slate-700 px-3 py-2 rounded-lg flex items-center justify-between",children:[a.jsxDEV("label",{className:"text-xs text-slate-300 font-medium",children:"Manual"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:672,columnNumber:21},void 0),a.jsxDEV("button",{onClick:hr,className:`relative h-6 w-12 items-center rounded-full transition-colors flex ${A?"bg-blue-600":"bg-slate-500"}`,children:a.jsxDEV("span",{className:`inline-block h-4 w-4 ml-1 transform rounded-full bg-white transition-transform ${A?"translate-x-6":""}`},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:679,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:673,columnNumber:21},void 0),a.jsxDEV("span",{className:`text-xs font-bold ${A?"text-blue-300":"text-slate-400"}`,children:A?"ON":"OFF"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:684,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:671,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:662,columnNumber:15},void 0),M&&a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-2 block",children:"Playback:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:696,columnNumber:21},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:pr,disabled:A||K,className:`px-3 py-2 rounded text-xs font-bold transition-colors ${A||K?"bg-slate-600 text-slate-400 cursor-not-allowed opacity-50":"bg-green-600 text-white hover:bg-green-500"}`,children:" Play"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:698,columnNumber:23},void 0),a.jsxDEV("button",{onClick:rr,disabled:A||!K,className:`px-3 py-2 rounded text-xs font-bold transition-colors ${A||!K?"bg-slate-600 text-slate-400 cursor-not-allowed opacity-50":"bg-yellow-600 text-white hover:bg-yellow-500"}`,children:" Pause"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:710,columnNumber:23},void 0),a.jsxDEV("button",{onClick:qe,disabled:A,className:`px-3 py-2 rounded text-xs font-bold transition-colors ${A?"bg-slate-600 text-slate-400 cursor-not-allowed opacity-50":"bg-red-600 text-white hover:bg-red-500"}`,children:" Stop"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:722,columnNumber:23},void 0),a.jsxDEV("button",{onClick:ut,className:"px-3 py-2 rounded text-xs font-bold bg-purple-600 text-white hover:bg-purple-500 transition-colors",children:" Reset"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:734,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:697,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:695,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-xs text-slate-300 mb-1",children:["Speed: ",J.scrollSpeed," px/s"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:745,columnNumber:21},void 0),a.jsxDEV("input",{type:"range",min:"10",max:"1000",step:"10",value:J.scrollSpeed,onChange:$e=>ct({scrollSpeed:Number($e.target.value)}),className:"w-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:748,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:744,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-xs text-slate-300 mb-1",children:["Font: ",J.fontSize,"px"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:761,columnNumber:21},void 0),a.jsxDEV("input",{type:"range",min:"24",max:"96",step:"2",value:J.fontSize,onChange:$e=>ct({fontSize:Number($e.target.value)}),className:"w-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:764,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:760,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"block text-xs text-slate-300 mb-1",children:["Line Height: ",J.lineHeight]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:777,columnNumber:21},void 0),a.jsxDEV("input",{type:"range",min:"1.2",max:"2.5",step:"0.1",value:J.lineHeight,onChange:$e=>ct({lineHeight:Number($e.target.value)}),className:"w-full"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:776,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-2 block",children:"Text Align:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:793,columnNumber:21},void 0),a.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:["left","center","right"].map($e=>a.jsxDEV("button",{onClick:()=>ct({textAlign:$e}),className:`px-2 py-2 rounded text-xl transition-colors ${J.textAlign===$e?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:$e==="left"?"":$e==="center"?"":""},$e,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:796,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:794,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:792,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-2 block",children:"Colors:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:813,columnNumber:21},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-xs text-slate-400",children:"Background:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:816,columnNumber:25},void 0),a.jsxDEV("input",{type:"color",value:J.backgroundColor,onChange:$e=>ct({backgroundColor:$e.target.value}),className:"w-12 h-8 rounded cursor-pointer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:817,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:815,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-xs text-slate-400",children:"Text:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:825,columnNumber:25},void 0),a.jsxDEV("input",{type:"color",value:J.textColor,onChange:$e=>ct({textColor:$e.target.value}),className:"w-12 h-8 rounded cursor-pointer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:826,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:824,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-xs text-slate-400",children:"Guide:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:834,columnNumber:25},void 0),a.jsxDEV("input",{type:"color",value:J.readingGuideColor,onChange:$e=>ct({readingGuideColor:$e.target.value}),className:"w-12 h-8 rounded cursor-pointer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:835,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:833,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:814,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:812,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-2 block",children:"Flip/Mirror:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:847,columnNumber:21},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:()=>ct({isMirroredHorizontal:!J.isMirroredHorizontal}),className:`px-2 py-2 rounded text-xs font-medium transition-colors ${J.isMirroredHorizontal?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" H-Flip"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:849,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>ct({isMirroredVertical:!J.isMirroredVertical}),className:`px-2 py-2 rounded text-xs font-medium transition-colors ${J.isMirroredVertical?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" V-Flip"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:858,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:848,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:846,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs text-slate-300 mb-2 block",children:"Features:"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:871,columnNumber:21},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("button",{onClick:()=>{const $e=["arrows-with-lines","arrows","off"],nt=$e.indexOf(J.readingGuideMode),yt=$e[(nt+1)%$e.length];ct({readingGuideMode:yt,showReadingGuide:yt!=="off"})},className:`px-2 py-2 rounded text-xs font-medium transition-colors ${J.readingGuideMode==="arrows-with-lines"?"bg-red-600 text-white":J.readingGuideMode==="arrows"?"bg-orange-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,title:"Click to cycle guide modes",children:[" ",J.readingGuideMode==="arrows-with-lines"?"Lines":J.readingGuideMode==="arrows"?"Arrows":"Off"]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:873,columnNumber:23},void 0),a.jsxDEV("button",{onClick:()=>ct({showComments:!J.showComments}),className:`px-2 py-2 rounded text-xs font-medium transition-colors ${J.showComments?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" Comments"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:893,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:872,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:870,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:692,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:660,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:657,columnNumber:11},void 0),a.jsxDEV("div",{ref:he,onScroll:vt,className:"flex-1 overflow-y-auto",style:{height:De?"100vh":"calc(100vh - 72px)",transform:`${J.isMirroredHorizontal?"scaleX(-1)":"scaleX(1)"} ${J.isMirroredVertical?"scaleY(-1)":"scaleY(1)"}`,padding:k==="SCROLLER"?"20px":"0 5vw",scrollBehavior:k==="SCROLLER"&&A?"smooth":"auto",display:k==="SCROLLER"?"flex":"block",justifyContent:k==="SCROLLER"?"center":"flex-start",alignItems:k==="SCROLLER"?"center":"stretch",backgroundColor:k==="SCROLLER"?"#1a1a1a":"transparent",overflow:k==="SCROLLER"?"hidden":"auto"},children:k==="SCROLLER"?a.jsxDEV("div",{style:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",position:"relative"},children:a.jsxDEV("div",{style:{width:"1920px",height:"1080px",backgroundColor:J.backgroundColor,borderRadius:"12px",overflow:"hidden",position:"relative",transform:"scale(0.6)",transformOrigin:"center center",border:"3px solid #333",boxShadow:"0 0 20px rgba(0,0,0,0.5)",flexShrink:0},children:[a.jsxDEV("div",{style:{width:"100%",height:"100%",overflow:"auto",position:"relative"},ref:$e=>{$e&&he.current&&($e.scrollTop=he.current.scrollTop,he.current.scrollTop!==$e.scrollTop&&(he.current.scrollTop=$e.scrollTop))},onScroll:$e=>{if(he.current&&(he.current.scrollTop=$e.currentTarget.scrollTop),k==="SCROLLER"&&o){const nt=Date.now();if(nt-q.current>=100){const It=J.fontSize*J.lineHeight,_e=Math.floor($e.currentTarget.scrollTop/It);bt.emitScriptScroll($e.currentTarget.scrollTop,_e,J.fontSize),q.current=nt}}},onWheel:$e=>{$e.preventDefault(),he.current&&(he.current.scrollTop+=$e.deltaY)},children:a.jsxDEV("div",{style:{minHeight:"100%",paddingTop:"540px",paddingBottom:"540px",display:"flex",flexDirection:"column",justifyContent:"center"},children:a.jsxDEV("div",{style:{fontSize:`${J.fontSize*1.35}px`,lineHeight:J.lineHeight,textAlign:J.textAlign,color:J.textColor,fontFamily:"Arial, sans-serif",fontWeight:500,width:"95%",margin:"0 auto"},children:mt.map(($e,nt)=>{const yt=J.showComments&&nt>0?At(nt-1):[];return a.jsxDEV("div",{className:"mb-2","data-line-number":nt,children:[yt.length>0&&a.jsxDEV("div",{className:"mb-2 space-y-2",children:yt.map(It=>{const _e=WE[It.type];return a.jsxDEV("div",{className:`${_e.bgColor} px-4 py-3 rounded-lg border-l-4 border-${It.type.toLowerCase()}-400`,style:{fontSize:`${J.fontSize*.6}px`,transform:J.isMirroredHorizontal?"scaleX(-1)":"none"},children:a.jsxDEV("div",{className:"flex items-start gap-2",children:[a.jsxDEV("span",{className:"text-2xl",children:_e.icon},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1056,columnNumber:37},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:`font-bold ${_e.color} text-sm`,children:_e.label},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1058,columnNumber:39},void 0),a.jsxDEV("div",{className:"text-white mt-1",children:It.text},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1061,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1057,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1055,columnNumber:35},void 0)},It.id,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1047,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1043,columnNumber:27},void 0),a.jsxDEV("div",{children:$e||""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1071,columnNumber:25},void 0)]},nt,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1036,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1020,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1010,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:957,columnNumber:15},void 0),J.readingGuideMode!=="off"&&a.jsxDEV("div",{className:"absolute pointer-events-none",style:{left:"0",right:"0",top:"50%",transform:"translateY(-50%)",zIndex:50,width:"100%",height:"60px"},children:[J.readingGuideMode==="arrows-with-lines"&&a.jsxDEV("svg",{width:"100%",height:"60",style:{position:"absolute",top:0,left:0},children:[a.jsxDEV("line",{x1:"0",y1:"0",x2:"100%",y2:"0",stroke:J.readingGuideColor,strokeWidth:"3",opacity:"0.7"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1096,columnNumber:23},void 0),a.jsxDEV("line",{x1:"0",y1:"60",x2:"100%",y2:"60",stroke:J.readingGuideColor,strokeWidth:"3",opacity:"0.7"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1105,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1095,columnNumber:21},void 0),a.jsxDEV("div",{className:"absolute left-0 top-1/2 -translate-y-1/2",children:a.jsxDEV("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:a.jsxDEV("polygon",{points:"15,10 45,30 15,50",fill:J.readingGuideColor,stroke:J.readingGuideColor,strokeWidth:"4",opacity:"0.75"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1120,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1119,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1118,columnNumber:19},void 0),a.jsxDEV("div",{className:"absolute right-0 top-1/2 -translate-y-1/2",children:a.jsxDEV("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:a.jsxDEV("polygon",{points:"45,10 15,30 45,50",fill:J.readingGuideColor,stroke:J.readingGuideColor,strokeWidth:"4",opacity:"0.75"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1133,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1132,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1131,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1081,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:941,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:930,columnNumber:9},void 0):a.jsxDEV("div",{style:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",position:"relative",backgroundColor:De?"transparent":"#1a1a1a"},children:a.jsxDEV("div",{style:{width:"1920px",height:"1080px",backgroundColor:J.backgroundColor,overflow:"hidden",position:"relative",transform:De?`scale(${Math.min(window.innerWidth/1920,window.innerHeight/1080)})`:`scale(${Math.min(window.innerWidth*.9/1920,window.innerHeight*.8/1080)})`,transformOrigin:"center center",flexShrink:0,border:De?"none":"3px solid #333",borderRadius:De?"0":"12px",boxShadow:De?"none":"0 0 20px rgba(0,0,0,0.5)"},children:[a.jsxDEV("div",{ref:$e=>{$e&&k==="VIEWER"&&(he.current=$e)},style:{width:"100%",height:"100%",overflow:"auto",position:"relative"},children:a.jsxDEV("div",{style:{minHeight:"100%",paddingTop:"calc(50vh + 100px)",paddingBottom:"calc(50vh + 100px)",display:"flex",flexDirection:"column",justifyContent:"center"},children:a.jsxDEV("div",{style:{fontSize:`${J.fontSize*1.35}px`,lineHeight:J.lineHeight,textAlign:J.textAlign,color:J.textColor,fontFamily:"Arial, sans-serif",fontWeight:500,width:"95%",margin:"0 auto"},children:mt.map(($e,nt)=>{const yt=J.showComments&&nt>0?At(nt-1):[];return a.jsxDEV("div",{className:"mb-2","data-line-number":nt,ref:It=>{It&&tr.current.set(nt,It)},children:[yt.length>0&&a.jsxDEV("div",{className:"mb-2 space-y-2",children:yt.map(It=>{const _e=WE[It.type];return a.jsxDEV("div",{className:`${_e.bgColor} px-4 py-3 rounded-lg border-l-4 border-${It.type.toLowerCase()}-400`,style:{fontSize:`${J.fontSize*.6}px`,transform:J.isMirroredHorizontal?"scaleX(-1)":"none"},children:a.jsxDEV("div",{className:"flex items-start gap-2",children:[a.jsxDEV("span",{className:"text-2xl",children:_e.icon},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1243,columnNumber:29},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:`font-bold ${_e.color} text-sm`,children:_e.label},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1245,columnNumber:31},void 0),a.jsxDEV("div",{className:"text-white mt-1",children:It.text},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1248,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1244,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1242,columnNumber:27},void 0)},It.id,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1234,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1230,columnNumber:19},void 0),a.jsxDEV("div",{children:$e||""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1258,columnNumber:17},void 0)]},nt,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1220,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1202,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1192,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1177,columnNumber:15},void 0),J.readingGuideMode!=="off"&&a.jsxDEV("div",{style:{position:"absolute",left:"0",right:"0",top:"50%",transform:"translateY(-50%)",width:"100%",height:"60px",pointerEvents:"none",zIndex:50},children:[J.readingGuideMode==="arrows-with-lines"&&a.jsxDEV("svg",{width:"100%",height:"60",style:{position:"absolute",top:0,left:0},children:[a.jsxDEV("line",{x1:"0",y1:"0",x2:"100%",y2:"0",stroke:J.readingGuideColor,strokeWidth:"3",opacity:"0.7"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1284,columnNumber:23},void 0),a.jsxDEV("line",{x1:"0",y1:"60",x2:"100%",y2:"60",stroke:J.readingGuideColor,strokeWidth:"3",opacity:"0.7"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1293,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1283,columnNumber:21},void 0),a.jsxDEV("div",{className:"absolute left-0 top-1/2 -translate-y-1/2",children:a.jsxDEV("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:a.jsxDEV("polygon",{points:"15,10 45,30 15,50",fill:J.readingGuideColor,stroke:J.readingGuideColor,strokeWidth:"4",opacity:"0.75"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1308,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1307,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1306,columnNumber:19},void 0),a.jsxDEV("div",{className:"absolute right-0 top-1/2 -translate-y-1/2",children:a.jsxDEV("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:a.jsxDEV("polygon",{points:"45,10 15,30 45,50",fill:J.readingGuideColor,stroke:J.readingGuideColor,strokeWidth:"4",opacity:"0.75"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1321,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1320,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1319,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1268,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1159,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1148,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:912,columnNumber:7},void 0),ue&&a.jsxDEV(L9,{onConfirm:Jt,onNever:et},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1339,columnNumber:31},void 0),Ue&&a.jsxDEV(A9,{duration:le,onReconnect:ft},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1342,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:654,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:580,columnNumber:5},void 0)},L9=({onConfirm:e,onNever:s})=>{const[t,i]=E.useState(2),[o,u]=E.useState(0),c=[0,5,10,15,20,25,30],f=Wr.useRef(null),h=Wr.useRef(null);Wr.useEffect(()=>{f.current&&(f.current.scrollTop=t*50),h.current&&(h.current.scrollTop=c.indexOf(o)*50)},[]);const x=()=>{if(!f.current)return;const b=Math.round(f.current.scrollTop/50);i(Math.max(0,Math.min(b,24)))},v=()=>{if(!h.current)return;const b=Math.round(h.current.scrollTop/50);u(c[Math.max(0,Math.min(b,c.length-1))])};return a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[999999]",children:a.jsxDEV("div",{className:"bg-slate-800 p-10 rounded-2xl border border-slate-700 shadow-2xl max-w-3xl w-[90%]",children:[a.jsxDEV("h3",{className:"text-slate-100 text-3xl font-semibold mb-2 text-center",children:" Auto-Disconnect Timer"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1378,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-slate-400 mb-8 text-center",children:"How long should this connection stay active?"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1379,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-12 mb-10 py-8",children:[a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Hours"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1383,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1385,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1386,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1387,columnNumber:15},void 0),a.jsxDEV("div",{ref:f,onScroll:x,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:Array.from({length:25},(b,O)=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${t===O?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:O},O,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1390,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1388,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1384,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1382,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-slate-300 text-4xl font-light mt-10",children:":"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1396,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[a.jsxDEV("div",{className:"text-slate-300 text-sm font-medium uppercase tracking-wider",children:"Minutes"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1399,columnNumber:13},void 0),a.jsxDEV("div",{className:"relative w-32 h-56 bg-slate-900 border border-slate-600 rounded-2xl shadow-inner overflow-hidden",children:[a.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-12 -translate-y-1/2 bg-blue-500/10 border-y border-slate-500/20 pointer-events-none z-10"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1401,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1402,columnNumber:15},void 0),a.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none z-20"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1403,columnNumber:15},void 0),a.jsxDEV("div",{ref:h,onScroll:v,className:"h-full overflow-y-scroll scrollbar-hide pt-24 pb-24 snap-y snap-mandatory",style:{scrollBehavior:"smooth"},children:c.map(b=>a.jsxDEV("div",{className:`h-12 flex items-center justify-center text-2xl font-medium snap-center transition-all ${o===b?"text-slate-100 scale-110":"text-slate-600 scale-90"}`,children:b},b,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1406,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1404,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1400,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1398,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1381,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV("button",{onClick:()=>e(t,o),className:"flex-1 px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/30",children:" Confirm"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1414,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"flex-1 px-8 py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-slate-200 text-lg font-medium transition transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-slate-600/30",children:" Never Disconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1415,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1413,columnNumber:9},void 0),a.jsxDEV("p",{className:"mt-6 text-sm text-slate-500 text-center",children:' "Never" may increase database costs'},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1418,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1377,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1376,columnNumber:5},void 0)},A9=({duration:e,onReconnect:s})=>(Wr.useEffect(()=>(console.log(" Teleprompter DisconnectNotification mounted:",e),()=>console.log(" Teleprompter DisconnectNotification unmounted")),[]),a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999998] animate-fade-in pointer-events-auto"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1432,columnNumber:7},void 0),a.jsxDEV("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[999999] animate-slide-in pointer-events-auto",children:a.jsxDEV("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 p-10 rounded-2xl border-2 border-slate-600 shadow-2xl flex items-center gap-6 min-w-[450px]",children:[a.jsxDEV("div",{className:"text-6xl animate-pulse-slow",children:""},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1435,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"text-slate-100 text-2xl font-semibold mb-2",children:"Connection Closed"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1437,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-slate-400 text-base",children:["Auto-disconnected after ",e]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1438,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1436,columnNumber:11},void 0),a.jsxDEV("button",{onClick:s,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white text-base font-medium whitespace-nowrap transition transform hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-600/40",children:" Reconnect"},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1440,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1434,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1433,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/pages/TeleprompterPage.tsx",lineNumber:1431,columnNumber:5},void 0));function M9(){const e=Js(),s=e.pathname==="/fullscreen-timer",t=e.pathname==="/clock",i=e.pathname==="/green-room",o=e.pathname==="/photo-view",u=e.pathname==="/scripts-follow",c=e.pathname==="/teleprompter",f=e.pathname==="/google-sheets-vmix",h=e.pathname==="/lower-thirds-xml"||e.pathname==="/schedule-xml"||e.pathname==="/custom-columns-xml",x=e.pathname==="/netlify-lower-thirds-xml"||e.pathname==="/netlify-schedule-xml"||e.pathname==="/netlify-custom-columns-xml";return a.jsxDEV("div",{className:`App ${t?"clock-page":""}`,children:[!s&&!i&&!o&&!u&&!c&&!f&&!h&&!x&&a.jsxDEV(Lb,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:40,columnNumber:152},this),a.jsxDEV(sV,{children:a.jsxDEV(Vy,{children:[a.jsxDEV(Ys,{path:"/",element:a.jsxDEV(iV,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:44,columnNumber:36},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:44,columnNumber:11},this),a.jsxDEV(Ys,{path:"/run-of-show",element:a.jsxDEV(o9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:45,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:45,columnNumber:11},this),a.jsxDEV(Ys,{path:"/fullscreen-timer",element:a.jsxDEV(u9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:46,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:46,columnNumber:11},this),a.jsxDEV(Ys,{path:"/graphics-links",element:a.jsxDEV(y9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:47,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:47,columnNumber:11},this),a.jsxDEV(Ys,{path:"/reports",element:a.jsxDEV(E9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:48,columnNumber:43},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:48,columnNumber:11},this),a.jsxDEV(Ys,{path:"/green-room",element:a.jsxDEV(C9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:49,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:49,columnNumber:11},this),a.jsxDEV(Ys,{path:"/photo-view",element:a.jsxDEV(R9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:50,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:50,columnNumber:11},this),a.jsxDEV(Ys,{path:"/scripts-follow",element:a.jsxDEV(_9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:51,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:51,columnNumber:11},this),a.jsxDEV(Ys,{path:"/teleprompter",element:a.jsxDEV(j9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:52,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:52,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:43,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:42,columnNumber:7},this),a.jsxDEV(Vy,{children:[a.jsxDEV(Ys,{path:"/clock",element:a.jsxDEV(p9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:58,columnNumber:39},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:58,columnNumber:9},this),a.jsxDEV(Ys,{path:"/lower-thirds-xml",element:a.jsxDEV(g9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:59,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:59,columnNumber:9},this),a.jsxDEV(Ys,{path:"/netlify-lower-thirds-xml",element:a.jsxDEV(x9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:60,columnNumber:58},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:60,columnNumber:9},this),a.jsxDEV(Ys,{path:"/schedule-xml",element:a.jsxDEV(S9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:61,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:61,columnNumber:9},this),a.jsxDEV(Ys,{path:"/netlify-schedule-xml",element:a.jsxDEV(b9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:62,columnNumber:54},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:62,columnNumber:9},this),a.jsxDEV(Ys,{path:"/custom-columns-xml",element:a.jsxDEV(O9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:63,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:63,columnNumber:9},this),a.jsxDEV(Ys,{path:"/netlify-custom-columns-xml",element:a.jsxDEV(N9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:64,columnNumber:60},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:64,columnNumber:9},this),a.jsxDEV(Ys,{path:"/google-sheets-vmix",element:a.jsxDEV(D9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:65,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:65,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:57,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:38,columnNumber:5},this)}function I9(){return a.jsxDEV(eV,{children:a.jsxDEV(H4,{children:a.jsxDEV(M9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:75,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:74,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/App.tsx",lineNumber:73,columnNumber:5},this)}const F9=PU.createRoot(document.getElementById("root"));F9.render(a.jsxDEV(Wr.StrictMode,{children:a.jsxDEV(I9,{},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/index.tsx",lineNumber:11,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/audre/OneDrive/Desktop/ROS-5.0/src/index.tsx",lineNumber:10,columnNumber:3},void 0));
